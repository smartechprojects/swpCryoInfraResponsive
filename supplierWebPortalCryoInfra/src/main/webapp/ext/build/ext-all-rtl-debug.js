var Ext=Ext||{};Ext.Boot=Ext.Boot||function(c){function s(){var e,t,i,n,r=!1,o=Array.prototype.shift.call(arguments);for("boolean"==typeof arguments[arguments.length-1]&&(r=Array.prototype.pop.call(arguments)),i=arguments.length,e=0;e<i;e++)if("object"==typeof(n=arguments[e]))for(t in n)o[r?t.toLowerCase():t]=n[t];return o}var u=document,a=[],r={disableCaching:!(/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||!/http[s]?\:/i.test(location.href)||/(^|[ ;])ext-cache=1/.test(u.cookie)),disableCachingParam:"_dc",loadDelay:!1,preserveScripts:!0,charset:"UTF-8"},i=/\.css(?:\?|$)/i,o=u.createElement("a"),e="undefined"!=typeof window,l={browser:e,node:!e&&"function"==typeof require,phantom:window&&(window._phantom||window.callPhantom)||/PhantomJS/.test(window.navigator.userAgent)},d=Ext.platformTags={},h=function(e,t,i){if(i&&h(e,i),e&&t&&"object"==typeof t)for(var n in t)e[n]=t[n];return e},f="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},g={loading:0,loaded:0,apply:h,env:l,config:r,assetConfig:{},scripts:{},currentFile:null,suspendedQueue:[],currentRequest:null,syncMode:!1,debug:function(e){},useElements:!0,listeners:[],Request:p,Entry:m,allowMultipleBrowsers:!1,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",edge:"Edge",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},osNames:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chromeOS:"ChromeOS",other:"Other"},browserPrefixes:{ie:"MSIE ",edge:"Edge/",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},browserPriority:["edge","opera","dolfin","webosbrowser","silk","chromeiOS","chromeMobile","ie","firefox","safari","chrome"],osPrefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chromeOS:"CrOS "},fallbackOSPrefixes:{windows:"win",mac:"mac",linux:"linux"},devicePrefixes:{iPhone:"iPhone",iPod:"iPod",iPad:"iPad"},maxIEVersion:12,detectPlatformTags:function(){var c=this,u=navigator.userAgent,e=/Mobile(\/|\s)/.test(u),i=document.createElement("div"),t=function(){for(var e,t,i,n,r,o,s,a={},l=c.browserPriority.length,d=0;d<l;d++)i=c.browserPriority[d],o?r=0:(n=c.browserPrefixes[i],(r=(n=u.match(new RegExp("("+n+")([\\w\\._]+)")))&&1<n.length?parseInt(n[2]):0)&&(o=!0)),a[i]=r;for(!a.ie||8<=(s=document.documentMode)&&(a.ie=s),r=a.ie||!1,e=Math.max(r,c.maxIEVersion),d=8;d<=e;++d)a[(t="ie"+d)+"m"]=r?r<=d:0,a[t]=r?r===d:0,a[t+"p"]=r?d<=r:0;return a}(),n=function(){for(var e,t,i,n,r={},o=f(c.osPrefixes),s=o.length,a=0,l=0;a<s;a++)t=o[a],e=c.osPrefixes[t],(n=!(n=(i=u.match(new RegExp("("+e+")([^\\s;]+)")))?i[1]:null)||"HTC_"!==n&&"Silk/"!==n?i&&1<i.length?parseFloat(i[i.length-1]):0:2.3)&&l++,r[t]=n;for(s=(o=f(c.fallbackOSPrefixes)).length,a=0;a<s;a++)t=o[a],0===l?(e=c.fallbackOSPrefixes[t],i=u.toLowerCase().match(new RegExp(e)),r[t]=!!i||0):r[t]=0;return r}(),r=function(){for(var e,t,i={},n=f(c.devicePrefixes),r=n.length,o=0;o<r;o++)e=n[o],t=c.devicePrefixes[e],t=u.match(new RegExp(t)),i[e]=!!t||0;return i}(),o=g.loadPlatformsParam();s(d,t,n,r,o,!0),d.phone=!!(d.iphone||d.ipod||!d.silk&&d.android&&(d.android<3||e)||d.blackberry&&e||d.windowsphone),d.tablet=!(d.phone||!(d.ipad||d.android||d.silk||d.rimtablet||d.ie10&&/; Touch/.test(u))),d.touch=function(e,t){void 0===t&&(t=window);t="on"+e.toLowerCase(),e=t in i;return e||i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),e="function"==typeof i[t],void 0!==i[t]&&(i[t]=void 0),i.removeAttribute(t)),e}("touchend")||navigator.maxTouchPoints||navigator.msMaxTouchPoints,d.desktop=!d.phone&&!d.tablet,d.cordova=d.phonegap=!!(window.PhoneGap||window.Cordova||window.cordova),d.webview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(u),d.androidstock=d.android<=4.3&&(d.safari||d.silk),s(d,o,!0)},loadPlatformsParam:function(){for(var e,t,i,n,r,o=window.location.search.substr(1).split("&"),s={},a={},l=0;l<o.length;l++)s[(e=o[l].split("="))[0]]=e[1];if(s.platformTags)for(t=(e=s.platformTags.split(",")).length,l=0;l<t;l++)n=(i=e[l].split(":"))[0],r=!0,1<i.length&&("false"!==(r=i[1])&&"0"!==r||(r=!1)),a[n]=r;return a},filterPlatform:function(e,t){e=a.concat(e||a),t=a.concat(t||a);for(var i,n=e.length,r=t.length,o=!n&&r,s=0;s<n&&!o;s++)i=e[s],o=!!d[i];for(s=0;s<r&&o;s++)i=t[s],o=!d[i];return o},init:function(){var e,t,i,n,r,o,s=u.getElementsByTagName("script"),a=s[0],l=s.length,d=/\/ext(\-[a-z\-]+)?\.js$/;g.hasReadyState="readyState"in a,g.hasAsync="async"in a,g.hasDefer="defer"in a,g.hasOnLoad="onload"in a,g.isIE8=g.hasReadyState&&!g.hasAsync&&g.hasDefer&&!g.hasOnLoad,g.isIE9=g.hasReadyState&&!g.hasAsync&&g.hasDefer&&g.hasOnLoad,g.isIE10p=g.hasReadyState&&g.hasAsync&&g.hasDefer&&g.hasOnLoad,g.isIE10=10===new Function("/*@cc_on return @_jscript_version @*/")(),g.isIE10m=g.isIE10||g.isIE9||g.isIE8,g.isIE11=g.isIE10p&&!g.isIE10;for(r=0;r<l;r++)(e=(a=s[r]).src)&&(t=a.readyState||null,!i&&d.test(e)&&(i=e),g.scripts[n=g.canonicalUrl(e)]||new m({key:n,url:e,done:null===t||"loaded"===t||"complete"===t,el:a,prop:"src"}));i=i||(a=s[s.length-1]).src,g.baseUrl=i.substring(0,i.lastIndexOf("/")+1),o=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),g.origin=o,g.detectPlatformTags(),Ext.filterPlatform=g.filterPlatform},canonicalUrl:function(e){o.href=e;var t,i=o.href,n=r.disableCachingParam,e=n?i.indexOf(n+"="):-1;return 0<e&&("?"===(t=i.charAt(e-1))||"&"===t)&&((n=(n=i.indexOf("&",e))<0?"":i.substring(n))&&"?"===t&&(++e,n=n.substring(1)),i=i.substring(0,e-1)+n),i},getConfig:function(e){return e?g.config[e]:g.config},setConfig:function(e,t){if("string"==typeof e)g.config[e]=t;else for(var i in e)g.setConfig(i,e[i]);return g},getHead:function(){return g.docHead||(g.docHead=u.head||u.getElementsByTagName("head")[0])},create:function(e,t,i){i=i||{};return i.url=e,i.key=t,g.scripts[t]=new m(i)},getEntry:function(e,t,i){var n=i?e:g.canonicalUrl(e),r=g.scripts[n];return r||(r=g.create(e,n,t),i&&(r.canonicalPath=!0)),r},registerContent:function(e,t,i){t={content:i,loaded:!0,css:"css"===t};return g.getEntry(e,t)},processRequest:function(e,t){e.loadEntries(t)},load:function(e){return(e=new p(e)).sync||g.syncMode?g.loadSync(e):(g.currentRequest?(e.getEntries(),g.suspendedQueue.push(e)):(g.currentRequest=e,g.processRequest(e,!1)),g)},loadSync:function(e){e=new p(e);return g.syncMode++,g.processRequest(e,!0),g.syncMode--,g},loadBasePrefix:function(e){return(e=new p(e)).prependBaseUrl=!0,g.load(e)},loadSyncBasePrefix:function(e){return(e=new p(e)).prependBaseUrl=!0,g.loadSync(e)},requestComplete:function(e){var t;if(g.currentRequest===e)for(g.currentRequest=null;0<g.suspendedQueue.length;)if(!(t=g.suspendedQueue.shift()).done){g.load(t);break}g.currentRequest||0!=g.suspendedQueue.length||g.fireListeners()},isLoading:function(){return!g.currentRequest&&0==g.suspendedQueue.length},fireListeners:function(){for(var e;g.isLoading()&&(e=g.listeners.shift());)e()},onBootReady:function(e){g.isLoading()?g.listeners.push(e):e()},getPathsFromIndexes:function(e,t){if(!("length"in e)){var i,n=[];for(i in e)isNaN(+i)||(n[+i]=e[i]);e=n}return p.prototype.getPathsFromIndexes(e,t)},createLoadOrderMap:function(e){return p.prototype.createLoadOrderMap(e)},fetch:function(e,t,i,n){n=void 0===n?!!t:n;function r(){l&&4==l.readyState&&(s=1223===l.status?204:0!==l.status||"file:"!==(self.location||{}).protocol&&"ionp:"!==(self.location||{}).protocol?l.status:200,a=l.responseText,o={content:a,status:s,exception:d},t&&t.call(i,o),l.onreadystatechange=c,l=null)}var o,s,a,l=new XMLHttpRequest,d=!1;n&&(l.onreadystatechange=r);try{l.open("GET",e,n),l.send(null)}catch(e){return d=e,r(),o}return n||r(),o},notifyAll:function(e){e.notifyRequests()}};function p(e){if(e.$isRequest)return e;var t=(e=e.url?e:{url:e}).url,i=t.charAt?[t]:t,t=e.charset||g.config.charset;h(this,e),delete this.url,this.urls=i,this.charset=t}function m(e){if(e.$isEntry)return e;var t,i=e.charset||g.config.charset,n=Ext.manifest,r=n&&n.loader,n=void 0!==e.cache?e.cache:r&&r.cache;g.config.disableCaching&&(void 0===n&&(n=!g.config.disableCaching),!1===n?t=+new Date:!0!==n&&(t=n),t=t&&(r&&r.cacheParam||g.config.disableCachingParam)+"="+t),h(this,e),this.charset=i,this.buster=t,this.requests=[]}return m.prototype={$isEntry:!0,done:!(p.prototype={$isRequest:!0,createLoadOrderMap:function(e){for(var t,i=e.length,n={},r=0;r<i;r++)n[(t=e[r]).path]=t;return n},getLoadIndexes:function(e,t,i,n,r){var o,s,a,l,d,c=[],u=[e],h=e.idx;if(t[h])return c;for(t[h]=c[h]=!0;e=u.shift();)if(o=e.canonicalPath?g.getEntry(e.path,null,!0):g.getEntry(this.prepareUrl(e.path)),!r||!o.done)for(l=0,d=(s=n&&e.uses&&e.uses.length?e.requires.concat(e.uses):e.requires).length;l<d;l++)t[a=s[l]]||(t[a]=c[a]=!0,u.push(i[a]));return c},getPathsFromIndexes:function(e,t){for(var i=[],n=0,r=e.length;n<r;n++)e[n]&&i.push(t[n].path);return i},expandUrl:function(e,t,i,n,r,o){var s;return t&&((i=i[e])&&(s=this.getLoadIndexes(i,n,t,r,o)).length)?this.getPathsFromIndexes(s,t):[e]},expandUrls:function(e,t){var i,n,r,o,s,a,l,d=this.loadOrder,c=[],u={},h=[];for("string"==typeof e&&(e=[e]),d&&(i=(i=this.loadOrderMap)||(this.loadOrderMap=this.createLoadOrderMap(d))),r=0,o=e.length;r<o;r++)for(s=0,a=(n=this.expandUrl(e[r],d,i,h,t,!1)).length;s<a;s++)u[l=n[s]]||(u[l]=!0,c.push(l));return 0===c.length&&(c=e),c},expandLoadOrder:function(){var e,t=this,i=t.urls;return t.expanded?e=i:(e=this.expandUrls(i,!0),t.expanded=!0),t.urls=e,i.length!=e.length&&(t.sequential=!0),t},getUrls:function(){return this.expandLoadOrder(),this.urls},prepareUrl:function(e){return this.prependBaseUrl?g.baseUrl+e:e},getEntries:function(){var e,t,i,n,r,o=this,s=o.entries;if(!s){for(s=[],n=o.getUrls(),o.loadOrder&&(e=o.loadOrderMap),i=0;i<n.length;i++)r=o.prepareUrl(n[i]),e&&(t=e[r]),(r=g.getEntry(r,{buster:o.buster,charset:o.charset},t&&t.canonicalPath)).requests.push(o),s.push(r);o.entries=s}return s},loadEntries:function(e){var t,i,n=this,r=n.getEntries(),o=r.length,s=n.loadStart||0;for(void 0!==e&&(n.sync=e),n.loaded=n.loaded||0,n.loading=n.loading||o,i=s;i<o;i++)if(!(!!(t=r[i]).loaded||r[i].load(n.sync))){n.loadStart=i,t.onDone(function(){n.loadEntries(e)});break}n.processLoadedEntries()},processLoadedEntries:function(){var e,t,i=this,n=i.getEntries(),r=n.length,o=i.startIndex||0;if(!i.done){for(e=o;e<r;e++){if(!(t=n[e]).loaded)return void(i.startIndex=e);t.evaluated||t.evaluate(),t.error&&(i.error=!0)}i.notify()}},notify:function(){var e,t,i,n=this;n.done||(t=n.error,e=n[t?"failure":"success"],t="delay"in n?n.delay:t?1:g.config.chainDelay,i=n.scope||n,n.done=!0,e&&(0===t||0<t?setTimeout(function(){e.call(i,n)},t):e.call(i,n)),n.fireListeners(),g.requestComplete(n))},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t)for(;e=t.shift();)e(this)}}),evaluated:!1,loaded:!1,isCrossDomain:function(){return void 0===this.crossDomain&&(this.crossDomain=0!==this.getLoadUrl().indexOf(g.origin)),this.crossDomain},isCss:function(){var e,t=this;return void 0===t.css&&(t.url?(e=g.assetConfig[t.url],t.css=e?"css"===e.type:i.test(t.url)):t.css=!1),this.css},getElement:function(e){var t=this,i=t.el;return i||(t.isCss()?(e=e||"link",i=u.createElement(e),"link"==e?(i.rel="stylesheet",t.prop="href"):t.prop="textContent",i.type="text/css"):(e=e||"script",(i=u.createElement(e)).type="text/javascript",t.prop="src",t.charset&&(i.charset=t.charset),g.hasAsync&&(i.async=!1)),t.el=i),i},getLoadUrl:function(){var e=this,t=e.canonicalPath?e.url:g.canonicalUrl(e.url);return e.loadUrl||(e.loadUrl=e.buster?t+(-1===t.indexOf("?")?"?":"&")+e.buster:t),e.loadUrl},fetch:function(e){var t=this.getLoadUrl(),i=!!e.async,e=e.complete;g.fetch(t,e,this,i)},onContentLoaded:function(e){var t=this,i=e.status,n=e.content,r=e.exception,e=this.getLoadUrl();t.loaded=!0,!r&&0!==i||l.phantom?200<=i&&i<300||304===i||l.phantom||0===i&&0<n.length?t.content=n:(t.error="Failed loading synchronously via XHR: '"+e+"'. Please verify that the file exists. XHR status code: "+i||!0,t.evaluated=!0):(t.error="Failed loading synchronously via XHR: '"+e+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead."||!0,t.evaluated=!0)},createLoadElement:function(e){var t=this,i=t.getElement();t.preserve=!0,i.onerror=function(){t.error=!0,e&&(e(),e=null)},g.isIE10m?i.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||e&&(e(),e=this.onreadystatechange=this.onerror=null)}:i.onload=function(){e(),e=this.onload=this.onerror=null},i[t.prop]=t.getLoadUrl()},onLoadElementReady:function(){g.getHead().appendChild(this.getElement()),this.evaluated=!0},inject:function(e,t){var i,n,r,o=this,s=g.getHead(),a=o.url,l=o.key;return o.isCss()?(o.preserve=!0,r=l.substring(0,l.lastIndexOf("/")+1),(i=u.createElement("base")).href=r,s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.href=i.href,a&&(e+="\n/*# sourceURL="+l+" */"),r="styleSheet"in(n=o.getElement("style")),s.appendChild(i),r?(s.appendChild(n),n.styleSheet.cssText=e):(n.textContent=e,s.appendChild(n)),s.removeChild(i)):(a&&(e+="\n//# sourceURL="+l),Ext.globalEval(e)),o},loadCrossDomain:function(){var e=this;return e.createLoadElement(function(){e.el.onerror=e.el.onload=c,e.el=null,e.loaded=e.evaluated=e.done=!0,e.notifyRequests()}),e.evaluateLoadElement(),!1},loadElement:function(){var e=this;return e.createLoadElement(function(){e.el.onerror=e.el.onload=c,e.el=null,e.loaded=e.evaluated=e.done=!0,e.notifyRequests()}),e.evaluateLoadElement(),!0},loadSync:function(){var t=this;t.fetch({async:!1,complete:function(e){t.onContentLoaded(e)}}),t.evaluate(),t.notifyRequests()},load:function(e){var t=this;if(!t.loaded){if(t.loading)return!1;if(t.loading=!0,e)t.loadSync();else{if(g.isIE10||t.isCrossDomain())return t.loadCrossDomain();if(!t.isCss()&&g.hasReadyState)t.createLoadElement(function(){t.loaded=!0,t.notifyRequests()});else{if(!(!g.useElements||t.isCss()&&l.phantom))return t.loadElement();t.fetch({async:!e,complete:function(e){t.onContentLoaded(e),t.notifyRequests()}})}}}return!0},evaluateContent:function(){this.inject(this.content),this.content=null},evaluateLoadElement:function(){g.getHead().appendChild(this.getElement())},evaluate:function(){var e=this;e.evaluated||e.evaluating||(e.evaluating=!0,void 0!==e.content?e.evaluateContent():e.error||e.evaluateLoadElement(),e.evaluated=e.done=!0,e.cleanup())},cleanup:function(){var e,t=this.el;if(t){if(!this.preserve)for(e in this.el=null,t.parentNode.removeChild(t),t)try{e!==this.prop&&(t[e]=null),delete t[e]}catch(e){}t.onload=t.onerror=t.onreadystatechange=c}},notifyRequests:function(){for(var e=this.requests,t=e.length,i=0;i<t;i++)e[i].processLoadedEntries();this.done&&this.fireListeners()},onDone:function(e){var t=this.listeners||(this.listeners=[]);this.done?e(this):t.push(e)},fireListeners:function(){var e,t=this.listeners;if(t&&0<t.length)for(;e=t.shift();)e(this)}},Ext.disableCacheBuster=function(e,t){var i=new Date;i.setTime(i.getTime()+24*(e?3650:-1)*60*60*1e3),i=i.toGMTString(),u.cookie="ext-cache=1; expires="+i+"; path="+(t||"/")},g.init(),g}(function(){}),Ext.globalEval=Ext.globalEval||(this.execScript?function(e){execScript(e)}:function(e){eval.call(window,e)}),Function.prototype.bind||function(){function e(t){var i=r.call(arguments,1),n=this;return i.length?function(){var e=arguments;return n.apply(t,e.length?i.concat(r.call(e)):i)}:(i=null,function(){return n.apply(t,arguments)})}var r=Array.prototype.slice;(Function.prototype.bind=e).$extjs=!0}(),Ext.setResourcePath=function(e,t){var i=Ext.manifest||(Ext.manifest={}),n=i.resources||(i.resources={});i&&("string"!=typeof e?Ext.apply(n,e):n[e]=t,i.resources=n)},Ext.getResourcePath=function(e,t,i){"string"!=typeof e&&(t=e.pool,i=e.packageName,e=e.path);var n=Ext.manifest,r=n&&n.resources,n=r[t],t=[];return null==n&&null==(n=r.path)&&(n="resources"),n&&t.push(n),i&&t.push(i),t.push(e),t.join("/")};var Ext=Ext||{};!function(){function e(){}function t(){}function i(e){return e}var n,s,r=this,l=Object.prototype.toString,d=["valueOf","toLocaleString","toString","constructor"],o=function(){var e=o.caller.caller;return e.$owner.prototype[e.$name].apply(this,arguments)},a=Ext.manifest||{},c=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,u=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;for(n in Ext.global=r,Ext.now=Date.now||(Date.now=function(){return+new Date}),Ext.ticks=r.performance&&r.performance.now?function(){return performance.now()}:Ext.now,Ext._startTime=Ext.ticks(),e.$nullFn=i.$nullFn=e.$emptyFn=i.$identityFn=t.$nullFn=!0,t.$privacy="framework",e.$noClearOnDestroy=i.$noClearOnDestroy=!0,t.$noClearOnDestroy=!0,Ext.suspendLayouts=Ext.resumeLayouts=e,{toString:1})d=null;function h(e,t,i){var n,r;for(n in i)i.hasOwnProperty(n)&&("function"==typeof(r=i[n])&&(t.$className&&(r.name=t.$className+"#"+n),r.$name=n,r.$owner=t,r.$previous=e.hasOwnProperty(n)?e[n]:o),e[n]=r)}Ext.enumerables=d,Ext.apply=function(e,t,i){if(i&&Ext.apply(e,i),e&&t&&"object"==typeof t){var n,r,o;for(n in t)e[n]=t[n];if(d)for(r=d.length;r--;)o=d[r],t.hasOwnProperty(o)&&(e[o]=t[o])}return e},Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{}),Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:!1,enableListenerCollection:!0,name:Ext.sandboxName||"Ext",privateFn:t,emptyFn:e,identityFn:i,frameStartTime:Ext.now(),manifest:a,debugConfig:Ext.debugConfig||a.debug||{hooks:{"*":!0}},enableAria:!0,startsWithHashRe:/^#/,validIdRe:/^[a-z_][a-z0-9\-_]*$/i,BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",makeIdSelector:function(e){return Ext.validIdRe.test(e)||Ext.raise('Invalid id selector: "'+e+'"'),"#"+e},id:function(e,t){if(e&&e.id)return e.id;t=(t||Ext.idPrefix)+ ++Ext.idSeed;return e&&(e.id=t),t},returnId:function(e){return e.getId()},returnTrue:function(){return!0},emptyString:new String,baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},$vendorEventRe:/^(DOMMouse|Moz.+|MS.+|webkit.+)/,canonicalEventName:function(e){return Ext.$eventNameMap[e]||(Ext.$eventNameMap[e]=Ext.$vendorEventRe.test(e)?e:e.toLowerCase())},applyIf:function(e,t){if(e)for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e},destroy:function(){for(var e,t=arguments.length,i=0;i<t;i++)(e=arguments[i])&&(Ext.isArray(e)?this.destroy.apply(this,e):Ext.isFunction(e.destroy)&&e.destroy());return null},destroyMembers:function(e){for(var t,i,n=1,r=arguments,o=r.length;n<o;n++)null!=(t=e[i=r[n]])&&(e[i]=Ext.destroy(t))},override:function(e,t){var i,n;return e.$isClass?e.override(t):"function"==typeof e?Ext.apply(e.prototype,t):(i=e.self)&&i.$isClass?((n=t.privates)&&(delete(t=Ext.apply({},t)).privates,h(e,i,n)),h(e,i,t)):Ext.apply(e,t),e},valueFrom:function(e,t,i){return Ext.isEmpty(e,i)?t:e},isEmpty:function(e,t){return null==e||!t&&""===e||Ext.isArray(e)&&0===e.length},isArray:"isArray"in Array?Array.isArray:function(e){return"[object Array]"===l.call(e)},isDate:function(e){return"[object Date]"===l.call(e)},isMSDate:function(e){return!!Ext.isString(e)&&u.test(e)},isObject:"[object Object]"===l.call(null)?function(e){return null!=e&&"[object Object]"===l.call(e)&&void 0===e.ownerDocument}:function(e){return"[object Object]"===l.call(e)},isSimpleObject:function(e){return e instanceof Object&&e.constructor===Object},isPrimitive:function(e){e=typeof e;return"string"==e||"number"==e||"boolean"==e},isFunction:"undefined"!=typeof document&&"function"==typeof document.getElementsByTagName("body")?function(e){return!!e&&"[object Function]"===l.call(e)}:function(e){return!!e&&"function"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e},isElement:function(e){return!!e&&1===e.nodeType},isTextNode:function(e){return!!e&&"#text"===e.nodeName},isDefined:function(e){return void 0!==e},isIterable:function(e){return!(!e||"number"!=typeof e.length||"string"==typeof e||Ext.isFunction(e))&&(e.propertyIsEnumerable?!(!e.hasOwnProperty("length")||e.propertyIsEnumerable("length"))||c.test(l.call(e)):!!e.item)},isDebugEnabled:function(e,t){var i=Ext.debugConfig.hooks;if(i.hasOwnProperty(e))return i[e];var n,r=i["*"],o=0;if(void 0!==t&&(r=t),!e)return r;for(n in i){var s=i[n];"."===e.charAt(n.length)&&e.substring(0,n.length)===n&&o<n.length&&(o=n.length,r=s)}return r},clone:function(e,t){if(null==e)return e;if(!1!==t&&e.nodeType&&e.cloneNode)return e.cloneNode(!0);var i,n,r,o,s,a=l.call(e);if("[object Date]"===a)return new Date(e.getTime());if("[object Array]"===a)for(i=e.length,o=[];i--;)o[i]=Ext.clone(e[i],t);else if("[object Object]"===a&&e.constructor===Object){for(s in o={},e)o[s]=Ext.clone(e[s],t);if(d)for(n=d.length;n--;)r=d[n],e.hasOwnProperty(r)&&(o[r]=e[r])}return o||e},getUniqueGlobalNamespace:function(){var e,t=this.uniqueGlobalNamespace;if(void 0===t){for(e=0;t="ExtBox"+ ++e,void 0!==r[t];);r[t]=Ext,this.uniqueGlobalNamespace=t}return t},functionFactoryCache:{},cacheableFunctionFactory:function(){var e,t,i=Array.prototype.slice.call(arguments),n=this.functionFactoryCache;return Ext.isSandboxed&&0<(t=i.length)&&(i[--t]="var Ext=window."+Ext.name+";"+i[t]),(t=n[e=i.join("")])||(t=Function.prototype.constructor.apply(Function.prototype,i),n[e]=t),t},functionFactory:function(){var e,t=Array.prototype.slice.call(arguments);return Ext.isSandboxed&&0<(e=t.length)&&(t[--e]="var Ext=window."+Ext.name+";"+t[e]),Function.prototype.constructor.apply(Function.prototype,t)},Logger:{log:function(e,t){e&&r.console&&(t&&t in r.console||(t="log"),e="["+t.toUpperCase()+"] "+e,r.console[t](e))},verbose:function(e){this.log(e,"verbose")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){throw new Error(e)},deprecate:function(e){this.log(e,"warn")}},ariaWarn:function(e,t){Ext.enableAria&&!Ext.slicer&&(Ext.ariaWarn.first||(Ext.ariaWarn.first=!0,Ext.log.warn("WAI-ARIA compatibility warnings can be suppressed by adding the following to application startup code:"),Ext.log.warn("    Ext.ariaWarn = Ext.emptyFn;")),Ext.log.warn({msg:t,dump:e}))},getElementById:function(e){return document.getElementById(e)},splitAndUnescape:(s={},function(e,t){if(!e)return[];if(!t)return[e];for(var i,n=s[t]||(s[t]=new RegExp("\\\\"+t,"g")),r=[],o=e.split(t);void 0!==(i=o.shift());){for(;"\\"===i.charAt(i.length-1)&&0<o.length;)i=i+t+o.shift();i=i.replace(n,t),r.push(i)}return r})}),Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=!0}(),Ext.platformTags.modern=!(Ext.platformTags.classic=Ext.isClassic=!0),function(){function n(){var e=this.sourceClass,t=this.sourceMethod,i=this.msg;return t&&(i?(t+="(): ",t+=i):t+="()"),e&&(t=t?e+"."+t:e),t||i||""}Ext.Error=function(e){Ext.isString(e)&&(e={msg:e});var t=new Error;return Ext.apply(t,e),t.message=t.message||t.msg,t.toString=n,t},Ext.apply(Ext.Error,{ignore:!1,raise:function(e){e=e||{},Ext.isString(e)&&(e={msg:e});var t,i=this.raise.caller;if(i===Ext.raise&&(i=i.caller),i&&(!e.sourceMethod&&(t=i.$name)&&(e.sourceMethod=t),!e.sourceClass&&(t=i.$owner)&&(t=t.$className)&&(e.sourceClass=t)),!0!==this.handle(e))throw t=n.call(e),Ext.log({msg:t,level:"error",dump:e,stack:!0}),new Ext.Error(e)},handle:function(){return this.ignore}})}(),Ext.deprecated=function(t){return t=t||"",function e(){Ext.raise('The method "'+e.$owner.$className+"."+e.$name+'" has been removed. '+t)}},Ext.raise=function(){Ext.Error.raise.apply(Ext.Error,arguments)},function(){var n;"undefined"!=typeof window&&(n=0,setInterval(function(){var e,t=Ext.log&&Ext.log.counters,i=t&&t.error+t.warn+t.info+t.log;i&&n!==i&&(e=[],t.error&&e.push("Errors: "+t.error),t.warn&&e.push("Warnings: "+t.warn),t.info&&e.push("Info: "+t.info),t.log&&e.push("Log: "+t.log),window.status="*** "+e.join(" -- "),n=i)},1e3))}(),Ext.Array=function(){var n=Array.prototype,g=n.slice,e=function(){var e,t=[],i=20;if(!t.splice)return!1;for(;i--;)t.push("A");return t.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F"),e=t.length,t.splice(13,0,"XXX"),e+1===t.length}(),t="indexOf"in n,o=!0;try{"undefined"!=typeof document&&g.call(document.getElementsByTagName("body"))}catch(e){o=!1}function u(e,t){return t<0?Math.max(0,e.length+t):Math.min(e.length,t)}function s(e,t,i,n){var r=n?n.length:0,o=e.length,s=u(e,t);if(s===o)r&&e.push.apply(e,n);else{var a,i=Math.min(i,o-s),l=s+i,d=l+r-i,c=o-l,i=o-i;if(d<l)for(a=0;a<c;++a)e[d+a]=e[l+a];else if(l<d)for(a=c;a--;)e[d+a]=e[l+a];if(r&&s===i)e.length=i,e.push.apply(e,n);else for(e.length=i+r,a=0;a<r;++a)e[s+a]=n[a]}return e}function i(e,t,i){var n,r=arguments.length,o=u(e,t);return r<3&&(i=e.length-o),n=e.slice(t,u(e,o+i)),r<4?s(e,o,i):s(e,o,i,g.call(arguments,3)),n}var p=e?function(e,t,i){return e.splice(t,i),e}:function(e,t,i){return s(e,t,i)},r=e?function(e,t,i,n){return n&&n.length?0!==t||i?t<e.length?e.splice.apply(e,[t,i].concat(n)):e.push.apply(e,n):e.unshift.apply(e,n):e.splice(t,i),e}:s,e=e?function(e){return e.splice.apply(e,g.call(arguments,1))}:i,m={binarySearch:function(e,t,i,n,r){var o,s,a=e.length;for(i instanceof Function?(r=i,i=0,n=a):n instanceof Function?(r=n,n=a):(void 0===i&&(i=0),void 0===n&&(n=a),r=r||m.lexicalCompare),--n;i<=n;)0<=(s=r(t,e[o=i+n>>1]))?i=1+o:s<0&&(n=o-1);return i},defaultCompare:function(e,t){return e<t?-1:t<e?1:0},lexicalCompare:function(e,t){return(e=String(e))<(t=String(t))?-1:t<e?1:0},each:function(e,t,i,n){var r,o=(e=m.from(e)).length;if(!0!==n){for(r=0;r<o;r++)if(!1===t.call(i||e[r],e[r],r,e))return r}else for(r=o-1;-1<r;r--)if(!1===t.call(i||e[r],e[r],r,e))return r;return!0},forEach:"forEach"in n?function(e,t,i){return e.forEach(t,i)}:function(e,t,i){for(var n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e)},indexOf:t?function(e,t,i){return e?n.indexOf.call(e,t,i):-1}:function(e,t,i){for(var n=e?e.length:0,r=i<0?Math.max(0,n+i):i||0;r<n;r++)if(e[r]===t)return r;return-1},contains:t?function(e,t){return-1!==n.indexOf.call(e,t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return!0;return!1},toArray:function(e,t,i){if(!e||!e.length)return[];if("string"==typeof e&&(e=e.split("")),o)return g.call(e,t||0,i||e.length);var n,r=[];for(t=t||0,i=i?i<0?e.length+i:i:e.length,n=t;n<i;n++)r.push(e[n]);return r},pluck:function(e,t){for(var i,n=[],r=0,o=e.length;r<o;r++)i=e[r],n.push(i[t]);return n},map:"map"in n?function(e,t,i){return Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument."),e.map(t,i)}:function(e,t,i){Ext.Assert.isFunction(t,"Ext.Array.map must have a callback function passed as second argument.");for(var n=e.length,r=new Array(n),o=0;o<n;o++)r[o]=t.call(i,e[o],o,e);return r},every:"every"in n?function(e,t,i){return Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument."),e.every(t,i)}:function(e,t,i){Ext.Assert.isFunction(t,"Ext.Array.every must have a callback function passed as second argument.");for(var n=0,r=e.length;n<r;++n)if(!t.call(i,e[n],n,e))return!1;return!0},some:"some"in n?function(e,t,i){return Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument."),e.some(t,i)}:function(e,t,i){Ext.Assert.isFunction(t,"Ext.Array.some must have a callback function passed as second argument.");for(var n=0,r=e.length;n<r;++n)if(t.call(i,e[n],n,e))return!0;return!1},equals:function(e,t){var i,n=e.length,r=t.length;if(e===t)return!0;if(n!==r)return!1;for(i=0;i<n;++i)if(e[i]!==t[i])return!1;return!0},clean:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],Ext.isEmpty(t)||i.push(t);return i},unique:function(e){for(var t,i=[],n=0,r=e.length;n<r;n++)t=e[n],-1===m.indexOf(i,t)&&i.push(t);return i},filter:"filter"in n?function(e,t,i){return Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument."),e.filter(t,i)}:function(e,t,i){Ext.Assert.isFunction(t,"Ext.Array.filter must have a filter function passed as second argument.");for(var n=[],r=0,o=e.length;r<o;r++)t.call(i,e[r],r,e)&&n.push(e[r]);return n},findBy:function(e,t,i){for(var n=0,r=e.length;n<r;n++)if(t.call(i||e,e[n],n))return e[n];return null},from:function(e,t){if(null==e)return[];if(Ext.isArray(e))return t?g.call(e):e;t=typeof e;return!e||void 0===e.length||"string"==t||"function"==t&&e.apply?[e]:m.toArray(e)},remove:function(e,t){t=m.indexOf(e,t);return-1!==t&&p(e,t,1),e},removeAt:function(e,t,i){var n=e.length;return 0<=t&&t<n&&(i=i||1,i=Math.min(i,n-t),p(e,t,i)),e},include:function(e,t){m.contains(e,t)||e.push(t)},clone:function(e){return g.call(e)},merge:function(){for(var e=g.call(arguments),t=[],i=0,n=e.length;i<n;i++)t=t.concat(e[i]);return m.unique(t)},intersect:function(){var e,t,i,n,r,o,s,a,l,d,c,u,h=[],f=g.call(arguments);if(!f.length)return h;for(e=f.length,d=r=0;d<e;d++)o=f[d],(!n||o.length<n.length)&&(n=o,r=d);for(n=m.unique(n),p(f,r,1),s=n.length,e=f.length,d=0;d<s;d++){for(a=n[d],c=l=0;c<e;c++)for(i=(t=f[c]).length,u=0;u<i;u++)if(a===t[u]){l++;break}l===e&&h.push(a)}return h},difference:function(e,t){for(var i,n=g.call(e),r=n.length,o=0,s=t.length;o<s;o++)for(i=0;i<r;i++)n[i]===t[o]&&(p(n,i,1),i--,r--);return n},reduce:Array.prototype.reduce?function(e,t,i){return 3===arguments.length?Array.prototype.reduce.call(e,t,i):Array.prototype.reduce.call(e,t)}:function(e,t,i){e=Object(e),Ext.isFunction(t)||Ext.raise("Invalid parameter: expected a function.");var n=0,r=e.length>>>0,o=i;if(arguments.length<3)for(;;){if(n in e){o=e[n++];break}if(++n>=r)throw new TypeError("Reduce of empty array with no initial value")}for(;n<r;++n)n in e&&(o=t(o,e[n],n,e));return o},slice:[1,2].slice(1,void 0).length?function(e,t,i){return g.call(e,t,i)}:function(e,t,i){return void 0===t?g.call(e):void 0===i?g.call(e,t):g.call(e,t,i)},sort:function(e,t){return function(i,n){for(var e=i.length,t=new Array(e),r=0;r<e;r++)t[r]=r;for(t.sort(function(e,t){return n(i[e],i[t])||e-t}),r=0;r<e;r++)t[r]=i[t[r]];for(r=0;r<e;r++)i[r]=t[r];return i}(e,t||m.lexicalCompare)},flatten:function(e){var o=[];return function e(t){for(var i,n=0,r=t.length;n<r;n++)i=t[n],Ext.isArray(i)?e(i):o.push(i);return o}(e)},min:function(e,t){for(var i,n=e[0],r=0,o=e.length;r<o;r++)i=e[r],t?1===t(n,i)&&(n=i):i<n&&(n=i);return n},max:function(e,t){for(var i,n=e[0],r=0,o=e.length;r<o;r++)i=e[r],t?-1===t(n,i)&&(n=i):n<i&&(n=i);return n},mean:function(e){return 0<e.length?m.sum(e)/e.length:void 0},sum:function(e){for(var t=0,i=0,n=e.length;i<n;i++)t+=e[i];return t},toMap:function(e,t,i){var n={},r=e.length;if(t)if("string"==typeof t)for(;r--;)n[e[r][t]]=r+1;else for(;r--;)n[t.call(i,e[r])]=r+1;else for(;r--;)n[e[r]]=r+1;return n},toValueMap:function(e,t,i,n){var r,o,s,a,l,d,c={},u=e.length;if(t)for((a="string"!=typeof t)||(n=i),o=1===n,r=2===n;u--;)d=e[u],l=a?t.call(i,d):d[t],o?l in c?c[l].push(d):c[l]=[d]:r&&l in c?(s=c[l])instanceof Array?s.push(d):c[l]=[s,d]:c[l]=d;else for(;u--;)c[d=e[u]]=d;return c},_replaceSim:s,_spliceSim:i,erase:p,insert:function(e,t,i){return r(e,t,0,i)},move:function(e,t,i){if(i!==t){for(var n=e[t],r=t<i?1:-1,o=t;o!=i;o+=r)e[o]=e[o+r];e[i]=n}},replace:r,splice:e,push:function(e){var t,i=arguments.length,n=1;for(void 0===e?e=[]:Ext.isArray(e)||(e=[e]);n<i;n++)t=arguments[n],Array.prototype.push[Ext.isIterable(t)?"apply":"call"](e,t);return e},numericSortFn:function(e,t){return e-t}};return Ext.each=m.each,m.union=m.merge,Ext.min=m.min,Ext.max=m.max,Ext.sum=m.sum,Ext.mean=m.mean,Ext.flatten=m.flatten,Ext.clean=m.clean,Ext.unique=m.unique,Ext.pluck=m.pluck,Ext.toArray=function(){return m.toArray.apply(m,arguments)},m}(),Ext.Assert={falsey:function(e,t){e&&Ext.raise(t||"Expected a falsey value but was "+e)},falseyProp:function(e,t){Ext.Assert.truthy(e);var i=e[t];i&&(e.$className&&(t=e.$className+"#"+t),Ext.raise("Expected a falsey value for "+t+" but was "+i))},truthy:function(e,t){e||Ext.raise(t||"Expected a truthy value but was "+typeof e)},truthyProp:function(e,t){Ext.Assert.truthy(e);var i=e[t];i||(e.$className&&(t=e.$className+"#"+t),Ext.raise("Expected a truthy value for "+t+" but was "+typeof i))}},function(){for(var e in Ext){var t;"is"==e.substring(0,2)&&Ext.isFunction(Ext[e])&&(t=e.substring(2),Ext.Assert[e]=function(e,i){var n,r=Ext[e];return function(e,t){r(e)||Ext.raise(t||n||(n="Expected value to be "+i))}}(e,t),Ext.Assert[e+"Prop"]=function(e,i){var n,r=Ext[e];return function(e,t){Ext.Assert.truthy(e),r(e[t])||Ext.raise(n=n||"Expected "+(e.$className?e.$className+"#":"")+t+" to be "+i)}}(e,t),Ext.Assert["isNot"+t]=function(e,i){var n,r=Ext[e];return function(e,t){r(e)&&Ext.raise(t||n||(n="Expected value to NOT be "+i))}}(e,t),Ext.Assert["isNot"+t+"Prop"]=function(e,i){var n,r=Ext[e];return function(e,t){Ext.Assert.truthy(e),r(e[t])&&Ext.raise(n=n||"Expected "+(e.$className?e.$className+"#":"")+t+" to NOT be "+i)}}(e,t))}}(),Ext.String=function(){function t(e,t){return o[t]}function i(e,t){return t in s?s[t]:String.fromCharCode(parseInt(t.substr(2),10))}function r(e,t){return null!=e&&null!=t&&t.length<=e.length}var o,s,a,l,d,n=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,c=/('|\\)/g,u=/([-.*+?\^${}()|\[\]\/\\])/g,h=/^\s+|\s+$/g,f=/\s+/,g=/(^[^a-z]*|[^\w])/gi,p=String.fromCharCode;return d={fromCodePoint:String.fromCodePoint||function(){for(var e,t="",i=[],n=-1,r=arguments.length;++n<r;)e=Number(arguments[n]),(!isFinite(e)||e<0||1114111<e||Math.floor(e)!==e)&&Ext.raise("Invalid code point: "+e),e<=65535?i.push(e):(e-=65536,i.push(55296+(e>>10),e%1024+56320)),n+1===r&&(t+=p(i),i.length=0);return t},insert:function(e,t,i){if(!e)return t;if(!t)return e;var n=e.length;return i||0===i||(i=n),i<0&&(i=n<=(i*=-1)?0:n-i),0===i?e=t+e:i>=e.length?e+=t:e=e.substr(0,i)+t+e.substr(i),e},startsWith:function(e,t,i){var n=r(e,t);return n&&(i&&(e=e.toLowerCase(),t=t.toLowerCase()),n=0===e.lastIndexOf(t,0)),n},endsWith:function(e,t,i){var n=r(e,t);return n&&(i&&(e=e.toLowerCase(),t=t.toLowerCase()),n=-1!==e.indexOf(t,e.length-t.length)),n},createVarName:function(e){return e.replace(g,"")},htmlEncode:function(e){return e&&String(e).replace(a,t)},htmlDecode:function(e){return e&&String(e).replace(l,i)},hasHtmlCharacters:function(e){return a.test(e)},addCharacterEntities:function(e){var t,i,n=[],r=[];for(t in e)i=e[t],s[t]=i,o[i]=t,n.push(i),r.push(t);a=new RegExp("("+n.join("|")+")","g"),l=new RegExp("("+r.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){o={},s={},this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(e,t){return Ext.isEmpty(t)?e:e+(-1===e.indexOf("?")?"?":"&")+t},trim:function(e){return(e=e&&e.replace(n,""))||""},capitalize:function(e){return(e=e&&e.charAt(0).toUpperCase()+e.substr(1))||""},uncapitalize:function(e){return(e=e&&e.charAt(0).toLowerCase()+e.substr(1))||""},ellipsis:function(e,t,i){if(e&&e.length>t){if(i){var n=e.substr(0,t-2),i=Math.max(n.lastIndexOf(" "),n.lastIndexOf("."),n.lastIndexOf("!"),n.lastIndexOf("?"));if(-1!==i&&t-15<=i)return n.substr(0,i)+"..."}return e.substr(0,t-3)+"..."}return e},escapeRegex:function(e){return e.replace(u,"\\$1")},createRegex:function(e,t,i,n){var r=e;return null==e||e.exec||(r=d.escapeRegex(String(e)),!1!==t&&(r="^"+r),!1!==i&&(r+="$"),r=new RegExp(r,!1!==n?"i":"")),r},escape:function(e){return e.replace(c,"\\$1")},toggle:function(e,t,i){return e===t?i:t},leftPad:function(e,t,i){var n=String(e);for(i=i||" ";n.length<t;)n=i+n;return n},repeat:function(e,t,i){t<1&&(t=0);for(var n=[],r=t;r--;)n.push(e);return n.join(i||"")},splitWords:function(e){return e&&"string"==typeof e?e.replace(h,"").split(f):e||[]}}}(),Ext.String.resetCharacterEntities(),Ext.htmlEncode=Ext.String.htmlEncode,Ext.htmlDecode=Ext.String.htmlDecode,Ext.urlAppend=Ext.String.urlAppend,Ext.Date=function(){var u,i,l=Date,t=/(\\.)/g,n=/([gGhHisucUOPZ]|MS)/,r=/([djzmnYycU]|MS)/,o=/\\/gi,s=/\{(\d+)\}/g,a=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),d=Ext.String.leftPad,h=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return (v != null) ? v : null;"].join("\n");function f(e){var i=Array.prototype.slice.call(arguments,1);return e.replace(s,function(e,t){return i[t]})}return Date.prototype.toISOString||(Date.prototype.toISOString=function(){var e=this;return d(e.getUTCFullYear(),4,"0")+"-"+d(e.getUTCMonth()+1,2,"0")+"-"+d(e.getUTCDate(),2,"0")+"T"+d(e.getUTCHours(),2,"0")+":"+d(e.getUTCMinutes(),2,"0")+":"+d(e.getUTCSeconds(),2,"0")+"."+d(e.getUTCMilliseconds(),3,"0")+"Z"}),(u={now:l.now,toString:function(e){return(e=e||new l).getFullYear()+"-"+d(e.getMonth()+1,2,"0")+"-"+d(e.getDate(),2,"0")+"T"+d(e.getHours(),2,"0")+":"+d(e.getMinutes(),2,"0")+":"+d(e.getSeconds(),2,"0")},getElapsed:function(e,t){return Math.abs(e-(t||u.now()))},useStrict:!1,formatCodeToRegex:function(e,t){var i=u.parseCodes[e];return i&&(i="function"==typeof i?i():i,u.parseCodes[e]=i),i?Ext.applyIf({c:i.c&&f(i.c,t||"{0}")},i):{g:0,c:null,s:Ext.String.escapeRegex(e)}},parseFunctions:{MS:function(e,t){e=(e||"").match(a);return e?new l(+((e[1]||"")+e[2])):null},time:function(e,t){e=parseInt(e,10);return e||0===e?new l(e):null},timestamp:function(e,t){e=parseInt(e,10);return e||0===e?new l(1e3*e):null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return u.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",DAYS_IN_WEEK:7,MONTHS_IN_YEAR:12,MAX_DAYS_IN_MONTH:31,SUNDAY:0,MONDAY:1,TUESDAY:2,WEDNESDAY:3,THURSDAY:4,FRIDAY:5,SATURDAY:6,defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",firstDayOfWeek:0,weekendDays:[0,6],getShortMonthName:function(e){return u.monthNames[e].substring(0,3)},getShortDayName:function(e){return u.dayNames[e].substring(0,3)},getMonthNumber:function(e){return u.monthNumbers[e.substring(0,1).toUpperCase()+e.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(e){return n.test(e.replace(t,""))},formatContainsDateInfo:function(e){return r.test(e.replace(t,""))},unescapeFormat:function(e){return e.replace(o,"")},formatCodes:{d:"Ext.String.leftPad(m.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(m.getDay())",j:"m.getDate()",l:"Ext.Date.dayNames[m.getDay()]",N:"(m.getDay() ? m.getDay() : 7)",S:"Ext.Date.getSuffix(m)",w:"m.getDay()",z:"Ext.Date.getDayOfYear(m)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(m), 2, '0')",F:"Ext.Date.monthNames[m.getMonth()]",m:"Ext.String.leftPad(m.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(m.getMonth())",n:"(m.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(m)",L:"(Ext.Date.isLeapYear(m) ? 1 : 0)",o:"(m.getFullYear() + (Ext.Date.getWeekOfYear(m) == 1 && m.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(m) >= 52 && m.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(m.getFullYear(), 4, '0')",y:"('' + m.getFullYear()).substring(2, 4)",a:"(m.getHours() < 12 ? 'am' : 'pm')",A:"(m.getHours() < 12 ? 'AM' : 'PM')",g:"((m.getHours() % 12) ? m.getHours() % 12 : 12)",G:"m.getHours()",h:"Ext.String.leftPad((m.getHours() % 12) ? m.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(m.getHours(), 2, '0')",i:"Ext.String.leftPad(m.getMinutes(), 2, '0')",s:"Ext.String.leftPad(m.getSeconds(), 2, '0')",u:"Ext.String.leftPad(m.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(m)",P:"Ext.Date.getGMTOffset(m, true)",T:"Ext.Date.getTimezone(m)",Z:"(m.getTimezoneOffset() * -60)",c:function(){for(var e,t="Y-m-dTH:i:sP",i=[],n=t.length,r=0;r<n;++r)e=t.charAt(r),i.push("T"===e?"'T'":u.getFormatCode(e));return i.join(" + ")},C:function(){return"m.toISOString()"},U:"Math.round(m.getTime() / 1000)"},isValid:function(e,t,i,n,r,o,s){n=n||0,r=r||0,o=o||0,s=s||0;var a=u.add(new l(e<100?100:e,t-1,i,n,r,o,s),u.YEAR,e<100?e-100:0);return e===a.getFullYear()&&t===a.getMonth()+1&&i===a.getDate()&&n===a.getHours()&&r===a.getMinutes()&&o===a.getSeconds()&&s===a.getMilliseconds()},parse:function(e,t,i){var n=u.parseFunctions;return null==n[t]&&u.createParser(t),n[t].call(u,e,Ext.isDefined(i)?i:u.useStrict)},parseDate:function(e,t,i){return u.parse(e,t,i)},getFormatCode:function(e){var t=u.formatCodes[e];return t&&(t="function"==typeof t?t():t,u.formatCodes[e]=t),t||"'"+Ext.String.escape(e)+"'"},createFormat:function(e){for(var t,i=[],n=!1,r=0;r<e.length;++r)t=e.charAt(r),n||"\\"!==t?n?(n=!1,i.push("'"+Ext.String.escape(t)+"'")):"\n"===t?i.push("'\\n'"):i.push(u.getFormatCode(t)):n=!0;u.formatFunctions[e]=Ext.functionFactory("var m=this;return "+i.join("+"))},createParser:function(e){for(var t,i,n=u.parseRegexes.length,r=1,o=[],s=[],a=!1,l=0,d=e.length,c=[];l<d;++l)t=e.charAt(l),a||"\\"!==t?a?(a=!1,s.push(Ext.String.escape(t))):(r+=(i=u.formatCodeToRegex(t,r)).g,s.push(i.s),i.g&&i.c&&(i.calcAtEnd?c:o).push(i.c)):a=!0;o=o.concat(c),u.parseRegexes[n]=new RegExp("^"+s.join("")+"$","i"),u.parseFunctions[e]=Ext.functionFactory("input","strict",f(h,n,o.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var e=[],t=0;t<7;e.push(u.getShortDayName(t)),++t);return{g:0,c:null,s:"(?:"+e.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+u.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+u.monthNames.join("|")+")"}},M:function(){for(var e=[],t=0;t<12;e.push(u.getShortMonthName(t)),++t);return Ext.applyIf({s:"("+e.join("|")+")"},u.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:!0},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:!0},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){for(var e=[],t=[u.formatCodeToRegex("Y",1),u.formatCodeToRegex("m",2),u.formatCodeToRegex("d",3),u.formatCodeToRegex("H",4),u.formatCodeToRegex("i",5),u.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",u.formatCodeToRegex("P",8).c,"}else{",u.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],i=0,n=t.length;i<n;++i)e.push(t[i].c);return{g:1,c:e.join(""),s:[t[0].s,"(?:","-",t[1].s,"(?:","-",t[2].s,"(?:","(?:T| )?",t[3].s,":",t[4].s,"(?::",t[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(e,t){return u.format(e,t)},isEqual:function(e,t){return e&&t?e.getTime()===t.getTime():!(e||t)},format:function(e,t){var i=u.formatFunctions;return Ext.isDate(e)?(null==i[t]&&u.createFormat(t),i[t].call(e)+""):""},getTimezone:function(e){return e.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(e,t){e=e.getTimezoneOffset();return(0<e?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(e)/60),2,"0")+(t?":":"")+Ext.String.leftPad(Math.abs(e%60),2,"0")},getDayOfYear:function(e){var t=0,i=u.clone(e),n=e.getMonth(),r=0;for(i.setDate(1),i.setMonth(0);r<n;i.setMonth(++r))t+=u.getDaysInMonth(i);return t+e.getDate()-1},getWeekOfYear:function(e){var t=l.UTC(e.getFullYear(),e.getMonth(),e.getDate()+3)/864e5,e=Math.floor(t/7),t=new l(6048e5*e).getUTCFullYear();return e-Math.floor(l.UTC(t,0,7)/6048e5)+1},isLeapYear:function(e){e=e.getFullYear();return!(0!=(3&e)||!(e%100||e%400==0&&e))},getFirstDayOfMonth:function(e){e=(e.getDay()-(e.getDate()-1))%7;return e<0?7+e:e},getLastDayOfMonth:function(e){return u.getLastDateOfMonth(e).getDay()},getFirstDateOfMonth:function(e){return new l(e.getFullYear(),e.getMonth(),1)},getLastDateOfMonth:function(e){return new l(e.getFullYear(),e.getMonth(),u.getDaysInMonth(e))},getDaysInMonth:(i=[31,28,31,30,31,30,31,31,30,31,30,31],function(e){var t=e.getMonth();return 1===t&&u.isLeapYear(e)?29:i[t]}),getSuffix:function(e){switch(e.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(e){return new l(e.getTime())},isDST:function(e){return new l(e.getFullYear(),0,1).getTimezoneOffset()!==e.getTimezoneOffset()},clearTime:function(e,t){if(isNaN(e.getTime()))return e;if(t)return u.clearTime(u.clone(e));var i,n,r=e.getDate();if(e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e.getDate()!==r){for(i=1,n=u.add(e,u.HOUR,i);n.getDate()!==r;i++,n=u.add(e,u.HOUR,i));e.setDate(r),e.setHours(n.getHours())}return e},add:function(e,t,i){var n,r,o=u.clone(e),s=0;if(!t||0===i)return o;if(r=i-parseInt(i,10),i=parseInt(i,10))switch(t.toLowerCase()){case u.MILLI:o.setTime(o.getTime()+i);break;case u.SECOND:o.setTime(o.getTime()+1e3*i);break;case u.MINUTE:o.setTime(o.getTime()+60*i*1e3);break;case u.HOUR:o.setTime(o.getTime()+60*i*60*1e3);break;case u.DAY:o.setTime(o.getTime()+24*i*60*60*1e3);break;case u.MONTH:28<(n=e.getDate())&&(n=Math.min(n,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(e),u.MONTH,i)).getDate())),o.setDate(n),o.setMonth(e.getMonth()+i);break;case u.YEAR:28<(n=e.getDate())&&(n=Math.min(n,u.getLastDateOfMonth(u.add(u.getFirstDateOfMonth(e),u.YEAR,i)).getDate())),o.setDate(n),o.setFullYear(e.getFullYear()+i)}if(r){switch(t.toLowerCase()){case u.MILLI:s=1;break;case u.SECOND:s=1e3;break;case u.MINUTE:s=6e4;break;case u.HOUR:s=36e5;break;case u.DAY:s=864e5;break;case u.MONTH:s=864e5*(n=u.getDaysInMonth(o));break;case u.YEAR:s=864e5*(n=u.isLeapYear(o)?366:365)}s&&o.setTime(o.getTime()+s*r)}return o},subtract:function(e,t,i){return u.add(e,t,-i)},between:function(e,t,i){e=e.getTime();return t.getTime()<=e&&e<=i.getTime()},isWeekend:function(e){return-1<Ext.Array.indexOf(this.weekendDays,e.getDay())},utcToLocal:function(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},localToUtc:function(e){return u.utc(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},utc:function(e,t,i,n,r,o,s){return new Date(Date.UTC(e,t,i,n||0,r||0,o||0,s||0))},compat:function(){for(var e,t,i,n=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],r=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],o=n.length,s=r.length,a=0;a<o;a++)l[t=n[a]]=u[t];for(e=0;e<s;e++)i=r[e],l.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this),u[i].apply(u,e)}},diff:function(e,t,i){var n,r=+t-e;switch(i){case u.MILLI:return r;case u.SECOND:return Math.floor(r/1e3);case u.MINUTE:return Math.floor(r/6e4);case u.HOUR:return Math.floor(r/36e5);case u.DAY:return Math.floor(r/864e5);case"w":return Math.floor(r/6048e5);case u.MONTH:return n=12*t.getFullYear()+t.getMonth()-(12*e.getFullYear()+e.getMonth()),u.add(e,i,n)>t?n-1:n;case u.YEAR:return n=t.getFullYear()-e.getFullYear(),u.add(e,i,n)>t?n-1:n}},align:function(e,t,i){var n=new l(+e);switch(t.toLowerCase()){case u.MILLI:return n;case u.SECOND:return n.setUTCSeconds(n.getUTCSeconds()-n.getUTCSeconds()%i),n.setUTCMilliseconds(0),n;case u.MINUTE:return n.setUTCMinutes(n.getUTCMinutes()-n.getUTCMinutes()%i),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case u.HOUR:return n.setUTCHours(n.getUTCHours()-n.getUTCHours()%i),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case u.DAY:return 7!==i&&14!==i||n.setUTCDate(n.getUTCDate()-n.getUTCDay()+1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case u.MONTH:return n.setUTCMonth(n.getUTCMonth()-(n.getUTCMonth()-1)%i,1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n;case u.YEAR:return n.setUTCFullYear(n.getUTCFullYear()-n.getUTCFullYear()%i,1,1),n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),e}}}).parseCodes.C=u.parseCodes.c,u}(),Ext.Function=function(){function o(){var e,t,i,n=l.length;for(a=null,t=0;t<n;t++)e=(i=l[t])[3],u[e]&&(i[0].apply(i[1]||f,i[2]||d),delete u[e]);l=l.slice(n)}function s(){Ext.elevateFunction(o)}var a,r=0,l=[],d=[],c=0,u={},h=window,f=Ext.global,e=!(!f.setImmediate||!f.clearImmediate),g=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(e){var t=Ext.now(),i=Math.max(0,16-(t-r)),n=h.setTimeout(function(){e(t+i)},i);return r=t+i,n},p={flexSetter:function(r){return function(e,t){var i,n;if(null!==e)if("string"!=typeof e){for(i in e)e.hasOwnProperty(i)&&r.call(this,i,e[i]);if(Ext.enumerables)for(n=Ext.enumerables.length;n--;)i=Ext.enumerables[n],e.hasOwnProperty(i)&&r.call(this,i,e[i])}else r.call(this,e,t);return this}},bind:function(e,t,i,n){if(2===arguments.length)return function(){return e.apply(t,arguments)};var r=e,o=Array.prototype.slice;return function(){var e=i||arguments;return!0===n?e=(e=o.call(arguments,0)).concat(i):"number"==typeof n&&(e=o.call(arguments,0),Ext.Array.insert(e,n,i)),r.apply(t||f,e)}},bindCallback:function(t,i,n,r,o){return function(){var e=Ext.Array.slice(arguments);return Ext.callback(t,i,n?n.concat(e):e,r,o)}},pass:function(t,i,n){return Ext.isArray(i)||(i=Ext.isIterable(i)?Ext.Array.clone(i):void 0!==i?[i]:[]),function(){var e=i.slice();return e.push.apply(e,arguments),t.apply(n||this,e)}},alias:function(e,t){return function(){return e[t].apply(e,arguments)}},clone:function(e){return function(){return e.apply(this,arguments)}},createInterceptor:function(t,i,n,r){return Ext.isFunction(i)?(r=Ext.isDefined(r)?r:null,function(){var e=arguments;return!1!==i.apply(n||this||f,e)?t.apply(this||f,e):r}):t},createDelayed:function(i,n,e,t,r){return(e||t)&&(i=Ext.Function.bind(i,e,t,r)),function(){var e=this,t=Array.prototype.slice.call(arguments);setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(i,e,t):i.apply(e,t)},n)}},defer:function(e,t,i,n,r){return e=Ext.Function.bind(e,i,n,r),0<t?setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},t):(e(),0)},interval:function(e,t,i,n,r){return e=Ext.Function.bind(e,i,n,r),setInterval(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},t)},createSequence:function(t,i,n){return i?function(){var e=t.apply(this,arguments);return i.apply(n||this,arguments),e}:t},createBuffered:function(i,n,r,o){var s;return function(){var e=o||Array.prototype.slice.call(arguments,0),t=r||this;s&&clearTimeout(s),s=setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(i,t,e):i.apply(t,e)},n)}},createAnimationFrame:function(t,i,n,r){var o;return r=r||3,function(){var e=n||Array.prototype.slice.call(arguments,0);i=i||this,3===r&&o&&p.cancelAnimationFrame(o),(1&r||!o)&&(o=p.requestAnimationFrame(function(){o=null,t.apply(i,e)}))}},requestAnimationFrame:function(e,t,i){var n=++c,r=Array.prototype.slice.call(arguments,0);return r[3]=n,u[n]=1,l.push(r),a=a||g(Ext.elevateFunction?s:o),n},cancelAnimationFrame:function(e){delete u[e]},createThrottled:function(e,t,i){function n(){Ext.elevateFunction?Ext.elevateFunction(e,i,o):e.apply(i,o),a=Ext.now(),s=null}var r,o,s,a=0;return function(){i=i||this,r=Ext.now()-a,o=arguments,t<=r?(clearTimeout(s),n()):s=s||Ext.defer(n,t-r)}},createBarrier:function(e,t,i){return function(){--e||t.apply(i,arguments)}},interceptBefore:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){var e=i.apply(n||this,arguments);return r.apply(this,arguments),e}},interceptAfter:function(e,t,i,n){var r=e[t]||Ext.emptyFn;return e[t]=function(){return r.apply(this,arguments),i.apply(n||this,arguments)}},interceptAfterOnce:function(t,i,n,r){var o=t[i],s=function(){var e;return o&&o.apply(this,arguments),e=n.apply(r||this,arguments),t[i]=o,t=i=n=r=o=s=null,e};return t[i]=s},makeCallback:function(e,t){return t[e]||(t.$className&&Ext.raise('No method "'+e+'" on '+t.$className),Ext.raise('No method "'+e+'"')),function(){return t[e].apply(t,arguments)}},memoize:function(i,n,r){var o={},s=r&&Ext.isFunction(r);return function(e){var t=s?r.apply(n,arguments):e;return t in o||(o[t]=i.apply(n,arguments)),o[t]}}};return Ext.asap=e?function(e,t,i){return null==t&&null==i||(e=p.bind(e,t,i)),setImmediate(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()})}:function(e,t,i){return null==t&&null==i||(e=p.bind(e,t,i)),setTimeout(function(){Ext.elevateFunction?Ext.elevateFunction(e):e()},0,!0)},Ext.asapCancel=e?function(e){clearImmediate(e)}:function(e){clearTimeout(e)},Ext.defer=p.defer,Ext.interval=p.interval,Ext.pass=p.pass,Ext.bind=p.bind,Ext.deferCallback=p.requestAnimationFrame,p}(),Ext.Number=new function(){var o=this,e="1"!==.9.toFixed(),n=Math,l={count:!1,inclusive:!1,wrap:!0};Ext.apply(o,{MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-(n.pow(2,53)-1),MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||n.pow(2,53)-1,Clip:{DEFAULT:l,COUNT:Ext.applyIf({count:!0},l),INCLUSIVE:Ext.applyIf({inclusive:!0},l),NOWRAP:Ext.applyIf({wrap:!1},l)},clipIndices:function(e,t,i){var n,r,o,s=0,a=(i=i||l).wrap;for(t=t||[],o=0;o<2;++o)n=r,r=null==(r=t[o])?s:o&&i.count?e<(r+=n)?e:r:(a&&(r=r<0?e+r:r),o&&i.inclusive&&++r,r<0?0:e<r?e:r),s=e;return t[0]=n,t[1]=r<n?n:r,t},constrain:function(e,t,i){var n=parseFloat(e);return null===t&&(t=e),null===i&&(i=e),n<t?t:i<n?i:n},snap:function(e,t,i,n){var r;return void 0===e||e<i?i||0:(t&&0!=(r=e%t)&&(e-=r,t<=2*r?e+=t:2*r<-t&&(e-=t)),o.constrain(e,i,n))},snapInRange:function(e,t,i,n){var r;return i=i||0,void 0===e||e<i?i:(t&&(r=(e-i)%t)&&(e-=r,t<=(r*=2)&&(e+=t)),void 0!==n&&e>(n=o.snapInRange(n,t,i))&&(e=n),e)},roundToNearest:function(e,t){return(t=t||1)*n.round(e/t)},sign:n.sign||function(e){return 0===(e=+e)||isNaN(e)?e:0<e?1:-1},log10:n.log10||function(e){return n.log(e)*n.LOG10E},isEqual:function(e,t,i){return"number"==typeof e&&"number"==typeof t&&"number"==typeof i||Ext.raise("All parameters should be valid numbers."),n.abs(e-t)<i},isFinite:Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},toFixed:e?function(e,t){t=t||0;var i=n.pow(10,t);return(n.round(e*i)/i).toFixed(t)}:function(e,t){return e.toFixed(t)},from:function(e,t){return isFinite(e)&&(e=parseFloat(e)),isNaN(e)?t:e},randomInt:function(e,t){return n.floor(n.random()*(t-e+1)+e)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}}),Ext.num=function(){return o.from.apply(this,arguments)}},function(){function t(){}var x=/^\?/,E=/(\[):?([^\]]*)\]/g,y=/^([^\[]+)/,v=/\+/g,d=Ext.Object={chain:Object.create||function(e){t.prototype=e;e=new t;return t.prototype=null,e},clear:function(e){for(var t in e)delete e[t];return e},freeze:Object.freeze?function(e,t){if(e&&"object"==typeof e&&!Object.isFrozen(e)&&(Object.freeze(e),t))for(var i in e)d.freeze(e[i],t);return e}:Ext.identityFn,toQueryObjects:function(e,t,i){var n,r,o=d.toQueryObjects,s=[];if(Ext.isArray(t))for(n=0,r=t.length;n<r;n++)i?s=s.concat(o(e+"["+n+"]",t[n],!0)):s.push({name:e,value:t[n]});else if(Ext.isObject(t))for(n in t)t.hasOwnProperty(n)&&(i?s=s.concat(o(e+"["+n+"]",t[n],!0)):s.push({name:e,value:t[n]}));else s.push({name:e,value:t});return s},toQueryString:function(e,t){var i,n,r,o,s,a=[],l=[];for(i in e)e.hasOwnProperty(i)&&(a=a.concat(d.toQueryObjects(i,e[i],t)));for(n=0,r=a.length;n<r;n++)s=(o=a[n]).value,Ext.isEmpty(s)?s="":Ext.isDate(s)&&(s=Ext.Date.toString(s)),l.push(encodeURIComponent(o.name)+"="+encodeURIComponent(String(s)));return l.join("&")},fromQueryString:function(e,t){for(var i,n,r,o,s,a,l,d,c,u,h,f=e.replace(x,"").split("&"),g={},p=0,m=f.length;p<m;p++)if(0<(o=f[p]).length)if(n=(n=(d=o.split("="))[0]).replace(v,"%20"),n=decodeURIComponent(n),r=void 0!==(r=d[1])?(r=r.replace(v,"%20"),decodeURIComponent(r)):"",t){if(l=n.match(E),!(d=n.match(y)))throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+o+'"');if(n=d[0],c=[],null!==l){for(s=0,a=l.length;s<a;s++)u=2===(u=l[s]).length?"":u.substring(1,u.length-1),c.push(u);for(c.unshift(n),i=g,s=0,a=c.length;s<a;s++)u=c[s],s===a-1?Ext.isArray(i)&&""===u?i.push(r):i[u]=r:(void 0!==i[u]&&"string"!=typeof i[u]||(h=c[s+1],i[u]=Ext.isNumeric(h)||""===h?[]:{}),i=i[u])}else g[n]=r}else g.hasOwnProperty(n)?(Ext.isArray(g[n])||(g[n]=[g[n]]),g[n].push(r)):g[n]=r;return g},each:function(e,t,i){var n,r,o=Ext.enumerables;if(e){for(r in i=i||e,e)if(e.hasOwnProperty(r)&&!1===t.call(i,r,e[r],e))return;if(o)for(n=o.length;n--;)if(e.hasOwnProperty(r=o[n])&&!1===t.call(i,r,e[r],e))return}},eachValue:function(e,t,i){var n,r,o=Ext.enumerables;for(r in i=i||e,e)if(e.hasOwnProperty(r)&&!1===t.call(i,e[r]))return;if(o)for(n=o.length;n--;)if(e.hasOwnProperty(r=o[n])&&!1===t.call(i,e[r]))return},merge:function(e){for(var t,i,n,r,o=1,s=arguments.length,a=d.merge,l=Ext.clone;o<s;o++)for(i in t=arguments[o])(n=t[i])&&n.constructor===Object?(r=e[i])&&r.constructor===Object?a(r,n):e[i]=l(n):e[i]=n;return e},mergeIf:function(e){for(var t,i,n,r=1,o=arguments.length,s=Ext.clone;r<o;r++)for(i in t=arguments[r])i in e||((n=t[i])&&n.constructor===Object?e[i]=s(n):e[i]=n);return e},getAllKeys:function(e){var t,i=[];for(t in e)i.push(t);return i},getKey:function(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t)return i;return null},getValues:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(e[t]);return i},getKeys:"function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},getSize:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},equals:function(e,t){return e===t||(e&&t?i(e,t)&&i(t,e):!e&&!t&&e===t)},fork:function(e){var t,i,n;if(e&&e.constructor===Object)for(i in t=d.chain(e),e)(n=e[i])&&(n.constructor===Object?t[i]=d.fork(n):n instanceof Array&&(t[i]=Ext.Array.clone(n)));else t=e;return t},defineProperty:"defineProperty"in Object?Object.defineProperty:function(e,t,i){Object.prototype.__defineGetter__&&(i.get&&e.__defineGetter__(t,i.get),i.set&&e.__defineSetter__(t,i.set))},classify:function(e){function t(){for(var e,t=0,i=o.length;t<i;t++)this[e=o[t]]=new s[e]}var i,n,r=e,o=[],s={};for(i in e)e.hasOwnProperty(i)&&(n=e[i])&&n.constructor===Object&&(o.push(i),s[i]=d.classify(n));return t.prototype=r,t}};function i(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;return!0}Ext.merge=Ext.Object.merge,Ext.mergeIf=Ext.Object.mergeIf}(),Ext.apply(Ext,{_namedScopes:{this:{isThis:1},controller:{isController:1},self:{isSelf:1},"self.controller":{isSelf:1,isController:1}},escapeId:function(){function t(e,t){return"\\"+t}function i(e,t){return"\\00"+t.charCodeAt(0).toString(16)+" "}var n=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,r=/([\W]{1})/g,o=/^(\d)/g;return function(e){return n.test(e)?e:e.replace(r,t).replace(o,i)}}(),callback:function(e,t,i,n,r,o){if(e){var s,a=t in Ext._namedScopes;return e.charAt?(t&&!a||!r||(t=r.resolveListenerScope(a?t:o)),t&&Ext.isObject(t)||Ext.raise('Named method "'+e+'" requires a scope object'),Ext.isFunction(t[e])||Ext.raise('No method named "'+e+'" on '+(t.$className||"scope object")),e=t[e]):t=a?o||r:t||r,e&&Ext.isFunction(e)&&(t=t||Ext.global,n?Ext.defer(e,n,t,i):s=Ext.elevateFunction?Ext.elevateFunction(e,t,i):i?e.apply(t,i):e.call(t)),s}},coerce:function(e,t){var i=Ext.typeOf(e),t=Ext.typeOf(t),n="string"==typeof e;if(i!==t)switch(t){case"string":return String(e);case"number":return Number(e);case"boolean":return!(n&&(!e||"false"===e||"0"===e))&&Boolean(e);case"null":return n&&(!e||"null"===e)&&null;case"undefined":return n&&(!e||"undefined"===e)&&void 0;case"date":return n&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}return e},copyTo:function(e,t,i,n){"string"==typeof i&&(i=i.split(Ext.propertyNameSplitRe));for(var r,o=0,s=i?i.length:0;o<s;o++)r=i[o],(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},copy:function(e,t,i,n){"string"==typeof i&&(i=i.split(Ext.propertyNameSplitRe));for(var r,o=0,s=i?i.length:0;o<s;o++)r=i[o],(t.hasOwnProperty(r)||n&&r in t)&&(e[r]=t[r]);return e},propertyNameSplitRe:/[,;\s]+/,copyToIf:function(e,t,i){"string"==typeof i&&(i=i.split(Ext.propertyNameSplitRe));for(var n,r=0,o=i?i.length:0;r<o;r++)void 0===e[n=i[r]]&&(e[n]=t[n]);return e},copyIf:function(e,t,i){"string"==typeof i&&(i=i.split(Ext.propertyNameSplitRe));for(var n,r=0,o=i?i.length:0;r<o;r++)!((n=i[r])in e)&&n in t&&(e[n]=t[n]);return e},extend:function(){function o(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}var s=Object.prototype.constructor;return function(t,e,i){Ext.isObject(e)&&(i=e,e=t,t=i.constructor!==s?i.constructor:function(){e.apply(this,arguments)}),e||Ext.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."});var n=function(){},r=e.prototype;return n.prototype=r,(((n=t.prototype=new n).constructor=t).superclass=r).constructor===s&&(r.constructor=e),t.override=function(e){Ext.override(t,e)},n.override=o,n.proto=n,t.override(i),t.extend=function(e){return Ext.extend(t,e)},t}}(),iterate:function(e,t,i){Ext.isEmpty(e)||(void 0===i&&(i=e),Ext.isIterable(e)?Ext.Array.each.call(Ext.Array,e,t,i):Ext.Object.each.call(Ext.Object,e,t,i))},_resourcePoolRe:/^[<]([^<>@:]*)(?:[@]([^<>@:]+))?[>](.+)$/,resolveResource:function(e){var t,i=e;return e&&"<"===e.charAt(0)&&(t=Ext._resourcePoolRe.exec(e))&&(i=Ext.getResourcePath(t[3],t[1],t[2])),i},urlEncode:function(){var e=Ext.Array.from(arguments),t="";return Ext.isString(e[1])&&(t=e[1]+"&",e[1]=!1),t+Ext.Object.toQueryString.apply(Ext.Object,e)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(e){Ext.isDomReady||Ext.raise("getScrollbarSize called before DomReady");var t,i=Ext._scrollbarSize;return!e&&i||(t=document.body,(e=document.createElement("div")).style.width=e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",t.appendChild(e),Ext._scrollbarSize=i={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight},t.removeChild(e)),i},typeOf:function(){var r=/\S/,o=Object.prototype.toString,s={number:1,string:1,boolean:1,undefined:1},a={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(e){if(null===e)return"null";var t,i,n=typeof e;return s[n]?n:(t=a[i=o.call(e)])?t:"function"==n?"function":"object"==n?void 0!==e.nodeType?3===e.nodeType?r.test(e.nodeValue)?"textnode":"whitespace":"element":"object":(Ext.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+e+'".'}),i)}}(),factory:function(e,t,i,n){var r,o=Ext.ClassManager;if(!e||e.isInstance)return i&&i!==e&&i.destroy(),e;if(n){if("string"==typeof e)return o.instantiateByAlias(n+"."+e);if(Ext.isObject(e)&&"type"in e)return o.instantiateByAlias(n+"."+e.type,e)}return!0===e?(i||t||Ext.raise("[Ext.factory] Cannot determine type of class to create"),i||Ext.create(t)):(Ext.isObject(e)||Ext.raise("Invalid config, must be a valid config object"),"xtype"in e?r=o.instantiateByAlias("widget."+e.xtype,e):"xclass"in e&&(r=Ext.create(e.xclass,e)),r?(i&&i.destroy(),r):i?i.setConfig(e):Ext.create(t,e))},log:function(){var f=/string|number|boolean/;function d(e){var t,i,n,r,o,s=Ext.global.console,a="log",l=d.indent||0;d.indent=l,"string"!=typeof e&&(e=(t=e).msg||"",a=t.level||a,i=t.dump,o=t.stack,n=t.prefix,r=t.fn,t.indent?++d.indent:t.outdent&&(d.indent=l=Math.max(l-1,0)),!i||s&&s.dir||(e+=function e(t,i,n,r){var o,s,a,l,d,c,u=[];if(Ext.isArray(t)?(d="[",c="]"):Ext.isObject(t)&&(d="{",c="}"),(n=n||3)<i)return d+"..."+c;i=i||1;var h=new Array(i).join("    ");for(l in t)if(t.hasOwnProperty(l)){if("function"==(s=typeof(a=t[l]))){if(!r)continue;o=s}else o="undefined"==s?s:null===a||f.test(s)||Ext.isDate(a)?Ext.encode(a):Ext.isArray(a)||Ext.isObject(a)?e(a,i+1,n,r):s;u.push(h+l+": "+o)}return u.length?d+"\n    "+u.join(",\n    ")+"\n"+h+c:d+c}(i),i=null)),1<arguments.length&&(e+=Array.prototype.slice.call(arguments,1).join("")),n&&(e=n+" - "+e),e=l?Ext.String.repeat(" ",d.indentSize*l)+e:e,"log"!==a&&(e="["+a.charAt(0).toUpperCase()+"] "+e),r&&(e+="\nCaller: "+r.toString()),s?(s[a]?s[a](e):s.log(e),i&&s.dir(i),o&&s.trace&&(s.firebug&&"error"===a||s.trace())):Ext.isOpera?opera.postError(e):(o=d.out,s=d.max,o.length>=s&&Ext.Array.erase(o,0,o.length-3*Math.floor(s/4)),o.push(e)),++d.count,++d.counters[a]}function e(e,t){"string"==typeof t[0]&&t.unshift({}),t[0].level=e,d.apply(this,t)}return d.error=function(){e("error",Array.prototype.slice.call(arguments))},d.info=function(){e("info",Array.prototype.slice.call(arguments))},d.warn=function(){e("warn",Array.prototype.slice.call(arguments))},d.count=0,d.counters={error:0,warn:0,info:0,log:0},d.indentSize=2,d.out=[],d.max=750,d}()||function(){function e(){}return e.info=e.warn=e.error=Ext.emptyFn,e}()}),function(){var m,x=[""],d=/([^\d\.])/,c=/[^\d]/g,u=/[\-+]/g,E=/\s/g,h=/_/g,i={classic:1,modern:1};Ext.Version=m=function(e,t){var i,n,r,o,s,a=this,l=a.padModes;e.isVersion&&(e=e.version),a.version=s=String(e).toLowerCase().replace(h,".").replace(u,""),l=(i=s.charAt(0))in l?(s=s.substring(1),l[i]):t?l[t]:0,a.pad=l,t=s.search(d),a.shortVersion=s,-1!==t&&(a.release=o=s.substr(t,e.length),a.shortVersion=s.substr(0,t),o=m.releaseValueMap[o]||o),a.releaseValue=o||l,a.shortVersion=a.shortVersion.replace(c,""),a.parts=r=s.split(".");for(n=r.length;n--;)r[n]=parseInt(r[n],10);return l===1/0&&r.push(l),a.major=r[0]||l,a.minor=r[1]||l,a.patch=r[2]||l,a.build=r[3]||l,a},m.prototype={isVersion:!0,padModes:{"~":NaN,"^":1/0},release:"",compareTo:function(e){for(var t,i,n=this.pad,r=this.parts,o=r.length,e=e.isVersion?e:new m(e),s=e.pad,a=e.parts,l=a.length,d=Math.max(o,l),c=0;c<d;c++){if((t=c<o?r[c]:n)<(i=c<l?a[c]:s))return-1;if(i<t)return 1}return(t=this.releaseValue)<(i=e.releaseValue)?-1:i<t?1:0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(e){return 0<this.compareTo(e)},isGreaterThanOrEqual:function(e){return 0<=this.compareTo(e)},isLessThan:function(e){return this.compareTo(e)<0},isLessThanOrEqual:function(e){return this.compareTo(e)<=0},equals:function(e){return 0===this.compareTo(e)},match:function(e){return e=String(e),this.version.substr(0,e.length)===e},toArray:function(){var e=this;return[e.getMajor(),e.getMinor(),e.getPatch(),e.getBuild(),e.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(e){return 0<this.compareTo(e)},lt:function(e){return this.compareTo(e)<0},gtEq:function(e){return 0<=this.compareTo(e)},ltEq:function(e){return this.compareTo(e)<=0}},Ext.apply(m,{aliases:{from:{extjs:"ext",core:"core",touch:"modern"},to:{ext:["extjs"],core:["core"],modern:["touch"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(e){return e?isNaN(e)?this.releaseValueMap[e]||e:parseInt(e,10):0},compare:function(e,t){return(e.isVersion?e:new m(e)).compareTo(t)},set:function(e,t,i){var n,r=m.aliases.to[t],o=i.isVersion?i:new m(i);if(e[t]=o,r)for(n=r.length;0<n--;)e[r[n]]=o;return o}}),Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(e){var t=Ext.compatVersions,t=e?t[m.aliases.from[e]||e]:t.ext||t.touch||t.core;return t||Ext.getVersion(e)},setCompatVersion:function(e,t){m.set(Ext.compatVersions,e,t)},setVersion:function(e,t){return e in i&&(Ext.toolkit=e),Ext.lastRegisteredVersion=m.set(Ext.versions,e,t),this},getVersion:function(e){var t=Ext.versions;return e?t[m.aliases.from[e]||e]:t.ext||t.touch||t.core},checkVersion:function(e,t){var i,n,r,o,s,a,l,d,c=Ext.isArray(e),u=m.aliases.from,h=c?e:x,f=h.length,g=Ext.versions,p=g.ext||g.touch;for(c||(x[0]=e),i=0;i<f;++i){if(Ext.isString(a=h[i])){if(0<=a.indexOf(" ")&&(a=a.replace(E,"")),(n=a.indexOf("@"))<0)l=a,d=p;else{if(!(d=g[u[s=a.substring(0,n)]||s])){if(t)return!1;continue}l=a.substring(n+1)}(n=l.indexOf("-"))<0?"+"===l.charAt(n=l.length-1)?(r=l.substring(0,n),o=null):r=o=l:o=(r=0<n?l.substring(0,n):null,l.substring(n+1)),n=!0,r&&(n=(r=new m(r,"~")).ltEq(d)),n&&o&&(n=(o=new m(o,"~")).gtEq(d))}else n=Ext.checkVersion(a.and||a.or,!a.or),a.not&&(n=!n);if(n){if(!t)return!0}else if(t)return!1}return!!t},deprecate:function(e,t,i,n){m.compare(Ext.getVersion(e),t)<1&&i.call(n)}})}(),function(e){var t,i,n=e&&e.packages||{},r=e&&e.compatibility;for(t in n)i=n[t],Ext.setVersion(t,i.version);if(r)if(Ext.isString(r))Ext.setCompatVersion("core",r);else for(t in r)Ext.setCompatVersion(t,r[t]);n.ext||n.touch||(Ext.setVersion("ext","6.2.0.981"),Ext.setVersion("core","6.2.0.981"))}(Ext.manifest),Ext.Config=function(e){var t=e.charAt(0).toUpperCase()+e.substr(1);this.name=e,this.names={internal:"_"+e,initializing:"is"+t+"Initializing",apply:"apply"+t,update:"update"+t,get:"get"+t,set:"set"+t,initGet:"initGet"+t,changeEvent:e.toLowerCase()+"change"},this.root=this},Ext.Config.map={},Ext.Config.get=function(e){var t=Ext.Config.map;return t[e]||(t[e]=new Ext.Config(e))},Ext.Config.prototype={self:Ext.Config,isConfig:!0,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getEventedSetter:function(){return this.eventedSetter||(this.root.eventedSetter=this.makeEventedSetter())},getInternalName:function(e){return e.$configPrefixed?this.names.internal:this.name},mergeNew:function(e,t,i,n){var r,o;if(t)if(e)for(o in r=Ext.Object.chain(t),e)n&&o in r||(r[o]=e[o]);else r=t;else r=e;return r},mergeSets:function(e,t,i){var n,r,o=t?Ext.Object.chain(t):{};if(e instanceof Array)for(n=e.length;n--;)r=e[n],i&&r in o||(o[r]=!0);else if(e)if(e.constructor===Object)for(n in e)r=e[n],i&&n in o||(o[n]=r);else i&&e in o||(o[e]=!0);return o},makeGetter:function(){var e=this.name,t=this.names.internal;return function(){return this[this.$configPrefixed?t:e]}},makeInitGetter:function(){var t=this.name,e=this.names,i=e.set,n=e.get,r=e.initializing;return function(){var e=this;return e[r]=!0,delete e[n],e[i](e.config[t]),delete e[r],e[n].apply(e,arguments)}},makeSetter:function(){var r=this.name,e=this.names,o=e.internal,s=e.get,a=e.apply,l=e.update,e=function(e){var t=this,i=t.$configPrefixed?o:r,n=t[i];return delete t[s],t[a]&&void 0===(e=t[a](e,n))||e!==(n=t[i])&&(t[i]=e,t[l]&&t[l](e,n)),t};return e.$isDefault=!0,e},makeEventedSetter:function(){function r(e,t,i,n){e[n]=t,e[d]&&e[d](t,i)}var o=this.name,e=this.names,s=e.internal,a=e.get,l=e.apply,d=e.update,c=e.changeEvent,e=function(e){var t=this,i=t.$configPrefixed?s:o,n=t[i];return delete t[a],t[l]&&void 0===(e=t[l](e,n))||e!==(n=t[i])&&(t.isConfiguring?(t[i]=e,t[d]&&t[d](e,n)):t.fireEventedAction(c,[t,e,n],r,t,[t,e,n,i])),t};return e.$isDefault=!0,e}},function(){var E=Ext.Config,p=E.map,S=Ext.Object;Ext.Configurator=function(e){var t=this,i=e.prototype,n=e.superclass?e.superclass.self.$config:null;t.cls=e,(t.superCfg=n)?(t.configs=S.chain(n.configs),t.cachedConfigs=S.chain(n.cachedConfigs),t.initMap=S.chain(n.initMap),t.values=S.chain(n.values),t.needsFork=n.needsFork,t.deprecations=S.chain(n.deprecations)):(t.configs={},t.cachedConfigs={},t.initMap={},t.values={},t.deprecations={}),i.config=i.defaultConfig=t.values,e.$config=t},Ext.Configurator.prototype={self:Ext.Configurator,needsFork:!1,initList:null,add:function(e,t){var i,n,r,o,s,a,l,d,c=this,u=c.cls,h=c.configs,f=c.cachedConfigs,g=c.initMap,p=u.prototype,m=t&&t.$config.configs,x=c.values;for(s in e){if(l=!1,(n=(i=(d=e[s])&&d.constructor===Object)&&"$value"in d?d:null)&&(l=!!n.cached,i=(d=n.$value)&&d.constructor===Object),r=n&&n.merge,o=h[s]){if(t){if(!(r=o.merge))continue;n=null}else r=r||o.merge;t||!l||f[s]||Ext.raise("Redefining config as cached: "+s+" in class: "+u.$className),a=x[s],r?d=r.call(o,d,a,u,t):i&&a&&a.constructor===Object&&(d=S.merge({},a,d))}else m?(o=m[s],n=null):o=E.get(s),((h[s]=o).cached||l)&&(f[s]=!0),p[l=(a=o.names).get]||(p[l]=o.getter||o.getGetter()),p[l=a.set]||(p[l]=n&&n.evented?o.eventedSetter||o.getEventedSetter():o.setter||o.getSetter());n&&(o.owner!==u&&(h[s]=o=Ext.Object.chain(o),o.owner=u),Ext.apply(o,n),delete o.$value),!c.needsFork&&d&&(d.constructor===Object||d instanceof Array)&&(c.needsFork=!0),null!==d?g[s]=!0:(p.$configPrefixed?p[h[s].names.internal]=null:p[h[s].name]=null,s in g&&(g[s]=!1)),x[s]=d}},addDeprecations:function(e){var t,i,n,r=this.deprecations,o=(this.cls.$className||"")+"#";for(n in e)(i=e[n])?(t=i.message)||(t='This config has been renamed to "'+i+'"'):t="This config has been removed.",r[n]=o+n+": "+t},configure:function(e,t){var i,n,r,o,s,a,l,d,c,u,h,f=this,g=f.configs,p=f.deprecations,m=f.initMap,x=f.initListMap,E=f.initList,y=f.cls.prototype,v=f.values,b=0,C=!E,v=f.needsFork?S.fork(v):S.chain(v);if(e.isConfiguring=!0,C)for(d in f.initList=E=[],f.initListMap=x={},e.isFirstInstance=!0,m)u=(n=g[d]).cached,m[d]?(l=n.names,c=v[d],!y[l.set].$isDefault||y[l.apply]||y[l.update]||"object"==typeof c?(u?(i=i||[]).push(n):(E.push(n),x[d]=!0),e[l.get]=n.initGetter||n.getInitGetter()):y[n.getInternalName(y)]=c):u&&(y[n.getInternalName(y)]=void 0);if(a=i&&i.length){for(o=0;o<a;++o)e[s=i[o].getInternalName(y)]=null;for(o=0;o<a;++o)r=(l=(n=i[o]).names).get,e.hasOwnProperty(r)&&(e[l.set](v[n.name]),delete e[r]);for(o=0;o<a;++o)y[s=i[o].getInternalName(y)]=e[s],delete e[s]}for(t&&t.platformConfig&&(t=f.resolvePlatformConfig(e,t)),C&&e.afterCachedConfig&&!e.afterCachedConfig.$nullFn&&e.afterCachedConfig(t),e.config=v,o=0,a=E.length;o<a;++o)e[(n=E[o]).names.get]=n.initGetter||n.getInitGetter();if(e.transformInstanceConfig&&(t=e.transformInstanceConfig(t)),t)for(d in t)c=t[d],n=g[d],p[d]&&(Ext.log.warn(p[d]),!n)||(n?(n.lazy||++b,x[d]||(e[n.names.get]=n.initGetter||n.getInitGetter()),n.merge?c=n.merge(c,v[d],e):c&&c.constructor===Object&&(c=(h=v[d])&&h.constructor===Object?S.merge(v[d],c):Ext.clone(c,!1))):(h=e.self.prototype[d],e.$configStrict&&"function"==typeof h&&!h.$nullFn&&Ext.raise("Cannot override method "+d+" on "+e.$className+" instance."),e[d]=c),v[d]=c);if(!e.beforeInitConfig||e.beforeInitConfig.$nullFn||!1!==e.beforeInitConfig(t)){if(t)for(d in t){if(!b)break;(n=g[d])&&!n.lazy&&(--b,r=(l=n.names).get,e.hasOwnProperty(r)&&(e[l.set](v[d]),delete e[l.get]))}for(o=0,a=E.length;o<a;++o)r=(l=(n=E[o]).names).get,!n.lazy&&e.hasOwnProperty(r)&&(e[l.set](v[n.name]),delete e[r]);delete e.isConfiguring}},getCurrentConfig:function(e){var t,i={};for(t in e.defaultConfig)i[t]=e[p[t].names.get]();return i},merge:function(e,t,i){var n,r,o,s=this.configs;for(n in i)r=i[n],(o=s[n])&&(o.merge?r=o.merge(r,t[n],e):r&&r.constructor===Object&&(r=(o=t[n])&&o.constructor===Object?Ext.Object.merge(o,r):Ext.clone(r,!1))),t[n]=r;return t},reconfigure:function(e,t,i){var n,r,o,s,a,l,d,c=e.config,u=[],h=e.$configStrict&&!(i&&!1===i.strict),f=this.configs,g=i&&i.defaults;for(a in t)if((!g||!e.hasOwnProperty(a))&&(c[a]=t[a],n=f[a],!this.deprecations[a]||(Ext.log.warn(this.deprecations[a]),n))){if(n)e[n.names.get]=n.initGetter||n.getInitGetter();else if(d=e.self.prototype[a],h){if("function"==typeof d&&!d.$nullFn){Ext.Error.raise("Cannot override method "+a+" on "+e.$className+" instance.");continue}"type"!==a&&Ext.log.warn('No such config "'+a+'" for class '+e.$className)}u.push(a)}for(o=0,s=u.length;o<s;o++)(n=f[a=u[o]])?(r=(l=n.names).get,e.hasOwnProperty(r)&&(e[l.set](t[a]),delete e[r])):e[(l=(n=p[a]||Ext.Config.get(a)).names).set]?e[l.set](t[a]):e[a]=t[a]},resolvePlatformConfig:function(e,t){var i,n,r,o=t&&t.platformConfig,s=t;if(o&&(n=Ext.getPlatformConfigKeys(o)).length)for(s=Ext.merge({},s),i=0,r=n.length;i<r;++i)this.merge(e,s,o[n[i]]);return s}}}(),Ext.Base=function(e){function v(e,t,i){var n='"'+e+'" is deprecated.';return i?n+=" "+i:t&&(n+=' Please use "'+t+'" instead.'),function(){Ext.raise(n)}}function b(e,t,i,n){n=n||'"'+t+'" is deprecated.',i&&(n+=' Please use "'+i+'" instead.'),n&&Ext.Object.defineProperty(e,t,{get:function(){Ext.raise(n)},set:function(e){Ext.raise(n)},configurable:!0})}function t(){}var i,r,o=[],n=[],C=Ext.Version,S=/^\d/,s={},a={},l=t.prototype;for(i in Ext.Reaper=r={delay:100,queue:[],timer:null,add:function(e){r.timer||(r.timer=Ext.defer(r.tick,r.delay)),r.queue.push(e)},flush:function(){r.timer&&(clearTimeout(r.timer),r.timer=null);var e,t,i=r.queue,n=i.length;for(r.queue=[],e=0;e<n;++e)(t=i[e])&&t.$reap&&t.$reap()},tick:function(){r.timer=null,r.flush()}},Ext.apply(t,{$className:"Ext.Base",$isClass:!0,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f,g,p=this,m=[],x=Ext.getCompatVersion(e.name),E=p.getConfigurator(),y=(p.$className||"")+"#";for(i in e)S.test(i)&&((g=new Ext.Version(i)).deprecations=e[i],m.push(g));for(m.sort(C.compare),n=m.length;n--;){if(t=(g=m[n]).deprecations,o=p.prototype,f=t.statics,s=x&&x.lt(g)){if(!s)break}else;for(;t;){if(d=t.methods)for(c in d)l=null,(h=d[c])?Ext.isString(h)?(Ext.Assert.isNotDefinedProp(o,c),Ext.Assert.isDefinedProp(o,h),l=s?function(e){return function(){return this[e].apply(this,arguments)}}(h):v(y+c,h)):(r="",(h.message||h.fn)&&(r=h.message,h=h.fn),a=o.hasOwnProperty(c)&&o[c],s&&h?(h.$owner=p,h.$name=c,h.name=y+c,a&&(h.$previous=a),l=h):a||(l=v(y+c,null,r))):(Ext.Assert.isNotDefinedProp(o,c),l=v(y+c)),l&&(o[c]=l);if((d=t.configs)&&E.addDeprecations(d),(d=t.properties)&&!s)for(c in d)u=d[c],Ext.isString(u)?b(o,y+c,u):u&&u.message?b(o,y+c,null,u.message):b(o,y+c);t=f,f=null,o=p}}},extend:function(e){var t,i=this,n=e.prototype,r=i.prototype=Ext.Object.chain(n);if((r.self=i).superclass=r.superclass=n,!e.$isClass)for(t in l)t in r&&(r[t]=l[t]);if(n=n.$inheritableStatics)for(t in n)i.hasOwnProperty(t)||(i[t]=e[t]);e.$onExtended&&(i.$onExtended=e.$onExtended.slice()),i.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var e,t,i=this.$onExtended,n=i.length;if(0<n)for(e=0;e<n;e++)(t=i[e]).fn.apply(t.scope||this,arguments)},onExtended:function(e,t){return this.$onExtended.push({fn:e,scope:t}),this},addStatics:function(e){return this.addMembers(e,!0),this},addInheritableStatics:function(e){var t,i,n,r=this,o=r.prototype,s=r.$inheritableStatics;s||(s=Ext.apply({},o.$inheritableStatics),r.$inheritableStatics=o.$inheritableStatics=s);var a=Ext.getClassName(r)+".";for(t in e)e.hasOwnProperty(t)&&(i=e[t],n=r[t],"function"==typeof i&&(i.name=a+t),"function"!=typeof n||n.$isClass||n.$nullFn||(i.$previous=n),r[t]=i,s[t]=!0);return r},addMembers:function(e,t,i){var n,r,o,s,a,l,d,c=this,u=Ext.Function.clone,h=t?c:c.prototype,f=!t&&h.defaultConfig,g=Ext.enumerables,p=e.privates,m=(c.$className||"")+"#";for(a in p&&(delete e.privates,t||(d=p.statics,delete p.statics),l=p.privacy||i||"framework",c.addMembers(p,t,l),d&&c.addMembers(d,!0,l)),e)if(e.hasOwnProperty(a)){if(!0===i&&(i="framework"),(s=e[a])&&s.$nullFn&&i!==s.$privacy&&Ext.raise("Cannot use stock function for private method "+(c.$className?c.$className+"#":"")+a),"function"!=typeof s||s.$isClass||s.$nullFn){if(f&&a in f&&!h.config.hasOwnProperty(a)){(n=n||{})[a]=s;continue}}else{s.$owner&&(s=u(s)),h.hasOwnProperty(a)&&(s.$previous=h[a]),s.$owner=c,s.$name=a,s.name=m+a;var x=h[a];i?(s.$privacy=i,x&&x.$privacy&&x.$privacy!==i&&Ext.privacyViolation(c,x,s,t)):x&&x.$privacy&&Ext.privacyViolation(c,x,s,t)}h[a]=s}if(n&&c.addConfig(n),g)for(r=0,o=g.length;r<o;++r)e.hasOwnProperty(a=g[r])&&((s=e[a])&&!s.$nullFn&&(s.$owner&&(s=u(s)),s.$owner=c,s.$name=a,s.name=m+a,h.hasOwnProperty(a)&&(s.$previous=h[a])),h[a]=s);return this},addMember:function(e,t){return s[e]=t,this.addMembers(s),delete s[e],this},borrow:function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);for(var i,n=e.prototype,r={},o=0,s=(t=Ext.Array.from(t)).length;o<s;o++)r[i=t[o]]=n[i];return this.addMembers(r)},override:function(e){var t=this,i=e.statics,n=e.inheritableStatics,r=e.config,o=e.mixins,s=e.cachedConfig;return(i||n||r)&&(e=Ext.apply({},e)),i&&(t.addMembers(i,!0),delete e.statics),n&&(t.addInheritableStatics(n),delete e.inheritableStatics),e.platformConfig&&t.addPlatformConfig(e),r&&(t.addConfig(r),delete e.config),s&&(t.addCachedConfig(s),delete e.cachedConfig),delete e.mixins,t.addMembers(e),o&&t.mixin(o),t},addPlatformConfig:function(e){var t,i,n,r,o,s,a,l,d,c,u=e.platformConfig,h=e.config;if(delete e.platformConfig,u instanceof Array)throw new Error("platformConfigs must be specified as an object.");for(i=(r=this.getConfigurator()).configs,d=0,c=(s=Ext.getPlatformConfigKeys(u)).length;d<c;++d){for(a in o=t=null,n=u[s[d]])l=n[a],h&&a in h?((t=t||{})[a]=l,(o=o||{})[a]=h[a],delete h[a]):a in i?(t=t||{})[a]=l:e[a]=l;o&&r.add(o),t&&r.add(t)}},callParent:function(e){var t;return(t=this.callParent.caller)&&(t.$previous||(t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||o)},callSuper:function(e){var t;return(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass.self[t.$name]).apply(this,e||o)},mixin:function(e,t){var i,n,r,o,s,a,l,d,c,u,h=this;if("string"==typeof e){for(r in i=t.prototype,n=h.prototype,i.onClassMixedIn&&i.onClassMixedIn.call(t,h),n.hasOwnProperty("mixins")||("mixins"in n?n.mixins=Ext.Object.chain(n.mixins):n.mixins={}),i)d=i[r],"mixins"===r?Ext.applyIf(n.mixins,d):"mixinId"!==r&&"config"!==r&&"$inheritableStatics"!==r&&void 0===n[r]&&(n[r]=d);if(o=i.$inheritableStatics){for(e in u={},o)h.hasOwnProperty(e)||(u[e]=t[e]);h.addInheritableStatics(u)}return"config"in i&&h.addConfig(i.config,t),(n.mixins[e]=i).afterClassMixedIn&&i.afterClassMixedIn.call(t,h),h}if((c=e)instanceof Array)for(s=0,a=c.length;s<a;s++)i=c[s],h.mixin(i.prototype.mixinId||i.$className,i);else for(l in c)h.mixin(l,c[l])},addConfig:function(e,t){(this.$config||this.getConfigurator()).add(e,t)},addCachedConfig:function(e,t){var i,n={};for(i in e)n[i]={cached:!0,$value:e[i]};this.addConfig(n,t)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:e(function(e,t){a[e]=function(){return this[t].apply(this,arguments)},this.override(a),delete a[e]})}),t)t.hasOwnProperty(i)&&n.push(i);return t.$staticMembers=n,t.getConfigurator(),t.addMembers({$className:"Ext.Base",isInstance:!0,$configPrefixed:!0,$configStrict:!0,isConfiguring:!1,isFirstInstance:!1,destroyed:!1,clearPropertiesOnDestroy:!0,clearPrototypeOnDestroy:!1,statics:function(){var e=this.statics.caller,t=this.self;return e?e.$owner:t},callParent:function(e){var t,i,n=(i=this.callParent.caller)&&(i.$previous||(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name]);if(!n){if(!(i=this.callParent.caller).$owner){if(!i.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");i=i.caller}if(t=i.$owner.superclass,!((i=i.$name)in t))throw new Error("this.callParent() was called but there's no such method ("+i+") found in the parent class ("+(Ext.getClassName(t)||"Object")+")")}return n.apply(this,e||o)},callSuper:function(e){var t,i,n=(i=this.callSuper.caller)&&(i=i.$owner?i:i.caller)&&i.$owner.superclass[i.$name];if(!n){if(!(i=this.callSuper.caller).$owner){if(!i.caller)throw new Error("Attempting to call a protected method from the public scope, which is not allowed");i=i.caller}if(t=i.$owner.superclass,!((i=i.$name)in t))throw new Error("this.callSuper() was called but there's no such method ("+i+") found in the parent class ("+(Ext.getClassName(t)||"Object")+")")}return n.apply(this,e||o)},self:t,constructor:function(){return this},initConfig:function(e){var t=this,i=t.self.getConfigurator();return t.initConfig=Ext.emptyFn,t.initialConfig=e||{},i.configure(t,e),t},beforeInitConfig:Ext.emptyFn,getConfig:function(e,t){var i,n=this,n=e?((i=Ext.Config.map[e])||Ext.Logger.error("Invalid property name for getter: '"+e+"' for '"+n.$className+"'."),i=i.names.get,t&&n.hasOwnProperty(i)?n.config[e]:n[i]()):n.getCurrentConfig();return n},setConfig:function(e,t,i){var n;return e&&("string"==typeof e?(n={})[e]=t:n=e,this.self.getConfigurator().reconfigure(this,n,i)),this},getCurrentConfig:function(){return this.self.getConfigurator().getCurrentConfig(this)},hasConfig:function(e){return e in this.defaultConfig},getInitialConfig:function(e){var t=this.config;return e?t[e]:t},$links:null,link:function(e,t){return(this.$links||(this.$links={}))[e]=!0,this[e]=t},unlink:function(e){var t,i,n,r;for(Ext.isArray(e)||Ext.raise("Invalid argument - expected array of strings"),t=0,i=e.length;t<i;t++)(r=this[n=e[t]])&&(r.isInstance&&!r.destroyed?r.destroy():r.parentNode&&"nodeType"in r&&r.parentNode.removeChild(r)),this[n]=null;return this},$reap:function(){var e,t,i,n=this,r=n.$noClearOnDestroy;for(e in n)r&&r[e]||!n.hasOwnProperty(e)||"object"!=(i=typeof(t=n[e]))&&("function"!=i||t.$noClearOnDestroy)||(n[e]=null);n.clearPrototypeOnDestroy&&!n.$vetoClearingPrototypeOnDestroy&&Object.setPrototypeOf&&Object.setPrototypeOf(n,null)},destroy:function(){var e=this,t=e.$links,i=e.clearPropertiesOnDestroy;t&&(e.$links=null,e.unlink(Ext.Object.getKeys(t))),e.destroy=Ext.emptyFn,(e.isDestroyed=e.destroyed=!0)===i?e.$reap():i&&("async"!==i&&Ext.raise("Invalid value for clearPropertiesOnDestroy"),r.add(e))}}),l.callOverridden=l.callParent,Ext.privacyViolation=function(e,t,i,n){var r=i.$name,o=t.$owner&&t.$owner.$className,n=n?"static ":"",r=i.$privacy?"Private "+n+i.$privacy+' method "'+r+'"':"Public "+n+'method "'+r+'"';e.$className&&(r=e.$className+": "+r),t.$privacy?r+=o?" conflicts with private "+t.$privacy+" method declared by "+o:" conflicts with inherited private "+t.$privacy+" method.":r+=o?" hides public method inherited from "+o:" hides inherited public method.";t=Ext.getCompatVersion(),o=Ext.getVersion();o&&t&&t.lt(o)?Ext.log.error(r):Ext.raise(r)},t}(Ext.Function.flexSetter),function(e,t){(Ext.util||(Ext.util={})).Cache=e=function(e){e&&Ext.apply(this,e),this.head=e={id:this.seed=0,key:null,value:null},this.map={},e.next=e.prev=e},e.prototype=t={maxSize:100,count:0,clear:function(){var e=this.head,t=e.next;if(e.next=e.prev=e,!this.evict.$nullFn)for(;t!==e;t=t.next)this.evict(t.key,t.value);this.count=0},each:function(e,t){t=t||this;for(var i=this.head,n=i.next;n!==i&&!e.call(t,n.key,n.value);n=n.next);},get:function(e){var t=this,i=t.head,n=t.map,r=n[e];if(r)r.prev!==i&&(t.unlinkEntry(r),t.linkEntry(r));else for(n[e]=r={id:++t.seed,key:e,value:t.miss.apply(t,arguments)},t.linkEntry(r),++t.count;t.count>t.maxSize;)t.unlinkEntry(i.prev,!0),--t.count;return r.value},evict:Ext.emptyFn,linkEntry:function(e){var t=this.head,i=t.next;e.next=i,(e.prev=t).next=e,i.prev=e},unlinkEntry:function(e,t){var i=e.next,n=e.prev;(n.next=i).prev=n,t&&this.evict(e.key,e.value)}},t.destroy=t.clear}(),function(){function n(e,t){return e.length-t.length||(e<t?-1:t<e?1:0)}var g,r=Ext.Base,o=r.$staticMembers;function s(e){function t(){return this.constructor.apply(this,arguments)||null}return e&&(t.name=e),t}Ext.Class=g=function(e,t,i){return"function"!=typeof e&&(i=t,t=e,e=null),t=t||{},e=g.create(e,t),g.process(e,t,i),e},Ext.apply(g,{makeCtor:s,onBeforeCreated:function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,">> Ext.Class#onBeforeCreated",arguments),e.addMembers(t),i.onCreated.call(e,e),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"<< Ext.Class#onBeforeCreated",arguments)},create:function(e,t){var i,n=o.length;for(e=e||s(t.$className);n--;)e[i=o[n]]=r[i];return e},process:function(e,t,i){var n,r,o,s,a,l,d,c=t.preprocessors||g.defaultPreprocessors,u=this.preprocessors,h={onBeforeCreated:this.onBeforeCreated},f=[];for(delete t.preprocessors,e._classHooks=h,o=0,s=c.length;o<s;o++)if("string"==typeof(n=c[o])){if(!0===(r=(n=u[n]).properties))f.push(n.fn);else if(r)for(a=0,l=r.length;a<l;a++)if(d=r[a],t.hasOwnProperty(d)){f.push(n.fn);break}}else f.push(n);h.onCreated=i||Ext.emptyFn,h.preprocessors=f,this.doProcess(e,t,h)},doProcess:function(e,t,i){for(var n=i.preprocessors,r=n.shift(),o=this.doProcess;r;r=n.shift())if(!1===r.call(this,e,t,i,o))return;i.onBeforeCreated.apply(this,arguments)},preprocessors:{},registerPreprocessor:function(e,t,i,n,r){return n=n||"last",i=i||[e],this.preprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPreprocessorPosition(e,n,r),this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){return this.defaultPreprocessors=Ext.Array.from(e),this},setDefaultPreprocessorPosition:function(e,t,i){var n=this.defaultPreprocessors;if("string"==typeof t){if("first"===t)return n.unshift(e),this;if("last"===t)return n.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(n,i))&&Ext.Array.splice(n,Math.max(0,i+t),0,e),this}}),g.registerPreprocessor("extend",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extendPreProcessor",arguments);var n,r,o=Ext.Base,s=o.prototype,a=t.extend;if(delete t.extend,n=(o=a&&a!==Object?a:o).prototype,!o.$isClass)for(r in s)n[r]||(n[r]=s[r]);e.extend(o),e.triggerExtended.apply(e,arguments),t.onClassExtended&&(e.onExtended(t.onClassExtended,e),delete t.onClassExtended)},!0),g.registerPreprocessor("privates",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#privatePreprocessor",arguments);var i=t.privates,n=i.statics,r=i.privacy||!0;delete t.privates,delete i.statics,e.addMembers(i,!1,r),n&&e.addMembers(n,!0,r)}),g.registerPreprocessor("statics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments),e.addStatics(t.statics),delete t.statics}),g.registerPreprocessor("inheritableStatics",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments),e.addInheritableStatics(t.inheritableStatics),delete t.inheritableStatics}),Ext.createRuleFn=function(e){return new Function("$c","with($c) { try { return ("+e+"); } catch(e) { return false;}}")},Ext.expressionCache=new Ext.util.Cache({miss:Ext.createRuleFn}),Ext.ruleKeySortFn=n,Ext.getPlatformConfigKeys=function(e){var t,i=[];for(t in e)Ext.expressionCache.get(t)(Ext.platformTags)&&i.push(t);return i.sort(n),i},g.registerPreprocessor("platformConfig",function(e,t,i){e.addPlatformConfig(t)}),g.registerPreprocessor("config",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addConfig(t.config),delete t.config}),g.registerPreprocessor("cachedConfig",function(e,t){t.hasOwnProperty("$configPrefixed")&&(e.prototype.$configPrefixed=t.$configPrefixed),e.addCachedConfig(t.cachedConfig),delete t.cachedConfig}),g.registerPreprocessor("mixins",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor",arguments);var n=t.mixins,r=i.onCreated;delete t.mixins,i.onCreated=function(){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments),i.onCreated=r,e.mixin(n),i.onCreated.apply(this,arguments)}}),Ext.extend=function(e,t,i){var n;if(Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#extend-backwards-compatible",arguments),2===arguments.length&&Ext.isObject(t)&&(i=t,t=e,e=null),!t)throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.");return i.extend=t,i.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"],e?(n=new g(e,i)).prototype.constructor=e:n=new g(i),n.prototype.override=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])},n}}(),Ext.Inventory=function(){var e=this;e.names=[],e.paths={},e.alternateToName={},e.aliasToName={},e.nameToAliases={},e.nameToAlternates={},e.nameToPrefix={}},Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(e,t,i){return this.addMapping(e,t,this.aliasToName,this.nameToAliases,i)},addAlternate:function(e,t){return this.addMapping(e,t,this.alternateToName,this.nameToAlternates)},addMapping:function(e,t,i,n,r){var o,s,a,l,d,c,e=e.$className||e,u=e,h=this._array1;for(a in Ext.isString(e)&&((u={})[e]=t),u)for(s=u[a],Ext.isString(s)&&(h[0]=s,s=h),d=s.length,c=n[a]||(n[a]=[]),l=0;l<d;++l)(o=s[l])&&i[o]!==a&&(!r&&i[o]&&Ext.log.warn("Overriding existing mapping: '"+o+"' From '"+i[o]+"' to '"+a+"'. Is this intentional?"),i[o]=a,c.push(o))},getAliasesByName:function(e){return this.nameToAliases[e]||null},getAlternatesByName:function(e){return this.nameToAlternates[e]||null},getNameByAlias:function(e){return this.aliasToName[e]||""},getNameByAlternate:function(e){return this.alternateToName[e]||""},getNamesByExpression:function(e,t,i){for(var n,r,o,s,a,l,d=this,c=d.aliasToName,u=d.alternateToName,h=d.nameToAliases,f=d.nameToAlternates,g=i?t:{},p=[],m=Ext.isString(e)?[e]:e,x=m.length,E=d.wildcardRe,y=0;y<x;++y)if((n=m[y]).indexOf("*")<0)(a=c[n])||(a=u[n])||(a=n),a in g||t&&a in t||(g[a]=1,p.push(a));else for(a in l=new RegExp("^"+n.replace(E,"(.*?)")+"$"),h)if(!(a in g||t&&a in t)){if(!(o=l.test(a))){for(s=(r=h[a]).length;!o&&0<s--;)o=l.test(r[s]);if((r=f[a])&&!o)for(s=r.length;!o&&0<s--;)o=l.test(r[s])}o&&(g[a]=1,p.push(a))}return p},getPath:function(e){var t,i=this,n=i.paths,r="";return e in n?r=n[e]:((t=i.nameToPrefix[e]||(i.nameToPrefix[e]=i.getPrefix(e)))&&(e=e.substring(t.length+1),(r=n[t])&&(r+="/")),r+=e.replace(i.dotRe,"/")+".js"),r},getPrefix:function(e){if(e in this.paths)return e;if(e in this.nameToPrefix)return this.nameToPrefix[e];for(var t,i,n,r,o=this.getPrefixes(),s=e.length;0<s--;)if(t=o[s],t&&"."===e.charAt(s))for(e.substring(0,s),n=0,r=t.length;n<r;n++)if((i=t[n])===e.substring(0,s))return i;return""},getPrefixes:function(){var e,t,i,n,r,o=this.prefixes;if(!o)for(e=this.names.slice(0),this.prefixes=o=[],n=0,r=e.length;n<r;n++)(o[i=(t=e[n]).length]||(o[i]=[])).push(t);return o},removeName:function(e){var t,i,n=this,r=n.aliasToName,o=n.alternateToName,s=n.nameToAliases,a=n.nameToAlternates,l=s[e],d=a[e];if(delete s[e],delete a[e],delete n.nameToPrefix[e],l)for(t=l.length;t--;)e===(i=l[t])&&delete r[i];if(d)for(t=d.length;t--;)e===(i=d[t])&&delete o[i]},resolveName:function(e){var t;return e in this.nameToAliases||(t=this.aliasToName[e])||(t=this.alternateToName[e]),t||e},select:function(e,t){var i,n=this,r={},o={excludes:r,exclude:function(){return n.getNamesByExpression(arguments,r,!0),this}};for(i in e)o[i]=n.selectMethod(r,e[i],t||e);return o},selectMethod:function(i,n,r){var o=this;return function(e){var t=Ext.Array.slice(arguments,1);return t.unshift(o.getNamesByExpression(e,i)),n.apply(r,t)}},setPath:Ext.Function.flexSetter(function(e,t){var i=this;return i.paths[e]=t,i.names.push(e),i.prefixes=null,i.nameToPrefix={},i})},Ext.ClassManager=function(t,s,r,f,i){var n=Ext.Class.makeCtor,a=[],o={Ext:{name:"Ext",value:Ext}},m=Ext.apply(new Ext.Inventory,{classes:{},classState:{},existCache:{},instantiators:[],isCreated:function(e){if("string"!=typeof e||e.length<1)throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty");return!(!m.classes[e]&&!m.existCache[e])||!!m.lookupName(e,!1)&&(m.triggerCreated(e),!0)},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},overrideMap:{},triggerCreated:function(e,t){m.existCache[e]=t||1,m.classState[e]+=40,m.notify(e,m.createdListeners,m.nameCreatedListeners)},onCreated:function(e,t,i){m.addListener(e,t,i,m.createdListeners,m.nameCreatedListeners)},notify:function(e,t,i){for(var n,r,o,s,a=m.getAlternatesByName(e),l=[e],d=0,c=t.length;d<c;d++)(o=t[d]).fn.call(o.scope,e);for(;l;){for(d=0,c=l.length;d<c;d++)if(t=i[s=l[d]]){for(n=0,r=t.length;n<r;n++)(o=t[n]).fn.call(o.scope,s);delete i[s]}l=a,a=null}},addListener:function(e,t,i,n,r){if(Ext.isArray(i))for(e=Ext.Function.createBarrier(i.length,e,t),o=0;o<i.length;o++)this.addListener(e,null,i[o],n,r);else{var o,s={fn:e,scope:t};i?this.isCreated(i)?e.call(t,i):(r[i]||(r[i]=[]),r[i].push(s)):n.push(s)}},$namespaceCache:o,addRootNamespaces:function(e){for(var t in e)o[t]={name:t,value:e[t]}},clearNamespaceCache:function(){for(var e in a.length=0,o)o[e].value||delete o[e]},getNamespaceEntry:function(e){if("string"!=typeof e)return e;var t,i=o[e];return i||(i=(t=e.lastIndexOf("."))<0?{name:e}:{name:e.substring(t+1),parent:m.getNamespaceEntry(e.substring(0,t))},o[e]=i),i},lookupName:function(e,t){for(var i,e=m.getNamespaceEntry(e),n=Ext.global,r=0,o=e;o;o=o.parent)a[r++]=o;for(;n&&0<r--;)i=n,!(n=(o=a[r]).value||n[o.name])&&t&&(i[o.name]=n={});return n},setNamespace:function(e,t){var i=m.getNamespaceEntry(e),e=Ext.global;return i.parent&&(e=m.lookupName(i.parent,!0)),e[i.name]=t},setXType:function(e,t){var i=e.$className,n=(i?e:m.get(i=e)).prototype,r=n.xtypes,o=n.xtypesChain,e=n.xtypesMap;n.hasOwnProperty("xtypes")||(n.xtypes=r=[],n.xtypesChain=o=o?o.slice(0):[],n.xtypesMap=e=Ext.apply({},e)),m.addAlias(i,"widget."+t,!0),r.push(t),o.push(t),e[t]=!0},set:function(e,t){var i=m.getName(t);return m.classes[e]=m.setNamespace(e,t),i&&i!==e&&m.addAlternate(i,e),m},get:function(e){return m.classes[e]||m.lookupName(e,!1)},addNameAliasMappings:function(e){m.addAlias(e)},addNameAlternateMappings:function(e){m.addAlternate(e)},getByAlias:function(e){return m.get(m.getNameByAlias(e))},getByConfig:function(e,t){var i=e.xclass,n=i||((n=e.xtype)?t="widget.":n=e.type,m.getNameByAlias(t+n));return m.get(n)},getName:function(e){return e&&e.$className||""},getClass:function(e){return e&&e.self||null},create:function(c,u,h){if(null!=c&&"string"!=typeof c)throw new Error("[Ext.define] Invalid class name '"+c+"' specified, must be a non-empty string");var e=n(c);return"function"==typeof u&&(u=u(e)),c&&(m.classes[c]&&Ext.log.warn("[Ext.define] Duplicate class name '"+c+"' specified, must be a non-empty string"),e.name=c),u.$className=c,new t(e,u,function(){var e,t,i,n,r,o,s,a=u.postprocessors||m.defaultPostprocessors,l=m.postprocessors,d=[];for(delete u.postprocessors,t=0,i=a.length;t<i;t++)if("string"==typeof(e=a[t])){if(!0===(o=(e=l[e]).properties))d.push(e.fn);else if(o)for(n=0,r=o.length;n<r;n++)if(s=o[n],u.hasOwnProperty(s)){d.push(e.fn);break}}else d.push(e);u.postprocessors=d,u.createdFn=h,m.processCreate(c,this,u)})},processCreate:function(e,t,i){var n=this,r=i.postprocessors.shift(),o=i.createdFn;if(!r)return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classCreated",arguments),e&&n.set(e,t),delete t._classHooks,o&&o.call(t,t),void(e&&n.triggerCreated(e));!1!==r.call(n,e,t,i,n.processCreate)&&n.processCreate(e,t,i)},createOverride:function(o,s,a){var l,d,c=this,u=s.override,h=s.requires,f=s.uses,g=s.mixins,e=1,p=function(){var e,t,i,n,r;if(!d){if(t=h?h.slice(0):[],g)if(l=g instanceof Array)for(i=0,r=g.length;i<r;++i)Ext.isString(e=g[i])&&t.push(e);else for(n in g)Ext.isString(e=g[n])&&t.push(e);if(d=!0,t.length)return void Ext.require(t,p)}if(l)for(i=0,r=g.length;i<r;++i)Ext.isString(e=g[i])&&(g[i]=Ext.ClassManager.get(e));else if(g)for(n in g)Ext.isString(e=g[n])&&(g[n]=Ext.ClassManager.get(e));e=u.$isClass?u:c.get(u),delete s.override,delete s.compatibility,delete s.requires,delete s.uses,Ext.override(e,s),Ext.Loader.history.push(o),f&&Ext.Loader.addUsedClasses(f),a&&a.call(e,e)};return o&&(m.overrideMap[o]=!0),"compatibility"in s&&((e=s.compatibility)?"number"==typeof e?e=!0:"boolean"!=typeof e&&(e=Ext.checkVersion(e)):e=!1),e&&(u.$isClass?p():c.onCreated(p,c,u)),c.triggerCreated(o,2),c},instantiateByAlias:function(){var e=arguments[0],t=r.call(arguments),i=this.getNameByAlias(e);if(!i)throw new Error("[Ext.createByAlias] Unrecognized alias: "+e);return t[0]=i,Ext.create.apply(Ext,t)},instantiate:function(){return Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead."),Ext.create.apply(Ext,arguments)},dynInstantiate:function(e,t){return(t=f(t,!0)).unshift(e),Ext.create.apply(Ext,t)},getInstantiator:function(e){var t,i,n=this.instantiators,r=n[e];if(!r){for(t=e,i=[],t=0;t<e;t++)i.push("a["+t+"]");(r=n[e]=new Function("c","a","return new c("+i.join(",")+")")).name="Ext.create"+e}return r},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(e,t,i,n,r){return n=n||"last",i=i||[e],this.postprocessors[e]={name:e,properties:i||!1,fn:t},this.setDefaultPostprocessorPosition(e,n,r),this},setDefaultPostprocessors:function(e){return this.defaultPostprocessors=f(e),this},setDefaultPostprocessorPosition:function(e,t,i){var n=this.defaultPostprocessors;if("string"==typeof t){if("first"===t)return n.unshift(e),this;if("last"===t)return n.push(e),this;t="after"===t?1:-1}return-1!==(i=Ext.Array.indexOf(n,i))&&Ext.Array.splice(n,Math.max(0,i+t),0,e),this}});if(m.registerPostprocessor("alias",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPostProcessor",arguments);for(var n=Ext.Array.from(i.alias),r=0,o=n.length;r<o;r++)s=n[r],this.addAlias(t,s)},["xtype","alias"]),m.registerPostprocessor("singleton",function(e,t,i,n){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#singletonPostProcessor",arguments),!i.singleton||(n.call(this,e,new t,i),!1)}),m.registerPostprocessor("alternateClassName",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var n,r,o,s=i.alternateClassName;for(s instanceof Array||(s=[s]),n=0,r=s.length;n<r;n++){if("string"!=typeof(o=s[n]))throw new Error("[Ext.define] Invalid alternate of: '"+o+"' for class: '"+e+"'; must be a valid string");this.set(o,t)}}),m.registerPostprocessor("debugHooks",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#debugHooks",arguments),Ext.isDebugEnabled(t.$className,i.debugHooks.$enabled)&&(delete i.debugHooks.$enabled,Ext.override(t,i.debugHooks)),delete(t.isInstance?t.self:t).prototype.debugHooks}),m.registerPostprocessor("deprecated",function(e,t,i){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Class#deprecated",arguments);var n=t.isInstance?t.self:t;n.addDeprecations(i.deprecated),delete n.prototype.deprecated}),Ext.apply(Ext,{create:function(){var e,t=arguments[0],i=typeof t,n=r.call(arguments,1);if("function"==i)e=t;else{if("string"!=i&&0===n.length&&(n=[t],(t=t.xclass)||(t=(t=n[0].xtype)&&"widget."+t)),"string"!=typeof t||t.length<1)throw new Error("[Ext.create] Invalid class name or alias '"+t+"' specified, must be a non-empty string");t=m.resolveName(t),e=m.get(t)}if(e||(Ext.log.warn("[Ext.Loader] Synchronously loading '"+t+"'; consider adding Ext.require('"+t+"') above Ext.onReady"),Ext.syncRequire(t),e=m.get(t)),!e)throw new Error("[Ext.create] Unrecognized class name / alias: "+t);if("function"!=typeof e)throw new Error("[Ext.create] Singleton '"+t+"' cannot be instantiated.");return m.getInstantiator(n.length)(e,n)},widget:function(e,t){var i,n,r,o=e;return"string"!=typeof o?(o=(t=e).xtype,n=t.xclass):t=t||{},t.isComponent?t:(n||(i="widget."+o,n=m.getNameByAlias(i)),n&&(r=m.get(n)),r?new r(t):Ext.create(n||i,t))},createByAlias:s(m,"instantiateByAlias"),define:function(e,t,i){return Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"ClassManager#define",arguments),t.override?(m.classState[e]=20,m.createOverride.apply(m,arguments)):(m.classState[e]=10,m.create.apply(m,arguments))},undefine:function(e){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#undefine",arguments),delete m.classes[e],delete m.existCache[e],delete m.classState[e],m.removeName(e);var t=m.getNamespaceEntry(e),i=t.parent?m.lookupName(t.parent,!1):Ext.global;if(i)try{delete i[t.name]}catch(e){i[t.name]=void 0}},getClassName:s(m,"getName"),getDisplayName:function(e){if(e){if(e.displayName)return e.displayName;if(e.$name&&e.$class)return Ext.getClassName(e.$class)+"#"+e.$name;if(e.$className)return e.$className}return"Anonymous"},getClass:s(m,"getClass"),namespace:function(){for(var e=i,t=arguments.length;0<t--;)e=m.lookupName(arguments[t],!0);return e}}),Ext.addRootNamespaces=m.addRootNamespaces,Ext.createWidget=Ext.widget,Ext.ns=Ext.namespace,t.registerPreprocessor("className",function(e,t){"$className"in t&&(e.$className=t.$className,e.displayName=e.$className),Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#classNamePreprocessor",arguments)},!0,"first"),t.registerPreprocessor("alias",function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.ClassManager#aliasPreprocessor",arguments);for(var i,n,r=e.prototype,o=f(t.xtype),s=f(t.alias),a="widget.",l=a.length,d=Array.prototype.slice.call(r.xtypesChain||[]),c=Ext.merge({},r.xtypesMap||{}),u=0,h=s.length;u<h;u++){if("string"!=typeof(i=s[u])||i.length<1)throw new Error("[Ext.define] Invalid alias of: '"+i+"' for class: '"+void 0+"'; must be a valid string");i.substring(0,l)===a&&(n=i.substring(l),Ext.Array.include(o,n))}for(e.xtype=t.xtype=o[0],t.xtypes=o,u=0,h=o.length;u<h;u++)n=o[u],c[n]||(c[n]=!0,d.push(n));for(t.xtypesChain=d,t.xtypesMap=c,Ext.Function.interceptAfterOnce(e,"onClassCreated",function(){var e,t,i=this.prototype.mixins;for(e in Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments),i)if(i.hasOwnProperty(e)&&(t=i[e],o=t.xtypes))for(u=0,h=o.length;u<h;u++)n=o[u],c[n]||(c[n]=!0,d.push(n))}),u=0,h=o.length;u<h;u++){if("string"!=typeof(n=o[u])||n.length<1)throw new Error("[Ext.define] Invalid xtype of: '"+n+"' for class: '"+void 0+"'; must be a valid non-empty string");Ext.Array.include(s,a+n)}t.alias=s},["xtype","alias"]),Ext.manifest){var e,l,d,c,u=Ext.manifest,h=u.classes,g=u.paths,p={},x={};if(g){if(u.bootRelative)for(d in c=Ext.Boot.baseUrl,g)g.hasOwnProperty(d)&&(g[d]=c+g[d]);m.setPath(g)}if(h)for(e in h)x[e]=[],p[e]=[],(l=h[e]).alias&&(p[e]=l.alias),l.alternates&&(x[e]=l.alternates);m.addAlias(p),m.addAlternate(x)}return m}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global),(Ext.env||(Ext.env={})).Browser=function(e,t){var i,n,r,o,s=this,a=Ext.Boot.browserPrefixes,l=Ext.Boot.browserNames,d=s.enginePrefixes,c=s.engineNames,u=e.match(new RegExp("((?:"+Ext.Object.getValues(a).join(")|(?:")+"))([\\w\\._]+)")),h=e.match(new RegExp("((?:"+Ext.Object.getValues(d).join(")|(?:")+"))([\\w\\._]+)")),f=l.other,g=c.other,p="",m="",x="",E=!1;if(s.userAgent=e,this.is=function(e){return!!this.is[e]},/Edge\//.test(e)&&(u=e.match(/(Edge\/)([\w.]+)/)),u&&("Safari"===(f=l[Ext.Object.getKey(a,u[1])])&&/^Opera/.test(e)&&(f="Opera"),p=new Ext.Version(u[2])),h&&(g=c[Ext.Object.getKey(d,h[1])],m=new Ext.Version(h[2])),"Trident"===g&&"IE"!==f&&(f="IE",(h=e.match(/.*rv:(\d+.\d+)/))&&h.length&&(h=h[1],p=new Ext.Version(h))),f&&p&&Ext.setVersion(f,p),e.match(/FB/)&&"Other"===f&&(f=l.safari,g=c.webkit),e.match(/Android.*Chrome/g)&&(f="ChromeMobile"),e.match(/OPR/)&&(f="Opera",u=e.match(/OPR\/(\d+.\d+)/),p=new Ext.Version(u[1])),Ext.apply(this,{engineName:g,engineVersion:m,name:f,version:p}),this.setFlag(f,!0,t),p){if(x=p.getMajor()||"",s.is.IE)for(x=parseInt(x,10),7===(u=document.documentMode)||7===x&&8!==u&&9!==u&&10!==u?x=7:8===u||8===x&&8!==u&&9!==u&&10!==u?x=8:9===u||9===x&&7!==u&&8!==u&&10!==u?x=9:10===u||10===x&&7!==u&&8!==u&&9!==u?x=10:(11===u||11===x&&7!==u&&8!==u&&9!==u&&10!==u)&&(x=11),o=Math.max(x,Ext.Boot.maxIEVersion),i=7;i<=o;++i)n="isIE"+i,x<=i&&(Ext[n+"m"]=!0),x===i&&(Ext[n]=!0),i<=x&&(Ext[n+"p"]=!0);s.is.Opera&&parseInt(x,10)<=12&&(Ext.isOpera12m=!0),Ext.chromeVersion=Ext.isChrome?x:0,Ext.firefoxVersion=Ext.isFirefox?x:0,Ext.ieVersion=Ext.isIE?x:0,Ext.operaVersion=Ext.isOpera?x:0,Ext.safariVersion=Ext.isSafari?x:0,Ext.webKitVersion=Ext.isWebKit?x:0,this.setFlag(f+x,!0,t),this.setFlag(f+p.getShortVersion())}for(i in l)l.hasOwnProperty(i)&&(r=l[i],this.setFlag(r,f===r));for(i in this.setFlag(r),m&&(this.setFlag(g+(m.getMajor()||"")),this.setFlag(g+m.getShortVersion())),c)c.hasOwnProperty(i)&&(r=c[i],this.setFlag(r,g===r,t));this.setFlag("Standalone",!!navigator.standalone),this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple)),this.setFlag("WebWorks",!!window.blackberry),void 0===window.PhoneGap&&void 0===window.Cordova&&void 0===window.cordova||(E=!0,this.setFlag("PhoneGap"),this.setFlag("Cordova")),/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(e)&&(E=!0),this.setFlag("WebView",E),this.isStrict=Ext.isStrict="CSS1Compat"===document.compatMode,this.isSecure=Ext.isSecure,this.identity=f+x+(this.isStrict?"Strict":"Quirks")},Ext.env.Browser.prototype={constructor:Ext.env.Browser,engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(e,t,i){return void 0===t&&(t=!0),this.is[e]=t,this.is[e.toLowerCase()]=t,i&&(Ext["is"+e]=t),this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(e){var t=this.propertyPrefixes[this.engineName];return 0<t.length?t+Ext.String.capitalize(e):e},getPreferredTranslationMethod:function(e){return"object"==typeof e&&"translationMethod"in e&&"auto"!==e.translationMethod?e.translationMethod:"csstransform"}},function(e){Ext.browser=new Ext.env.Browser(e,!0),Ext.userAgent=e.toLowerCase(),Ext.SSL_SECURE_URL=Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank"}(Ext.global.navigator.userAgent),Ext.env.OS=function(e,t,i){var n,r,o,s,a,l=Ext.Boot.osNames,d=Ext.Boot.osPrefixes,c="",u=this.is;for(r in i=i||Ext.browser,d)if(d.hasOwnProperty(r)&&(a=d[r],o=e.match(new RegExp("(?:"+a+")([^\\s;]+)")))){n=l[r],c=(a=o[1])&&"HTC_"===a||a&&"Silk/"===a?new Ext.Version("2.3"):new Ext.Version(o[o.length-1]);break}for(r in n||(n=l[(e.toLowerCase().match(/mac|win|linux/)||["other"])[0]],c=new Ext.Version("")),this.name=n,this.version=c,e.match(/ipad/i)&&(t="iPad"),t&&this.setFlag(t.replace(/ simulator$/i,"")),this.setFlag(n),c&&(this.setFlag(n+(c.getMajor()||"")),this.setFlag(n+c.getShortVersion())),l)l.hasOwnProperty(r)&&(s=l[r],u.hasOwnProperty(n)||this.setFlag(s,n===s));"iOS"===this.name&&568===window.screen.height&&this.setFlag("iPhone5"),(i.is.Safari||i.is.Silk)&&((this.is.Android2||this.is.Android3||501===i.version.shortVersion)&&i.setFlag("AndroidStock"),this.is.Android4&&(i.setFlag("AndroidStock"),i.setFlag("AndroidStock4")))},Ext.env.OS.prototype={constructor:Ext.env.OS,is:function(e){return!!this[e]},name:null,version:null,setFlag:function(e,t){return void 0===t&&(t=!0),this.flags&&(this.flags[e]=t),this.is[e]=t,this.is[e.toLowerCase()]=t,this}},function(){var e,t,i,n=Ext.global.navigator,r=n.userAgent,o=Ext.env.OS,s=Ext.is||(Ext.is={});o.prototype.flags=s,Ext.os=e=new o(r,n.platform),t=e.name,Ext["is"+t]=!0,Ext.isMac=s.Mac=s.MacOS,n=window.location.search.match(/deviceType=(Tablet|Phone)/),s=window.deviceType,n&&n[1]?i=n[1]:"iPhone"===s?i="Phone":"iPad"===s?i="Tablet":e.is.Android||e.is.iOS||e.is.WindowsPhone||!/Windows|Linux|MacOS/.test(t)?i=e.is.iPad||e.is.RIMTablet||e.is.Android3||Ext.browser.is.Silk||e.is.Android&&-1===r.search(/mobile/i)?"Tablet":"Phone":(i="Desktop",Ext.browser.is.WebView=!!Ext.browser.is.Ripple),e.setFlag(i,!0),e.deviceType=i,delete o.prototype.flags}(),Ext.feature={has:function(e){return!!this.has[e]},testElements:{},getTestElement:function(e,t){if(void 0===e)e="div";else if("string"!=typeof e)return e;return t?document.createElement(e):(this.testElements[e]||(this.testElements[e]=document.createElement(e)),this.testElements[e])},isStyleSupported:function(e,t){var i=this.getTestElement(t).style,t=Ext.String.capitalize(e);return void 0!==i[e]||void 0!==i[Ext.browser.getStylePrefix(e)+t]},isStyleSupportedWithoutPrefix:function(e,t){return void 0!==this.getTestElement(t).style[e]},isEventSupported:function(e,t){void 0===t&&(t=window);var i=this.getTestElement(t),t="on"+e.toLowerCase(),e=t in i;return e||i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),e="function"==typeof i[t],void 0!==i[t]&&(i[t]=void 0),i.removeAttribute(t)),e},getStyle:function(e,t){var i=e.ownerDocument.defaultView;return((i?i.getComputedStyle(e,null):e.currentStyle)||e.style)[t]},getSupportedPropertyName:function(e,t){var i=Ext.browser.getVendorProperyName(t);return i in e?i:t in e?t:null},detect:function(e){var t,i,n,r,o,s=this,a=document,l=s.toRun||s.tests,d=l.length,c=a.createElement("div"),u=[],h=Ext.supports,f=s.has;for(c.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>',e&&a.body.appendChild(c),r=s.preDetected[Ext.browser.identity]||[];d--;){if(n=l[d],o=r[d],t=n.name,i=n.names,void 0===o){if(!e&&n.ready){u.push(n);continue}o=n.fn.call(s,a,c)}if(t)h[t]=f[t]=o;else if(i)for(;i.length;)h[t=i.pop()]=f[t]=o}e&&a.body.removeChild(c),s.toRun=u},report:function(){for(var e=[],t=this.tests.length,i=0;i<t;++i)e.push(this.has[this.tests[i].name]?1:0);Ext.log(Ext.browser.identity+": ["+e.join(",")+"]")},preDetected:{},tests:[{name:"CloneNodeCopiesExpando",fn:function(){var e=document.createElement("div");return e.expandoProp={},e.cloneNode().expandoProp===e.expandoProp}},{name:"CSSPointerEvents",fn:function(e){return"pointerEvents"in e.documentElement.style}},{name:"CSS3BoxShadow",fn:function(e){return"boxShadow"in e.documentElement.style||"WebkitBoxShadow"in e.documentElement.style||"MozBoxShadow"in e.documentElement.style}},{name:"CSS3NegationSelector",fn:function(e){try{e.querySelectorAll("foo:not(bar)")}catch(e){return!1}return!0}},{name:"ClassList",fn:function(e){return!!e.documentElement.classList}},{name:"Canvas",fn:function(){var e=this.getTestElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}},{name:"Svg",fn:function(e){return!(!e.createElementNS||!e.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var e,t=this.getTestElement();return t.innerHTML="\x3c!--[if vml]><br><![endif]--\x3e",e=1===t.childNodes.length,t.innerHTML="",e}},{name:"Touch",fn:function(){var e=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return Ext.browser.is.Chrome&&Ext.browser.version.isLessThanOrEqual(39)?Ext.supports.TouchEvents&&1!==e||1<e:Ext.supports.TouchEvents||0<e}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return"orientation"in window&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation"in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase"in window}},{name:"WebSockets",fn:function(){return"WebSocket"in window}},{name:"Range",fn:function(){return!!document.createRange}},{name:"CreateContextualFragment",fn:function(){var e=!!document.createRange&&document.createRange();return e&&!!e.createContextualFragment}},{name:"History",fn:function(){return"history"in window&&"pushState"in window.history}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return!!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return!!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage"in window&&null!==window.localStorage)return localStorage.setItem("sencha-localstorage-test","test success"),localStorage.removeItem("sencha-localstorage-test"),!0}catch(e){}return!1}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}},{name:"XHRUploadProgress",fn:function(){if(!window.XMLHttpRequest||Ext.browser.is.AndroidStock)return!1;var e=new XMLHttpRequest;return e&&"upload"in e&&"onprogress"in e.upload}},{name:"NumericInputPlaceHolder",fn:function(){return!(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"matchesSelector",fn:function(){var e=document.documentElement,t="matches",i="webkitMatchesSelector",n="msMatchesSelector",r="mozMatchesSelector";return e[t]?t:e[i]?i:e[n]?n:e[r]?r:null}},{name:"RightMargin",ready:!0,fn:function(e,t){e=e.defaultView;return!(e&&"0px"!==e.getComputedStyle(t.firstChild.firstChild,null).marginRight)}},{name:"DisplayChangeInputSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var e=Ext.webKitVersion;return 0<e&&e<534.24}},{name:"TransparentColor",ready:!0,fn:function(e,t,i){return!((i=e.defaultView)&&"transparent"!==i.getComputedStyle(t.lastChild,null).backgroundColor)}},{name:"ComputedStyle",ready:!0,fn:function(e,t,i){return(i=e.defaultView)&&i.getComputedStyle}},{name:"Float",fn:function(e){return"cssFloat"in e.documentElement.style}},{name:"CSS3BorderRadius",ready:!0,fn:function(e){for(var t=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],i=!1,n=0;n<t.length;n++)void 0!==e.documentElement.style[t[n]]&&(i=!0);return i&&!Ext.isIE9}},{name:"CSS3LinearGradient",fn:function(e,t){var i="background-image:",n="linear-gradient(left top, black, white)",i=[i+"-webkit-gradient(linear, left top, right bottom, from(black), to(white))",i+n,i+"-moz-linear-gradient(left top, black, white)",i+"-ms-linear-gradient(left top, black, white)",i+"-o-linear-gradient(left top, black, white)"];return t.style.cssText=i.join(";"),-1!==(""+t.style.backgroundImage).indexOf("gradient")&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(e){return"onmouseenter"in e.documentElement&&"onmouseleave"in e.documentElement}},{name:"MouseWheel",fn:function(e){return"onmousewheel"in e.documentElement}},{name:"Opacity",fn:function(e,t){return!Ext.isIE8&&(t.firstChild.style.cssText="opacity:0.73","0.73"==t.firstChild.style.opacity)}},{name:"Placeholder",fn:function(e){return"placeholder"in e.createElement("input")}},{name:"Direct2DBug",fn:function(e){return Ext.isString(e.documentElement.style.msTransformOrigin)&&Ext.isIE9m}},{name:"BoundingClientRect",fn:function(e){return"getBoundingClientRect"in e.documentElement}},{name:"RotatedBoundingClientRect",ready:!0,fn:function(e){var t=e.body,i=!1,n=e.createElement("div"),e=n.style;return n.getBoundingClientRect&&(e.position="absolute",e.top="0",e.WebkitTransform=e.MozTransform=e.msTransform=e.OTransform=e.transform="rotate(90deg)",e.width="100px",e.height="30px",t.appendChild(n),i=100!==n.getBoundingClientRect().height,t.removeChild(n)),i}},{name:"ChildContentClearedWhenSettingInnerHTML",ready:!0,fn:function(){var e,t=this.getTestElement();return t.innerHTML="<div>a</div>",e=t.firstChild,t.innerHTML="<div>b</div>","a"!==e.innerHTML}},{name:"IncludePaddingInWidthCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetWidth}},{name:"IncludePaddingInHeightCalculation",ready:!0,fn:function(e,t){return 210===t.childNodes[1].firstChild.offsetHeight}},{name:"TextAreaMaxLength",fn:function(e){return"maxlength"in e.createElement("textarea")}},{name:"GetPositionPercentage",ready:!0,fn:function(e,t){return"10%"===Ext.feature.getStyle(t.childNodes[2],"left")}},{name:"PercentageHeightOverflowBug",ready:!0,fn:function(e){var t,i,n=!1;return Ext.getScrollbarSize().height&&((t=(i=this.getTestElement()).style).height="50px",t.width="50px",t.overflow="auto",t.position="absolute",i.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join(""),e.body.appendChild(i),50===i.firstChild.offsetHeight&&(n=!0),e.body.removeChild(i)),n}},{name:"xOriginBug",ready:!0,fn:function(e,t){t.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var i=document.getElementById("b1").getBoundingClientRect(),n=document.getElementById("b2").getBoundingClientRect(),t=document.getElementById("b3").getBoundingClientRect();return n.left!==i.left&&t.right!==i.right}},{name:"ScrollWidthInlinePaddingBug",ready:!0,fn:function(e){var t=!1,i=e.createElement("div"),n=i.style;return n.height="50px",n.width="50px",n.padding="10px",n.overflow="hidden",n.position="absolute",i.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>',e.body.appendChild(i),70===i.scrollWidth&&(t=!0),e.body.removeChild(i),t}},{name:"rtlVertScrollbarOnRight",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var i=t.firstChild,t=i.firstChild;return t.offsetLeft+t.offsetWidth!==i.offsetLeft+i.offsetWidth}},{name:"rtlVertScrollbarOverflowBug",ready:!0,fn:function(e,t){t.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';t=t.firstChild;return t.clientHeight===t.offsetHeight}},{identity:"defineProperty",fn:function(){return!Ext.isIE8m||(Ext.Object.defineProperty=Ext.emptyFn,!1)}},{identify:"nativeXhr",fn:function(){return"undefined"!=typeof XMLHttpRequest||!(XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return null}})}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?525<=parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10):!(!Ext.isGecko&&!Ext.isIE||Ext.isOpera&&Ext.operaVersion<12)}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var e=document.documentMode;return"onhashchange"in window&&(void 0===e||7<e)}},{name:"FixedTableWidthBug",ready:!0,fn:function(){if(Ext.isIE8)return!1;var e=document.createElement("div"),t=document.createElement("div");return e.setAttribute("style","display:table;table-layout:fixed;"),t.setAttribute("style","display:table-cell;min-width:50px;"),e.appendChild(t),document.body.appendChild(e),e.offsetWidth,e.style.width="25px",t=e.offsetWidth,document.body.removeChild(e),50===t}},{name:"FocusinFocusoutEvents",fn:function(){return!Ext.isGecko}},{name:"AsyncFocusEvents",fn:function(){return Ext.asyncFocus=!!Ext.isIE}},{name:"accessibility",ready:!0,fn:function(e){var t,i,n,r=e.body;function o(e){var t,i=[],n=0;-1!==e.indexOf("rgb(")?i=e.replace("rgb(","").replace(")","").split(", "):-1!==e.indexOf("#")&&(t=7===e.length?/^#(\S\S)(\S\S)(\S\S)$/:/^#(\S)(\S)(\S)$/,(t=e.match(t))&&(i=["0x"+t[1],"0x"+t[2],"0x"+t[3]]));for(var r=0;r<i.length;r++)n+=parseInt(i[r]);return n}return t=e.createElement("div"),i=e.createElement("img"),n=t.style,Ext.apply(n,{width:"2px",position:"absolute",clip:"rect(1px,1px,1px,1px)",borderWidth:"1px",borderStyle:"solid",borderTopTolor:"#f00",borderRightColor:"#ff0",backgroundColor:"#fff",backgroundImage:"url("+Ext.BLANK_IMAGE_URL+")"}),i.alt="",i.src=Ext.BLANK_IMAGE_URL,t.appendChild(i),r.appendChild(t),e=(n=t.currentStyle||t.style).backgroundImage,n={Images:1===i.offsetWidth&&"uninitialized"!==i.readyState,BackgroundImages:!(null!==e&&("none"===e||"url(invalid-url:)"===e)),BorderColors:n.borderTopColor!==n.borderRightColor,LightOnDark:0<o(n.color)-o(n.backgroundColor)},Ext.supports.HighContrastMode=!n.BackgroundImages,r.removeChild(t),t=i=null,n}},{name:"ViewportUnits",ready:!0,fn:function(e){if(Ext.isIE8)return!1;var t=e.body,i=document.createElement("div"),n=i.currentStyle||i.style;return t.appendChild(i),Ext.apply(n,{width:"50vw"}),e=parseInt(window.innerWidth/2,10),n=parseInt((window.getComputedStyle?getComputedStyle(i,null):i.currentStyle).width,10),t.removeChild(i),i=null,e===n}},{name:"CSSVariables",ready:!1,fn:function(e){if(!window.getComputedStyle)return!1;e=window.getComputedStyle(e.documentElement);return e.getPropertyValue&&!!e.getPropertyValue("--x-supports-variables")}},{name:"Selectors2",ready:!1,fn:function(e){try{return!!e.querySelectorAll(":scope")}catch(e){return!1}}},{name:"CSSScrollSnap",ready:!1,fn:function(e){e=e.documentElement.style;return"scrollSnapType"in e||"webkitScrollSnapType"in e||"msScrollSnapType"in e}},0]},Ext.feature.tests.pop(),Ext.supports={},Ext.feature.detect(),Ext.env.Ready={blocks:0<(location.search||"").indexOf("ext-pauseReadyFire")?1:0,bound:0,delay:1,events:[],firing:!1,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var e=Ext.env.Ready,t=document;e.bound||("complete"===t.readyState?e.onReadyEvent({type:t.readyState||"body"}):(e.bound=1,Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop&&(e.bound=2,t.addEventListener("deviceready",e.onReadyEvent,!1)),t.addEventListener("DOMContentLoaded",e.onReadyEvent,!1),window.addEventListener("load",e.onReadyEvent,!1)))},block:function(){++this.blocks,Ext.isReady=!1},fireReady:function(){var e=Ext.env.Ready;e.state||(Ext._readyTime=Ext.ticks(),Ext.isDomReady=!0,e.state=1,Ext.feature.detect(!0),e.delay?navigator.standalone?e.timer=Ext.defer(function(){e.timer=null,e.handleReadySoon()},1):e.handleReadySoon():e.handleReady())},handleReady:function(){1===this.state&&(this.state=2,Ext._beforeReadyTime=Ext.ticks(),this.invokeAll(),Ext._afterReadyTime=Ext.ticks())},handleReadySoon:function(e){var t=this;t.timer||(t.timer=Ext.defer(function(){t.timer=null,t.handleReady()},e||t.delay))},invoke:function(e){var t=e.delay;t?Ext.defer(e.fn,t,e.scope):Ext.elevateFunction?Ext.elevateFunction(e.fn,e.scope):e.fn.call(e.scope)},invokeAll:function(){Ext.elevateFunction?Ext.elevateFunction(this.doInvokeAll,this):this.doInvokeAll()},doInvokeAll:function(){var e,t=this,i=t.listeners;for(t.blocks||(Ext.isReady=!0),t.firing=!0;i.length;){if(t.sortGeneration!==t.generation&&(t.sortGeneration=t.generation,i.sort(t.sortFn)),e=i.pop(),t.blocks&&!e.dom){i.push(e);break}t.invoke(e)}t.firing=!1},makeListener:function(e,t,i){t={fn:e,id:++this.nextId,scope:t,dom:!1,priority:0};return i&&Ext.apply(t,i),t.phase=t.dom?0:1,t},on:function(e,t,i){var n=Ext.env.Ready,i=n.makeListener(e,t,i);2!==n.state||n.firing||!i.dom&&n.blocks?(n.listeners.push(i),++n.generation,n.bound||n.bind()):n.invoke(i)},onReadyEvent:function(e){var t=Ext.env.Ready;Ext.elevateFunction?Ext.elevateFunction(t.doReadyEvent,t,arguments):t.doReadyEvent(e)},doReadyEvent:function(e){var t=this;e&&e.type&&t.events.push(e),0<t.bound&&(t.unbind(),t.bound=-1),t.state||t.fireReady()},sortFn:function(e,t){return-(e.phase-t.phase||t.priority-e.priority||e.id-t.id)},unblock:function(){var e=this;e.blocks&&(--e.blocks||2!==e.state||e.firing||e.invokeAll())},unbind:function(){var e=document;1<this.bound&&e.removeEventListener("deviceready",this.onReadyEvent,!1),e.removeEventListener("DOMContentLoaded",this.onReadyEvent,!1),window.removeEventListener("load",this.onReadyEvent,!1)}},function(){var r=Ext.env.Ready;Ext.isIE9m&&Ext.apply(r,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var t=!0;try{document.documentElement.doScroll("left")}catch(e){t=!1}return t&&document.body?r.onReadyEvent({type:"doScroll"}):r.scrollTimer=Ext.defer(r.pollScroll,20),t},bind:function(){if(!r.bound){var e,t=document;try{e=void 0===window.frameElement}catch(e){}if(e&&t.documentElement.doScroll){if(r.pollScroll())return}else r.pollScroll=Ext.emptyFn;"complete"===t.readyState?r.onReadyEvent({type:"already "+(t.readyState||"body")}):(t.attachEvent("onreadystatechange",r.onReadyStateChange),window.attachEvent("onload",r.onReadyEvent),r.bound=1)}},unbind:function(){document.detachEvent("onreadystatechange",r.onReadyStateChange),window.detachEvent("onload",r.onReadyEvent),Ext.isNumber(r.scrollTimer)&&(clearTimeout(r.scrollTimer),r.scrollTimer=null)},onReadyStateChange:function(){var e=document.readyState;r.readyStatesRe.test(e)&&r.onReadyEvent({type:e})}}),Ext.onDocumentReady=function(e,t,i){var n={dom:!0};i&&Ext.apply(n,i),r.on(e,t,n)},Ext.onReady=function(e,t,i){r.on(e,t,i)},Ext.onInternalReady=function(e,t,i){r.on(e,t,Ext.apply({priority:1e3},i))},r.bind()}(),Ext.Loader=new function(){var y=this,v=Ext.ClassManager,r=Ext.Boot,e=Ext.Class,c=Ext.env.Ready,t=Ext.Function.alias,b=["extend","mixins","requires"],C={},i=[],o=[],s=[],S={},u={enabled:!0,scriptChainDelay:!1,disableCaching:!0,disableCachingParam:"_dc",paths:v.paths,preserveScripts:!0,scriptCharset:void 0},n={disableCaching:!0,disableCachingParam:!0,preserveScripts:!0,scriptChainDelay:"loadDelay"};Ext.apply(y,{isInHistory:C,isLoading:!1,history:i,config:u,readyListeners:o,optionalRequires:s,requiresMap:S,hasFileLoadError:!1,scriptsLoading:0,classesLoading:{},missingCount:0,missingQueue:{},syncModeEnabled:!1,init:function(){var e,t,i,n,r,o=document.getElementsByTagName("script"),s=o[o.length-1].src,a=s.substring(0,s.lastIndexOf("/")+1),l=Ext._classPathMetadata,d=Ext.Microloader,o=Ext.manifest;if(-1!==s.indexOf("packages/core/src/")?a+="../../":-1!==s.indexOf("/core/src/class/")&&(a+="../../../"),v.getPath("Ext")||v.setPath("Ext",a+"src"),l&&(Ext._classPathMetadata=null,y.addClassPathMappings(l)),o&&(e=o.loadOrder,t=Ext.Boot.baseUrl,e&&o.bootRelative))for(i=e.length,n=0;n<i;n++)(r=e[n]).path=t+r.path,r.canonicalPath=!0;d&&(c.block(),d.onMicroloaderReady(function(){c.unblock()}))},setConfig:Ext.Function.flexSetter(function(e,t){var i;return"paths"===e?y.setPath(t):(u[e]=t,(i=n[e])&&r.setConfig(!0===i?e:i,t)),y}),getConfig:function(e){return e?u[e]:u},setPath:function(){return v.setPath.apply(v,arguments),y},addClassPathMappings:function(e){return v.setPath(e),y},addBaseUrlClassPathMappings:function(e){for(var t in e)e[t]=r.baseUrl+e[t];Ext.Loader.addClassPathMappings(e)},getPath:function(e){return v.getPath(e)},require:function(e,t,i,n){if(n)return y.exclude(n).require(e,t,i);e=v.getNamesByExpression(e);return y.load(e,t,i)},syncRequire:function(){var e=y.syncModeEnabled;y.syncModeEnabled=!0;var t=y.require.apply(y,arguments);return y.syncModeEnabled=e,t},exclude:function(e){var t=v.select({require:function(e,t,i){return y.load(e,t,i)},syncRequire:function(e,t,i){var n=y.syncModeEnabled;y.syncModeEnabled=!0;i=y.load(e,t,i);return y.syncModeEnabled=n,i}});return t.exclude(e),t},load:function(e,t,i){t&&(t.length&&(t=y.makeLoadCallback(e,t)),t=t.bind(i||Ext.global));for(var n,r,o=v.classState,s=[],a=[],l={},d=e.length,c=0;c<d;++c)n=v.resolveName(e[c]),v.isCreated(n)||(s.push(n),o[n]||(l[n]=y.getPath(n),a.push(l[n])));return(r=s.length)?(y.missingCount+=r,v.onCreated(function(){t&&Ext.callback(t,i,arguments),y.checkReady()},y,s),u.enabled||Ext.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+(1<s.length?"es":"")+": "+s.join(", ")),a.length?y.loadScripts({url:a,_classNames:s,_urlByClass:l}):y.checkReady()):(t&&t.call(i),y.checkReady()),y.syncModeEnabled&&1===d?v.get(e[0]):y},makeLoadCallback:function(i,n){return function(){for(var e=[],t=i.length;0<t--;)e[t]=v.get(i[t]);return n.apply(this,e)}},onLoadFailure:function(){var e=this.onError;y.hasFileLoadError=!0,--y.scriptsLoading,e?e.call(this.userScope,this):Ext.log.error("[Ext.Loader] Some requested files failed to load."),y.checkReady()},onLoadSuccess:function(){var e,t,i,n=this,r=n.onLoad,o=n._classNames,s=n._urlByClass,a=v.classState,l=y.missingQueue;for(--y.scriptsLoading,r&&r.call(n.userScope,n),t=0,i=o.length;t<i;t++)a[e=o[t]]||(l[e]=s[e]);y.checkReady()},reportMissingClasses:function(){if(!y.syncModeEnabled&&!y.scriptsLoading&&y.isLoading&&!y.hasFileLoadError){var e,t=y.missingQueue,i=[],n=[];for(e in t)i.push(e),n.push(t[e]);if(i.length)throw new Error("The following classes are not declared even if their files have been loaded: '"+i.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+n.join("', '"))}},onReady:function(e,t,i,n){i?c.on(e,t,n):(n=c.makeListener(e,t,n),y.isLoading?o.push(n):c.invoke(n))},addUsedClasses:function(e){var t,i,n;if(e)for(i=0,n=(e="string"==typeof e?[e]:e).length;i<n;i++)"string"!=typeof(t=e[i])||Ext.Array.contains(s,t)||s.push(t);return y},triggerReady:function(){var e,t=s;if(y.isLoading&&t.length)s=[],y.require(t);else{for(y.isLoading=!1,o.sort(c.sortFn);o.length&&!y.isLoading;)e=o.pop(),c.invoke(e);c.unblock()}},historyPush:function(e){return!e||C[e]||v.overrideMap[e]||(C[e]=!0,i.push(e)),y},loadScripts:function(e){var t=Ext.manifest,i=t&&t.loadOrder,n=t&&t.loadOrderMap;++y.scriptsLoading,i&&!n&&(t.loadOrderMap=n=r.createLoadOrderMap(i)),y.checkReady(),(e=Ext.apply({loadOrder:i,loadOrderMap:n,charset:u.scriptCharset,success:y.onLoadSuccess,failure:y.onLoadFailure,sync:y.syncModeEnabled,_classNames:[]},e)).userScope=e.scope,e.scope=e,r.load(e)},loadScriptsSync:function(e){var t=y.syncModeEnabled;y.syncModeEnabled=!0,y.loadScripts({url:e}),y.syncModeEnabled=t},loadScriptsSyncBasePrefix:function(e){var t=y.syncModeEnabled;y.syncModeEnabled=!0,y.loadScripts({url:e,prependBaseUrl:!0}),y.syncModeEnabled=t},loadScript:function(e){var t=!(e instanceof Array)&&!("string"==typeof e),i=t?e.url:e,n=t&&e.onError,r=t&&e.onLoad,n={url:i,scope:t&&e.scope,onLoad:r,onError:n,_classNames:[]};y.loadScripts(n)},checkMissingQueue:function(){var e,t=y.missingQueue,i={},n=0;for(e in t)v.classState[e]||v.isCreated(e)||(i[e]=t[e],n++);y.missingCount=n,y.missingQueue=i},checkReady:function(){var e,t=y.isLoading;y.checkMissingQueue(),(e=y.missingCount+y.scriptsLoading)&&!t?(c.block(),y.isLoading=!!e):!e&&t&&y.triggerReady(),!y.scriptsLoading&&y.missingCount&&Ext.defer(function(){if(!y.scriptsLoading&&y.missingCount)for(var e in Ext.log.error("[Loader] The following classes failed to load:"),y.missingQueue)Ext.log.error("[Loader] "+e+" from "+y.missingQueue[e])},1e3)}}),Ext.require=t(y,"require"),Ext.syncRequire=t(y,"syncRequire"),Ext.exclude=t(y,"exclude"),e.registerPreprocessor("loader",function(t,i,n,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Loader#loaderPreprocessor",arguments);for(var e,o,s,a,l,d,c,u=this,h=[],f=v.getName(t),g=0,p=b.length;g<p;g++)if(l=b[g],i.hasOwnProperty(l))if("string"==typeof(d=i[l]))h.push(d);else if(d instanceof Array)for(o=0,s=d.length;o<s;o++)"string"==typeof(a=d[o])&&h.push(a);else if("function"!=typeof d)for(o in d)d.hasOwnProperty(o)&&"string"==typeof(a=d[o])&&h.push(a);if(0!==h.length){f&&(S[f]=h);var m,x=Ext.manifest&&Ext.manifest.classes,E=[];if(f&&(!x||!x[f])){for(c=y.requiredByMap||(y.requiredByMap={}),g=0,p=h.length;g<p;g++)(c[e=h[g]]||(c[e]=[])).push(f);(m=function(e){E.push(e);var t,i,n,r=S[e];if(r)for(Ext.Array.contains(r,f)&&Ext.Error.raise("Circular requirement detected! '"+f+"' and '"+E[1]+"' mutually require each other. Path: "+E.join(" -> ")+" -> "+E[0]),i=0,n=r.length;i<n;i++)t=r[i],C[t]||m(r[i])})(f)}return(f?y.exclude(f):y).require(h,function(){for(g=0,p=b.length;g<p;g++)if(l=b[g],i.hasOwnProperty(l))if("string"==typeof(d=i[l]))i[l]=v.get(d);else if(d instanceof Array)for(o=0,s=d.length;o<s;o++)"string"==typeof(a=d[o])&&(i[l][o]=v.get(a));else if("function"!=typeof d)for(var e in d)d.hasOwnProperty(e)&&"string"==typeof(a=d[e])&&(i[l][e]=v.get(a));r.call(u,t,i,n)}),!1}},!0,"after","className"),v.registerPostprocessor("uses",function(e,t,i){var n;Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.Loader#usesPostprocessor",arguments),i.uses&&(n=v.getNamesByExpression(i.uses),y.addUsedClasses(n))}),v.onCreated(y.historyPush),y.init()},Ext._endTime=Ext.ticks(),Ext._beforereadyhandler&&Ext._beforereadyhandler(),Ext.define("Ext.Mixin",function(d){return{statics:{addHook:function(n,e,t,r){function i(){var e=arguments,t=o?n:r[n],i=this.callParent(e);return t.apply(this,e),i}var o=Ext.isFunction(n),s=e.hasOwnProperty(t)&&e[t];o&&(n.$previous=Ext.emptyFn),i.$name=t,i.$owner=e.self,s?(i.$previous=s.$previous,s.$previous=i):e[t]=i}},onClassExtended:function(e,t){var r,o,s,i=t.mixinConfig,a=t.xhooks,e=e.superclass,l=t.onClassMixedIn;a&&(delete t.xhooks,(i||(t.mixinConfig=i={})).on=a),i&&((e=e.mixinConfig)&&(t.mixinConfig=i=Ext.merge({},e,i)),t.mixinId=i.id,i.beforeHooks&&Ext.raise('Use of "beforeHooks" is deprecated - use "before" instead'),i.hooks&&Ext.raise('Use of "hooks" is deprecated - use "after" instead'),i.afterHooks&&Ext.raise('Use of "afterHooks" is deprecated - use "after" instead'),r=i.before,o=i.after,a=i.on,s=i.extended),(r||o||a||s)&&(t.onClassMixedIn=function(i){var e,n=this.prototype,t=i.prototype;if(r&&Ext.Object.each(r,function(e,t){i.addMember(e,function(){if(!1!==n[t].apply(this,arguments))return this.callParent(arguments)})}),o&&Ext.Object.each(o,function(e,t){i.addMember(e,function(){var e=this.callParent(arguments);return n[t].apply(this,arguments),e})}),a)for(e in a)d.addHook(a[e],t,e,n);s&&i.onExtended(function(){var e=Ext.Array.slice(arguments,0);return e.unshift(i),s.apply(this,e)},this),l&&l.apply(this,arguments)})}}}),Ext.util=Ext.util||{},Ext.util.DelayedTask=function(r,o,s,a,t){function l(){var e=Ext.GlobalEvents;clearInterval(c.id),c.id=null,r.apply(o,s||[]),!1!==t&&e.hasListeners.idle&&e.fireEvent("idle")}var d,c=this;a="boolean"!=typeof a||a,c.id=null,c.delay=function(e,t,i,n){a&&c.cancel(),"number"==typeof e&&(d=e),r=t||r,o=i||o,s=n||s,c.id||(c.id=Ext.interval(l,d))},c.cancel=function(){c.id&&(clearInterval(c.id),c.id=null)}},Ext.define("Ext.util.Event",function(){var y=Array.prototype.slice,x=Ext.Array.insert,a=Ext.Array.toArray,s={};return{requires:"Ext.util.DelayedTask",isEvent:!0,suspended:0,noOptions:{},constructor:function(e,t){this.name=t,this.observable=e,this.listeners=[]},addListener:function(e,t,i,n,r){var o,s,a,l,d,c,u,h,f=this,g=!1,p=f.observable,m=f.name;if(t&&!Ext._namedScopes[t]&&"string"==typeof e&&"function"!=typeof t[e]&&Ext.raise("No method named '"+e+"' found on scope object"),-1===f.findListener(e,t)){if(s=f.createListener(e,t,i,n,r),f.firing&&(f.listeners=f.listeners.slice(0)),u=c=(o=f.listeners).length,a=i&&i.priority,n=void 0!==(d=f._highestNegativePriorityIndex),a)if(!(l=a<0)||n){for(h=l?d:0;h<c;h++)if((o[h].o&&o[h].o.priority||0)<a){u=h;break}}else f._highestNegativePriorityIndex=u;else n&&(u=d);!l&&u<=d&&f._highestNegativePriorityIndex++,u===c?o[c]=s:x(o,u,[s]),p.isElement&&p._getPublisher(m).subscribe(p,m,!1!==i.delegated,i.capture),r&&(r.managedListeners||(r.managedListeners=[])).push({item:f.observable,ename:i&&i.managedName||f.name,fn:e,scope:t,options:i}),g=!0}return g},createListener:function(e,t,i,n,r){var o,s=this,a=Ext._namedScopes[t],r={fn:e,scope:t,ev:s,caller:n,manager:r,namedScope:a,defaultScope:a?t||s.observable:void 0,lateBound:"string"==typeof e},a=e,e=!1;return i&&((r.o=i).single&&(a=s.createSingle(a,r,i,t),e=!0),i.target&&(a=s.createTargeted(a,r,i,t,e),e=!0),i.onFrame&&(a=s.createAnimFrame(a,r,i,t,e),e=!0),i.delay&&(a=s.createDelayed(a,r,i,t,e),e=!0),i.buffer&&(a=s.createBuffered(a,r,i,t,e),e=!0),s.observable.isElement&&(o=i.type)&&(r.type=o)),r.fireFn=a,r.wrapped=e,r},findListener:function(e,t){for(var i,n=this.listeners,r=n.length;r--;)if(i=n[r],i&&i.fn===e&&i.scope==t)return r;return-1},removeListener:function(e,t,i){var n,r,o,s,a,l=this,d=!1,c=l.observable,u=l.name;if(-1!==(i=null!=i?i:l.findListener(e,t))){if(n=l.listeners[i],l.firing&&(l.listeners=l.listeners.slice(0)),l.listeners.splice(i,1),l._highestNegativePriorityIndex&&(i<l._highestNegativePriorityIndex?l._highestNegativePriorityIndex--:i===l._highestNegativePriorityIndex&&i===l.listeners.length&&delete l._highestNegativePriorityIndex),n){if(r=n.o,n.task&&(n.task.cancel(),delete n.task),a=n.tasks&&n.tasks.length){for(;a--;)n.tasks[a].cancel();delete n.tasks}if(i=n.manager,i&&(o=i.managedListeners))for(a=o.length;a--;)(s=o[a]).item===l.observable&&s.ename===u&&s.fn===e&&s.scope===t&&o.splice(a,1);c.isElement&&c._getPublisher(u).unsubscribe(c,u,!1!==r.delegated,r.capture)}d=!0}return d},clearListeners:function(){for(var e,t=this.listeners,i=t.length;i--;)e=t[i],this.removeListener(e.fn,e.scope)},suspend:function(){++this.suspended},resume:function(){this.suspended&&--this.suspended},isSuspended:function(){return 0<this.suspended},fireDelegated:function(e,t){return this.firingObservable=e,this.fire.apply(this,t)},fire:function(){var e,t,i,n,r,o,s,a,l,d,c,u=this,h=Ext.ComponentQuery,f=u.listeners,g=f.length,p=u.observable,m=p.isElement,x=p.isComponent,E=u.firingObservable;if(!u.suspended&&0<g)for(u.firing=!0,n=(i=arguments.length?y.call(arguments,0):[]).length,m&&(l=i[0]),t=0;t<g;t++)if(c=f[t]){if(e=c.o,m&&(o&&l.setCurrentTarget(o),(a=c.type)&&(s=l,l=i[0]=s.chain({type:a})),Ext.EventObject=l),a=i,e){if(d=e.delegate)if(m){if(!(r=l.getTarget("#"+l.currentTarget.id+" "+d)))continue;i[1]=r,o=l.currentTarget,l.setCurrentTarget(r)}else if(x&&!h.is(E,d,p))continue;m&&(e.preventDefault&&l.preventDefault(),e.stopPropagation&&l.stopPropagation(),e.stopEvent&&l.stopEvent()),(i[n]=e).args&&(a=e.args.concat(i))}if(d=(r=u.getFireInfo(c)).fn,c=r.scope,r.fn=r.scope=null,c&&c.destroyed&&("Ext.container.Monitor"!==c.$className&&Ext.raise({msg:'Attempting to fire "'+u.name+'" event on destroyed '+(c.$className||"object")+" instance with id: "+(c.id||"unknown"),instance:c}),u.removeListener(d,c,t),d=null),d&&!1===d.apply(c,a))return Ext.EventObject=null,u.firing=!1;e&&i.length--,s&&(l=i[0]=s,s=null),Ext.EventObject=null}return!(u.firing=!1)},getFireInfo:function(e,t){var i=this.observable,n=e.fireFn,r=e.scope,o=e.namedScope;if(!t&&e.wrapped)return s.fn=n,s;n=t=t?e.fn:n;return e.lateBound?(r&&!o||(r=(e.caller||i).resolveListenerScope(e.defaultScope)),r||Ext.raise('Unable to dynamically resolve scope for "'+e.ev.name+'" listener on '+this.observable.id),Ext.isFunction(r[t])||Ext.raise('No method named "'+t+'" on '+(r.$className||"scope object.")),t=r[t]):o&&o.isController?(r=(e.caller||i).resolveListenerScope(e.defaultScope))||Ext.raise('Unable to dynamically resolve scope for "'+e.ev.name+'" listener on '+this.observable.id):r&&!o||(r=i),s.fn=t,s.scope=r,t||Ext.raise('Unable to dynamically resolve method "'+n+'" on '+this.observable.$className),s},createAnimFrame:function(e,t,i,n,r){return r||(e=(t=t.ev.getFireInfo(t,!0)).fn,n=t.scope,t.fn=t.scope=null),Ext.Function.createAnimationFrame(e,n,i.args)},createTargeted:function(t,i,n,r,o){return function(){var e;if(n.target===arguments[0])return o||(e=i.ev.getFireInfo(i,!0),t=e.fn,r=e.scope,e.fn=e.scope=null),t.apply(r,arguments)}},createBuffered:function(t,i,n,r,o){return i.task=new Ext.util.DelayedTask,function(){var e;i.task&&(o||(e=i.ev.getFireInfo(i,!0),t=e.fn,r=e.scope,e.fn=e.scope=null),i.task.delay(n.buffer,t,r,a(arguments)))}},createDelayed:function(i,n,r,o,s){return function(){var e,t=new Ext.util.DelayedTask;s||(e=n.ev.getFireInfo(n,!0),i=e.fn,o=e.scope,e.fn=e.scope=null),n.tasks||(n.tasks=[]),n.tasks.push(t),t.delay(r.delay||10,i,o,a(arguments))}},createSingle:function(n,r,e,o,s){return function(){var e=r.ev,t=e.observable,i=r.fn;return t?t.removeListener(e.name,i,o):e.removeListener(i,o),s||(e=e.getFireInfo(r,!0),n=e.fn,o=e.scope,e.fn=e.scope=null),n.apply(o,arguments)}}}}),Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:!0,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var e,t,i,n,r,o=this.id;return o||0===o||(e=this.self.prototype,t=this.defaultIdSeparator,n=Ext.mixin.Identifiable.uniqueIds,e.hasOwnProperty("identifiablePrefix")||(r=(i=this.xtype)?this.defaultIdPrefix+i.replace(this.idCleanRegex,t)+t:(r=e.$className)?r.replace(this.idCleanRegex,t).toLowerCase()+t:this.defaultIdPrefix+"anonymous"+t,e.identifiablePrefix=r),r=this.identifiablePrefix,n.hasOwnProperty(r)||(n[r]=0),o=this.id=this.id=r+ ++n[r]),this.getUniqueId=this.getOptimizedId,o},setId:function(e){this.id=this.id=e},getId:function(){var e=(e=this.id)||this.getUniqueId();return this.getId=this.getOptimizedId,e}}),Ext.define("Ext.mixin.Observable",function(d){var c=Ext.emptyFn,r=[],n=Array.prototype.slice,f=function(e){if(e instanceof f)return e;this.observable=e,arguments[1].isObservable&&(this.managedListeners=!0),this.args=n.call(arguments,1)},u=["events","hasListeners","managedListeners","eventedBeforeEventNames"];return f.prototype.destroy=function(){this.destroy=Ext.emptyFn;var e=this.observable;e.destroyed||e[this.managedListeners?"mun":"un"].apply(e,this.args)},{extend:"Ext.Mixin",mixinConfig:{id:"observable",after:{destroy:"destroyObservable"}},requires:["Ext.util.Event"],mixins:["Ext.mixin.Identifiable"],statics:{releaseCapture:function(e){e.fireEventArgs=this.prototype.fireEventArgs},capture:function(e,i,n){this.captureArgs(e,function(e,t){return i.apply(n,[e].concat(t))},n)},captureArgs:function(e,t,i){e.fireEventArgs=Ext.Function.createInterceptor(e.fireEventArgs,t,i)},observe:function(e,t){return e&&(e.isObservable||(Ext.applyIf(e,new this),this.captureArgs(e.prototype,e.fireEventArgs,e)),Ext.isObject(t)&&e.on(t)),e},prepareClass:function(e,t,i){var n,r,o,s=e.listeners=[],a=i||e.prototype,l=a.listeners,i=(t||e.superclass.self).listeners;for(i&&s.push(i),l&&((n=l.scope)?(i=Ext._namedScopes[n])&&i.isController&&(l.scope="self.controller"):l.scope="self",s.push(l),a.listeners=null),e.HasListeners||(a=function(){},t=e.superclass.HasListeners||t&&t.HasListeners||d.HasListeners,(e.prototype.HasListeners=e.HasListeners=a).prototype=e.hasListeners=new t),n=e.prototype.$noClearOnDestroy||{},r=0,o=u.length;r<o;r++)n[u[r]]=!0;e.prototype.$noClearOnDestroy=n}},isObservable:!0,$vetoClearingPrototypeOnDestroy:!0,eventsSuspended:0,constructor:function(e){var t,i,n,r,o=this,s=o.self;if(!o.$observableInitialized){if(o.$observableInitialized=!0,o.hasListeners=o.hasListeners=new o.HasListeners,o.eventedBeforeEventNames={},o.events=o.events||{},(t=s.listeners)&&!o._addDeclaredListeners(t)&&(s.listeners=null),i=e&&e.listeners||o.listeners)if(i instanceof Array)for(r=0,n=i.length;r<n;++r)o.addListener(i[r]);else o.addListener(i);(s=e&&e.bubbleEvents||o.bubbleEvents)&&o.enableBubble(s),o.$applyConfigs?e&&Ext.apply(o,e):o.initConfig(e),i&&(o.listeners=null)}},onClassExtended:function(e,t){e.HasListeners||d.prepareClass(e,e.prototype.$observableMixedIn?void 0:t)},$eventOptions:{scope:1,delay:1,buffer:1,onFrame:1,single:1,args:1,destroyable:1,priority:1,order:1},$orderToPriority:{before:100,current:0,after:-100},_addDeclaredListeners:function(e){var t=this;return e instanceof Array?Ext.each(e,t._addDeclaredListeners,t):(t._addedDeclaredListeners=!0,t.addListener(e)),t._addedDeclaredListeners},addManagedListener:function(e,t,i,n,r,o){var s,a,l=this;l.managedListeners=l.managedListeners||[];if("string"!=typeof t){for(t in a=4<arguments.length?r:t,r=t)r.hasOwnProperty(t)&&(s=r[t],e.$eventOptions[t]||l.addManagedListener(e,t,s.fn||s,s.scope||r.scope||n,s.fn?s:a,!0));if(r&&r.destroyable)return new f(l,e,r)}else if(i!==c&&(e.doAddListener(t,i,n,r,null,l,l),!o&&r&&r.destroyable))return new f(l,e,t,i,n)},removeManagedListener:function(e,t,i,n){var r,o,s,a,l;if(!e.$observableDestroyed)if("string"!=typeof t)for(t in r=t)r.hasOwnProperty(t)&&(o=r[t],e.$eventOptions[t]||this.removeManagedListener(e,t,o.fn||o,o.scope||r.scope||n));else for(s=this.managedListeners?this.managedListeners.slice():[],t=Ext.canonicalEventName(t),l=0,a=s.length;l<a;l++)this.removeManagedListenerItem(!1,s[l],e,t,i,n)},fireEvent:function(e){return this.fireEventArgs(e,n.call(arguments,1))},resolveListenerScope:function(e){var t=Ext._namedScopes[e];return t&&(t.isController&&Ext.raise('scope: "controller" can only be specified on classes that derive from Ext.Component or Ext.Widget'),(t.isSelf||t.isThis)&&(e=null)),e||this},fireEventArgs:function(e,t){e=Ext.canonicalEventName(e);var i=this.events,n=i&&i[e],i=!0;return this.hasListeners[e]&&(i=this.doFireEvent(e,t||r,!!n&&n.bubble)),i},fireAction:function(e,t,i,n,r,o){"string"!=typeof i||n||(i=this[i]),(r=r?Ext.Object.chain(r):{}).single=!0,r.priority="after"===o?-99.5:99.5,this.doAddListener(e,i,n,r),this.fireEventArgs(e,t)},$eventedController:{_paused:1,pause:function(){++this._paused},resume:function(){var e,t,i=this,n=i.fn,r=i.scope,o=i.fnArgs;i.owner;if(!--i._paused)return(!n||(e=Ext.Array.slice(o||i.args),!1===o&&e.shift(),i.fn=null,e.push(i),Ext.isFunction(n)?t=n.apply(r,e):r&&Ext.isString(n)&&Ext.isFunction(r[n])&&(t=r[n].apply(r,e)),!1!==t))&&(i._paused?void 0:i.owner.fireEventArgs(i.eventName,i.args))}},fireEventedAction:function(e,t,i,n,r){var o=this.eventedBeforeEventNames,o=o[e]||(o[e]="before"+e),r=Ext.apply({owner:this,eventName:e,fn:i,scope:n,fnArgs:r,args:t},this.$eventedController);return t.push(r),o=this.fireEventArgs(o,t),t.pop(),!1!==o&&r.resume()},doFireEvent:function(e,t,i){var n,r=this,o=!0;do{if(r.eventsSuspended)return(n=r.eventQueue)&&n.push([e,t]),o}while((!(n=r.events&&r.events[e])||!0===n||!1!==(o=n.fire.apply(n,t)))&&(i&&(r=r.getBubbleParent())));return o},getBubbleParent:function(){var e=this.getBubbleTarget&&this.getBubbleTarget();return e&&e.isObservable?e:null},addListener:function(e,t,i,n,r,o){var s,a,l,d,c,u=this,h=Ext._namedScopes;if("string"!=typeof e){for(e in l=(a=(i=(n=e).scope)&&h[i])&&a.isSelf,c=(u.isComponent||u.isWidget)&&n.element?u.$elementEventOptions:u.$eventOptions,n)s=n[e],c[e]||((d=s.scope)&&l&&(a=h[d])&&a.isController&&(d="self.controller"),u.doAddListener(e,s.fn||s,d||i,s.fn?s:n,r,o));if(n&&n.destroyable)return new f(u,n)}else if(u.doAddListener(e,t,i,n,r,o),n&&n.destroyable)return new f(u,e,t,i,n);return u},removeListener:function(e,t,i,n){var r,o,s=this;if("string"!=typeof e)for(e in o=e,n=n||s.$eventOptions,o)o.hasOwnProperty(e)&&(r=o[e],s.$eventOptions[e]||s.doRemoveListener(e,r.fn||r,r.scope||o.scope));else s.doRemoveListener(e,t,i);return s},onBefore:function(e,t,i,n){return this.addListener(e,t,i,n,"before")},onAfter:function(e,t,i,n){return this.addListener(e,t,i,n,"after")},unBefore:function(e,t,i,n){return this.removeListener(e,t,i,n,"before")},unAfter:function(e,t,i,n){return this.removeListener(e,t,i,n,"after")},addBeforeListener:function(){return this.onBefore.apply(this,arguments)},addAfterListener:function(){return this.onAfter.apply(this,arguments)},removeBeforeListener:function(){return this.unBefore.apply(this,arguments)},removeAfterListener:function(){return this.unAfter.apply(this,arguments)},clearListeners:function(){var e,t,i=this.events,n=this.hasListeners;if(i){for(t in i)i.hasOwnProperty(t)&&(e=i[t]).isEvent&&(delete n[t],e.clearListeners());this.events=null}this.clearManagedListeners()},purgeListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners."),this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){for(var e=this.managedListeners?this.managedListeners.slice():[],t=0,i=e.length;t<i;t++)this.removeManagedListenerItem(!0,e[t]);this.managedListeners=[]},removeManagedListenerItem:function(e,t,i,n,r,o){!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||o&&t.scope!==o)||(t.item.destroyed||t.item.doRemoveListener(t.ename,t.fn,t.scope,t.options),e||Ext.Array.remove(this.managedListeners,t))},purgeManagedListeners:function(){return Ext.global.console&&Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners."),this.clearManagedListeners.apply(this,arguments)},hasListener:function(e){return e=Ext.canonicalEventName(e),!!this.hasListeners[e]},isSuspended:function(e){var t=0<this.eventsSuspended,i=this.events;return!t&&e&&i&&(e=i[e])&&e.isEvent?e.isSuspended():t},suspendEvents:function(e){++this.eventsSuspended,e&&!this.eventQueue&&(this.eventQueue=[])},suspendEvent:function(){for(var e,t,i=this.events,n=arguments.length,r=0;r<n;r++)t=arguments[r],(e=i[t=Ext.canonicalEventName(t)])&&e.isEvent||(e=this._initEvent(t)),e.suspend()},resumeEvent:function(){for(var e,t=this.events||0,i=t&&arguments.length,n=0;n<i;n++)(e=t[Ext.canonicalEventName(arguments[n])])&&e.resume&&e.resume()},resumeEvents:function(e){var t,i,n=this,r=n.eventQueue;if(n.eventsSuspended&&!--n.eventsSuspended&&(delete n.eventQueue,!e&&r))for(t=r.length,i=0;i<t;i++)n.fireEventArgs.apply(n,r[i])},relayEvents:function(e,t,i){var n,r,o=t.length,s=0,a={};if(Ext.isObject(t))for(s in t)r=t[s],a[s]=this.createRelayer(r);else for(;s<o;s++)a[n=t[s]]=this.createRelayer(i?i+n:n);return this.mon(e,a,null,null,void 0),new f(this,e,a)},createRelayer:function(e,t){var i=this;return function(){return i.fireEventArgs.call(i,e,t?n.apply(arguments,t):arguments)}},enableBubble:function(e){if(e)for(var t,i,n="string"==typeof e?arguments:e,r=this.events,o=r&&n.length,s=0;s<o;++s)t=n[s],(i=r[t=Ext.canonicalEventName(t)])&&i.isEvent||(i=this._initEvent(t)),this.hasListeners._incr_(t),i.bubble=!0},destroy:function(){this.clearListeners(),this.callParent(),this.destroyObservable(!0)},destroyObservable:function(e){var t=this;t.$observableDestroyed||(e||t.clearListeners(),t.destroyed&&(t.clearPropertiesOnDestroy&&(t.clearPrototypeOnDestroy||(t.fireEvent=t.fireEventArgs=t.fireAction=t.fireEventedAction=Ext.emptyFn),t.events=t.managedListeners=t.eventedBeforeEventNames=null,t.$observableDestroyed=!0),t.clearPrototypeOnDestroy&&Object.setPrototypeOf&&!t.$alreadyNulled&&(Object.setPrototypeOf(t,null),t.$alreadyNulled=!0)))},privates:{doAddListener:function(e,t,i,n,r,o,s){var a=this,l=!1;return(r=r||n&&n.order)&&(n&&n.priority||((n=n?Ext.Object.chain(n):{}).priority=a.$orderToPriority[r])),e=Ext.canonicalEventName(e),t||Ext.raise("Cannot add '"+e+"' listener to "+a.$className+" instance.  No function specified."),(r=(a.events||(a.events={}))[e])&&r.isEvent||(r=a._initEvent(e)),t!==c&&(!s&&i&&i.isObservable&&i!==a&&(s=i),r.addListener(t,i,n,o,s)&&(a.hasListeners._incr_(e),l=!0)),l},doRemoveListener:function(e,t,i){var n=!1,r=this.events;return e=Ext.canonicalEventName(e),r=r&&r[e],t||Ext.raise("Cannot remove '"+e+"' listener to "+this.$className+" instance.  No function specified."),r&&r.isEvent&&r.removeListener(t,i)&&(this.hasListeners._decr_(e),n=!0),n},_initEvent:function(e){return this.events[e]=new Ext.util.Event(this,e)}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){function e(){}var i=this,t=i.prototype,n=function(e){var t;e.HasListeners||((t=e.prototype).$observableMixedIn=1,i.prepareClass(e,this),e.onExtended(function(e,t){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments),i.prepareClass(e,null,t)}),t.onClassMixedIn?Ext.override(e,{onClassMixedIn:function(e){n.call(this,e),this.callParent(arguments)}}):t.onClassMixedIn=function(e){n.call(this,e)}),r.call(this,e)},r=t.onClassMixedIn;function o(e){var r,o,s,a,l=(this.methodEvents=this.methodEvents||{})[e],d=this;return l||(this.methodEvents[e]=l={},l.originalFn=this[e],l.methodName=e,l.before=[],l.after=[],a=function(e,t,i){void 0!==(o=e.apply(t||d,i))&&("object"==typeof o?(r=void 0!==o.returnValue?o.returnValue:o,s=!!o.cancel):!1===o?s=!0:r=o)},this[e]=function(){var e,t,i,n=Array.prototype.slice.call(arguments,0);for(r=o=void 0,s=!1,t=0,i=l.before.length;t<i;t++)if(e=l.before[t],a(e.fn,e.scope,n),s)return r;for(void 0!==(o=l.originalFn.apply(d,n))&&(r=o),t=0,i=l.after.length;t<i;t++)if(e=l.after[t],a(e.fn,e.scope,n),s)return r;return r}),l}e.prototype={_decr_:function(e,t){null==t&&(t=1),(this[e]-=t)||delete this[e]},_incr_:function(e){this.hasOwnProperty(e)?++this[e]:this[e]=1}},t.HasListeners=i.HasListeners=e,i.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener",setListeners:"addListener"}),i.observeClass=i.observe,Ext.apply(t,{onClassMixedIn:n,beforeMethod:function(e,t,i){o.call(this,e).before.push({fn:t,scope:i})},afterMethod:function(e,t,i){o.call(this,e).after.push({fn:t,scope:i})},removeMethodListener:function(e,t,i){for(var n=this.getMethodEvent(e),r=0,o=n.before.length;r<o;r++)if(n.before[r].fn==t&&n.before[r].scope==i)return void Ext.Array.erase(n.before,r,1);for(r=0,o=n.after.length;r<o;r++)if(n.after[r].fn==t&&n.after[r].scope==i)return void Ext.Array.erase(n.after,r,1)},toggleEventLogging:function(e){Ext.util.Observable[e?"capture":"releaseCapture"](this,function(e){Ext.isDefined(Ext.global.console)&&Ext.global.console.log(e,arguments)})}})}),Ext.define("Ext.util.HashMap",{mixins:["Ext.mixin.Observable"],generation:0,config:{keyFn:null},constructor:function(e){var t=this;t.mixins.observable.constructor.call(t,e),t.clear(!0),(e=t.getKeyFn())&&(t.getKey=e)},getCount:function(){return this.length},getData:function(e,t){return void 0===t&&(t=e,e=this.getKey(t)),[e,t]},getKey:function(e){return e.id},add:function(e,t){var i=this;return 1===arguments.length&&(t=e,e=i.getKey(t)),i.containsKey(e)?i.replace(e,t):(i.map[e]=t,++i.length,i.generation++,i.hasListeners.add&&i.fireEvent("add",i,e,t),t)},replace:function(e,t){var i,n=this,r=n.map;return 1===arguments.length&&(t=e,e=n.getKey(t)),n.containsKey(e)||n.add(e,t),i=r[e],r[e]=t,n.generation++,n.hasListeners.replace&&n.fireEvent("replace",n,e,t,i),t},remove:function(e){e=this.findKey(e);return void 0!==e&&this.removeAtKey(e)},removeAtKey:function(e){var t,i=this;return!!i.containsKey(e)&&(t=i.map[e],delete i.map[e],--i.length,i.generation++,i.hasListeners.remove&&i.fireEvent("remove",i,e,t),!0)},get:function(e){var t=this.map;return t.hasOwnProperty(e)?t[e]:void 0},clear:function(e){var t=this;return(e||t.generation)&&(t.map={},t.length=0,t.generation=e?0:t.generation+1),!0!==e&&t.hasListeners.clear&&t.fireEvent("clear",t),t},containsKey:function(e){var t=this.map;return t.hasOwnProperty(e)&&void 0!==t[e]},contains:function(e){return this.containsKey(this.findKey(e))},getKeys:function(){return this.getArray(!0)},getValues:function(){return this.getArray(!1)},getArray:function(e){var t,i=[],n=this.map;for(t in n)n.hasOwnProperty(t)&&i.push(e?t:n[t]);return i},each:function(e,t){var i,n=Ext.apply({},this.map),r=this.length;for(i in t=t||this,n)if(n.hasOwnProperty(i)&&!1===e.call(t,i,n[i],r))break;return this},clone:function(){var e,t=new this.self(this.initialConfig),i=this.map;for(e in t.suspendEvents(),i)i.hasOwnProperty(e)&&t.add(e,i[e]);return t.resumeEvents(),t},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t]===e)return t}},function(e){e=e.prototype;e.removeByKey=e.removeAtKey}),Ext.define("Ext.AbstractManager",{requires:["Ext.util.HashMap"],typeName:"type",constructor:function(e){Ext.apply(this,e||{}),this.all=new Ext.util.HashMap,this.types={}},get:function(e){return this.all.get(e)},register:function(e){var t=this.all.getKey(e);void 0===t&&Ext.raise("Key is undefined. Please ensure the item has a key before registering the item."),this.all.containsKey(t)&&Ext.raise('Registering duplicate id "'+t+'" with '+this.$className),this.all.add(e)},unregister:function(e){this.all.remove(e)},registerType:function(e,t){(this.types[e]=t)[this.typeName]=e},isRegistered:function(e){return void 0!==this.types[e]},create:function(e,t){var i=e[this.typeName]||e.type||t,t=this.types[i];return void 0===t&&Ext.raise("The '"+i+"' type has not been registered with this manager"),new t(e)},onAvailable:function(n,r,o){var e,s,a=this.all;a.containsKey(n)?(e=a.get(n),r.call(o||e,e)):(s=function(e,t,i){t==n&&(r.call(o||i,i),a.un("add",s))},a.on("add",s))},each:function(e,t){this.all.each(e,t||this)},getCount:function(){return this.all.getCount()}}),Ext.define("Ext.promise.Consequence",function(n){return{promise:null,deferred:null,onFulfilled:null,onRejected:null,onProgress:null,constructor:function(e,t,i){var n=this;n.onFulfilled=e,n.onRejected=t,n.onProgress=i,n.deferred=new Ext.promise.Deferred,n.promise=n.deferred.promise},trigger:function(e,t){var i=this,n=i.deferred;switch(e){case"fulfill":i.propagate(t,i.onFulfilled,n,n.resolve);break;case"reject":i.propagate(t,i.onRejected,n,n.reject)}},update:function(e){Ext.isFunction(this.onProgress)&&(e=this.onProgress(e)),this.deferred.update(e)},propagate:function(e,t,i,n){Ext.isFunction(t)?this.schedule(function(){try{i.resolve(t(e))}catch(e){i.reject(e)}}):n.call(this.deferred,e)},schedule:function(e){var t=n.queueSize++;n.queue[t]=e,t||Ext.asap(n.dispatch)},statics:{queue:new Array(1e4),queueSize:0,dispatch:function(){for(var e,t=n.queue,i=0;i<n.queueSize;++i)e=t[i],t[i]=null,e();n.queueSize=0}}}}),Ext.define("Ext.promise.Deferred",{requires:["Ext.promise.Consequence"],promise:null,consequences:[],completed:!1,completionAction:null,completionValue:null,constructor:function(){var e=this;e.promise=new Ext.promise.Promise(e),e.consequences=[],e.completed=!1,e.completionAction=null,e.completionValue=null},then:function(e,t,i){i=new Ext.promise.Consequence(e,t,i);return this.completed?i.trigger(this.completionAction,this.completionValue):this.consequences.push(i),i.promise},resolve:function(e){var t,i,n=this;if(!n.completed)try{if(e===n.promise)throw new TypeError("A Promise cannot be resolved with itself.");if(null!=e&&("object"==typeof e||Ext.isFunction(e))&&Ext.isFunction(i=e.then)){t=!1;try{i.call(e,function(e){t||(t=!0,n.resolve(e))},function(e){t||(t=!0,n.reject(e))})}catch(e){t||n.reject(e)}}else n.complete("fulfill",e)}catch(e){n.reject(e)}},reject:function(e){this.completed||this.complete("reject",e)},update:function(e){var t,i,n=this.consequences;if(!this.completed)for(t=0,i=n.length;t<i;t++)n[t].update(e)},complete:function(e,t){var i,n,r=this,o=r.consequences;for(r.completionAction=e,r.completionValue=t,r.completed=!0,i=0,n=o.length;i<n;i++)o[i].trigger(r.completionAction,r.completionValue);r.consequences=null}}),Ext.define("Ext.promise.Promise",function(d){var c;return{requires:["Ext.promise.Deferred"],statics:{CancellationError:Ext.global.CancellationError||Error,_ready:function(){c=Ext.promise.Deferred},all:function(e){return Ext.isArray(e)||d.is(e)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),d.when(e).then(function(e){var t,i,n,r,o,s=new c,a=e.length,l=new Array(a);if(a)for(n=function(e,t){return d.when(e).then(function(e){return l[t]=e,--a||s.resolve(l),e},function(e){return s.reject(e)})},t=r=0,o=e.length;r<o;t=++r)i=e[t],t in e?n(i,t):a--;else s.resolve(l);return s.promise})},is:function(e){return null!=e&&("object"==typeof e||Ext.isFunction(e))&&Ext.isFunction(e.then)},rethrowError:function(e){Ext.asap(function(){throw e})},when:function(e){var t=new Ext.promise.Deferred;return t.resolve(e),t.promise}},owner:null,constructor:function(e){this.owner=e},then:function(e,t,i,n){var r;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=(r=arguments[0]).success,t=r.failure,i=r.progress,n=r.scope),n&&(e=e&&Ext.Function.bind(e,n),t=t&&Ext.Function.bind(t,n),i=i&&Ext.Function.bind(i,n)),this.owner.then(e,t,i)},otherwise:function(e,t){var i;return 1===arguments.length&&Ext.isObject(arguments[0])&&(e=(i=arguments[0]).fn,t=i.scope),null!=t&&(e=Ext.Function.bind(e,t)),this.owner.then(null,e)},always:function(t,e){var i;return 1===arguments.length&&Ext.isObject(arguments[0])&&(t=(i=arguments[0]).fn,e=i.scope),null!=e&&(t=Ext.Function.bind(t,e)),this.owner.then(function(e){try{t()}catch(e){d.rethrowError(e)}return e},function(e){try{t()}catch(e){d.rethrowError(e)}throw e})},done:function(){this.owner.then(null,d.rethrowError)},cancel:function(e){null==e&&(e=null),this.owner.reject(new this.self.CancellationError(e))},log:function(t){return null==t&&(t=""),this.owner.then(function(e){return Ext.log((t||"Promise")+" resolved with value: "+e),e},function(e){throw Ext.log((t||"Promise")+" rejected with reason: "+e),e})}}},function(e){e._ready()}),Ext.define("Ext.Promise",function(){var e;return{requires:["Ext.promise.Promise"],statics:{_ready:function(){e=Ext.promise.Promise},all:function(){return e.all.apply(e,arguments)},race:function(){Ext.raise("Not implemented")},reject:function(e){var t=new Ext.promise.Deferred;return t.reject(e),t.promise},resolve:function(e){var t=new Ext.promise.Deferred;return t.resolve(e),t.promise}},constructor:function(e){var t=new Ext.promise.Deferred;return e(t.resolve.bind(t),t.reject.bind(t)),t.promise}}},function(e){var t=Ext.global.Promise;t&&t.resolve?Ext.Promise=t:e._ready()}),Ext.define("Ext.Deferred",function(h){var n;return{extend:"Ext.promise.Deferred",requires:["Ext.Promise"],statics:{_ready:function(){n=Ext.promise.Promise,Ext.Promise.resolve},all:function(){return n.all.apply(n,arguments)},any:function(e){return Ext.isArray(e)||n.is(e)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),h.some(e,1).then(function(e){return e[0]},function(e){if(!(e instanceof Error&&"Too few Promises were resolved."===e.message))throw e;Ext.raise("No Promises were resolved.")})},delay:function(e,t){var i;return 1===arguments.length&&(t=e,e=void 0),t=Math.max(t,0),i=new h,setTimeout(function(){i.resolve(e)},t),i.promise},map:function(e,d){return Ext.isArray(e)||n.is(e)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),Ext.isFunction(d)||Ext.raise("Invalid parameter: expected a function."),h.resolved(e).then(function(e){var t,i,n,r,o,s=e.length,a=new Array(e.length),l=new h;if(s)for(n=function(e,t){return h.resolved(e).then(function(e){return d(e,t,a)}).then(function(e){return a[t]=e,--s||l.resolve(a),e},function(e){return l.reject(e)})},t=r=0,o=e.length;r<o;t=++r)i=e[t],t in e?n(i,t):s--;else l.resolve(a);return l.promise})},memoize:function(e,t,i){var n=Ext.Function.memoize(e,t,i);return function(){return h.all(Ext.Array.slice(arguments)).then(function(e){return n.apply(t,e)})}},parallel:function(e,t){null==t&&(t=null);var i=Ext.Array.slice(arguments,2);return h.map(e,function(e){if(!Ext.isFunction(e))throw new Error("Invalid parameter: expected a function.");return e.apply(t,i)})},pipeline:function(e,t,i){return null==i&&(i=null),h.reduce(e,function(e,t){if(!Ext.isFunction(t))throw new Error("Invalid parameter: expected a function.");return t.call(i,e)},t)},reduce:function(e,o,t){Ext.isArray(e)||n.is(e)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),Ext.isFunction(o)||Ext.raise("Invalid parameter: expected a function.");var i=3===arguments.length;return h.resolved(e).then(function(r){var e=[r,function(e,i,n){return h.resolved(e).then(function(t){return h.resolved(i).then(function(e){return o(t,e,n,r)})})}];return i&&e.push(t),Ext.Array.reduce.apply(Ext.Array,e)})},rejected:function(e){var t=new Ext.Deferred;return t.reject(e),t.promise},resolved:function(e){var t=new Ext.Deferred;return t.resolve(e),t.promise},sequence:function(e,i){null==i&&(i=null);var n=Ext.Array.slice(arguments,2);return h.reduce(e,function(t,e){if(!Ext.isFunction(e))throw new Error("Invalid parameter: expected a function.");return h.resolved(e.apply(i,n)).then(function(e){return t.push(e),t})},[])},some:function(e,u){return Ext.isArray(e)||n.is(e)||Ext.raise("Invalid parameter: expected an Array or Promise of an Array."),(!Ext.isNumeric(u)||u<=0)&&Ext.raise("Invalid parameter: expected a positive integer."),h.resolved(e).then(function(e){var t,i,n,r,o,s,a=[],l=u,d=e.length-l+1,c=new h;if(e.length<u)c.reject(new Error("Too few Promises were resolved."));else for(n=function(e){return 0<l&&a.push(e),0===--l&&c.resolve(a),e},i=function(e){return 0===--d&&c.reject(new Error("Too few Promises were resolved.")),e},t=o=0,s=e.length;o<s;t=++o)r=e[t],t in e&&h.resolved(r).then(n,i);return c.promise})},timeout:function(e,t){var i=new h,n=setTimeout(function(){n&&i.reject(new Error("Promise timed out."))},t);return h.resolved(e).then(function(e){clearTimeout(n),n=null,i.resolve(e)},function(e){clearTimeout(n),n=null,i.reject(e)}),i.promise}}}},function(e){e._ready()}),Ext.Factory=function(e){var t=this;t.aliasPrefix=e+".",t.cache={},t.name=e.replace(t.fixNameRe,t.fixNameFn),t.type=e},Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(e,t){var i,n,r,o=this,s=Ext.ClassManager,a=o.cache;if(e){if(e[o.instanceProp])return e;"string"==typeof e&&(r=e,(e={})[o.defaultProperty]=r),i=e.xclass,r=e.type}if(t&&t.constructor===Object&&(e=Ext.apply({},e,t),t=t.type),i){if(!(n=s.get(i)))return s.instantiate(i,e)}else if((r=r||t||o.defaultType)||(n=o.defaultClass),r||n||Ext.raise("No type specified for "+o.type+".create"),!n&&!(n=a[r])){if(o=o.aliasPrefix+r,!(n=(i=s.getNameByAlias(o))&&s.get(i)))return s.instantiateByAlias(o,e);a[r]=n}return n.isInstance?n:new n(e)},fixNameRe:/\.[a-z]/gi,fixNameFn:function(e){return e.substring(1).toUpperCase()},clearCache:function(){this.cache={}}},Ext.Factory.define=function(e,t){var i,n=Ext.Factory;return e.constructor===Object?Ext.Object.each(e,n.define,n):(e=new Ext.Factory(e),t&&(t.constructor===Object?(Ext.apply(e,t),"string"==typeof(i=e.xclass)&&(e.defaultClass=Ext.ClassManager.get(i))):e.defaultType=t),n[e.name]=i=e.create.bind(e),i.instance=e),i},Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var t,i=e.prototype,n=i.factoryConfig,r=i.alias,o={};(r=r&&r.length&&r[0])&&0<(t=r.lastIndexOf("."))&&(o.type=r.substring(0,t),o.defaultType=r.substring(t+1)),n&&(delete i.factoryConfig,Ext.apply(o,n)),o=Ext.Factory.define(o.type,o),e.create===Ext.Base.create&&(e.create=o)}}),Ext.define("Ext.data.request.Base",{requires:["Ext.Deferred"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"request",defaultType:"ajax"},result:null,success:null,timer:null,constructor:function(e){var t=this;Ext.apply(t,e.options||{},e.ownerConfig),t.id=++Ext.data.Connection.requestId,t.owner=e.owner,t.options=e.options,t.requestOptions=e.requestOptions},start:function(){var e=this,t=e.getTimeout();t&&e.async&&(e.timer=Ext.defer(e.onTimeout,t,e))},abort:function(){this.clearTimer(),this.timedout||(this.aborted=!0),this.abort=Ext.emptyFn},createDeferred:function(){return this.deferred=new Ext.Deferred},getDeferred:function(){return this.deferred||this.createDeferred()},getPromise:function(){return this.getDeferred().promise},then:function(){var e=this.getPromise();return e.then.apply(e,arguments)},onComplete:function(){var e=this.deferred,t=this.result;this.clearTimer(),e&&(this.success?e.resolve(t):e.reject(t))},onTimeout:function(){this.timedout=!0,this.timer=null,this.abort(!0)},getTimeout:function(){return this.timeout},clearTimer:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},destroy:function(){var e=this;e.abort(),e.owner=e.options=e.requestOptions=e.result=null,e.callParent()},privates:{createException:function(){var e=this,t={request:e,requestId:e.id,status:e.aborted?-1:0,statusText:e.aborted?"transaction aborted":"communication failure",getResponseHeader:e._getHeader,getAllResponseHeaders:e._getHeaders};return e.aborted&&(t.aborted=!0),e.timedout&&(t.timedout=!0),t},_getHeader:function(e){var t=this.headers;return t&&t[e.toLowerCase()]},_getHeaders:function(){return this.headers}}}),Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=!0,Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill"),Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:!1,flashPluginInjected:!1,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(e,t,i){var n=this.liveConnections[Number(e)];n?n.onFlashStateChange(t,i):Ext.warn.log("onFlashStateChange for unknown connection ID: "+e)},registerConnection:function(e){var t=this.connectionIndex;return this.conectionIndex=this.connectionIndex+1,this.liveConnections[t]=e,t},injectFlashPlugin:function(){var e,i;this.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]}),e=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/"),i="/plugins/flash/FlashPlugin.swf",i=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/"),Ext.flashPluginPath&&(i=Ext.flashPluginPath),Ext.Loader.loadScript({url:e,onLoad:function(){var e={quality:"high",bgcolor:"#ffffff",allowscriptaccess:"sameDomain",allowfullscreen:"true"},t={id:"ext-flash-polyfill",name:"polyfill",align:"middle"};swfobject.embedSWF(i,"ext-flash-polyfill","0","0","11.4.0","playerProductInstall.swf",{},e,t)},onError:function(){Ext.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:this}),Ext.data.flash.BinaryXhr.flashPluginInjected=!0}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(e){Ext.data.flash.BinaryXhr.flashPluginInjected||Ext.data.flash.BinaryXhr.injectFlashPlugin();Ext.apply(this,e),this.requestHeaders={}},abort:function(){var e=this;4!=e.readyState?(e.aborted=!0,Ext.data.flash.BinaryXhr.flashPluginActive?(Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(e.javascriptId),delete Ext.data.flash.BinaryXhr.liveConnections[e.javascriptId]):Ext.GlobalEvents.removeListener("flashready",e.onFlashReady,e)):Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url)},getAllResponseHeaders:function(){var i=[];return Ext.Object.each(this.responseHeaders,function(e,t){i.push(e+": "+t)}),i.join("\r\n")},getResponseHeader:function(e){var t=this.responseHeaders;return t&&t[e]||null},open:function(e,t,i,n,r){var o=this;o.method=e,o.url=t,o.async=!1!==i,o.user=n,o.password=r,o.async||Ext.raise("Binary posts are only supported in async mode: "+t),"POST"!=o.method&&Ext.log.warn("Binary data can only be sent as a POST request: "+t)},overrideMimeType:function(e){this.mimeType=e},send:function(e){this.body=e,Ext.data.flash.BinaryXhr.flashPluginActive?this.onFlashReady():Ext.GlobalEvents.addListener("flashready",this.onFlashReady,this)},onFlashReady:function(){var e=this;e.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(e),e={method:e.method,url:e.url,user:e.user,password:e.password,mimeType:e.mimeType,requestHeaders:e.requestHeaders,body:e.body,javascriptId:e.javascriptId},Ext.data.flash.BinaryXhr.flashPlugin.postBinary(e)},setReadyState:function(e){this.readyState!=e&&(this.readyState=e,this.onreadystatechange())},setRequestHeader:function(e,t){this.requestHeaders[e]=t},onreadystatechange:Ext.emptyFn,parseData:function(e){var t=this;this.status=e.status||0,t.responseHeaders={},t.mimeType&&(t.responseHeaders["content-type"]=t.mimeType),"complete"==e.reason?(this.responseBytes=e.data,t.responseHeaders["content-length"]=e.data.length):"error"==e.reason||"securityError"==e.reason?(this.statusText=e.text,t.responseHeaders["content-length"]=0):Ext.raise("Unkown reason code in data: "+e.reason)},onFlashStateChange:function(e,t){4==e&&(this.parseData(t),delete Ext.data.flash.BinaryXhr.liveConnections[this.javascriptId]),this.setReadyState(e)}}),Ext.define("Ext.data.request.Ajax",{extend:"Ext.data.request.Base",alias:"request.ajax",requires:["Ext.data.flash.BinaryXhr"],statics:{parseStatus:function(e,t){t&&("arraybuffer"===t.responseType?i=t.byteLength:t.responseText&&(i=t.responseText.length));var i=200<=(e=1223==e?204:e)&&e<300||304==e||0==e&&Ext.isNumber(i),n=!1;if(!i)switch(e){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:n=!0}return{success:i,isException:n}}},start:function(e){var t=this,i=t.options,n=t.requestOptions,r=t.isXdr,o=t.xhr=t.openRequest(i,n,t.async,t.username,t.password);return r||t.setupHeaders(o,i,n.data,n.params),t.async&&(r||(o.onreadystatechange=Ext.Function.bind(t.onStateChange,t))),r&&t.processXdrRequest(t,o),t.callParent([e]),o.send(e),t.async?t:t.onComplete()},abort:function(e){var t=this,i=t.xhr;if(e||t.isLoading()){try{i.onreadystatechange=null}catch(e){i.onreadystatechange=Ext.emptyFn}i.abort(),t.callParent([e]),t.onComplete(),t.cleanup()}},cleanup:function(){this.xhr=null,delete this.xhr},isLoading:function(){var e=this.xhr,t=e&&e.readyState,i=Ext.data.flash&&Ext.data.flash.BinaryXhr;return!(!e||this.aborted||this.timedout)&&((i&&e instanceof i||0!==t)&&4!==t)},openRequest:function(e,t,i,n,r){var o=this.newRequest(e);return n?o.open(t.method,t.url,i,n,r):this.isXdr?o.open(t.method,t.url):o.open(t.method,t.url,i),(e.binary||this.binary)&&(window.Uint8Array?o.responseType="arraybuffer":o.overrideMimeType?o.overrideMimeType("text/plain; charset=x-user-defined"):Ext.isIE||Ext.log.warn("Your browser does not support loading binary data using Ajax.")),(e.withCredentials||this.withCredentials)&&(o.withCredentials=!0),o},newRequest:function(e){var t,i=this;return e.binaryData?t=window.Uint8Array?i.getXhrInstance():new Ext.data.flash.BinaryXhr:i.cors&&Ext.isIE9m?(t=i.getXdrInstance(),i.isXdr=!0):(t=i.getXhrInstance(),i.isXdr=!1),t},setupHeaders:function(e,t,i,n){var r,o,s=this,a=Ext.apply({},t.headers||{},s.defaultHeaders),l=s.defaultPostHeader,d=t.jsonData,c=t.xmlData,u="Content-Type",h=s.useDefaultXhrHeader;a.hasOwnProperty(u)||!i&&!n||(i&&(t.rawData?l="text/plain":c&&Ext.isDefined(c)?l="text/xml":d&&Ext.isDefined(d)&&(l="application/json")),a[u]=l),h&&!a["X-Requested-With"]&&(a["X-Requested-With"]=s.defaultXhrHeader),void 0!==a[u]&&null!==a[u]||delete a[u];try{for(r in a)a.hasOwnProperty(r)&&(o=a[r],e.setRequestHeader(r,o))}catch(e){s.owner.fireEvent("exception",r,o)}return a},getXdrInstance:function(){var e;return 8<=Ext.ieVersion?e=new XDomainRequest:Ext.raise({msg:"Your browser does not support CORS"}),e},getXhrInstance:function(){for(var e,t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],i=0,n=t.length;i<n;++i)try{(e=t[i])();break}catch(e){}return e}(),processXdrRequest:function(e,t){delete e.headers,e.contentType=e.options.contentType||this.defaultXdrContentType,t.onload=Ext.Function.bind(this.onStateChange,this,[!0]),t.onerror=t.ontimeout=Ext.Function.bind(this.onStateChange,this,[!1])},processXdrResponse:function(e,t){e.getAllResponseHeaders=function(){return[]},e.getResponseHeader=function(){return""},e.contentType=t.contentType||this.defaultXdrContentType},onStateChange:function(e){var t=this.xhr,i=Ext.GlobalEvents;(t&&4==t.readyState||this.isXdr)&&(this.clearTimer(),this.onComplete(e),this.cleanup(),i.hasListeners.idle&&i.fireEvent("idle"))},onComplete:function(e){var t,i,n=this,r=n.owner,o=n.options,s=n.xhr,a={success:!1,isException:!1};if(!s||n.destroyed)return n.result=a;try{(t=Ext.data.request.Ajax.parseStatus(s.status,s)).success&&(t.success=4===s.readyState)}catch(e){t=a}return(a=n.success=n.isXdr?e:t.success)?(i=n.createResponse(s),r.hasListeners.requestcomplete&&r.fireEvent("requestcomplete",r,i,o),o.success&&Ext.callback(o.success,o.scope,[i,o])):(i=t.isException||n.aborted||n.timedout?n.createException(s):n.createResponse(s),r.hasListeners.requestexception&&r.fireEvent("requestexception",r,i,o),o.failure&&Ext.callback(o.failure,o.scope,[i,o])),n.result=i,o.callback&&Ext.callback(o.callback,o.scope,[o,a,i]),r.onRequestComplete(n),n.callParent([e]),i},createResponse:function(e){for(var t,i,n,r,o=this.isXdr,s={},a=o?[]:e.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),l=a.length;l--;)0<=(i=(t=a[l]).indexOf(":"))&&(n=t.substr(0,i).toLowerCase()," "==t.charAt(i+1)&&++i,s[n]=t.substr(i+1));return r={request:this,requestId:this.id,status:e.status,statusText:e.statusText,getResponseHeader:function(e){return s[e.toLowerCase()]},getAllResponseHeaders:function(){return s}},o&&this.processXdrResponse(r,e),this.binary?r.responseBytes=this.getByteArray(e):(r.responseText=e.responseText,r.responseXML=e.responseXML),r},destroy:function(){this.xhr=null,this.callParent()},privates:{getByteArray:function(e){var t,i,n,r,o=e.response,s=e.responseBody;if(e instanceof(Ext.data.flash&&Ext.data.flash.BinaryXhr))t=e.responseBytes;else if(window.Uint8Array)t=o?new Uint8Array(o):[];else if(Ext.isIE9p)try{t=new VBArray(s).toArray()}catch(e){t=[]}else if(Ext.isIE)this.self.vbScriptInjected||this.injectVBScript(),getIEByteArray(e.responseBody,t=[]);else for(t=[],n=(i=e.responseText).length,r=0;r<n;r++)t.push(255&i.charCodeAt(r));return t},injectVBScript:function(){var e=document.createElement("script");e.type="text/vbscript",e.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n"),Ext.getHead().dom.appendChild(e),this.self.vbScriptInjected=!0}}}),Ext.define("Ext.data.request.Form",{extend:"Ext.data.request.Base",alias:"request.form",start:function(e){var t=this.options,i=this.requestOptions;return this.callParent([e]),this.form=this.upload(t.form,i.url,i.data,t),this},abort:function(e){var t;if(this.isLoading())try{(t=this.frame.dom).stop?t.stop():t.document.execCommand("Stop")}catch(e){}this.callParent([e]),this.onComplete(),this.cleanup()},cleanup:function(){var e=this.frame;e&&(e.un("load",this.onComplete,this),Ext.removeNode(e)),this.frame=this.form=null},isLoading:function(){return!!this.frame},upload:function(i,e,t,n){i=Ext.getDom(i),n=n||{};function r(e,t){o=document.createElement("input"),Ext.fly(o).set({type:"hidden",value:t,name:e}),i.appendChild(o),m.push(o)}var o,s,a,l,d,c,u,h,f=document.createElement("iframe"),g=Ext.get(f),p=g.id,m=[],x="multipart/form-data",n={target:i.target,method:i.method,encoding:i.encoding,enctype:i.enctype,action:i.action};if(g.set({name:p,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL,tabIndex:-1}),document.body.appendChild(f),document.frames&&(document.frames[p].name=p),Ext.fly(i).set({target:p,method:"POST",enctype:x,encoding:x,action:e||n.action}),t)for(l in s=Ext.Object.fromQueryString(t)||{})if(s.hasOwnProperty(l))if(a=s[l],Ext.isArray(a))for(d=a.length,c=0;c<d;c++)r(l,a[c]);else r(l,a);for((this.frame=g).on({load:this.onComplete,scope:this,single:!Ext.isOpera}),i.submit(),Ext.fly(i).set(n),u=m.length,h=0;h<u;h++)Ext.removeNode(m[h]);return i},getDoc:function(){var e=this.frame.dom;return e&&(e.contentWindow.document||e.contentDocument)||(window.frames[e.id]||{}).document},getTimeout:function(){return this.options.timeout},onComplete:function(){var t,e,i,n,r,o=this,s=o.frame,a=o.owner,l=o.options;if(s){if(o.aborted||o.timedout)o.result=r=o.createException(),r.responseXML=null,r.responseText='{success:false,message:"'+Ext.String.trim(r.statusText)+'"}',r.request=o,t=l.failure,i=!1;else try{if(e=o.getDoc(),o.result=r={responseText:"",responseXML:null,request:o},e){if(Ext.isOpera&&e.location==Ext.SSL_SECURE_URL)return;e.body&&((n=e.body.firstChild)&&/pre/i.test(n.tagName)?r.responseText=n.textContent||n.innerText:(n=e.getElementsByTagName("textarea")[0])?r.responseText=n.value:r.responseText=e.body.textContent||e.body.innerText),r.responseXML=e.XMLDocument||e,t=l.success,i=!0,r.status=200}else Ext.raise("Could not acquire a suitable connection for the file upload service.")}catch(e){o.result=r=o.createException(),r.status=400,r.statusText=(e.message||e.description)+"",r.responseText='{success:false,message:"'+Ext.String.trim(r.statusText)+'"}',r.responseXML=null,t=l.failure,i=!1}o.frame=null,o.success=i,a.fireEvent(i?"requestcomplete":"requestexception",a,r,l),Ext.callback(t,l.scope,[r,l]),Ext.callback(l.callback,l.scope,[l,i,r]),a.onRequestComplete(o),Ext.asap(s.destroy,s),o.callParent()}},destroy:function(){this.cleanup(),this.callParent()}}),Ext.define("Ext.data.Connection",{mixins:{observable:"Ext.mixin.Observable"},requires:["Ext.data.request.Ajax","Ext.data.request.Form","Ext.data.flash.BinaryXhr","Ext.Deferred"],statics:{requestId:0},enctypeRe:/multipart\/form-data/i,config:{url:null,async:!0,username:"",password:"",disableCaching:!0,withCredentials:!1,binary:!1,cors:!1,isXdr:!1,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:3e4,extraParams:null,autoAbort:!1,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:!0,defaultXhrHeader:"XMLHttpRequest"},constructor:function(e){this.mixins.observable.constructor.call(this,e),this.requests={}},request:function(e){e=e||{};var t;return!1!==this.fireEvent("beforerequest",this,e)?(t=this.setOptions(e,e.scope||Ext.global),this.createRequest(e,t).start(t.data)):(Ext.callback(e.callback,e.scope,[e,void 0,void 0]),Ext.Deferred.rejected([e,void 0,void 0]))},createRequest:function(e,t){var i=(i=e.type||t.type)||(this.isFormUpload(e)?"form":"ajax");return(e.autoAbort||this.getAutoAbort())&&this.abort(),t=Ext.Factory.request({type:i,owner:this,options:e,requestOptions:t,ownerConfig:this.getConfig()}),this.requests[t.id]=t,this.latestId=t.id,t},isFormUpload:function(e){var t=this.getForm(e);return!!t&&(e.isUpload||this.enctypeRe.test(t.getAttribute("enctype")))},getForm:function(e){return Ext.getDom(e.form)},setOptions:function(e,t){var i=e.params||{},n=this.getExtraParams(),r=e.urlParams,o=e.url||this.getUrl(),s=e.cors,a=e.jsonData;return void 0!==s&&this.setCors(s),Ext.isFunction(i)&&(i=i.call(t,e)),Ext.isFunction(o)&&(o=o.call(t,e)),(o=this.setupUrl(e,o))||Ext.raise({options:e,msg:"No URL specified"}),t=e.rawData||e.binaryData||e.xmlData||a||null,a&&!Ext.isPrimitive(a)&&(t=Ext.encode(t)),e.binaryData&&(Ext.isArray(e.binaryData)||Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof e.binaryData),this.nativeBinaryPostSupport()&&(t=new Uint8Array(e.binaryData),(Ext.isChrome&&Ext.chromeVersion<22||Ext.isSafari||Ext.isGecko)&&(t=t.buffer))),Ext.isObject(i)&&(i=Ext.Object.toQueryString(i)),Ext.isObject(n)&&(n=Ext.Object.toQueryString(n)),i+=n?(i?"&":"")+n:"",r=Ext.isObject(r)?Ext.Object.toQueryString(r):r,i=this.setupParams(e,i),a=(e.method||this.getMethod()||(i||t?"POST":"GET")).toUpperCase(),this.setupMethod(e,a),n=!1!==e.disableCaching&&(e.disableCaching||this.getDisableCaching()),"GET"===a&&n&&(o=Ext.urlAppend(o,(e.disableCachingParam||this.getDisableCachingParam())+"="+(new Date).getTime())),("GET"==a||t)&&i&&(o=Ext.urlAppend(o,i),i=null),r&&(o=Ext.urlAppend(o,r)),{url:o,method:a,data:t||i||null}},setupUrl:function(e,t){e=this.getForm(e);return e&&(t=t||e.action),t},setupParams:function(e,t){var i=this.getForm(e);return i&&!this.isFormUpload(e)&&(i=Ext.Element.serializeForm(i),t=t?t+"&"+i:i),t},setupMethod:function(e,t){return this.isFormUpload(e)?"POST":t},isLoading:function(e){return!!(e=e||this.getLatest())&&e.isLoading()},abort:function(e){(e=e||this.getLatest())&&e.isLoading()&&e.abort()},abortAll:function(){var e,t=this.requests;for(e in t)this.abort(t[e])},getLatest:function(){var e,t=this.latestId;return t&&(e=this.requests[t]),e||null},clearTimeout:function(e){(e=e||this.getLatest())&&e.clearTimer()},onRequestComplete:function(e){delete this.requests[e.id]},nativeBinaryPostSupport:function(){return Ext.isChrome||Ext.isSafari&&Ext.isDefined(window.Uint8Array)||Ext.isGecko&&Ext.isDefined(window.Uint8Array)}}),Ext.define("Ext.Ajax",{extend:"Ext.data.Connection",singleton:!0,autoAbort:!1}),Ext.define("Ext.AnimationQueue",{singleton:!0,constructor:function(){var e=this;e.queue=[],e.taskQueue=[],e.runningQueue=[],e.idleQueue=[],e.isRunning=!1,e.isIdle=!0,e.run=Ext.Function.bind(e.run,e),Ext.os.is.iOS&&Ext.interval(e.watch,500,e)},start:function(e,t,i){var n=this;n.queue.push(arguments),n.isRunning||(n.hasOwnProperty("idleTimer")&&(clearTimeout(n.idleTimer),delete n.idleTimer),n.hasOwnProperty("idleQueueTimer")&&(clearTimeout(n.idleQueueTimer),delete n.idleQueueTimer),n.isIdle=!1,n.isRunning=!0,n.startCountTime=Ext.now(),n.count=0,n.doStart())},watch:function(){this.isRunning&&500<=Ext.now()-this.lastRunTime&&this.run()},run:function(){var e=this;if(e.isRunning){var t,i,n=e.runningQueue,r=Ext.now();for(e.lastRunTime=r,e.frameStartTime=r,n.push.apply(n,e.queue),t=0,i=n.length;t<i;t++)e.invoke(n[t]);n.length=0;var o=e.frameStartTime-e.startCountTime,r=++e.count;200<=o&&(e.onFpsChanged(1e3*r/o,r,o),e.startCountTime=e.frameStartTime,e.count=0),e.doIterate()}},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run),this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,t,i){if(this.isRunning){for(var n,r=this.queue,o=r.length,s=0;s<o;s++)(n=r[s])[0]===e&&n[1]===t&&n[2]===i&&(r.splice(s,1),s--,o--);0===o&&(this.doStop(),this.onStop(),this.isRunning=!1,this.idleTimer=Ext.defer(this.whenIdle,100,this))}},onIdle:function(e,t,i){for(var n,r=this.idleQueue,o=0,s=r.length;o<s;o++)if(e===(n=r[o])[0]&&t===n[1]&&i===n[2])return;r.push(arguments),this.isIdle&&this.processIdleQueue()},unIdle:function(e,t,i){for(var n,r=this.idleQueue,o=0,s=r.length;o<s;o++)if(e===(n=r[o])[0]&&t===n[1]&&i===n[2])return r.splice(o,1),!0;return!1},queueTask:function(e,t,i){this.taskQueue.push(arguments),this.processTaskQueue()},dequeueTask:function(e,t,i){for(var n,r=this.taskQueue,o=0,s=r.length;o<s;o++)e===(n=r[o])[0]&&t===n[1]&&i===n[2]&&(r.splice(o,1),o--,s--)},invoke:function(e){var t=e[0],i=e[1],e=e[2],t="string"==typeof t?i[t]:t;Ext.isArray(e)?t.apply(i,e):t.call(i,e)},whenIdle:function(){this.isIdle=!0,this.processIdleQueue()},processIdleQueue:function(){this.hasOwnProperty("idleQueueTimer")||(this.idleQueueTimer=Ext.defer(this.processIdleQueueItem,1,this))},processIdleQueueItem:function(){var e;delete this.idleQueueTimer,!this.isIdle||0<(e=this.idleQueue).length&&(e=e.shift(),this.invoke(e),this.processIdleQueue())},processTaskQueue:function(){this.hasOwnProperty("taskQueueTimer")||(this.taskQueueTimer=Ext.defer(this.processTaskQueueItem,15,this))},processTaskQueueItem:function(){delete this.taskQueueTimer;var e=this.taskQueue;0<e.length&&(e=e.shift(),this.invoke(e),this.processTaskQueue())},showFps:function(){var e={color:"white","background-color":"black","text-align":"center","font-family":"sans-serif","font-size":"8px","font-weight":"normal","font-style":"normal","line-height":"20px","-webkit-font-smoothing":"antialiased",zIndex:1e5,position:"absolute"};Ext.getBody().append([{style:Ext.applyIf({bottom:"50px",left:0,width:"50px",height:"20px"},e),html:"Average"},{style:Ext.applyIf({"background-color":"red","font-size":"18px","line-height":"50px",bottom:0,left:0,width:"50px",height:"50px"},e),id:"__averageFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"50px",width:"50px",height:"20px"},e),html:"Min (Last 1k)"},{style:Ext.applyIf({"background-color":"orange","font-size":"18px","line-height":"50px",bottom:0,left:"50px",width:"50px",height:"50px"},e),id:"__minFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"100px",width:"50px",height:"20px"},e),html:"Max (Last 1k)"},{style:Ext.applyIf({"background-color":"maroon","font-size":"18px","line-height":"50px",bottom:0,left:"100px",width:"50px",height:"50px"},e),id:"__maxFps",html:"0"},{style:Ext.applyIf({bottom:"50px",left:"150px",width:"50px",height:"20px"},e),html:"Current"},{style:Ext.applyIf({"background-color":"green","font-size":"18px","line-height":"50px",bottom:0,left:"150px",width:"50px",height:"50px"},e),id:"__currentFps",html:"0"}]),Ext.AnimationQueue.resetFps()},resetFps:function(){var t=Ext.get("__currentFps"),i=Ext.get("__averageFps"),n=Ext.get("__minFps"),r=Ext.get("__maxFps"),o=1e3,s=0,a=0,l=0;t&&(Ext.AnimationQueue.onFpsChanged=function(e){++a%10||(o=1e3,s=0),l+=e,o=Math.min(o,e),s=Math.max(s,e),t.setHtml(Math.round(e)),i.setHtml(Math.round(l/a)),n.setHtml(Math.round(o)),r.setHtml(Math.round(s))})}},function(){var e=window.location.search.substr(1).split("&");Ext.Array.contains(e,"showfps")&&Ext.onReady(Ext.Function.bind(this.showFps,this))}),Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:!0,count:0,typeName:"xtype",constructor:function(e){Ext.apply(this,e||{}),this.all={},this.references={},this.onAvailableCallbacks={}},create:function(e,t){return"string"==typeof e?Ext.widget(e):e.isComponent?e:"xclass"in e?Ext.create(e.xclass,e):Ext.widget(e.xtype||t,e)},get:function(e){return this.all[e]},register:function(e){var t=this.all,i=e.getId(),n=this.onAvailableCallbacks;void 0===i&&Ext.raise("Component id is undefined. Please ensure the component has an id."),i in t&&Ext.raise('Registering duplicate component id "'+i+'"'),(t[i]=e).getReference&&e.getReference()&&(this.references[i]=e),++this.count,this.hasFocusListener||(Ext.on("focus",this.onGlobalFocus,this),this.hasFocusListener=!0),(n=n&&n[i])&&n.length&&this.notifyAvailable(e)},unregister:function(e){var t=e.getId();e.getReference&&e.getReference()&&(this.references[t]=null,delete this.references[t]),this.all[t]=null,delete this.all[t],this.count--},markReferencesDirty:function(){this.referencesDirty=!0},fixReferences:function(){var e,t=this.references;if(this.referencesDirty){for(e in t)t.hasOwnProperty(e)&&t[e].fixReference();this.referencesDirty=!1}},onAvailable:function(e,t,i){var n=this.onAvailableCallbacks,r=this.all;e in r?(r=r[e],t.call(i||r,r)):e&&(Ext.isArray(n[e])||(n[e]=[]),n[e].push(function(e){t.call(i||e,e)}))},notifyAvailable:function(e){for(var t=this.onAvailableCallbacks[e&&e.getId()]||[];t.length;)t.shift()(e)},each:function(e,t){return Ext.Object.each(this.all,e,t)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},getActiveComponent:function(){return Ext.Component.fromElement(Ext.dom.Element.getActiveElement())},onGlobalFocus:function(e){var t,i,n=e.toElement,r=e.fromElement,o=Ext.Component.fromElement(n),s=Ext.Component.fromElement(r);if(o!==s){if(t=this.getCommonAncestor(s,o),s&&!s.destroyed&&!s.destroying)for(s.handleBlurEvent&&s.handleBlurEvent(e),i=s;i&&i!==t;i=i.getRefOwner())i.destroyed||i.destroying||i.onFocusLeave({event:e.event,type:"focusleave",target:r,relatedTarget:n,fromComponent:s,toComponent:o});if(o&&!o.destroyed&&!o.destroying)for(o.handleFocusEvent&&o.handleFocusEvent(e),i=o;i&&i!==t;i=i.getRefOwner())i.onFocusEnter({event:e.event,type:"focusenter",relatedTarget:r,target:n,fromComponent:s,toComponent:o})}},getCommonAncestor:function(e,t){if(e===t)return e;for(;e&&!e.isAncestor(t)&&e!==t;)e=e.getRefOwner();return e},privates:{clearAll:function(){this.all={},this.references={},this.onAvailableCallbacks={}},fromElement:function(e,t,i){var n,r,o=Ext.getDom(e),s=this.all,a=0;for("number"!=typeof t&&(n=Ext.getDom(t),t=Number.MAX_VALUE);o&&1===o.nodeType&&a<t&&o!==n;){if(r=o.getAttribute("data-componentid")||o.id){if((r=s[r])&&(!i||Ext.ComponentQuery.is(r,i)))return r;a++}o=o.parentNode}return null}},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(e){return Ext.ComponentManager.get(e)}}),Ext.ns("Ext.util").Operators={"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"^=":function(e,t){return e&&e.substr(0,t.length)==t},"$=":function(e,t){return e&&e.substr(e.length-t.length)==t},"*=":function(e,t){return e&&-1!==e.indexOf(t)},"%=":function(e,t){return e%t==0},"|=":function(e,t){return e&&(e==t||e.substr(0,t.length+1)==t+"-")},"~=":function(e,t){return e&&-1!=(" "+e+" ").indexOf(" "+t+" ")}},Ext.define("Ext.util.LruCache",{extend:"Ext.util.HashMap",config:{maxSize:null},add:function(e,t){var i,n;return this.removeAtKey(e),i={prev:n=this.last,next:null,key:e,value:t},n?n.next=i:this.first=i,this.last=i,this.callParent([e,i]),this.prune(),t},insertBefore:function(e,t,i){var n,r;return(i=this.map[this.findKey(i)])?((n=this.findKey(t))?this.unlinkEntry(r=this.map[n]):r={prev:i.prev,next:i,key:e,value:t},i.prev?r.prev.next=r:this.first=r,(r.next=i).prev=r,this.prune(),t):this.add(e,t)},get:function(e){e=this.map[e];if(e)return e.next&&this.moveToEnd(e),e.value},removeAtKey:function(e){return this.unlinkEntry(this.map[e]),this.callParent(arguments)},clear:function(e){return this.first=this.last=null,this.callParent([e])},unlinkEntry:function(e){e&&(e.next?e.next.prev=e.prev:this.last=e.prev,e.prev?e.prev.next=e.next:this.first=e.next,e.prev=e.next=null)},moveToEnd:function(e){this.unlinkEntry(e),(e.prev=this.last)?this.last.next=e:this.first=e,this.last=e},getArray:function(e){for(var t=[],i=this.first;i;)t.push(e?i.key:i.value),i=i.next;return t},each:function(e,t,i){var n=i?this.last:this.first,r=this.length;for(t=t||this;n&&!1!==e.call(t,n.key,n.value,r);)n=i?n.prev:n.next;return this},findKey:function(e){var t,i=this.map;for(t in i)if(i.hasOwnProperty(t)&&i[t].value===e)return t},clone:function(){var e,t=new this.self(this.initialConfig),i=this.map;for(e in t.suspendEvents(),i)i.hasOwnProperty(e)&&t.add(e,i[e].value);return t.resumeEvents(),t},prune:function(){var e=this.getMaxSize(),t=e?this.length-e:0;if(0<t)for(;this.first&&t;t--)this.removeAtKey(this.first.key)}}),Ext.define("Ext.ComponentQuery",{singleton:!0,requires:["Ext.ComponentManager","Ext.util.Operators","Ext.util.LruCache"]},function(){function u(e,t){return t.method.apply(this,[e].concat(t.args))}function h(e,t){for(var i,n=[],r=0,o=e.length,s=">"!==t;r<o;r++)(i=e[r]).getRefItems&&(n=n.concat(i.getRefItems(s)));return n}function f(e){for(var t,i=[],n=0,r=e.length;n<r;n++)for(t=e[n];t=t.getRefOwner();)i.push(t);return i}function g(e,t,i){if("*"===t)return e.slice();for(var n,r=[],o=0,s=e.length;o<s;o++)(n=e[o]).isXType(t,i)&&r.push(n);return r}function p(e,t,i){for(var n,r=[],o=0,s=e.length;o<s;o++)n=e[o],(i?n.id:n.getItemId())===t&&r.push(n);return r}var m=this,x=Ext.util.Operators,l=/(\d*)n\+?(\d*)/,d=/\D/,E=/^(\s)+/,y=/\\(.)/g,a=new Ext.util.LruCache({maxSize:100}),e=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),v=/^(\s?([>\^])\s?|\s|$)/,b=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,C=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:g,argTransform:function(e){var t=e[0];return Ext.log.warn('"'+t+'" ComponentQuery selector style is deprecated, use "'+t.replace(/^\./,"")+'" without the leading dot instead'),void 0!==e[1]&&(e[1]=e[1].replace(y,"$1")),e.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:function(e,t,i,n){var r,o,s,a,l,d,c,u=[],h=0,f=e.length;for("@"===t.charAt(0)&&(r=!0,t=t.substr(1)),"?"===t.charAt(0)&&(o=r=!0,t=t.substr(1));h<f;h++){if(c=(s=e[h]).self&&s.self.getConfigurator&&s.self.$config.configs[t])a=s[c.names.get]();else{if(r&&!s.hasOwnProperty(t))continue;a=s[t]}if(o)u.push(s);else if("~="===i){if(a)for(Ext.isArray(a)||(a=a.split(" ")),l=0,d=a.length;l<d;l++)if(x[i](Ext.coerce(a[l],n),n)){u.push(s);break}}else"/="===i?null!=a&&n.test(a)&&u.push(s):(n?x[i](Ext.coerce(a,n),n):s[t])&&u.push(s)}return u},argTransform:function(e){var t,i,n=e[0],r=e[1],o=e[2],s=e[4];return void 0!==s&&(s=s.replace(y,"$1"),t=Ext.String.format,i="ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})",(e=/^(['"]).*?[^'"]$/.exec(s))?Ext.log.warn(t(i,n,e[1],"beginning")):(e=/^[^'"].*?(['"])$/.exec(s))&&Ext.log.warn(t(i,n,e[1],"end"))),"/="===o&&(s=a.get(s)||a.add(s,new RegExp(s))),[r,o,s]}},{re:/^#((?:\\\.|[\w\-])+)/,method:p},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:function(e,t,i){return m.pseudos[t](e,i)},argTransform:function(e){return void 0!==e[2]&&(e[2]=e[2].replace(y,"$1")),e.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:e}];m.Query=Ext.extend(Object,{constructor:function(e){e=e||{},Ext.apply(this,e)},execute:function(e){for(var t,i=this.operations,n=[],r=0,o=i.length;r<o;r++)t=i[r],n=n.concat(this._execute(e,t));return n},_execute:function(e,t){var i,n,r=0,o=t.length;for(e?Ext.isIterable(e)?n=e:e.isMixedCollection&&(n=e.items):n=Ext.ComponentManager.getAll();r<o;r++)if(n="^"===(i=t[r]).mode?f(n||[e]):i.mode?h(n||[e],i.mode):u(n||h([e]),i),r===o-1)return n;return[]},is:function(e,t){var i,n,r,o=this.operations,s=o.length;if(0===s)return!0;for(r=0;r<s;r++)if(n=o[r],i=this._is(e,t,n))return i;return!1},_is:function(e,t,i){for(var n,r,o,s,a,l=i.length,d=[e],c=l-1;0<=c;--c){if(o=(n=i[c]).mode)if("^"===o)d=h(d," ");else if(">"===o){for(s=[],r=0,l=d.length;r<l;++r)(a=d[r].getRefOwner())&&s.push(a);d=s}else d=f(d);else d=u(d,n);if(0===d.length)return!1}return!t||(o||(d=f(d)),0<d.length&&(d=u(d,{method:p,args:[t.id,!0]})),0!==d.length)},getMatches:function(e,t){for(var i=t.length,n=0;n<i&&0!==(e=u(e,t[n])).length;++n);return e},isMultiMatch:function(){return 1<this.operations.length}}),Ext.apply(m,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(e,t){for(var i,n=0,r=e.length,o=[],s=-1;n<r;++n)i=e[n],m.is(i,t)||(o[++s]=i);return o},first:function(e){var t=[];return 0<e.length&&t.push(e[0]),t},last:function(e){var t=e.length,i=[];return 0<t&&i.push(e[t-1]),i},focusable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)(t=e[r]).isFocusable&&t.isFocusable()&&n.push(t);return n},canfocus:function(e,t){for(var i,n=e.length,r=[],o=0;o<n;o++)(i=e[o]).canFocus&&i.canFocus(!1,t)&&r.push(i);return r},"nth-child":function(e,t){for(var i,n,r=[],t=l.exec(("even"===t?"2n":"odd"===t&&"2n+1")||!d.test(t)&&"n+"+t||t),o=+(t[1]||1),s=+t[2],a=0;i=e[a];a++)n=a+1,1==o?0!=s&&n!==s||r.push(i):(n+s)%o==0&&r.push(i);return r},scrollable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)((t=e[r]).scrollable||t._scrollable)&&n.push(t);return n},visible:function(e,t){t="true"===t;for(var i,n=e.length,r=[],o=0;o<n;o++)(i=e[o]).isVisible(t)&&r.push(i);return r}},query:function(e,t){if(!e)return Ext.ComponentManager.all.getArray();var i,n,r,o=[],s=[],a={},l=m.cache.get(e),o=(l=l||m.cache.add(e,m.parse(e))).execute(t);if(l.isMultiMatch()){for(i=o.length,r=0;r<i;r++)a[(n=o[r]).id]||(s.push(n),a[n.id]=!0);o=s}return o},visitPreOrder:function(e,t,i,n,r){m._visit(!0,e,t,i,n,r)},visitPostOrder:function(e,t,i,n,r){m._visit(!1,e,t,i,n,r)},_visit:function(e,t,i,n,r,o){var s,a,l=[i],d=0,c=(m.cache.get(t)||m.cache.add(t,m.parse(t))).is(i);if(i.getRefItems&&(d=(s=i.getRefItems()).length),o&&Ext.Array.push(l,o),e&&c&&!1===n.apply(r||i,l))return!1;for(a=0;a<d;a++)if(!1===m._visit.call(m,e,t,s[a],n,r,o))return!1;return!(!e&&c&&!1===n.apply(r||i,l))&&void 0},is:function(e,t,i){return!t||(m.cache.get(t)||m.cache.add(t,m.parse(t))).is(e,i)},parse:function(e){for(var t,i=[],n=Ext.splitAndUnescape(e,","),r=0,o=n.length;r<o;r++)""===(t=Ext.String.trim(n[r]))&&Ext.raise('Invalid ComponentQuery selector: ""'),i.push(m._parse(t));return new m.Query({operations:i})},_parse:function(e){for(var t,i,n,r,o,s,a,l,d,c,u=[],h=Ext.String.trim,f=C.length;e&&t!==e;){for((i=(t=e).match(b))&&(r=i[1],n=h(i[2]).replace(y,"$1"),"#"===r?u.push({method:p,args:[n]}):u.push({method:g,args:[n,Boolean(i[3])]}),e=e.replace(i[0],"").replace(E,"$1"));!(o=e.match(v));)for(a=0;e&&a<f;a++){if(l=C[a],s=e.match(l.re),d=l.method,c=l.argTransform,s){c=c?c(s):s.slice(1),u.push({method:Ext.isString(l.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[d].concat(s.slice(1)))):l.method,args:c}),e=e.replace(s[0],"").replace(E,"$1");break}a===f-1&&Ext.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}o[1]&&(u.push({mode:o[2]||o[1]}),e=e.replace(o[0],"").replace(E,""))}return u}}),Ext.all=function(){return m.query.apply(m,arguments)},Ext.first=function(){var e=m.query.apply(m,arguments);return e&&e[0]||null}}),Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:["Ext.mixin.Observable"],initialized:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.initialized=!0},onClassExtended:function(e,t){if(t.hasOwnProperty("eventedConfig")){var i,n,r=t.config,o=t.eventedConfig;for(i in r?Ext.applyIf(r,o):e.addConfig(o),o)o.hasOwnProperty(i)&&(t[(n=Ext.Config.get(i)).names.set]=n.eventedSetter||n.getEventedSetter())}}}),Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],clippedCls:Ext.baseCSSPrefix+"clipped",afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(e,t){t=this.getConstrainVector(t,e);return t&&(e[0]+=t[0],e[1]+=t[1]),e},alignTo:function(e,t,i,n){var r=this.el;return this.setXY(this.getAlignToXY(e,t,i),!(!r.anim||!n)&&r.anim(n))},calculateAnchorXY:function(e,t,i,n){var r=this.getRegion();return r.setPosition(0,0),r.translateBy(t||0,i||0),n&&(r.setWidth(n.width),r.setHeight(n.height)),r.getAnchorPoint(e)},convertPositionSpec:function(e){return Ext.util.Region.getAlignInfo(e)},getAlignToXY:function(e,t,i){i=this.getAlignToRegion(e,t,i);return[i.x,i.y]},getAlignToRegion:function(e,t,i,n){var r;return(e=Ext.get(e.el||e))&&e.dom||Ext.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"}),(t=this.convertPositionSpec(t)).constrain&&(r="!"===t.constrain?e:this.constrainTo||this.container||this.el.parent(),r=Ext.get(r.el||r).getConstrainRegion()),this.getRegion().alignTo({target:e.getRegion(),inside:r,minHeight:n,offset:i,align:t,axisLock:!0})},getAnchorXY:function(e,t,i){var n=this.getRegion(),r=this.el,o="BODY"===r.dom.nodeName||9===r.dom.nodeType,r=r.getScroll();return t?n.setPosition(0,0):o&&n.setPosition(r.left,r.top),i&&(n.setWidth(i.width),n.setHeight(i.height)),n.getAnchorPoint(e)},getBox:function(e,t){var i,n=t?this.getLocalXY():this.getXY(),r=n[0],o=n[1],s="BODY"===this.el.dom.nodeName||9===this.el.dom.nodeType?(i=Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight()):(i=this.getWidth(),this.getHeight());return e&&(r+=n=(t=this.getBorderPadding()).beforeX,o+=e=t.beforeY,i-=n+t.afterX,s-=e+t.afterY),{x:r,left:r,0:r,y:o,top:o,1:o,width:i,height:s,right:r+i,bottom:o+s}},calculateConstrainedPosition:function(e,t,i,n){var r,o,s=this,a=s.floatParent,l=a?a.getTargetEl():null,d=!1;return i&&a?(r=l.getXY(),a=l.getBorderPadding(),r[0]+=a.beforeX,r[1]+=a.beforeY,t&&(o=[t[0]+r[0],t[1]+r[1]])):o=t,e=e||s.constrainTo||l||s.container||s.el.parent(),i&&o&&(o=s.reverseTranslateXY(o)),(n=(s.constrainHeader&&s.header.rendered?s.header:s).getConstrainVector(e,o,n))&&((d=t||s.getPosition(i))[0]+=n[0],d[1]+=n[1]),d},getConstrainRegion:function(){var e,t=this.el,i="BODY"===t.dom.nodeName,n=t.dom,r=t.getBorders(),o=t.getXY(),s=o[0]+r.beforeX,r=o[1]+r.beforeY,n=i?(s=(e=t.getScroll()).left,r=e.top,e=Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight()):(e=n.clientWidth,n.clientHeight);return new Ext.util.Region(r,s+e,r+n,s)},getConstrainVector:function(e,t,i){var n=this.getRegion(),r=[0,0],o=this.shadow&&this.constrainShadow&&!this.shadowDisabled?this.el.shadow.getShadowSize():void 0,s=!1,a=this.constraintInsets;return e instanceof Ext.util.Region||(e=(e=Ext.get(e.el||e)).getConstrainRegion()),a&&(a=Ext.isObject(a)?a:Ext.Element.parseBox(a),e.adjust(a.top,a.right,a.bottom,a.left)),t&&n.translateBy(t[0]-n.x,t[1]-n.y),i&&(n.right=n.left+i[0],n.bottom=n.top+i[1]),o&&e.adjust(o[0],-o[1],-o[2],o[3]),n.right>e.right&&(s=!0,r[0]=e.right-n.right),n.left+r[0]<e.left&&(s=!0,r[0]=e.left-n.left),n.bottom>e.bottom&&(s=!0,r[1]=e.bottom-n.bottom),n.top+r[1]<e.top&&(s=!0,r[1]=e.top-n.top),!!s&&r},getOffsetsTo:function(e){var t=this.getXY(),e=Ext.fly(e.el||e).getXY();return[t[0]-e[0],t[1]-e[1]]},getRegion:function(e){e=this.getBox(e);return new Ext.util.Region(e.top,e.right,e.bottom,e.left)},getClientRegion:function(){var e=this.el,t=this.getBorderPadding(),i=this.getXY(),n=i[0]+t.beforeX,i=i[1]+t.beforeY,t=e.dom.clientWidth,e=e.dom.clientHeight;return new Ext.util.Region(i,n+t,i+e,n)},getViewRegion:function(){var e,t,i,n,r=this.el,o="BODY"===r.dom.nodeName?(i=(e=r.getScroll()).left,t=e.top,n=Ext.Element.getViewportWidth(),Ext.Element.getViewportHeight()):(o=this.getBorderPadding(),i=(e=this.getXY())[0]+o.beforeX,t=e[1]+o.beforeY,n=this.getWidth(!0),this.getHeight(!0));return new Ext.util.Region(t,i+n,t+o,i)},move:function(e,t,i){var n=this.getXY(),r=n[0],o=n[1],s=[r-t,o],a=[r+t,o],n=[r,o-t],t=[r,o+t],t={l:s,left:s,r:a,right:a,t:n,top:n,up:n,b:t,bottom:t,down:t};e=e.toLowerCase(),this.setXY([t[e][0],t[e][1]],i)},setBox:function(e){var t,i;return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),this.constrainBox(e),t=e.x,i=e.y,this.setXY([t,i]),this.setSize(e.width,e.height),this.afterSetPosition(t,i),this},constrainBox:function(e){var t,i;(this.constrain||this.constrainHeader)&&(t="x"in e?e.x:e.left,i="y"in e?e.y:e.top,(i=this.calculateConstrainedPosition(null,[t,i],!1,[e.width,e.height]))&&(e.x=i[0],e.y=i[1]))},translatePoints:function(e,t){t=this.translateXY(e,t);return{left:t.x,top:t.y}},translateXY:function(e,t){var i=this.el,n=i.getStyle(this._positionTopLeft),r="relative"===n.position,o=parseFloat(n.left),s=parseFloat(n.top),n=this.getXY();return Ext.isArray(e)&&(t=e[1],e=e[0]),isNaN(o)&&(o=r?0:i.dom.offsetLeft),isNaN(s)&&(s=r?0:i.dom.offsetTop),{x:o="number"==typeof e?e-n[0]+o:void 0,y:s="number"==typeof t?t-n[1]+s:void 0}},reverseTranslateXY:function(e){var t,i,n,r=e,o=this.el,s=o.dom.offsetParent;return s&&(t=o.isStyle("position","relative"),i=Ext.fly(s).getXY(),n=e[0]+i[0]+s.clientLeft,s=e[1]+i[1]+s.clientTop,t&&(n+=o.getPadding("l"),s+=o.getPadding("t")),r=[n,s]),r},privates:{clipTo:function(e,t){var i,n,r,o,s=this.el,a=s.getRegion(),l=[],d=this.clippedCls,e=e.isRegion?e:(e.isComponent?e.el:Ext.fly(e)).getConstrainRegion();for(1&(t=t||15)&&0<(o=e.top-a.top)?(l[0]=o,r=!0):l[0]=-1e4,2&t&&0<(o=a.right-e.right)?(l[1]=Math.max(0,s.getWidth()-o),r=!0):l[1]=1e4,4&t&&0<(o=a.bottom-e.bottom)?(l[2]=Math.max(0,s.getHeight()-o),r=!0):l[2]=1e4,8&t&&0<(o=e.left-a.left)?(l[3]=o,r=!0):l[3]=-1e4,n="rect(",i=0;i<4;++i)n+=Ext.Element.addUnits(l[i],"px"),n+=3===i?")":",";if(s.dom.style.clip=n,s.addCls(d),(o=s.shadow)&&(s=o.el)&&s.dom){for(l[2]-=o.offsets.y,l[3]-=o.offsets.x,n="rect(",i=0;i<4;++i)n+=Ext.Element.addUnits(l[i],"px"),n+=3===i?")":",";s.dom.style.clip=n,r&&!Ext.supports.CSS3BoxShadow?s.dom.style.display="none":(s.dom.style.display="",s.addCls(d))}},clearClip:function(){var e=this.el,t=this.clippedCls;e.dom.style.clip=Ext.isIE8?"auto":"",e.removeCls(t),e.shadow&&e.shadow.el&&e.shadow.el.dom&&(e.shadow.el.dom.style.clip=Ext.isIE8?"auto":"",Ext.supports.CSS3BoxShadow||(e.dom.style.display="",e.removeCls(t)))}}}),Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(e,t,i,n,r,o){function s(){a.mixins.positionable.alignTo.call(a,e,t,i,n),Ext.callback(o,a)}var a=this,l=!Ext.isEmpty(r),d=a.getAnchor();return a.removeAnchor(),Ext.apply(d,{fn:s,scroll:l}),Ext.on("resize",s,null),l&&Ext.getWin().on("scroll",s,null,{buffer:isNaN(r)?50:r}),s(),a},getAnchor:function(){var e=this.el;if(e&&e.dom)return(e=e.getData())._anchor||(e._anchor={})},alignTo:function(e,t,i,n){var r,o=this,s=o.el;return o.isComponent&&o.getSizeModel().height.shrinkWrap&&(o.maxHeight&&o.setMaxHeight(null),r=!0),i=o.getAlignToRegion(e,t,i,o.minHeight||150),o.setXY([i.x,i.y],!(!s.anim||!n)&&s.anim(n)),r&&(r=i.getHeight())!==o.getHeight()&&o.setMaxHeight(r),o},removeAnchor:function(){var e=this.getAnchor();return e&&e.fn&&(Ext.un("resize",e.fn),e.scroll&&Ext.getWin().on("scroll",e.fn),delete e.fn),this},setBox:function(e,t){return e.isRegion&&(e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}),t?(this.constrainBox(e),this.animate(Ext.applyIf({to:e,listeners:{afteranimate:Ext.Function.bind(this.afterSetPosition,this,[e.x,e.y])}},t))):this.callParent([e]),this}}),Ext.define("Ext.dom.UnderlayPool",{constructor:function(e){this.elementConfig=e,this.cache=[]},checkOut:function(){var e=this.cache.shift();return e||((e=Ext.Element.create(this.elementConfig)).setVisibilityMode(2),e.dom.setAttribute("data-sticky",!0)),e},checkIn:function(e){this.cache.push(e)},reset:function(){for(var e=this.cache,t=e.length;t--;)e[t].destroy();this.cache=[]}}),Ext.define("Ext.dom.Underlay",{requires:["Ext.dom.UnderlayPool"],constructor:function(e){Ext.apply(this,e)},beforeShow:Ext.emptyFn,getInsertionTarget:function(){return this.target},getPool:function(){return this.pool||(this.self.prototype.pool=new Ext.dom.UnderlayPool(this.elementConfig))},hide:function(){var e=this.el;e&&(e.hide(),this.getPool().checkIn(e),this.el=null,this.hidden=!0)},realign:function(e,t,i,n){var r=this.el,o=this.target,s=this.offsets,a=Math.max;r&&(null==e&&(e=o.getX()),null==t&&(t=o.getY()),null==i&&(i=o.getWidth()),null==n&&(n=o.getHeight()),s&&(e+=s.x,t+=s.y,i=a(i+s.w,0),n=a(n+s.h,0)),r.setXY([e,t]),r.setSize(i,n))},setZIndex:function(e){this.zIndex=e,this.el&&this.el.setStyle("z-index",e)},show:function(){var e=this,t=e.target,i=e.zIndex,n=e.el,r=e.getInsertionTarget().dom,n=n||(e.el=e.getPool().checkOut());e.beforeShow(),null==i&&(i=parseInt(t.getStyle("z-index"),10)),i&&n.setStyle("z-index",i),n.setStyle("position",e.fixed?"fixed":""),(i=n.dom).nextSibling!==r&&t.dom.parentNode.insertBefore(i,r),n.show(),e.realign(),e.hidden=!1}}),Ext.define("Ext.dom.Shadow",{extend:"Ext.dom.Underlay",alternateClassName:"Ext.Shadow",mode:"drop",offset:4,cls:Ext.baseCSSPrefix+(Ext.supports.CSS3BoxShadow?"css":"ie")+"-shadow",constructor:function(e){var t,i,n,r;switch(this.callParent([e]),this.elementConfig={cls:this.cls,role:"presentation"},n=this.offset,r=Math.floor(n/2),this.opacity=50,this.mode.toLowerCase()){case"drop":t={x:0,y:0,w:n,h:n},i=Ext.supports.CSS3BoxShadow?{x:n,y:n,h:-n,w:-n}:{x:-r,y:-r,h:-r,w:-r};break;case"sides":t={x:-n,y:0,w:2*n,h:n},i=Ext.supports.CSS3BoxShadow?{x:0,y:n,h:-n,w:0}:{x:1+r-2*n,y:-(1+r),h:-1,w:r-1};break;case"frame":t={x:-n,y:-n,w:2*n,h:2*n},i=Ext.supports.CSS3BoxShadow?{x:0,y:0,h:0,w:0}:{x:1+r-2*n,y:1+r-2*n,h:n-r-1,w:n-r-1};break;case"bottom":t={x:-n,y:0,w:2*n,h:n},i=Ext.supports.CSS3BoxShadow?{x:0,y:n,h:-n,w:0}:{x:0,y:n,h:0,w:0}}this.offsets=i,this.outerOffsets=t},getShadowSize:function(){var e=this.el?this.offset:0,t=[e,e,e,e],e=this.mode.toLowerCase();return this.el&&"frame"!==e&&(t[0]=0,"drop"==e&&(t[3]=0)),t},boxShadowProperty:function(){var e="boxShadow",t=document.documentElement.style;return"boxShadow"in t||("WebkitBoxShadow"in t?e="WebkitBoxShadow":"MozBoxShadow"in t&&(e="MozBoxShadow")),e}(),beforeShow:function(){var e=this.el.dom.style,t=this.shim;Ext.supports.CSS3BoxShadow?e[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888":e.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+this.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+this.offset+")",t&&t.realign()},setOpacity:function(e){var t=this.el;t&&(Ext.isIE&&!Ext.supports.CSS3BoxShadow&&(e=Math.floor(100*e/2)/100),this.opacity=e,t.setOpacity(e))}}),Ext.define("Ext.dom.Shim",{extend:"Ext.dom.Underlay",cls:Ext.baseCSSPrefix+"shim",constructor:function(e){this.callParent([e]),this.elementConfig={tag:"iframe",cls:this.cls,role:"presentation",frameBorder:"0",src:Ext.SSL_SECURE_URL,tabindex:"-1"}},getInsertionTarget:function(){var e=this.shadow;return e&&e.el||this.target}}),Ext.define("Ext.dom.ElementEvent",{extend:"Ext.util.Event",addListener:function(e,t,i,n,r){var o=this,s=o.name,a=Ext.event.publisher.Dom.instance.directEvents[s];return!1===(i=i||{}).delegated||a?(a&&i.delegate&&(i.capture=!0),(i.capture?o.directCaptures||(o.directCaptures=new Ext.util.Event(o.observable,s)):o.directs||(o.directs=new Ext.util.Event(o.observable,s))).addListener(e,t,i,n,r)):i.capture?(o.captures||(o.captures=new Ext.util.Event(o.observable,s))).addListener(e,t,i,n,r):o.callParent([e,t,i,n,r])},removeListener:function(e,t){var i=this.captures,n=this.directs,r=this.directCaptures,o=!1,s=this.findListener(e,t);return-1!==s?o=this.callParent([e,t,s]):(n&&(s=n.findListener(e,t)),-1!==s?o=n.removeListener(e,t,s):(i&&(s=i.findListener(e,t)),-1!==s?o=i.removeListener(e,t,s):r&&-1!==(s=r.findListener(e,t))&&(o=r.removeListener(e,t,s)))),o},clearListeners:function(){var e=this.directCaptures,t=this.directs,i=this.captures;e&&e.clearListeners(),t&&t.clearListeners(),i&&i.clearListeners(),this.callParent()},suspend:function(){var e=this.directCaptures,t=this.directs,i=this.captures;e&&e.suspend(),t&&t.suspend(),i&&i.suspend(),this.callParent()},resume:function(){var e=this.directCaptures,t=this.directs,i=this.captures;e&&e.resume(),t&&t.resume(),i&&i.resume(),this.callParent()}}),Ext.define("Ext.event.publisher.Publisher",{isEventPublisher:!0,$vetoClearingPrototypeOnDestroy:!0,handledEvents:[],statics:{publishers:{},publishersByEvent:{}},constructor:function(){var e=this.type;this.handles={},e||Ext.raise("Event publisher '"+this.$className+"' defined without a 'type' property."),this.self.instance&&Ext.raise("Cannot create multiple instances of '"+this.$className+"'. Use '"+this.$className+".instance' to retrieve the singleton instance."),this.registerEvents(),Ext.event.publisher.Publisher.publishers[e]=this},registerEvents:function(e){for(var t,i=Ext.event.publisher.Publisher.publishersByEvent,n=e||this.handledEvents,r=n.length,o=0;o<r;o++)t=n[o],this.handles[t]=1,i[t]=this},subscribe:function(){Ext.raise("Ext.event.publisher.Publisher subclass '"+this.$className+'" has no subscribe method.')},unsubscribe:function(){Ext.raise("Ext.event.publisher.Publisher subclass '"+this.$className+'" has no unsubscribe method.')},fire:function(e,t,i){var n;e.hasListeners[t]&&(n=e.events[t])&&n.fire.apply(n,i)}}),Ext.define("Ext.util.Offset",{statics:{fromObject:function(e){return e instanceof this?e:"number"==typeof e?new this(e,e):e.length?new this(e[0],e[1]):new this(e.x,e.y)}},constructor:function(e,t){return this.x=null==e||isNaN(e)?0:e,this.y=null==t||isNaN(t)?0:t,this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(e){this.x=e.x,this.y=e.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(e){return e instanceof this.statics()||Ext.raise("Offset must be an instance of Ext.util.Offset"),this.x===e.x&&this.y===e.y},add:function(e){e instanceof this.statics()||Ext.raise("Offset must be an instance of Ext.util.Offset"),this.x+=e.x,this.y+=e.y},round:function(e){isNaN(e)?(this.x=Math.round(this.x),this.y=Math.round(this.y)):(e=Math.pow(10,e),this.x=Math.round(this.x*e)/e,this.y=Math.round(this.y*e)/e)},isZero:function(){return 0===this.x&&0===this.y}}),Ext.define("Ext.util.Region",function(){function m(e,t,i,n,r){var o,s,a,l,d,c,u,h=Math.ceil(n.x/2)+2;if(!r||r.intersect(e)){if(null!=i){if(1&i){if(o=new S.Region(0,0,0,0).setWidth(n.y).setHeight(n.x),s=3===i,c=s?t.right:t.left,a=new S.Region(Math.max(t.top,e.top),c,Math.min(t.bottom,e.bottom),c),e.getHeight()>h&&(l=a.getHeight())<e.width&&l<n.x+4){if(l<h){if(u=a.getAnchorPoint_c()[1]>e.getAnchorPoint_c()[1]?e.bottom-h:(d=!0,e.top+h-t.getHeight()),r&&(u=Math.min(Math.max(u,r.top),r.bottom-t.getHeight())),t.setPosition(t.x,u),(l=(a=new S.Region(Math.max(t.top,e.top),c,Math.min(t.bottom,e.bottom),c)).getHeight())<h)return;d&&a.setPosition(c,e.y-n.x/2-2)}if(a.setHeight(Math.max(l,n.x+4)),r&&!r.contains(a))return}t.anchor=o.alignTo({target:a,align:s?"l-r":"r-l",overlap:!0}),t.anchor.position=s?"right":"left"}else{if(o=new S.Region(0,0,0,0).setWidth(n.x).setHeight(n.y),s=0===i,u=s?t.bottom:t.top,a=new S.Region(u,Math.min(t.right,e.right),u,Math.max(t.left,e.left)),e.getWidth()>h&&(l=a.getWidth())<e.height&&l<n.x+4){if(l<h){if(c=a.getAnchorPoint_c()[0]>e.getAnchorPoint_c()[0]?e.right-h:(d=!0,e.left+h-t.getWidth()),r&&(c=Math.min(Math.max(c,r.left),r.right-t.getWidth())),t.setPosition(c,t.y),(l=(a=new S.Region(u,Math.min(t.right,e.right),u,Math.max(t.left,e.left))).getWidth())<h)return;d&&a.setPosition(e.x-n.x/2-2,u)}if(a.setWidth(Math.max(l,n.x+4)),r&&!r.contains(a))return}t.anchor=o.alignTo({target:a,align:s?"t-b":"b-t",overlap:!0}),t.anchor.position=s?"bottom":"top"}t.anchor.align=i}return t}}var S=Ext.util,r=/([^\?!]*)(!|\?)?$/,o=/^(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br))(?:-(?:(?:([trbl])(\d+))|(tl|t|tc|tr|l|c|r|bl|b|bc|br)))?$/i,s={l:0,r:100,t:0,b:100,c:50},a={l:100,r:0,t:0,b:100,c:50},l={b:0,l:1,t:2,r:3},d={"tl-tr":"l0-r0","tl-r":"l0-r50","bl-r":"l100-r50","bl-br":"l100-r100","tr-tl":"r0-l0","tr-l":"r0-l50","br-l":"r100-l50","br-bl":"r100-l100"},c={"tl-tr":"r0-l0","tl-r":"r0-l50","bl-r":"r100-l50","bl-br":"r100-l100","tr-tl":"l0-r0","tr-l":"l0-r50","br-l":"l100-r50","br-bl":"l100-r100"},x=[],w=new S.Offset(0,0),E=[-1,1,1,-1];return{requires:["Ext.util.Offset"],isRegion:!0,statics:{getRegion:function(e){return Ext.fly(e).getRegion()},from:function(e){return new this(e.top,e.right,e.bottom,e.left)},getAlignInfo:function(e,t){if("object"==typeof e)return e;e=e?e.indexOf("-")<0?"tl-"+e:e:"tl-bl",e=(i=r.exec(e))[1],e=(t?c:d)[e]||e;var i,n=t?a:s,t=o.exec(e);return t||Ext.raise({sourceClass:"Ext.util.Region",sourceMethod:"getAlignInfo",position:e,msg:'Attemmpted to align an element with an invalid position: "'+e+'"'}),i={myEdge:t[1],myOffset:t[2],otherEdge:t[4],otherOffset:t[5],constrain:i[2]},t[3]&&(i.myEdge=t[3][0],i.myOffset=n[t[3][1]],null==i.myOffset&&(i.myOffset=50)),t[6]&&(i.otherEdge=t[6][0],i.otherOffset=n[t[6][1]],null==i.otherOffset&&(i.otherOffset=50)),i.position=l[i.myEdge],i}},constructor:function(e,t,i,n){var r=this;r.y=r.top=r[1]=e,r.right=t,r.bottom=i,r.x=r.left=r[0]=n,r.height=r.bottom-r.top,r.width=r.right-r.left},setPosition:function(e,t){return 1===arguments.length&&(t=e[1],e=e[0]),this.translateBy(e-this.x,t-this.y)},contains:function(e){return e.x>=this.x&&(e.right||e.x)<=this.right&&e.y>=this.y&&(e.bottom||e.y)<=this.bottom},intersect:function(e){var t=Math.max(this.y,e.y),i=Math.min(this.right,e.right),n=Math.min(this.bottom,e.bottom),e=Math.max(this.x,e.x);return t<n&&e<i&&new this.self(t,i,n,e)},union:function(e){var t=Math.min(this.y,e.y),i=Math.max(this.right,e.right),n=Math.max(this.bottom,e.bottom),e=Math.min(this.x,e.x);return new this.self(t,i,n,e)},constrainTo:function(e){var t=this,i=Ext.Number.constrain;return t.top=t.y=i(t.top,e.y,e.bottom),t.bottom=i(t.bottom,e.y,e.bottom),t.left=t.x=i(t.left,e.x,e.right),t.right=i(t.right,e.x,e.right),t},adjust:function(e,t,i,n){return this.top=this.y+=e||0,this.left=this.x+=n||0,this.right+=t||0,this.bottom+=i||0,this},getOutOfBoundOffset:function(e,t){if(Ext.isObject(e)){t=e;var i=new S.Offset;return i.x=this.getOutOfBoundOffsetX(t.x),i.y=this.getOutOfBoundOffsetY(t.y),i}return"x"===e?this.getOutOfBoundOffsetX(t):this.getOutOfBoundOffsetY(t)},getOutOfBoundOffsetX:function(e){return e<=this.x?this.x-e:e>=this.right?this.right-e:0},getOutOfBoundOffsetY:function(e){return e<=this.y?this.y-e:e>=this.bottom?this.bottom-e:0},isOutOfBound:function(e,t){return Ext.isObject(e)?(t=e,this.isOutOfBoundX(t.x)||this.isOutOfBoundY(t.y)):"x"===e?this.isOutOfBoundX(t):this.isOutOfBoundY(t)},isOutOfBoundX:function(e){return e<this.x||e>this.right},isOutOfBoundY:function(e){return e<this.y||e>this.bottom},restrict:function(e,t,i){var n;return Ext.isObject(e)?(i=t,(n=(t=e).copy?t.copy():{x:t.x,y:t.y}).x=this.restrictX(t.x,i),n.y=this.restrictY(t.y,i),n):"x"===e?this.restrictX(t,i):this.restrictY(t,i)},restrictX:function(e,t){return t=t||1,e<=this.x?e-=(e-this.x)*t:e>=this.right&&(e-=(e-this.right)*t),e},restrictY:function(e,t){return t=t||1,e<=this.y?e-=(e-this.y)*t:e>=this.bottom&&(e-=(e-this.bottom)*t),e},alignTo:function(e){var t,i,n,r=this.self,o=S.Offset,s=function(e){var t,i,n,r,o=S.Region,s=typeof e;if(null==e)return o.EMPTY;if(e.isRegion)return e;if(e.isElement||1===e.nodeType)return this.getRegion(e);if("string"==s){switch((e=e.split(" ")).length){case 1:e[1]=e[2]=e[3]=e[0];break;case 2:e[2]=e[0],e[3]=e[1];break;case 3:e[3]=e[1]}t=parseInt(e[0],10)||0,i=parseInt(e[1],10)||0,n=parseInt(e[2],10)||0,r=parseInt(e[3],10)||0}else"number"==s?t=i=n=r=e:"number"==typeof e.x?(t=e.y,r=e.x,n="number"==typeof e.right?(i=e.right,e.bottom):(i=r+e.width,t+e.height)):Ext.raise("Not convertible to a Region: "+e);return new o(t,i,n,r)}(e.target),a=e.rtl,l=e.overlap,d=e.align,c=e.anchorSize,u=e.offset,h=e.inside,f=e.position,g=e.allowXTranslate,p=e.allowYTranslate;return u&&((u=o.fromObject(u))instanceof o||Ext.raise("offset option must be an Ext.util.Offset")),c&&((c=o.fromObject(c))instanceof o||Ext.raise("anchorSize option must be an Ext.util.Offset")),f?(2===f.length&&(f=new S.Point(f[0],f[1])),i=(new r).copyFrom(this).setPosition(f.x,f.y)):(d=this.getAlignInfo(d,a),h&&(s.x>=h.right?(s.setPosition(h.right-1,s.y),3!==d.position&&(d=this.getAlignInfo("r-l",a))):s.right<h.x&&(s.setPosition(h.x-s.getWidth()+1,s.y),1!==d.position&&(d=this.getAlignInfo("l-r",a))),s.y>=h.bottom?(s.setPosition(s.x,h.bottom-1),0!==d.position&&(d=this.getAlignInfo("b-t",a))):s.bottom<h.y&&(s.setPosition(s.x,h.y-s.getHeight()+1),2!==d.position&&(d=this.getAlignInfo("t-b",a)))),n=c?(n=s,o=c,null!=(a=d.position)&&o&&(x[0]=x[1]=x[2]=x[3]=0,x[a]=o.y*E[a],(n=S.Region.from(n)).adjust.apply(n,x)),n):s,l=!!(i=r.from(this).translateBy(this.getAlignToVector(n,d))).intersect(n),!u||!l&&c||i.translateBy(u),c&&m(s,i,d.position,c,h)),h&&(i.left<h.left&&(i.translateBy(h.left-i.left,0),t=!0),i.right>h.right&&i.left>h.left&&(i.translateBy(h.right-i.right,0),t=!0),i.top<h.top&&(i.translateBy(0,h.top-i.top),t=!0),i.bottom>h.bottom&&i.top>h.top&&(i.translateBy(0,h.bottom-i.bottom),t=!0),t&&!l&&(i.anchor=null,e.axisLock&&(1&d.position?p=!1:g=!1),f?i.contains(f)&&f.exclude(i,{inside:h,centerOnSideChange:!1}):(i.intersect(n)?d.position=s.exclude(i,{defaultPosition:d.position,inside:h,minHeight:e.minHeight,minWidth:e.minWidth,allowX:g,allowY:p,offset:u,anchorHeight:c?c.y:0,centerOnSideChange:!!c}):e.minWidth&&i.getWidth()>h.getWidth()?(i.setPosition(0,i.y),i.setWidth(Math.max(h.getWidth(),e.minWidth)),i.constrainWidth=!0):e.minHeight&&i.getHeight()>h.getHeight()&&(i.setPosition(i.x,0),i.setHeight(Math.max(h.getHeight(),e.minHeight)),i.constrainHeight=!0),i.align=d,c&&m(s,i,d.position,c,h)))),i},exclude:function(e,t){var i,n,r,o,s,a,l,d,c,u,h,f=(t=t||{}).inside,g=t.defaultPosition,p=t.centerOnSideChange,m=t.minHeight,x=t.minWidth,E=!1!==t.allowX,y=!1!==t.allowY,v=t.anchorHeight,b=[],C=(C=t.offset)||w;if(y?(b.push([0,n=this.top-e.bottom-v+C.y,"b-t",0,Math.abs(n)]),b.push([0,n=this.bottom-e.top+v+C.y,"t-b",2,Math.abs(n)])):p=!1,E?(b.push([n=this.left-e.right-v+C.x,0,"r-l",3,Math.abs(n)]),b.push([n=this.right-e.left+v+C.x,0,"l-r",1,Math.abs(n)])):p=!1,Ext.Array.sort(b,function(e,t){var i=e[4]-t[4];if(!i){if(e[3]===g)return-1;if(t[3]===g)return 1}return i}),!f)return e.translateBy.apply(e,b[0]),b[0][3];for(r=0;r<b.length;r++){if(n=b[r],(i=S.Region.from(e)).translateBy.apply(i,n),f.contains(i)){e.copyFrom(i),a={align:n[2],position:n[3],distance:n[4]};break}m&&(c=i,u=this,h=f,(d=m)&&h&&(c.top>=u.bottom&&c.bottom>h.bottom?(c.setHeight(Math.max(c.getHeight()+h.bottom-c.bottom,d)),c.constrainHeight=!0):c.bottom<=u.top&&c.top<h.top?(u=Math.max(c.getHeight()+c.top-h.top,d),c.adjust(c.getHeight()-u),c.constrainHeight=!0):c.getHeight()>h.getHeight()&&(c.setHeight(Math.max(d,h.getHeight())),c.setPosition(c.x,0),c.constrainHeight=!0)),f.contains(i)&&(!o||i.getArea()>o.region.getArea())&&(o={region:i,align:n[2],position:n[3],distance:n[4]})),x&&(l=i,d=this,h=f,(c=x)&&h&&(l.left>=d.right&&l.right>h.right?(l.setWidth(Math.max(l.getWidth()+h.right-l.right,c)),l.constrainWidth=!0):l.right<=d.left&&l.left<h.left?(d=Math.max(l.getWidth()+l.left-h.left,c),l.adjust(0,0,0,l.getWidth()-d),l.constrainWidth=!0):l.getWidth()>h.getWidth()&&(l.setWidth(Math.max(c,h.getWidth())),l.setPosition(0,l.y),l.constrainWidth=!0)),f.contains(i)&&(!o||i.getArea()>o.region.getArea())&&(o={region:i,align:n[2],position:n[3],distance:n[4]})),(l=f.intersect(i))&&(l=l.getArea(),(!s||l&&s.area<l)&&(s={region:i,align:n[2],position:n[3],distance:n[4],area:l}))}return a||(o?(e.copyFrom(o.region),a=o,e.constrainWidth=o.region.constrainWidth,e.constrainHeight=o.region.constrainHeight):s&&(e.copyFrom(s.region),a=s)),a?((1&a.position)!=(1&g)&&a.distance&&p&&(n=e.alignTo({align:a.align,target:this,anchorSize:v,offset:C,axisLock:!0,inside:f,minHeight:t.minHeight,minWidth:t.minWidth}),f.contains(n)&&e.setPosition(n.x,n.y)),a.position):g},getAlignToXY:function(e,t,i){i=this.getAlignToVector(e,t,i);return[this.x+i[0],this.y+i[1]]},getAnchorPoint:function(e,t){return e="string"==typeof e?this.getAlignInfo(e+"-tl",t):e,this["getAnchorPoint_"+e.myEdge](e.myOffset)},getAlignToVector:function(e,t,i){t="string"==typeof t?this.getAlignInfo(t,i):t;i=this["getAnchorPoint_"+t.myEdge](t.myOffset),t=e["getAnchorPoint_"+t.otherEdge](t.otherOffset);return[t[0]-i[0],t[1]-i[1]]},getAnchorPoint_t:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.y]},getAnchorPoint_b:function(e){return[this.x+Math.round(this.getWidth()*(e/100)),this.bottom]},getAnchorPoint_l:function(e){return[this.x,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_r:function(e){return[this.right,this.y+Math.round(this.getHeight()*(e/100))]},getAnchorPoint_c:function(){return[this.x+Math.round(this.getWidth()/2),this.y+Math.round(this.getHeight()/2)]},getHeight:function(){return this.bottom-this.y},getWidth:function(){return this.right-this.x},getArea:function(){return this.getHeight()*this.getWidth()},setHeight:function(e){return this.bottom=this.top+e,this},setWidth:function(e){return this.right=this.left+e,this},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(e){return this.top=this.y=this[1]=e.y,this.right=e.right,this.bottom=e.bottom,this.left=this.x=this[0]=e.x,this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(e,t){e.length?(t=e[1],e=e[0]):1===arguments.length&&(t=e.y,e=e.x);return this.top=this.y+=t,this.right+=e,this.bottom+=t,this.left=this.x+=e,this},round:function(){var e=this;return e.top=e.y=Math.round(e.y),e.right=Math.round(e.right),e.bottom=Math.round(e.bottom),e.left=e.x=Math.round(e.x),e},equals:function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left},getOffsetsTo:function(e){return{x:this.x-e.x,y:this.y-e.y}}}},function(e){e.prototype.getAlignInfo=e.getAlignInfo,e.EMPTY=new e(0,0,0,0),Object.freeze&&Object.freeze(e.EMPTY)}),Ext.define("Ext.util.Point",{extend:"Ext.util.Region",isPoint:!0,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(e){var t=e.changedTouches,e=t&&0<t.length?t[0]:e;return this.fromTouch(e)},fromTouch:function(e){return new this(e.pageX,e.pageY)},from:function(e){return e?e instanceof this?e:new this(e.x,e.y):new this(0,0)}},constructor:function(e,t){null==e&&(e=0),null==t&&(t=0),this.callParent([t,e,t,e])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(e){return this.x=e.x,this.y=e.y,this},toString:function(){return"Point["+this.x+","+this.y+"]"},equals:function(e){return this.x===e.x&&this.y===e.y},isCloseTo:function(e,t){if("number"==typeof t)return this.getDistanceTo(e)<=t;var i=e.x,n=e.y,e=t.x,t=t.y;return this.x<=i+e&&this.x>=i-e&&this.y<=n+t&&this.y>=n-t},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(e){return e instanceof Ext.util.Region||(e=Ext.get(e.el||e).getRegion()),e.contains(this)},roundedEquals:function(e){return e&&"object"==typeof e||(e=this.origin),Math.round(this.x)===Math.round(e.x)&&Math.round(this.y)===Math.round(e.y)},getDistanceTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x,e=this.y-e.y;return Math.sqrt(t*t+e*e)},getAngleTo:function(e){e&&"object"==typeof e||(e=this.origin);var t=this.x-e.x,e=this.y-e.y;return Math.atan2(e,t)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy}),Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",requires:["Ext.util.Point"],stopped:!1,claimed:!1,defaultPrevented:!1,isEvent:!0,statics:{resolveTextNode:function(e){return e&&3===e.nodeType?e.parentNode:e},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},clickEvents:{click:1,dblclick:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},focusEvents:{focus:1,blur:1,focusin:1,focusout:1,focusenter:1,focusleave:1},pointerTypeMap:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"},keyFlags:{CTRL:"ctrlKey",CONTROL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",CMD:"metaKey",COMMAND:"metaKey",CMDORCTRL:Ext.isMac?"metaKey":"ctrlKey",COMMANDORCONTROL:Ext.isMac?"metaKey":"ctrlKey",META:"metaKey"},modifierGlyphs:{ctrlKey:"",altKey:"",metaKey:Ext.isMac?"":"",shiftKey:""},specialKeyGlyphs:{BACKSPACE:"",TAB:"",ENTER:"",RETURN:"",SPACE:"",PAGE_UP:"",PAGE_DOWN:"",END:"",HOME:"",LEFT:"",UP:"",RIGHT:"",DOWN:"",PRINT_SCREEN:"",INSERT:"",DELETE:"",CONTEXT_MENU:""},getKeyId:function(e){var t,i,n=(e=e.toUpperCase()).split("+"),r=n.length-1,e=n[r],o=[];for(Ext.event.Event[e]||Ext.raise('Invalid key name: "'+e+'"'),i=0;i<r;i++)(t=this.keyFlags[n[i]])||Ext.raise('Invalid key modifier: "'+n[i]+'"'),o[t]=!0;return o.ctrlKey&&o.push(this.modifierGlyphs.ctrlKey),o.altKey&&o.push(this.modifierGlyphs.altKey),o.shiftKey&&o.push(this.modifierGlyphs.shiftKey),o.metaKey&&o.push(this.modifierGlyphs.metaKey),o.push(this.specialKeyGlyphs[e]||e),o.join("")}},constructor:function(e){var t,i,n=this,r=n.self,o=n.self.resolveTextNode,s=e.changedTouches,a=s?s[0]:e,s=e.type;if(n.timeStamp=n.time=Ext.now(),n.pageX=a.pageX,n.pageY=a.pageY,n.clientX=a.clientX,n.clientY=a.clientY,n.target=n.delegatedTarget=o(e.target),i=e.relatedTarget)if(Ext.isGecko&&"dragenter"===s||"dragleave"===s)try{n.relatedTarget=o(i)}catch(e){n.relatedTarget=null}else n.relatedTarget=o(i);n.browserEvent=n.event=e,n.type=s,n.button=e.button||0,n.shiftKey=e.shiftKey,n.ctrlKey=e.ctrlKey||e.metaKey||!1,n.altKey=e.altKey,n.charCode=e.charCode,n.keyCode=e.keyCode,n.buttons=e.buttons,0===n.button&&0===n.buttons&&(n.buttons=1),r.focusEvents[s]?void 0!==r.forwardTab&&(n.forwardTab=r.forwardTab):"keydown"!==s&&delete r.forwardTab,r.mouseEvents[s]?t="mouse":r.clickEvents[s]?t=r.pointerTypeMap[e.pointerType]||"mouse":r.pointerEvents[s]?t=r.pointerTypeMap[e.pointerType]:r.touchEvents[s]&&(t="touch"),t&&(n.pointerType=t),n.isMultitouch=!1===e.isPrimary||e.touches&&1<e.touches.length},chain:function(e){var t=Ext.Object.chain(this);return t.parentEvent=this,Ext.apply(t,e)},correctWheelDelta:function(e){var t=this.WHEEL_SCALE,t=Math.round(e/t);return!t&&e&&(t=e<0?-1:1),t},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getKeyName:function(){return this.keyCodes[this.keyCode]},getPoint:function(){var e,t=this.point;return t||(e=this.getXY(),t=this.point=new Ext.util.Point(e[0],e[1])),t},getRelatedTarget:function(e,t,i){var n=this.relatedTarget,r=null;return n&&n.nodeType&&(r=e?Ext.fly(n).findParent(e,t,i):i?Ext.get(n):n),r},getTarget:function(e,t,i){return e?Ext.fly(this.target).findParent(e,t,i):i?Ext.get(this.target):this.target},getTime:function(){return this.time},getWheelDelta:function(){return this.getWheelDeltas().y},getWheelDeltas:function(){var e=this.browserEvent,t=0,i=0;return Ext.isDefined(e.wheelDeltaX)?(t=e.wheelDeltaX,i=e.wheelDeltaY):e.wheelDelta?i=e.wheelDelta:"deltaX"in e?(t=e.deltaX,i=-e.deltaY):e.detail&&(100<(i=-e.detail)?i=3:i<-100&&(i=-3),Ext.isDefined(e.axis)&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0)),{x:this.correctWheelDelta(t),y:this.correctWheelDelta(i)}},getX:function(){return this.getXY()[0]},getXY:function(){var e,t,i,n=this.xy;return n||((t=(n=this.xy=[this.pageX,this.pageY])[0])||0===t||(e=this.browserEvent,t=(i=document).documentElement,i=i.body,n[0]=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),n[1]=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0))),n},getY:function(){return this.getXY()[1]},hasModifier:function(){return!!(this.ctrlKey||this.altKey||this.shiftKey||this.metaKey)},isNavKeyPress:function(e){var t=this.keyCode;return(!("keypress"===this.type)||Ext.isGecko)&&33<=t&&t<=40||!e&&(t===this.RETURN||t===this.TAB||t===this.ESC)},isSpecialKey:function(){var e=this.keyCode,t=Ext.isGecko,i="keypress"===this.type;return t&&i&&0===this.charCode||this.isNavKeyPress()||e===this.BACKSPACE||e===this.ENTER||16<=e&&e<=20||(!i||t)&&44<=e&&e<=46},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){var e=this.parentEvent;return this.defaultPrevented=!0,e&&(e.defaultPrevented=!0),this.browserEvent.preventDefault(),this},setCurrentTarget:function(e){this.currentTarget=this.delegatedTarget=e},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var e=this.browserEvent,t=this.parentEvent;return this.stopped=!0,t&&!this.isGesture&&(t.stopped=!0),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this},claimGesture:function(){var e=this.parentEvent;return this.claimed=!0,e&&!this.hasOwnProperty("isGesture")?e.claimGesture():this.preventDefault(),this},within:function(e,t,i){var n;return e&&(n=t?this.getRelatedTarget():this.getTarget()),!!n&&(Ext.fly(e).contains(n)||!(!i||n!==Ext.getDom(e)))},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(e){var t,i,n=e.prototype,r={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(Ext.isGecko?i=3:Ext.isMac?(i=Ext.isSafari&&532<=Ext.webKitVersion?120:12,i*=3):i=120,i)},o={};for(t in Ext.apply(e,r),Ext.apply(n,r),delete r.WHEEL_SCALE,delete r.RETURN,r)o[r[t]]=t;n.keyCodes=o,n.getTrueXY=n.getXY}),Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},injectEvent:function(){var s,f,t={};function i(e,t){}return!Ext.isIE9m&&document.createEvent?s={createHtmlEvent:function(e,t,i,n){e=e.createEvent("HTMLEvents");return e.initEvent(t,i,n),e},createMouseEvent:function(e,t,i,n,r,o,s,a,l,d,c,u,h){var f=e.createEvent("MouseEvents"),g=e.defaultView||window;return f.initMouseEvent?f.initMouseEvent(t,i,n,g,r,o,s,o,s,a,l,d,c,u,h):((f=e.createEvent("UIEvents")).initEvent(t,i,n),f.view=g,f.detail=r,f.screenX=o,f.screenY=s,f.clientX=o,f.clientY=s,f.ctrlKey=a,f.altKey=l,f.metaKey=c,f.shiftKey=d,f.button=u,f.relatedTarget=h),f},createUIEvent:function(e,t,i,n,r){var o=e.createEvent("UIEvents"),e=e.defaultView||window;return o.initUIEvent(t,i,n,e,r),o},fireEvent:function(e,t,i){e.dispatchEvent(i)}}:document.createEventObject&&(f={0:1,1:4,2:2},s={createHtmlEvent:function(e,t,i,n){e=e.createEventObject();return e.bubbles=i,e.cancelable=n,e},createMouseEvent:function(e,t,i,n,r,o,s,a,l,d,c,u,h){e=e.createEventObject();return e.bubbles=i,e.cancelable=n,e.detail=r,e.screenX=o,e.screenY=s,e.clientX=o,e.clientY=s,e.ctrlKey=a,e.altKey=l,e.shiftKey=d,e.metaKey=c,e.button=f[u]||u,e.relatedTarget=h,e},createUIEvent:function(e,t,i,n,r){e=e.createEventObject();return e.bubbles=i,e.cancelable=n,e},fireEvent:function(e,t,i){e.fireEvent("on"+t,i)}}),Ext.Object.each({load:[!1,!1],unload:[!1,!1],select:[!0,!1],change:[!0,!1],submit:[!0,!0],reset:[!0,!1],resize:[!0,!1],scroll:[!0,!1]},function(n,e){var r=e[0],o=e[1];t[n]=function(e,t){var i=s.createHtmlEvent(n,r,o);s.fireEvent(e,n,i)}}),Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(e){var n,r,o;t[e]=(r=1,o="mousemove"!==(n=e),function(e,t){var i=t.getXY(),t=s.createMouseEvent(e.ownerDocument,n,!0,o,r,i[0],i[1],t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget);s.fireEvent(e,n,t)})}),Ext.Object.each({focusin:[!0,!1],focusout:[!0,!1],activate:[!0,!0],focus:[!1,!1],blur:[!1,!1]},function(n,e){var r=e[0],o=e[1];t[n]=function(e,t){var i=s.createUIEvent(e.ownerDocument,n,r,o,1);s.fireEvent(e,n,i)}}),s||(t={},s={}),function(e){(t[this.type]||i)(e?e.dom||e:this.getTarget(),this)}}(),preventDefault:function(e){var t,i,n=this.browserEvent,r=this.parentEvent;return"unknown"!=typeof n.type&&(e||(this.defaultPrevented=!0),r&&(r.defaultPrevented=!0),n.preventDefault?n.preventDefault():("mousedown"===n.type&&(i=n.target,"on"!==(t=i.getAttribute("unselectable"))&&(i.setAttribute("unselectable","on"),Ext.defer(function(){i.setAttribute("unselectable",t)},1))),n.returnValue=!1,(n.ctrlKey||111<n.keyCode&&n.keyCode<124)&&(n.keyCode=-1))),this},stopPropagation:function(){return"unknown"!=typeof this.browserEvent.type&&(this.mousedownEvents[this.type]&&Ext.GlobalEvents.fireMouseDown(this),this.callParent()),this},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){function e(e){9===e.keyCode&&(i.forwardTab=!e.shiftKey)}function t(e){9===e.keyCode&&delete i.forwardTab}var r,i=this;Ext.isIE9m?(r={0:0,1:0,4:1,2:2},i.override({statics:{enableIEAsync:function(e){var t,i={};for(t in e)i[t]=e[t];return i}},constructor:function(e,t,i,n){this.callParent([e,t,i,n]),this.button=r[e.button],"contextmenu"===e.type&&(this.button=2),this.toElement=e.toElement,this.fromElement=e.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(e){this.browserEvent=this.self.enableIEAsync(e)},getRelatedTarget:function(e,t,i){var n,r;return this.relatedTarget||(n=this.type,this.mouseLeaveRe.test(n)?r=this.toElement:this.mouseEnterRe.test(n)&&(r=this.fromElement),r&&(this.relatedTarget=this.self.resolveTextNode(r))),this.callParent([e,t,i])}}),document.attachEvent("onkeydown",e),document.attachEvent("onkeyup",t),window.attachEvent("onunload",function(){document.detachEvent("onkeydown",e),document.detachEvent("onkeyup",t)})):document.addEventListener&&(document.addEventListener("keydown",e,!0),document.addEventListener("keyup",t,!0))}),Ext.define("Ext.rtl.event.Event",{override:"Ext.event.Event",getXY:function(){var e=this.xy;return e||(e=this.callParent(),Ext.rootInheritedState.rtl&&(e[0]=Ext.Element.getViewportWidth()-e[0])),e}}),Ext.define("Ext.event.publisher.Dom",{extend:"Ext.event.publisher.Publisher",requires:["Ext.event.Event"],type:"dom",handledDomEvents:[],reEnterCount:0,captureEvents:{animationstart:1,animationend:1,resize:1,focus:1,blur:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1,hashchange:1,scroll:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){this.bubbleSubscribers={},this.captureSubscribers={},this.directSubscribers={},this.directCaptureSubscribers={},this.delegatedListeners={},this.initHandlers(),Ext.onInternalReady(this.onReady,this),this.callParent()},registerEvents:function(){for(var e,t=Ext.event.publisher.Publisher.publishersByEvent,i=this.handledDomEvents,n=i.length,r=0;r<n;r++)e=i[r],this.handles[e]=1,t[e]=this;this.callParent()},onReady:function(){var e,t,i=this.handledDomEvents;if(i)for(t=0,e=i.length;t<e;t++)this.addDelegatedListener(i[t]);Ext.getWin().on("unload",this.destroy,this)},initHandlers:function(){this.onDelegatedEvent=Ext.bind(this.onDelegatedEvent,this),this.onDirectEvent=Ext.bind(this.onDirectEvent,this),this.onDirectCaptureEvent=Ext.bind(this.onDirectCaptureEvent,this)},addDelegatedListener:function(e){this.delegatedListeners[e]=1,this.target.addEventListener(e,this.onDelegatedEvent,!!this.captureEvents[e])},removeDelegatedListener:function(e){delete this.delegatedListeners[e],this.target.removeEventListener(e,this.onDelegatedEvent,!!this.captureEvents[e])},addDirectListener:function(e,t,i){t.dom.addEventListener(e,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},removeDirectListener:function(e,t,i){t.dom.removeEventListener(e,i?this.onDirectCaptureEvent:this.onDirectEvent,i)},subscribe:function(e,t,i,n){var r;i&&!this.directEvents[t]?(r=n?this.captureSubscribers:this.bubbleSubscribers,this.handles[t]||this.delegatedListeners[t]||this.addDelegatedListener(t),r[t]?++r[t]:r[t]=1):(r=n?this.directCaptureSubscribers:this.directSubscribers,i=e.id,(r=r[t]||(r[t]={}))[i]?++r[i]:(r[i]=1,this.addDirectListener(t,e,n)))},unsubscribe:function(e,t,i,n){var r,o;i&&!this.directEvents[t]?(o=this.captureSubscribers,i=this.bubbleSubscribers,(r=n?o:i)[t]&&--r[t],this.handles[t]||i[t]||o[t]||this.removeDelegatedListener(t)):(r=n?this.directCaptureSubscribers:this.directSubscribers,o=e.id,(r=r[t])[o]&&--r[o],r[o]||(delete r[o],this.removeDirectListener(t,e,n)))},getPropagatingTargets:function(e){for(var t=e,i=[];t;)i.push(t),t=t.parentNode||t.defaultView;return i},publish:function(e,t,i){var n,r,o,s,a,l,d,c,u=!1,h=!1;for(i=i||!1,t||(e instanceof Array&&Ext.raise("Propagation targets must be supplied when publishing an array of events."),o=e.target,t=this.captureEvents[e.type]?(s=Ext.cache[o.id])?[s]:[]:this.getPropagatingTargets(o)),n=Ext.Array.from(e),l=t.length,c=n.length,a=0;a<c;a++)r=n[a].type,!u&&this.captureSubscribers[r]&&(u=!0),!h&&this.bubbleSubscribers[r]&&(h=!0);if(u)for(a=l;a--;)if(s=Ext.cache[t[a].id])for(d=0;d<c;d++)e=n[d],this.fire(s,e.type,e,!1,!0),!i&&e.claimed&&(i=!0,d=this.filterClaimed(n,e),c=n.length),e.stopped&&(n.splice(d,1),d--,c--);if(h&&!e.stopped)for(a=0;a<l;a++)if(s=Ext.cache[t[a].id])for(d=0;d<c;d++)e=n[d],this.fire(s,e.type,e,!1,!1),!i&&e.claimed&&this.filterClaimed&&(i=!0,d=this.filterClaimed(n,e),c=n.length),e.stopped&&(n.splice(d,1),d--,c--)},publishDelegatedDomEvent:function(e){this.publish(e)},fire:function(e,t,i,n,r){var o;e.hasListeners[t]&&(o=e.events[t])&&(r&&n?o=o.directCaptures:r?o=o.captures:n&&(o=o.directs),o&&(i.setCurrentTarget(e.dom),o.fire(i,i.target)))},onDelegatedEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDelegatedEvent,this,[e]):this.doDelegatedEvent(e)},doDelegatedEvent:function(e){var t=(e=new Ext.event.Event(e)).time;this.isEventBlocked(e)||(this.beforeEvent(e),Ext.frameStartTime=t,this.reEnterCount++,this.publishDelegatedDomEvent(e),this.reEnterCount--,this.afterEvent(e))},onDirectEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!1]):this.doDirectEvent(e,!1)},onDirectCaptureEvent:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doDirectEvent,this,[e,!0]):this.doDirectEvent(e,!0)},doDirectEvent:function(e,t){var i=e.currentTarget,n=(e=new Ext.event.Event(e)).time;this.isEventBlocked(e)||(this.beforeEvent(e),Ext.frameStartTime=n,(i=Ext.cache[i.id])&&(this.reEnterCount++,this.fire(i,e.type,e,!0,t),this.reEnterCount--),this.afterEvent(e))},beforeEvent:function(e){var t,i=e.browserEvent,e=Ext.event.publisher.Dom;"touchstart"===i.type&&1===(t=i.touches).length&&(t=t[0],e.lastTouchStartX=t.pageX,e.lastTouchStartY=t.pageY)},afterEvent:function(e){var t=e.browserEvent.type,i=Ext.event.publisher.Dom,n=Ext.GlobalEvents;e.self.pointerEvents[t]&&"mouse"!==e.pointerType&&(i.lastScreenPointerEventTime=Ext.now()),"touchend"===t&&(i.lastTouchEndTime=Ext.now()),this.reEnterCount||!n.hasListeners.idle||n.idleEventMask[t]||n.fireEvent("idle")},isEventBlocked:function(e){var t=e.type,i=Ext.event.publisher.Dom,n=Ext.now();return!(!Ext.isGecko||"click"!==e.type||2!==e.button)||(this.blockedPointerEvents[t]&&"mouse"!==e.pointerType||this.blockedCompatibilityMouseEvents[t]&&n-i.lastScreenPointerEventTime<1e3||Ext.supports.TouchEvents&&e.self.mouseEvents[e.type]&&Math.abs(e.pageX-i.lastTouchStartX)<15&&Math.abs(e.pageY-i.lastTouchStartY)<15&&Ext.now()-i.lastTouchEndTime<1e3)},destroy:function(){var e,t=Ext.dom.GarbageCollector;for(e in this.delegatedListeners)this.removeDelegatedListener(e);Ext.Reaper.flush(),t&&t.collect(),this.callParent()},reset:function(){var e=Ext.event.publisher.Dom;e.lastScreenPointerEventTime=e.lastTouchEndTime=e.lastTouchStartX=e.lastTouchStartY=void 0}},function(e){var t=document,i=t.defaultView,n=e.prototype;Ext.os.is.iOS&&Ext.os.version.getMajor()<5||Ext.browser.is.AndroidStock||!i||!i.addEventListener?n.target=t:n.target=i,e.instance=new e}),Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(e){var t,i,n,s;Ext.isIE9m&&(t=document.documentElement,i=document.body,(n=e.prototype).target=document,n.directBoundListeners={},s=function(e,t,i){e.target=e.srcElement||window,e.currentTarget=this,i?t.onDirectCaptureEvent(e):t.onDirectEvent(e)},e.override({addDelegatedListener:function(e){this.delegatedListeners[e]=1,this.target.attachEvent("on"+e,this.onDelegatedEvent)},removeDelegatedListener:function(e){delete this.delegatedListeners[e],this.target.detachEvent("on"+e,this.onDelegatedEvent)},addDirectListener:function(e,t,i){var n=t.dom,r=Ext.Function.bind(s,n,[this,i],!0),o=this.directBoundListeners;(o[e]||(o[e]={}))[n.id]=r,n.attachEvent?n.attachEvent("on"+e,r):this.callParent([e,t,i])},removeDirectListener:function(e,t,i){var n=t.dom;n.detachEvent?n.detachEvent("on"+e,this.directBoundListeners[e][n.id]):this.callParent([e,t,i])},doDelegatedEvent:function(e){return e.target=e.srcElement||window,"focusin"===e.type?e.relatedTarget=e.fromElement===i||e.fromElement===t?null:e.fromElement:"focusout"===e.type&&(e.relatedTarget=e.toElement===i||e.toElement===t?null:e.toElement),this.callParent([e])}}),Ext.apply(n.directEvents,n.captureEvents),Ext.apply(n.directEvents,{change:1,input:1,paste:1}),n.captureEvents={})}),Ext.define("Ext.event.publisher.Gesture",{extend:"Ext.event.publisher.Dom",requires:["Ext.util.Point","Ext.AnimationQueue"],uses:"Ext.event.gesture.*",type:"gesture",isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},handledEvents:[],handledDomEvents:[],constructor:function(e){var t=this,i=t.handledDomEvents,n=Ext.supports,r=n.TouchEvents,o=t.onTouchStart,s=t.onTouchMove,a=t.onTouchEnd;return t.handlers={touchstart:o,touchmove:s,touchend:a,touchcancel:a,pointerdown:o,pointermove:s,pointerup:a,pointercancel:a,MSPointerDown:o,MSPointerMove:s,MSPointerUp:a,MSPointerCancel:a,mousedown:o,mousemove:s,mouseup:a},t.activeTouchesMap={},t.activeTouches=[],t.changedTouches=[],t.recognizers=[],t.eventToRecognizer={},t.cancelEvents=[],r&&(t.onTargetTouchMove=t.onTargetTouchMove.bind(t),t.onTargetTouchEnd=t.onTargetTouchEnd.bind(t)),n.PointerEvents?(i.push("pointerdown","pointermove","pointerup","pointercancel"),t.mousePointerType="mouse"):n.MSPointerEvents?(i.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"),t.mousePointerType=4):r&&i.push("touchstart","touchmove","touchend","touchcancel"),(!i.length||r&&Ext.isWebKit&&Ext.os.is.Desktop)&&i.push("mousedown","mousemove","mouseup"),t.initConfig(e),t.callParent()},onReady:function(){this.callParent(),Ext.Array.sort(this.recognizers,function(e,t){e=e.priority,t=t.priority;return t<e?1:e<t?-1:0})},registerRecognizer:function(e){var t,i,n=e.handledEvents,r=n.length;for(e.setOnRecognized(this.onRecognized),e.setCallbackScope(this),i=0;i<r;i++)t=n[i],this.handledEvents.push(t),this.eventToRecognizer[t]=e;this.registerEvents(n),this.recognizers.push(e)},onRecognized:function(e,t,i,n,r){var o,s,a,l,d=i.touches,c=i.changedTouches,u=c.length,h=this.events,f=!h.length,g=this.cancelEvents;if((n=n||{}).type=t,n.target=c[0].target,n.stopped=!1,n.claimed=!1,n.isGesture=!0,i=i.chain(n),!this.gestureTargets){if(1<u){for(o=[],a=0;a<u;a++)l=c[a],o.push(l.targets);s=this.getCommonTargets(o)}else s=c[0].targets;this.gestureTargets=s}r&&e.isSingleTouch&&1<d.length?(i.target=d[0].target,g.push(i)):h.push(i),f&&this.publishGestures()},getCommonTargets:function(e){var t=e[0],i=e.length;if(1===i)return t;for(var n,r,o,s=[],a=1;;){if(!(n=t[t.length-a]))return s;for(o=1;o<i;o++)if((r=e[o])[r.length-a]!==n)return s;s.unshift(n),a++}return s},invokeRecognizers:function(e,t){var i,n,r=this.recognizers,o=r.length;if("onStart"===e)for(i=0;i<o;i++)r[i].isActive=!0;for(i=0;i<o;i++)(n=r[i]).isActive&&!1===n[e].call(n,t)&&(n.isActive=!1)},filterClaimed:function(e,t){for(var i,n,r=this.eventToRecognizer,o=t.type,s=r[o],a=e.length;a--;)(n=e[a].type)===o?i=a:(n=r[n],(!s||n&&n!==s)&&(e.splice(a,1),i&&i--));return this.claimRecognizer(s,e[0]),i},claimRecognizer:function(e,t){for(var i,n=this.recognizers,r=0,o=n.length;r<o;r++)(i=n[r])!==e&&(i.isActive=!1,i.cancel(t));this.events.length&&this.publishGestures(!0)},publishGestures:function(e){var t=this,i=t.cancelEvents,n=t.events,r=t.gestureTargets;i.length&&(t.cancelEvents=[],t.publish(i,t.getPropagatingTargets(i[0].target),!0)),n.length&&(t.events=[],t.gestureTargets=null,t.publish(n,r||t.getPropagatingTargets(n[0].target),e))},updateTouches:function(e,t){for(var i,n,r,o,s=e.browserEvent,a=s.changedTouches||[s],l=this.activeTouches,d=this.activeTouchesMap,c=[],u=0,h=a.length;u<h;u++)(i=d[r="identifier"in(o=a[u])?o.identifier:"pointerId"in o?o.pointerId:1])||(n=Ext.event.Event.resolveTextNode(o.target),i=d[r]={identifier:r,target:n,targets:this.getPropagatingTargets(n)},l.push(i)),t&&(delete d[r],Ext.Array.remove(l,i)),r=o.pageX,o=o.pageY,i.pageX=r,i.pageY=o,i.point=new Ext.util.Point(r,o),c.push(i);e.touches=Ext.Array.clone(l),e.changedTouches=c},publishDelegatedDomEvent:function(e){!e.button||e.button<1?(this.events=[e],this.handlers[e.type].call(this,e)):this.callParent([e])},onTouchStart:function(e){var t=this,i=e.target,n=e.browserEvent.touches;"touchstart"===e.browserEvent.type&&(i.addEventListener("touchmove",t.onTargetTouchMove),i.addEventListener("touchend",t.onTargetTouchEnd),i.addEventListener("touchcancel",t.onTargetTouchEnd)),n&&n.length<=t.activeTouches.length&&t.removeGhostTouches(n),t.updateTouches(e),t.isStarted||(Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.pause(),t.isStarted=!0,t.invokeRecognizers("onStart",e)),t.invokeRecognizers("onTouchStart",e),t.publishGestures()},onTouchMove:function(e){var t=this.mousePointerType;if(this.isStarted){if(t&&e.browserEvent.pointerType===t&&0===e.buttons)return e.type=Ext.dom.Element.prototype.eventMap.touchend,e.button=0,void this.onTouchEnd(e);this.updateTouches(e),0<e.changedTouches.length&&this.invokeRecognizers("onTouchMove",e)}this.publishGestures()},onTouchEnd:function(e){var t;if(this.isStarted){this.updateTouches(e,!0),t=this.activeTouches.length;try{this.invokeRecognizers(this.isCancelEvent[e.type]?"onTouchCancel":"onTouchEnd",e)}finally{t||(this.isStarted=!1,this.invokeRecognizers("onEnd",e)),this.publishGestures(),t||Ext.enableGarbageCollector&&Ext.dom.GarbageCollector.resume()}}else this.publishGestures()},onTargetTouchMove:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchMove,this,[e]):this.doTargetTouchMove(e)},doTargetTouchMove:function(e){Ext.getBody().contains(e.target)||this.onTouchMove(new Ext.event.Event(e))},onTargetTouchEnd:function(e){Ext.elevateFunction?Ext.elevateFunction(this.doTargetTouchEnd,this,[e]):this.doTargetTouchEnd(e)},doTargetTouchEnd:function(e){var t=e.target;t.removeEventListener("touchmove",this.onTargetTouchMove),t.removeEventListener("touchend",this.onTargetTouchEnd),t.removeEventListener("touchcancel",this.onTargetTouchEnd),Ext.getBody().contains(t)||this.onTouchEnd(new Ext.event.Event(e))},reset:function(){var e,t,i=this.recognizers,n=i.length;for(this.activeTouchesMap={},this.activeTouches=[],this.changedTouches=[],this.isStarted=!1,this.gestureTargets=null,this.events=[],this.cancelEvents=[],e=0;e<n;e++)(t=i[e]).reset(),t.isActive=!1;this.callParent()},privates:{removeGhostTouches:function(e){for(var t,i,n={},r=e.length,o=this.activeTouches,s=this.activeTouchesMap,a=0;a<r;++a)n[e[a].identifier]=!0;for(a=o.length;a--;)e[t=(i=o[a]).identifier]||(Ext.Array.remove(o,i),delete s[t])}}},function(e){e.instance=Ext.$gesturePublisher=new e}),Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){Ext.isIE9m&&this.override({updateTouches:function(e,t){var i=e.browserEvent,n=e.getXY();i.pageX=n[0],i.pageY=n[1],this.callParent([e,t])},doDelegatedEvent:function(e){this.callParent([Ext.event.Event.enableIEAsync(e)])}})}),Ext.define("Ext.mixin.Templatable",{extend:"Ext.Mixin",mixinConfig:{id:"templatable"},referenceAttributeName:"reference",referenceSelector:"[reference]",getElementConfig:function(){return{reference:"element"}},getElementTemplate:function(){var e=document.createDocumentFragment();return e.appendChild(Ext.Element.create(this.getElementConfig(),!0)),e},initElement:function(){var e=this.self.prototype;e.elementTemplate=this.getElementTemplate(),e.initElement=e.doInitElement,this.initElement.apply(this,arguments)},linkElement:function(e,t){this.link(e,t)},doInitElement:function(){for(var e,t,i=this.referenceAttributeName,n=this.elementTemplate.cloneNode(!0).querySelectorAll(this.referenceSelector),r=0,o=n.length;r<o;r++)t=(e=n[r]).getAttribute(i),e.removeAttribute(i),this.linkElement(t,e)}}),Ext.define("Ext.TaskQueue",{requires:"Ext.AnimationQueue",singleton:!0,pending:!1,mode:!0,constructor:function(){this.readQueue=[],this.writeQueue=[],this.run=Ext.Function.bind(this.run,this),Ext.os.is.iOS&&Ext.interval(this.watch,500,this)},requestRead:function(e,t,i){this.request(!0),this.readQueue.push(arguments)},requestWrite:function(e,t,i){this.request(!1),this.writeQueue.push(arguments)},request:function(e){this.pending||(this.pendingTime=Date.now(),this.pending=!0,(this.mode=e)?Ext.defer(this.run,1,this):Ext.Function.requestAnimationFrame(this.run))},watch:function(){this.pending&&500<=Date.now()-this.pendingTime&&this.run()},run:function(){this.pending=!1;var e,t=this.readQueue,i=this.writeQueue,n=null;this.mode?(e=t,0<i.length&&(n=!1)):(e=i,0<t.length&&(n=!0));for(var r,o,s,a=e.slice(),l=e.length=0,d=a.length;l<d;l++)o=(r=a[l])[0],(s=r[1])&&(s.destroying||s.destroyed)||("string"==typeof o&&(o=s[o]),2<r.length?o.apply(s,r[2]):o.call(s));a.length=0,null!==n&&this.request(n)},privates:{flush:function(){for(;this.readQueue.length||this.writeQueue.length;)this.run()}}}),Ext.define("Ext.util.sizemonitor.Abstract",{mixins:["Ext.mixin.Templatable"],requires:["Ext.TaskQueue"],config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},width:null,height:null,contentWidth:null,contentHeight:null,constructor:function(e){this.refresh=Ext.Function.bind(this.refresh,this),this.info={width:0,height:0,contentWidth:0,contentHeight:0,flag:0},this.initElement(),this.initConfig(e),this.bindListeners(!0)},bindListeners:Ext.emptyFn,applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(e){e.append(this.detectorsContainer),e.addCls(Ext.baseCSSPrefix+"size-monitored")},applyArgs:function(e){return e.concat([this.info])},refreshMonitors:Ext.emptyFn,forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this)},getContentBounds:function(){return this.detectorsContainer.getBoundingClientRect()},getContentWidth:function(){return this.detectorsContainer.clientWidth},getContentHeight:function(){return this.detectorsContainer.clientHeight},refreshSize:function(){var e=this.getElement();if(!e||e.destroyed)return!1;var t=e.getWidth(),i=e.getHeight(),n=this.getContentWidth(),r=this.getContentHeight(),o=this.contentWidth,s=this.contentHeight,a=this.info,l=!1,e=0;return this.width=t,this.height=i,0<(e=(o!==(this.contentWidth=n)?1:0)+(s!==(this.contentHeight=r)?2:0))&&(a.width=t,a.height=i,a.contentWidth=n,a.contentHeight=r,a.flag=e,l=!0,this.getCallback().apply(this.getScope(),this.getArgs())),l},refresh:function(e){this.destroying||this.destroyed||(this.refreshSize()||e)&&Ext.TaskQueue.requestWrite("refreshMonitors",this)},destroy:function(){var e=this.getElement();this.bindListeners(!1),e&&!e.destroyed&&e.removeCls(Ext.baseCSSPrefix+"size-monitored"),delete this._element,this.refresh=null,this.callParent()}}),Ext.define("Ext.util.sizemonitor.Scroll",{extend:"Ext.util.sizemonitor.Abstract",getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","scroll"],children:[{reference:"expandMonitor",className:"expand"},{reference:"shrinkMonitor",className:"shrink"}]}},constructor:function(e){this.onScroll=Ext.Function.bind(this.onScroll,this),this.callParent(arguments)},bindListeners:function(e){e=e?"addEventListener":"removeEventListener";this.expandMonitor[e]("scroll",this.onScroll,!0),this.shrinkMonitor[e]("scroll",this.onScroll,!0)},forceRefresh:function(){Ext.TaskQueue.requestRead("refresh",this,[!0])},onScroll:function(){Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e=this.expandMonitor,t=this.shrinkMonitor;e&&!e.destroyed&&(e.scrollLeft=1e6,e.scrollTop=1e6),t&&!t.destroyed&&(t.scrollLeft=1e6,t.scrollTop=1e6)},destroy:function(){this.onScroll=null,this.callParent()}}),Ext.define("Ext.util.sizemonitor.OverflowChange",{extend:"Ext.util.sizemonitor.Abstract",constructor:function(e){this.onExpand=Ext.Function.bind(this.onExpand,this),this.onShrink=Ext.Function.bind(this.onShrink,this),this.callParent(arguments)},getElementConfig:function(){return{reference:"detectorsContainer",classList:[Ext.baseCSSPrefix+"size-monitors","overflowchanged"],children:[{reference:"expandMonitor",className:"expand",children:[{reference:"expandHelper"}]},{reference:"shrinkMonitor",className:"shrink",children:[{reference:"shrinkHelper"}]}]}},bindListeners:function(e){e=e?"addEventListener":"removeEventListener";this.expandMonitor[e](Ext.browser.is.Firefox?"underflow":"overflowchanged",this.onExpand,!0),this.shrinkMonitor[e](Ext.browser.is.Firefox?"overflow":"overflowchanged",this.onShrink,!0)},onExpand:function(e){Ext.browser.is.Webkit&&e.horizontalOverflow&&e.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},onShrink:function(e){Ext.browser.is.Webkit&&!e.horizontalOverflow&&!e.verticalOverflow||Ext.TaskQueue.requestRead("refresh",this)},refreshMonitors:function(){var e,t,i,n,r;this.destroying||this.destroyed||(e=this.expandHelper,t=this.shrinkHelper,i=(n=this.getContentBounds()).width,n=n.height,e&&!e.destroyed&&((r=e.style).width=i+1+"px",r.height=n+1+"px"),t&&!t.destroyed&&((r=t.style).width=i+"px",r.height=n+"px"),Ext.TaskQueue.requestRead("refresh",this))},destroy:function(){this.onExpand=this.onShrink=null,this.callParent()}}),Ext.define("Ext.util.SizeMonitor",{requires:["Ext.util.sizemonitor.Scroll","Ext.util.sizemonitor.OverflowChange"],constructor:function(e){var t=Ext.util.sizemonitor;return new(Ext.browser.is.Firefox?t.OverflowChange:t.Scroll)(e)}}),Ext.define("Ext.event.publisher.ElementSize",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.SizeMonitor"],type:"size",handledEvents:["resize"],constructor:function(){this.monitors={},this.subscribers={},this.callParent(arguments)},subscribe:function(e){var t=e.id,i=this.subscribers,n=this.monitors;return i[t]?++i[t]:(i[t]=1,n[t]=new Ext.util.SizeMonitor({element:e,callback:this.onElementResize,scope:this,args:[e]})),e.on("painted","forceRefresh",n[t]),!0},unsubscribe:function(e){var t=e.id,i=this.subscribers,n=this.monitors;i[t]&&!--i[t]&&(delete i[t],i=n[t],e.un("painted","forceRefresh",i),i.destroy(),delete n[t])},onElementResize:function(e,t){Ext.TaskQueue.requestRead("fire",this,[e,"resize",[e,t]])},privates:{syncRefresh:function(e){for(var t,i=(e=Ext.Array.from(e)).length,n=0,n=0;n<i;++n)"string"!=typeof(t=e[n])&&(t=t.id),(t=this.monitors[t])&&t.forceRefresh();Ext.TaskQueue.flush()}}},function(e){e.instance=new e}),Ext.define("Ext.util.paintmonitor.Abstract",{config:{element:null,callback:Ext.emptyFn,scope:null,args:[]},eventName:"",monitorClass:"",constructor:function(e){this.onElementPainted=Ext.Function.bind(this.onElementPainted,this),this.initConfig(e)},bindListeners:function(e){this.monitorElement[e?"addEventListener":"removeEventListener"](this.eventName,this.onElementPainted,!0)},applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(e){this.monitorElement=Ext.Element.create({classList:[Ext.baseCSSPrefix+"paint-monitor",this.monitorClass]},!0),e.appendChild(this.monitorElement),e.addCls(Ext.baseCSSPrefix+"paint-monitored"),this.bindListeners(!0)},onElementPainted:function(){},destroy:function(){var e=this.monitorElement,t=e.parentNode,i=this.getElement();this.bindListeners(!1),delete this.monitorElement,i&&!i.destroyed&&(i.removeCls(Ext.baseCSSPrefix+"paint-monitored"),delete this._element),t&&t.removeChild(e),this.callParent()}}),Ext.define("Ext.util.paintmonitor.CssAnimation",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.WebKit?"webkitAnimationEnd":"animationend",monitorClass:"cssanimation",onElementPainted:function(e){e.animationName===Ext.baseCSSPrefix+"paint-monitor-helper"&&this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define("Ext.util.PaintMonitor",{requires:["Ext.util.paintmonitor.CssAnimation"],constructor:function(e){return new Ext.util.paintmonitor.CssAnimation(e)}}),Ext.define("Ext.event.publisher.ElementPaint",{extend:"Ext.event.publisher.Publisher",requires:["Ext.util.PaintMonitor","Ext.TaskQueue"],type:"paint",handledEvents:["painted"],constructor:function(){this.monitors={},this.subscribers={},this.callParent(arguments)},subscribe:function(e){var t=e.id,i=this.subscribers;i[t]?++i[t]:(i[t]=1,this.monitors[t]=new Ext.util.PaintMonitor({element:e,callback:this.onElementPainted,scope:this,args:[e]}))},unsubscribe:function(e){var t=e.id,i=this.subscribers,e=this.monitors;i[t]&&!--i[t]&&(delete i[t],e[t].destroy(),delete e[t])},onElementPainted:function(e){Ext.TaskQueue.requestRead("fire",this,[e,"painted",[e]])}},function(e){e.instance=new e}),Ext.define("Ext.dom.Element",function(h){function t(e,t){return t.charAt(1).toUpperCase()}var e,d,c,n,u,r,o,s,a,f=window,p=document,l=p.documentElement,i=f.top,i="top",g="position",m=/\w/g,x=/\s+/,E=/[\s]+/,y=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,v=/table-row|table-.*-group/,b=/top/i,C={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},S={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},w={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},P=[S.l,S.r,S.t,S.b],T=[C.l,C.r,C.t,C.b],I=/\d+$/,k=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,R=/(-[a-z])/gi,M=/([a-z0-9\-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,A=/^\d+(?:\.\d*)?px$/i,D={},F="originalDisplay",L=function(e,t){var i,n,r;if(1===e.nodeType&&(e._extData=null,t))for(n=0,r=(i=e.childNodes).length;n<r;++n)L(i[n],t)},O=Ext.baseCSSPrefix+"hidden-visibility",N=Ext.baseCSSPrefix+"hidden-display",B=Ext.baseCSSPrefix+"hidden-offsets",H=Ext.baseCSSPrefix+"hidden-clip",V=Ext.baseCSSPrefix+"sized",W=Ext.baseCSSPrefix+"unsized",z=Ext.baseCSSPrefix+"stretched",G="style",_="className",U="cls",q="classList",X="text",K="hidden",j="html",Y="children",$=0,Q=0,Z=!1,J=!1;try{e=i.__elementIdCounter__}catch(e){i=f}return i.__elementIdCounter=e=(i.__elementIdCounter__||0)+1,d="ext-window-"+e,c="ext-document-"+e,{alternateClassName:["Ext.Element"],mixins:["Ext.util.Positionable","Ext.mixin.Observable"],requires:["Ext.dom.Shadow","Ext.dom.Shim","Ext.dom.ElementEvent","Ext.event.publisher.Dom","Ext.event.publisher.Gesture","Ext.event.publisher.ElementSize","Ext.event.publisher.ElementPaint"],uses:["Ext.dom.Helper","Ext.dom.CompositeElement","Ext.dom.Fly","Ext.dom.TouchAction","Ext.event.publisher.Focus"],observableType:"element",isElement:!0,skipGarbageCollection:!0,$applyConfigs:!0,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(e){var t,i=this;if("string"==typeof e&&(e=p.getElementById(e)),!e)return Ext.raise("Invalid domNode reference or an id of an existing domNode: "+e),null;Ext.cache[e.id]&&Ext.raise("Element cache already contains an entry for id '"+e.id+"'.  Use Ext.get() to create or retrieve Element instances."),(t=(i.dom=e).id)?i.id=t:t=e.id=i.getUniqueId(),i.validIdRe.test(i.id)||Ext.raise('Invalid Element "id": "'+i.id+'"'),i.el=i,(Ext.cache[t]=i).longpressListenerCount=0,i.mixins.observable.constructor.call(i)},inheritableStatics:{cache:Ext.cache={},editableSelector:'input,textarea,[contenteditable="true"]',VISIBILITY:1,DISPLAY:2,OFFSETS:3,CLIP:4,minKeyboardHeight:100,unitRe:k,useDelegatedEvents:!0,validNodeTypes:{1:1,9:1},addUnits:function(e,t){return"number"==typeof e?e+(t||"px"):""===e||"auto"===e||null==e?e||"":I.test(e)?e+(t||"px"):k.test(e)?e:(Ext.Logger.warn("Warning, size detected ("+e+") not a valid property value on Element.addUnits."),e||"")},create:function(e,t){var i,n,r,o,s,a,l,d,c;if((e=e||{}).isElement)return t?e.dom:e;if("nodeType"in e)return t?e:Ext.get(e);if("string"==typeof e)return p.createTextNode(e);for(a in o=(o=e.tag)||"div",r=(n=e.namespace?p.createElementNS(e.namespace,o):p.createElement(o)).style,e)if("tag"!==a)switch(s=e[a],a){case G:if("string"==typeof s)n.setAttribute(a,s);else for(l in s)s.hasOwnProperty(l)&&(r[l]=s[l]);break;case _:case U:c=s.split(x),i=i?i.concat(c):c;break;case q:i=i?i.concat(s):s;break;case X:n.textContent=s;break;case j:n.innerHTML=s;break;case K:i?i.push(N):i=[N];break;case Y:if(null!=s)for(l=0,d=s.length;l<d;l++)n.appendChild(this.create(s[l],!0));break;default:null!=s&&n.setAttribute(a,s)}return i&&(n.className=i.join(" ")),t?n:this.get(n)},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},fly:function(e,t){return Ext.fly(e,t)},fromPoint:function(){var r;if(Ext.isIE)try{r=window.self!==window.top}catch(e){r=!0}return function(e,t,i){var n=null;return!(n=p.elementFromPoint(e,t))&&r&&(n=p.elementFromPoint(e,t)),i?n:Ext.get(n)}}(),fromPagePoint:function(e,t,i){var n=Ext.getDoc().getScroll();return h.fromPoint(e-n.left,t-n.top,i)},get:function(e){var t,i,n,r,o,s,a=Ext.cache;if(!e)return null;function l(e){Ext.raise("DOM element with id "+e+" in Element cache is not the same as element in the DOM. Make sure to clean up Element instances using destroy()")}if(e.isFly&&(e=e.dom),"string"==typeof e){if(i=e,a.hasOwnProperty(i)){if((n=a[i]).skipGarbageCollection||!Ext.isGarbage(n.dom))return(t=(Ext.getElementById?Ext:p).getElementById(i))&&t!==n.dom&&l(i),n;n.destroy()}if(i===d)return h.get(f);if(i===c)return h.get(p);if(t=(Ext.getElementById?Ext:p).getElementById(i))return new h(t)}if((t=e.nodeType)?(r=9===t,s=this.validNodeTypes[t]):o=e.window==e,s||o){if(i=e.id,a.hasOwnProperty(i)){if((n=a[i]).skipGarbageCollection||e===n.dom||!Ext.isGarbage(n.dom))return e!==n.dom&&l(i),n;n.destroy()}return e===p&&(e.id=c),e==f&&(e.id=d),e=new h(e),(o||r)&&(e.skipGarbageCollection=!0),e}return e.isElement||e.isComposite?e:Ext.isIterable(e)?this.select(e):null},getActiveElement:function(e){var t=p.activeElement;return t&&t.focus||(t=p.body),e?Ext.get(t):t},getDocumentHeight:function(){return Math.max((Ext.isStrict?l:p.body).scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max((Ext.isStrict?l:p.body).scrollWidth,this.getViewportWidth())},getOrientation:function(){return Ext.supports.OrientationChange?0==f.orientation?"portrait":"landscape":f.innerHeight>f.innerWidth?"portrait":"landscape"},getViewportHeight:function(){var e=h._viewportHeight;return Ext.isIE9m?p.documentElement.clientHeight:null!=e?e:l.clientHeight},getViewportWidth:function(){var e=h._viewportWidth;return Ext.isIE9m?p.documentElement.clientWidth:null!=e?e:l.clientWidth},getViewportScale:function(){var e=f.top;return(Ext.isiOS||Ext.isAndroid?1:e.devicePixelRatio||e.screen.deviceXDPI/e.screen.logicalXDPI)*this.getViewportTouchScale()},getViewportTouchScale:function(e){var t,i=1,n=f.top;return!e&&(t=this._viewportTouchScale)?t:(Ext.isIE10p||Ext.isEdge||Ext.isiOS?i=l.offsetWidth/f.innerWidth:Ext.isChromeMobile&&(i=n.outerWidth/n.innerWidth),i)},getViewSize:function(){return{width:h.getViewportWidth(),height:h.getViewportHeight()}},maskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(e){Ext.fly(e.parentNode).mask().setStyle("background-color","transparent")})},normalize:function(e){return D[e]||(D[e]=e.replace(R,t))},_onWindowFocusChange:function(e){Ext.fly(e.target).is(h.editableSelector)&&($=new Date,Z="focusin"===e.type||"pointerup"===e.type)},_onWindowResize:function(){var e=l.clientWidth,t=l.clientHeight,i=new Date,n=e-h._documentWidth,r=t-h._documentHeight;h._windowWidth=e,h._windowHeight=t,(i-$<1e3||i-Q<1e3)&&0==n&&Z&&r<=-h.minKeyboardHeight?J=!0:(J&&0==n&&r>=h.minKeyboardHeight&&(J=!1,Q=new Date),J||(h._viewportWidth=e,h._viewportHeight=t))},parseBox:function(e){var t=typeof(e=e||0);return"number"==t?{top:e,right:e,bottom:e,left:e}:"string"!=t?e:(1===(e=(t=e.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseFloat(t[0])||0,right:parseFloat(t[1])||0,bottom:parseFloat(t[2])||0,left:parseFloat(t[3])||0})},parseStyles:function(e){var t,i={};if(e)for(M.lastIndex=0;t=M.exec(e);)i[t[1]]=t[2]||"";return i},select:function(e,t,i){return Ext.fly(i||p).select(e,t)},query:function(e,t,i){return Ext.fly(i||p).query(e,t)},unitizeBox:function(e,t){return e=this.parseBox(e),this.addUnits(e.top,t)+" "+this.addUnits(e.right,t)+" "+this.addUnits(e.bottom,t)+" "+this.addUnits(e.left,t)},unmaskIframes:function(){var e=document.getElementsByTagName("iframe");Ext.each(e,function(e){Ext.fly(e.parentNode).unmask()})},serializeForm:function(e){for(var t,i,n,r,o,s,a,l,d=e.elements||(p.forms[e]||Ext.getDom(e)).elements,c=!1,u=encodeURIComponent,h="",f=d.length,g=0;g<f;g++)if(i=(t=d[g]).name,n=t.type,r=t.options,!t.disabled&&i)if(/select-(one|multiple)/i.test(n))for(a=r.length,s=0;s<a;s++)(l=r[s]).selected&&(o=l.hasAttribute("value"),h+=Ext.String.format("{0}={1}&",u(i),u(o?l.value:l.text)));else/file|undefined|reset|button/i.test(n)||/radio|checkbox/i.test(n)&&!t.checked||"submit"==n&&c||(h+=u(i)+"="+u(t.value)+"&",c=/submit/i.test(n));return h.substr(0,h.length-1)},getCommonAncestor:function(e,t,i){for((r=r||new Ext.dom.Fly).attach(Ext.getDom(e));!r.isAncestor(t);){if(!r.dom.parentNode){r.attach(p.body);break}r.attach(r.dom.parentNode)}return i?r.dom:Ext.get(r)}},addCls:function(e,t,i){var n,r,o,s,a,l,d,c=this.getData();if(!e)return this;for(c.isSynchronized||this.synchronize(),r=this.dom,o=c.classMap,s=c.classList,t=t?t+"-":"",i=i?"-"+i:"","string"==typeof e&&(e=e.split(x)),a=0,l=e.length;a<l;a++)(d=e[a])&&(o[d=t+d+i]||(o[d]=!0,s.push(d),n=!0));return n&&(r.className=s.join(" ")),this},addClsOnClick:function(i,n,r){var o=this,s=o.dom,a=Ext.isFunction(n);return o.on("mousedown",function(){if(a&&!1===n.call(r||o,o))return!1;Ext.fly(s).addCls(i);var e=Ext.getDoc(),t=function(){Ext.fly(s).removeCls(i),e.removeListener("mouseup",t)};e.on("mouseup",t)}),o},addClsOnFocus:function(e,t,i){var n=this,r=n.dom,o=Ext.isFunction(t);return n.on("focus",function(){return(!o||!1!==t.call(i||n,n))&&void Ext.fly(r).addCls(e)}),n.on("blur",function(){Ext.fly(r).removeCls(e)}),n},addClsOnOver:function(e,t,i){var n=this,r=n.dom,o=Ext.isFunction(t);return n.hover(function(){o&&!1===t.call(i||n,n)||Ext.fly(r).addCls(e)},function(){Ext.fly(r).removeCls(e)}),n},addStyles:function(e,t){var i,n,r=0,o=(e||"").match(m),s=o.length,a=[];if(1===s)r=Math.abs(parseFloat(this.getStyle(t[o[0]]))||0);else if(s){for(i=0;i<s;i++)n=o[i],a.push(t[n]);for(a=this.getStyle(a),i=0;i<s;i++)n=o[i],r+=parseFloat(a[t[n]])||0}return r},addUnits:function(e,t){return h.addUnits(e,t)},adjustDirect2DDimension:function(e){var t=this.dom,i=this.getStyle("display"),n=t.style.display,r=t.style.position,o="width"===e?0:1,s=t.currentStyle;return"inline"===i&&(t.style.display="inline-block"),t.style.position=i.match(v)?"absolute":"static",o=(parseFloat(s[e])||2*parseFloat(s.msTransformOrigin.split(" ")[o]))%1,t.style.position=r,"inline"===i&&(t.style.display=n),o},animate:function(e){return(e=new Ext.fx.Animation(e)).setElement(this),(this._activeAnimation=e).on({animationend:this._onAnimationEnd,scope:this}),Ext.Animator.run(e),e},_onAnimationEnd:function(){this._activeAnimation=null},getActiveAnimation:function(){return this._activeAnimation},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(e,t){var i,n,r;if(e.nodeType||e.dom||"string"==typeof e)return e=Ext.getDom(e),this.dom.appendChild(e),t?e:Ext.get(e);if(e.length){for(i=Ext.fly(p.createDocumentFragment()),n=e.length,r=0;r<n;r++)i.appendChild(e[r],t);return e=Ext.Array.toArray(i.dom.childNodes),this.dom.appendChild(i.dom),t?e:new Ext.dom.CompositeElementLite(e)}return this.createChild(e,null,t)},appendTo:function(e){return Ext.getDom(e).appendChild(this.dom),this},applyStyles:function(e){return e&&("function"==typeof e&&(e=e.call()),"string"==typeof e&&(e=h.parseStyles(e)),"object"==typeof e&&this.setStyle(e)),this},blur:function(){var e=this.dom;if(e===p.body)return this.focus(void 0,e);try{e.blur()}catch(e){}return this},cacheScrollValues:function(){var e,t,i,n,r=[],o=[];for(u=u||new Ext.dom.Fly,i=0,n=(e=this.query("*")).length;i<n;i++)(0<(t=e[i]).scrollTop||0!==t.scrollLeft)&&(o.push(t),r.push(u.attach(t).getScroll()));return function(){for(var e,t=0,i=o.length;t<i;t++)e=r[t],u.attach(o[t]),u.setScrollLeft(e.left),u.setScrollTop(e.top)}},center:function(e){return this.alignTo(e||p,"c-c")},child:function(e,t){var i=Ext.get(this).id;return this.selectNode(Ext.makeIdSelector(i)+" > "+e,!!t)},clone:function(e,t){var i=this.dom.cloneNode(e);return Ext.supports.CloneNodeCopiesExpando&&L(i,e),t?i:Ext.get(i)},constrainScrollLeft:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollWidth-t.clientWidth),0)},constrainScrollTop:function(e){var t=this.dom;return Math.max(Math.min(e,t.scrollHeight-t.clientHeight),0)},createChild:function(e,t,i){return e=e||{tag:"div"},t?Ext.DomHelper.insertBefore(t,e,!0!==i):Ext.DomHelper.append(this.dom,e,!0!==i)},contains:function(e){if(!e)return!1;e=Ext.getDom(e);return e===this.dom||this.isAncestor(e)},destroy:function(){var e=this.dom;this.destroyed?Ext.Logger.warn('Cannot destroy Element "'+this.id+'". Already destroyed.'):(e&&(e===p.body?Ext.raise("Cannot destroy body element."):e===p?Ext.raise("Cannot destroy document object."):e===f&&Ext.raise("Cannot destroy window object")),e&&e.parentNode&&e.parentNode.removeChild(e),this.collect())},detach:function(){var e=this.dom;return e&&e.parentNode&&"BODY"!==e.tagName&&e.parentNode.removeChild(e),this},disableShadow:function(){var e=this.shadow;e&&(e.hide(),e.disabled=!0)},disableShim:function(){var e=this.shim;e&&(e.hide(),e.disabled=!0)},doReplaceWith:function(e){var t=this.dom;t.parentNode.replaceChild(Ext.getDom(e),t)},doScrollIntoView:function(e,t,i,n,r,o){u=u||new Ext.dom.Fly;var s=this.dom,a=u.attach(e)[r](),l=e.scrollTop,d=this.getScrollIntoViewXY(e,a,l),r=d.x,d=d.y;return n&&(i?i=Ext.apply({listeners:{afteranimate:function(){u.attach(s).highlight()}}},i):u.attach(s).highlight()),d!==l&&u.attach(e).scrollTo("top",d,i),!1!==t&&r!==a&&u.attach(e)[o]("left",r,i),this},down:function(e,t){return this.selectNode(e,!!t)},enableShadow:function(e,t){var i=this.shadow||(this.shadow=new Ext.dom.Shadow(Ext.apply({target:this},e))),e=this.shim;e&&(e.offsets=i.outerOffsets,(e.shadow=i).shim=e),!0===t||!1!==t&&this.isVisible()?i.show():i.hide(),i.disabled=!1},enableShim:function(e,t){var i=this.shim||(this.shim=new Ext.dom.Shim(Ext.apply({target:this},e))),e=this.shadow;return e&&(i.offsets=e.outerOffsets,(i.shadow=e).shim=i),!0===t||!1!==t&&this.isVisible()?i.show():i.hide(),i.disabled=!1,i},findParent:function(e,t,i){var n=this.dom,r=l,o=0;for(t||0===t?"number"!=typeof t&&(r=Ext.getDom(t),t=Number.MAX_VALUE):t=50;n&&1===n.nodeType&&o<t&&n!==r;){if(Ext.fly(n).is(e))return i?Ext.get(n):n;o++,n=n.parentNode}return null},findParentNode:function(e,t,i){var n=Ext.fly(this.dom.parentNode);return n?n.findParent(e,t,i):null},first:function(e,t){return this.matchNode("nextSibling","firstChild",e,t)},focus:function(e,t){return t=t||this.dom,Number(e)?Ext.defer(this.focus,e,this,[null,t]):(Ext.GlobalEvents.fireEvent("beforefocus",t),t.focus()),this},collect:function(){var e=this,t=e.dom,i=e.shadow,n=e.shim;e.isFly||(e.mixins.observable.destroy.call(e),delete Ext.cache[e.id],e.el=null),t&&(t._extData=e.dom=null),i&&(i.hide(),e.shadow=null),n&&(n.hide(),e.shim=null)},getAnchorToXY:function(e,t,i,n){return e.getAnchorXY(t,i,n)},getAttribute:function(e,t){var i=this.dom;return t?i.getAttributeNS(t,e)||i.getAttribute(t+":"+e):i.getAttribute(e)||i[e]||null},getAttributes:function(){for(var e,t=this.dom.attributes,i={},n=0,r=t.length;n<r;n++)i[(e=t[n]).name]=e.value;return i},getBottom:function(e){return(e?this.getLocalY():this.getY())+this.getHeight()},getById:function(e,t){e=p.getElementById(e)||this.dom.querySelector(Ext.makeIdSelector(e));return t?e:e?Ext.get(e):null},getBorderPadding:function(){var e=this.getStyle(P),t=this.getStyle(T);return{beforeX:(parseFloat(t[C.l])||0)+(parseFloat(e[S.l])||0),afterX:(parseFloat(t[C.r])||0)+(parseFloat(e[S.r])||0),beforeY:(parseFloat(t[C.t])||0)+(parseFloat(e[S.t])||0),afterY:(parseFloat(t[C.b])||0)+(parseFloat(e[S.b])||0)}},getBorders:function(){var e=this.getStyle(T);return{beforeX:parseFloat(e[C.l])||0,afterX:parseFloat(e[C.r])||0,beforeY:parseFloat(e[C.t])||0,afterY:parseFloat(e[C.b])||0}},getBorderWidth:function(e){return this.addStyles(e,C)},getData:function(e){var t,i=this.dom;return i&&((t=i._extData)||e||(i._extData=t={})),t},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(e,t){var i,n=this.dom;return this.isStyle("display","none")?0:("BODY"===n.nodeName?i=h.getViewportHeight():null==(i=n.offsetHeight)&&(i=n.getBoundingClientRect().height),Ext.supports.Direct2DBug&&(n=this.adjustDirect2DDimension("height"),t?i+=n:0<n&&n<.5&&i++),e&&(i-=this.getBorderWidth("tb")+this.getPadding("tb")),i<0?0:i)},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(e){return e?this.getLocalX():this.getX()},getLocalX:function(){var e,t=this.getStyle("left");return t&&"auto"!==t?A.test(t)?t=parseFloat(t):(t=this.getX(),(e=this.dom.offsetParent)&&(t-=Ext.fly(e).getX())):t=0,t},getLocalXY:function(){var e,t=this.getStyle(["left","top"]),i=t.left,t=t.top;return i&&"auto"!==i?A.test(i)?i=parseFloat(i):(i=this.getX(),(e=this.dom.offsetParent)&&(i-=Ext.fly(e).getX())):i=0,t&&"auto"!==t?A.test(t)?t=parseFloat(t):(t=this.getY(),(e=this.dom.offsetParent)&&(t-=Ext.fly(e).getY())):t=0,[i,t]},getLocalY:function(){var e,t=this.getStyle("top");return t&&"auto"!==t?A.test(t)?t=parseFloat(t):(t=this.getY(),(e=this.dom.offsetParent)&&(t-=Ext.fly(e).getY())):t=0,t},getMargin:(s={t:"top",l:"left",r:"right",b:"bottom"},a=["margin-top","margin-left","margin-right","margin-bottom"],function(e){var t,i,n;if(e)n=this.addStyles(e,w);else if(n={},(t=this.getStyle(a))&&"object"==typeof t)for(i in n={},w)n[i]=n[s[i]]=parseFloat(t[w[i]])||0;return n}),getPadding:function(e){return this.addStyles(e,S)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(e){return(e?this.getLocalX():this.getX())+this.getWidth()},getScroll:function(){var e,t=this.dom,i=p.body,t=t===p||t===i?(e=l.scrollLeft||(i?i.scrollLeft:0),l.scrollTop||(i?i.scrollTop:0)):(e=t.scrollLeft,t.scrollTop);return{left:e,top:t}},getScrollIntoViewXY:function(e,t,i){var n=this.dom,r=Ext.getDom(e),o=this.getOffsetsTo(r),s=n.offsetWidth,a=n.offsetHeight,l=o[0]+t,d=o[1]+i,c=d+a,u=l+s,e=r.clientHeight,n=r.clientWidth,o=t,r=i;return e<a||d<r?i=d:r+e<c&&(i=c-e),n<s||l<o?t=l:o+n<u&&(t=u-n),{x:t,y:i}},getScrollLeft:function(){var e=this.dom;return e===p||e===p.body?this.getScroll().left:e.scrollLeft},getScrollTop:function(){var e=this.dom;return e===p||e===p.body?this.getScroll().top:e.scrollTop},getSize:function(e){return{width:this.getWidth(e),height:this.getHeight(e)}},getStyle:function(e,t){var i,n,r,o,s=this.dom,a="string"!=typeof e,l=this.styleHooks,d=e,c=d,u=1;if(a&&(i={},d=c[0],o=0,!(u=c.length)))return i;if(!s||s.documentElement)return i||"";e=s.style,t?r=e:(r=s.ownerDocument.defaultView.getComputedStyle(s,null))||(t=!0,r=e);do{if((n=l[d])||(l[d]=n={name:h.normalize(d)}),n=n.get?n.get(s,this,t,r):r[n.name],!a)return n}while(i[d]=n,d=c[++o],o<u);return i},getStyleValue:function(e){return this.dom.style.getPropertyValue(e)},getTop:function(e){return e?this.getLocalY():this.getY()},getTouchAction:function(){return Ext.dom.TouchAction.get(this.dom)},getValue:function(e){var t=this.dom.value;return e?parseInt(t,10):t},getViewSize:function(){var e=this.dom;return e===p||e===p.body?{width:h.getViewportWidth(),height:h.getViewportHeight()}:{width:e.clientWidth,height:e.clientHeight}},getVisibilityMode:function(){var e=this.getData(),t=e.visibilityMode;return void 0===t&&(e.visibilityMode=t=h.DISPLAY),t},getWidth:function(e,t){var i,n=this.dom;return this.isStyle("display","none")?0:(i=Ext.supports.BoundingClientRect?(i=n.getBoundingClientRect(),i=this.vertical&&!Ext.supports.RotatedBoundingClientRect?i.bottom-i.top:i.right-i.left,t?i:Math.ceil(i)):n.offsetWidth,Ext.supports.Direct2DBug&&!this.vertical&&(n=this.adjustDirect2DDimension("width"),t?i+=n:0<n&&n<.5&&i++),e&&(i-=this.getBorderWidth("lr")+this.getPadding("lr")),i<0?0:i)},getX:function(){return this.getXY()[0]},getXY:function(){var e,t,i=Math.round,n=this.dom,r=p.body,o=0,s=0;if(n!==p&&n!==r)try{e=r.getBoundingClientRect(),o=(t=n.getBoundingClientRect()).left-e.left,s=t.top-e.top}catch(e){}return[i(o),i(s)]},getY:function(){return this.getXY()[1]},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},hasCls:function(e){var t=this.getData();return t.isSynchronized||this.synchronize(),t.classMap.hasOwnProperty(e)},hide:function(){return this.setVisible(!1),this},insertAfter:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e.nextSibling),this},insertBefore:function(e){return(e=Ext.getDom(e)).parentNode.insertBefore(this.dom,e),this},insertFirst:function(e,t){return(e=e||{}).nodeType||e.dom||"string"==typeof e?(e=Ext.getDom(e),this.dom.insertBefore(e,this.dom.firstChild),t?e:Ext.get(e)):this.createChild(e,this.dom.firstChild,t)},insertHtml:function(e,t,i){t=Ext.DomHelper.insertHtml(e,this.dom,t);return i?Ext.get(t):t},insertSibling:function(e,t,i){var n,r,o,s,a=Ext.DomHelper,t="after"===(t||"before").toLowerCase();if(Ext.isIterable(e)){if(o=e.length,r=Ext.fly(p.createDocumentFragment()),Ext.isArray(e))for(s=0;s<o;s++)n=r.appendChild(e[s],i);else{for(s=0;s<o;s++)r.dom.appendChild(n=e[0]);!1===i&&(n=Ext.get(n))}return this.dom.parentNode.insertBefore(r.dom,t?this.dom.nextSibling:this.dom),n}return(e=e||{}).nodeType||e.dom?(n=this.dom.parentNode.insertBefore(Ext.getDom(e),t?this.dom.nextSibling:this.dom),i||(n=Ext.get(n))):n=t&&!this.dom.nextSibling?a.append(this.dom.parentNode,e,!i):a[t?"insertAfter":"insertBefore"](this.dom,e,!i),n},is:function(e){var t=this.dom,e=!e||!!t.tagName&&(Ext.isFunction(e)?e(t):t[Ext.supports.matchesSelector](e));return e},isAncestor:function(e){var t=!1,i=this.dom,n=Ext.getDom(e);if(i&&n){if(i.contains)return i.contains(n);if(i.compareDocumentPosition)return!!(16&i.compareDocumentPosition(n));for(;n=n.parentNode;)t=n===i||t}return t},isPainted:Ext.browser.is.IE?function(){var e=this.dom;return Boolean(e&&0!==e.offsetHeight&&0!==e.offsetWidth)}:function(){var e=this.dom;return Boolean(e&&e.offsetParent)},isScrollable:function(){var e=this.dom;return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth},isStyle:function(e,t){return this.getStyle(e)===t},isVisible:function(e){var t,i=this.dom;if(!i)return!1;for(n=n||new Ext.dom.Fly,t=i.ownerDocument.documentElement;i!==t;i=i.parentNode){if(!i||11===i.nodeType||n.attach(i).isStyle("visibility","hidden")||n.isStyle("display","none"))return!1;if(!e)break}return!0},last:function(e,t){return this.matchNode("previousSibling","lastChild",e,t)},matchNode:function(e,t,i,n){var r,o=this.dom;if(!o)return null;for(r=o[t];r;){if(1===r.nodeType&&(!i||Ext.fly(r,"_matchNode").is(i)))return n?r:Ext.get(r);r=r[e]}return null},monitorMouseLeave:function(t,i,n){var r,o=this,e={mouseleave:function(e){Ext.isIE9m&&e.enableIEAsync(),r=Ext.defer(i,t,n||o,[e])},mouseenter:function(){clearTimeout(r)},destroy:function(){clearTimeout(r),o.un(e)}};return o.on(e),e},next:function(e,t){return this.matchNode("nextSibling","nextSibling",e,t)},parent:function(e,t){return this.matchNode("parentNode","parentNode",e,t)},position:function(e,t,i,n){"BODY"!==this.dom.tagName&&(!e&&this.isStyle(g,"static")?this.setStyle(g,"relative"):e&&this.setStyle(g,e),t&&this.setStyle("z-index",t),(i||n)&&this.setXY([i||!1,n||!1]))},prev:function(e,t){return this.matchNode("previousSibling","previousSibling",e,t)},query:function(e,t,i){var n,r,o,s,a,l,d,c=this.dom;if(!c)return null;for(t=!1!==t,i||(n=[]),l=0,r=(e=e.split(",")).length;l<r;l++)if("string"==typeof e[l]){if(i)return s=c.querySelector(e[l]),t?s:Ext.get(s);for(d=0,o=(a=c.querySelectorAll(e[l])).length;d<o;d++)n.push(t?a[d]:Ext.get(a[d]))}return n},radioCls:function(e){var t,i=this.dom.parentNode.childNodes;e=Ext.isArray(e)?e:[e];for(var n=0,r=i.length;n<r;n++)(t=i[n])&&1===t.nodeType&&Ext.fly(t).removeCls(e);return this.addCls(e)},redraw:function(){var e=this.dom,t=e.style;t.display="none",e.offsetHeight,t.display=""},remove:function(){this.destroy()},removeChild:function(e){return this.dom.removeChild(Ext.getDom(e)),this},removeCls:function(e,t,i){var n,r,o,s,a,l,d,c=this.getData();if(!e)return this;for(c.isSynchronized||this.synchronize(),r=this.dom,o=c.classMap,s=c.classList,t=t?t+"-":"",i=i?"-"+i:"","string"==typeof e&&(e=e.split(x)),a=0,l=e.length;a<l;a++)(d=e[a])&&o[d=t+d+i]&&(delete o[d],Ext.Array.remove(s,d),n=!0);return n&&(r.className=s.join(" ")),this},repaint:function(){var e=this;return e.addCls(Ext.baseCSSPrefix+"repaint"),Ext.defer(function(){e.dom&&Ext.fly(e.dom).removeCls(Ext.baseCSSPrefix+"repaint")},1),e},replace:function(e,t){var i=(e=Ext.getDom(e)).parentNode,n=e.id,r=this.dom;return i||Ext.raise('Cannot replace element "'+n+'". It is not attached to a parent node.'),!1!==t&&n&&Ext.cache[n]?(i.insertBefore(r,e),Ext.get(e).destroy()):i.replaceChild(r,e),this},replaceCls:function(e,t,i,n){var r,o,s,a,l,d,c,u=this.getData();if(!e&&!t)return this;for(e=e||[],t=t||[],u.isSynchronized||this.synchronize(),n=n||"",r=this.dom,o=u.classMap,s=u.classList,i=i?i+"-":"",n=n?"-"+n:"","string"==typeof e&&(e=e.split(x)),"string"==typeof t&&(t=t.split(x)),a=0,l=e.length;a<l;a++)o[d=i+e[a]+n]&&(delete o[d],c=!0);for(a=0,l=t.length;a<l;a++)o[d=i+t[a]+n]||(c=o[d]=!0);return c&&(u.classList=s=Ext.Object.getKeys(o),r.className=s.join(" ")),this},replaceWith:function(e){var t=this.dom,i=t.parentNode,n=Ext.cache;return this.clearListeners(),e=e.nodeType||e.dom||"string"==typeof e?(e=Ext.get(e),i.insertBefore(e.dom,t)):Ext.DomHelper.insertBefore(t,e),i.removeChild(t),this.dom=e,this.isFly||(delete n[this.id],n[this.id=Ext.id(e)]=this),this},resolveListenerScope:function(e){var t=this.component;return t?t.resolveListenerScope(e):this},scroll:function(e,t,i){if(!this.isScrollable())return!1;e=e.charAt(0);var n,r=this.dom,o="r"===e||"l"===e?"left":"top",s=!1;return"l"!==e&&"t"!==e&&"u"!==e||(t=-t),(t="left"==o?(n=r.scrollLeft,this.constrainScrollLeft(n+t)):(n=r.scrollTop,this.constrainScrollTop(n+t)))!==n&&(this.scrollTo(o,t,i),s=!0),s},scrollBy:function(e,t,i){var n=this.dom;return e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x),e&&this.scrollTo("left",this.constrainScrollLeft(n.scrollLeft+e),i),t&&this.scrollTo("top",this.constrainScrollTop(n.scrollTop+t),i),this},scrollChildIntoView:function(e,t){Ext.fly(e).scrollIntoView(this,t)},scrollIntoView:function(e,t,i,n){return e=Ext.getDom(e)||Ext.getBody().dom,this.doScrollIntoView(e,t,i,n,"getScrollLeft","scrollTo")},scrollTo:function(e,t,i){var n=b.test(e)?"scrollTop":"scrollLeft",r=this.dom;return i&&this.anim?((e={to:{}}).to[n]=t,Ext.isObject(i)&&Ext.applyIf(e,i),this.animate(e)):(r[n]=t,r[n]=t),this},select:function(e,t){var i,n;return"string"==typeof e?n=this.query(e,!t):void 0===e.length?Ext.raise("Invalid selector specified: "+e):(n=e,i=!0),t?new Ext.CompositeElement(n,!i):new Ext.CompositeElementLite(n,!0)},selectNode:function(e,t){return this.query(e,t,!0)},set:function(e,t){var i,n,r=this.dom;for(i in e)e.hasOwnProperty(i)&&(n=e[i],"style"===i?this.applyStyles(n):"cls"===i?r.className=n:!1!==t?void 0===n?r.removeAttribute(i):r.setAttribute(i,n):r[i]=n);return this},setBottom:function(e){return this.dom.style.bottom=h.addUnits(e),this},setCls:function(e){var t,i,n,r,o=this.getData();for(o.isSynchronized||this.synchronize(),"string"==typeof e&&(e=e.split(x)),o.classList=r=e.slice(),o.classMap=n={},t=0,i=r.length;t<i;t++)n[r[t]]=!0;this.dom.className=r.join(" ")},setDisplayed:function(e){return"boolean"==typeof e&&(e=e?this._getDisplay():"none"),this.setStyle("display",e),(this.shadow||this.shim)&&this.setUnderlaysVisible("none"!==e),this},setHeight:function(e){return this.dom.style.height=h.addUnits(e),(this.shadow||this.shim)&&this.syncUnderlays(),this},setHtml:function(e){return this.dom&&(this.dom.innerHTML=e),this},setId:function(e){var t=this.id,i=Ext.cache;return t&&delete i[t],this.dom.id=e,i[this.id=e]=this},setLeft:function(e){return this.dom.style.left=h.addUnits(e),(this.shadow||this.shim)&&this.syncUnderlays(),this},setLocalX:function(e){var t=this.dom.style;return t.right="auto",t.left=null===e?"auto":e+"px",(this.shadow||this.shim)&&this.syncUnderlays(),this},setLocalXY:function(e,t){var i=this.dom.style;return i.right="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?i.left="auto":void 0!==e&&(i.left=e+"px"),null===t?i.top="auto":void 0!==t&&(i.top=t+"px"),(this.shadow||this.shim)&&this.syncUnderlays(),this},setLocalY:function(e){return this.dom.style.top=null===e?"auto":e+"px",(this.shadow||this.shim)&&this.syncUnderlays(),this},setMargin:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("margin",e,"important")):(t.removeProperty("margin-top"),t.removeProperty("margin-right"),t.removeProperty("margin-bottom"),t.removeProperty("margin-left"))},setMaxHeight:function(e){return this.dom.style["max-height"]=h.addUnits(e),this},setMaxWidth:function(e){return this.dom.style["max-width"]=h.addUnits(e),this},setMinHeight:function(e){return this.dom.style["min-height"]=h.addUnits(e),this},setMinWidth:function(e){return this.dom.style["min-width"]=h.addUnits(e),this},setOpacity:function(e){return this.dom&&this.setStyle("opacity",e),this},setPadding:function(e){var t=this.dom.style;e||0===e?(e=this.self.unitizeBox(!0===e?5:e),t.setProperty("padding",e,"important")):(t.removeProperty("padding-top"),t.removeProperty("padding-right"),t.removeProperty("padding-bottom"),t.removeProperty("padding-left"))},setRight:function(e){return this.dom.style.right=h.addUnits(e),this},setScrollLeft:function(e){return this.dom.scrollLeft=e,this},setScrollTop:function(e){return this.dom.scrollTop=e,this},setSize:function(e,t){var i=this.dom.style;return Ext.isObject(e)&&(t=e.height,e=e.width),i.width=h.addUnits(e),i.height=h.addUnits(t),(this.shadow||this.shim)&&this.syncUnderlays(),this},setSizeState:function(e){var t,e=!0===e?(t=V,[W,z]):!1===e?(t=W,[V,z]):null===e?(t=z,[V,W]):[V,W,z];return t&&this.addCls(t),this.removeCls(e),this},setStyle:function(e,t){var i,n=this.dom,r=this.styleHooks,o=n.style,s=e;if("string"==typeof s)(i=r[s])||(r[s]=i={name:h.normalize(s)}),t=null==t?"":t,i.set?i.set(n,t,this):o[i.name]=t,i.afterSet&&i.afterSet(n,t,this);else for(s in e)e.hasOwnProperty(s)&&((i=r[s])||(r[s]=i={name:h.normalize(s)}),t=null==(t=e[s])?"":t,i.set?i.set(n,t,this):o[i.name]=t,i.afterSet&&i.afterSet(n,t,this));return this},setText:function(e){this.dom.textContent=e},setTop:function(e){return this.dom.style[i]=h.addUnits(e),(this.shadow||this.shim)&&this.syncUnderlays(),this},setTouchAction:function(e){Ext.dom.TouchAction.set(this.dom,e)},setUnderlaysVisible:function(e){var t=this.shadow,i=this.shim;t&&!t.disabled&&(e?t.show():t.hide()),i&&!i.disabled&&(e?i.show():i.hide())},setVisibility:function(e){var t=this.dom.style;e?t.removeProperty("visibility"):t.setProperty("visibility","hidden","important")},setVisibilityMode:function(e){return 1!==e&&2!==e&&3!==e&&4!==e&&Ext.raise("visibilityMode must be one of the following: Ext.Element.DISPLAY, Ext.Element.VISIBILITY, Ext.Element.OFFSETS, or Ext.Element.CLIP"),this.getData().visibilityMode=e,this},setVisible:function(e){var t=this,i=e?"removeCls":"addCls";switch(t.getVisibilityMode()){case h.DISPLAY:t.removeCls([O,B,H]),t[i](N);break;case h.VISIBILITY:t.removeCls([N,B,H]),t[i](O);break;case h.OFFSETS:t.removeCls([O,N,H]),t[i](B);break;case h.CLIP:t.removeCls([O,N,B]),t[i](H)}return(t.shadow||t.shim)&&t.setUnderlaysVisible(e),t},setWidth:function(e){return this.dom.style.width=h.addUnits(e),(this.shadow||this.shim)&&this.syncUnderlays(),this},setX:function(e){return this.setXY([e,!1])},setXY:function(e){var t,i=this.translatePoints(e),n=this.dom.style;for(t in this.position(),n.right="auto",i)isNaN(i[t])||(n[t]=i[t]+"px");return(this.shadow||this.shim)&&this.syncUnderlays(),this},setY:function(e){return this.setXY([!1,e])},setZIndex:function(e){return this.shadow&&this.shadow.setZIndex(e),this.shim&&this.shim.setZIndex(e),this.setStyle("z-index",e)},show:function(){return this.setVisible(!0),this},swapCls:function(e,t,i,n){void 0===i&&(i=!0);var r=i?e:t,e=i?t:e;return e&&this.removeCls(n?n+"-"+e:e),r&&this.addCls(n?n+"-"+r:r),this},synchronize:function(){var e,t,i,n=this.dom,r={},o=n.className,s=this.getData();if(o&&0<o.length)for(t=0,i=(e=n.className.split(E)).length;t<i;t++)r[e[t]]=!0;else e=[];return s.classList=e,s.classMap=r,s.isSynchronized=!0,this},syncUnderlays:function(){var e,t,i,n=this.shadow,r=this.shim,o=this.dom;this.isVisible()&&(e=(i=this.getXY())[0],t=i[1],i=o.offsetWidth,o=o.offsetHeight,n&&!n.hidden&&n.realign(e,t,i,o),r&&!r.hidden&&r.realign(e,t,i,o))},toggleCls:function(e,t){return"boolean"!=typeof t&&(t=!this.hasCls(e)),t?this.addCls(e):this.removeCls(e)},toggle:function(){return this.setVisible(!this.isVisible()),this},translate:(o="webkitTransform"in p.createElement("div").style?"webkitTransform":"transform",function(e,t,i){e=Math.round(e),t=Math.round(t),i=Math.round(i),this.dom.style[o]="translate3d("+(e||0)+"px, "+(t||0)+"px, "+(i||0)+"px)"}),unwrap:function(){var e,t,i,n,r=this.dom,o=r.parentNode,s=Ext.fly(Ext.Element.getActiveElement()),a=Ext.cache[s.id];return a&&(s=a),this.contains(s)&&(a&&a.suspendFocusEvents(),t=!0),o?(e=o.parentNode,t&&(n=e.getAttribute("tabIndex"),(i=Ext.fly(e)).set({tabIndex:-1}),i.suspendFocusEvents(),i.focus()),e.insertBefore(r,o),e.removeChild(o)):(e=p.createDocumentFragment()).appendChild(r),t&&(a?(a.focus(),a.resumeFocusEvents()):Ext.fly(s).focus(),i&&(i.resumeFocusEvents(),i.set({tabIndex:n}))),this},up:function(e,t,i){return this.findParentNode(e,t,!i)},update:function(e){return this.setHtml(e)},wrap:function(e,t,i){var n,r,o=this.dom,s=Ext.DomHelper.insertBefore(o,e||{tag:"div"},!t),a=s,l=Ext.Element.getActiveElement(),e=Ext.cache[l.id];return e&&(l=e),i&&(a=s.selectNode(i,t)),this.contains(l)&&(e&&e.suspendFocusEvents(),r=s.dom.getAttribute("tabIndex"),s.set({tabIndex:-1}),s.suspendFocusEvents(),s.focus(),n=!0),a.appendChild(o),n&&(e?(e.focus(),e.resumeFocusEvents()):Ext.fly(l).focus(),s.resumeFocusEvents(),s.set({tabIndex:r})),s},privates:{doAddListener:function(e,t,i,n,r,o,s){var a,l=this,d=(Ext.$gesturePublisher,e),c=Ext.supports;c.TouchEvents,c.PointerEvents;e=Ext.canonicalEventName(e),l.blockedEvents[e]||(c=l.mixins.observable.doAddListener,n=n||{},!1===h.useDelegatedEvents&&(n.delegated=n.delegated||!1),!1!==n.translate&&((a=l.additiveEvents[e])&&(n.type=e,e=a,c.call(l,e,t,i,n,r,o,s)),(a=l.eventMap[e])&&(n.type=n.type||e,s&&(n.managedName=d),e=a)),c.call(l,e,t,i,n,r,o,s)&&l.longpressEvents[e]&&1==++l.longpressListenerCount&&l.on("MSHoldVisual","preventMsHoldVisual",l),s&&a&&delete n.managedName,delete n.type)},doRemoveListener:function(e,t,i){var n,r,o=this,s=(Ext.$gesturePublisher,Ext.supports);s.TouchEvents,s.PointerEvents;e=Ext.canonicalEventName(e),o.blockedEvents[e]||(n=o.mixins.observable.doRemoveListener,(s=o.additiveEvents[e])&&(e=s,n.call(o,e,t,i)),(s=o.eventMap[e])&&(r=n.call(o,s,t,i)),(r=n.call(o,e,t,i)||r)&&o.longpressEvents[e]&&!--o.longpressListenerCount&&o.un("MSHoldVisual","preventMsHoldVisual",o))},_initEvent:function(e){return this.events[e]=new Ext.dom.ElementEvent(this,e)},_getDisplay:function(){var e=this.getData(),t=e[F];return void 0===t&&(e[F]=t=""),t},_getPublisher:function(e){var t=Ext.event.publisher.Publisher,i=t.publishersByEvent[e];return i&&(this.dom!==window||"resize"!==e)||(i=t.publishers.dom),i},isFocusSuspended:function(){return!!this.getData().suspendFocusEvents},preventMsHoldVisual:function(e){e.preventDefault()},suspendFocusEvents:function(){this.isFly||this.suspendEvent("focus","blur"),this.getData().suspendFocusEvents=!0},resumeFocusEvents:function(){function e(){var e;this.destroyed||((e=this.getData())&&(e.suspendFocusEvents=!1),this.isFly||this.resumeEvent("focus","blur"))}!this.destroyed&&this.getData().suspendFocusEvents&&(Ext.isIE?Ext.asap(e,this):e.call(this))}},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(e){var t=this.dom,i="BODY"===t.nodeName,n=i?h.getViewportWidth():t.offsetWidth,r=i?h.getViewportHeight():t.offsetHeight,o=this.getXY(),s=o[1],i=o[0]+n,t=o[1]+r,o=o[0];return e?new Ext.util.Region(s,i,t,o):{left:o,top:s,width:n,height:r,right:i,bottom:t}},getScrollParent:null,isDescendent:null,isTransparent:function(e){e=this.getStyle(e);return!!e&&y.test(e)},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(r){var t=document,i=t.documentElement,e=r.prototype,n=Ext.supports,o="pointerdown",s="pointermove",a="pointerup",l="pointercancel",d="MSPointerDown",c="MSPointerMove",u="MSPointerUp",h="MSPointerCancel",f="mousedown",g="mousemove",p="mouseup",m="touchstart",x="touchmove",E="touchend",y="touchcancel",v=e.eventMap={},b=e.additiveEvents={},C=Ext.id;Ext.id=function(e,t){var i,n=Ext.getDom(e,!0);return n?(i=n.id)||(i=C(null,t||r.prototype.identifiablePrefix),Ext.isSandboxed&&(i=(Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-"))+i),n.id=i):i=C(e,t),i},n.PointerEvents?(v[f]=o,v[g]=s,v[p]=a,v[m]=o,v[x]=s,v[E]=a,v[y]=l,v.mouseover="pointerover",v.mouseout="pointerout",v.mouseenter="pointerenter",Ext.isIE11||(v.mouseleave="pointerleave")):n.MSPointerEvents?(v[o]=d,v[s]=c,v[a]=u,v[l]=h,v[f]=d,v[g]=c,v[p]=u,v[m]=d,v[x]=c,v[E]=u,v[y]=h,v.mouseover="MSPointerOver",v.mouseout="MSPointerOut"):n.TouchEvents?(v[o]=m,v[s]=x,v[a]=E,v[l]=y,v[f]=m,v[g]=x,v[p]=E,v.click="tap",v.dblclick="doubletap",Ext.isWebKit&&Ext.os.is.Desktop&&(v[m]=f,v[x]=g,v[E]=p,v[y]=p,b[f]=f,b[g]=g,b[p]=p,b[m]=m,b[x]=x,b[E]=E,b[y]=y,b[o]=f,b[s]=g,b[a]=p,b[l]=p)):(v[o]=f,v[s]=g,v[a]=p,v[l]=p,v[m]=f,v[x]=g,v[E]=p,v[y]=p),Ext.isWebKit&&(v.transitionend=Ext.browser.getVendorProperyName("transitionEnd"),v.animationstart=Ext.browser.getVendorProperyName("animationStart"),v.animationend=Ext.browser.getVendorProperyName("animationEnd")),Ext.supports.MouseWheel||Ext.isOpera||(v.mousewheel="DOMMouseScroll"),(v=e.$eventOptions=Ext.Object.chain(e.$eventOptions)).translate=v.capture=v.delegate=v.delegated=v.stopEvent=v.preventDefault=v.stopPropagation=v.element=1,e.styleHooks.opacity={name:"opacity",afterSet:function(e,t,i){i=i.shadow;i&&i.setOpacity(t)}},e.getTrueXY=e.getXY,Ext.select=r.select,Ext.query=r.query,Ext.apply(Ext,{get:function(e){return r.get(e)},getDom:function(e){return e&&t?"string"==typeof e?Ext.getElementById(e):"dom"in e?e.dom:e:null},getBody:function(){if(!Ext._bodyEl){if(!t.body)throw new Error("[Ext.getBody] document.body does not yet exist");Ext._bodyEl=Ext.get(t.body)}return Ext._bodyEl},getHead:function(){return Ext._headEl||(Ext._headEl=Ext.get(t.head||t.getElementsByTagName("head")[0])),Ext._headEl},getDoc:function(){return Ext._docEl||(Ext._docEl=Ext.get(t)),Ext._docEl},getWin:function(){return Ext._winEl||(Ext._winEl=Ext.get(window)),Ext._winEl},removeNode:function(e){var t=(e=e.dom||e)&&e.id,t=Ext.cache[t];t?t.destroy():!e||3!==e.nodeType&&"BODY"===e.tagName.toUpperCase()||(t=e.parentNode)&&t.removeChild(e)}}),Ext.isGarbage=function(e){return e&&1===e.nodeType&&"BODY"!==e.tagName&&"HTML"!==e.tagName&&(!e.parentNode||null===e.offsetParent&&(Ext.isIE8?t.all[e.id]:t.getElementById(e.id))!==e&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(e)))},(Ext.os.is.Android||Ext.os.is.Windows&&Ext.supports.Touch)&&Ext.onReady(function(){var e=Ext.getWin();r._documentWidth=r._viewportWidth=i.clientWidth,r._documentHeight=r._viewportHeight=i.clientHeight,e.on({focusin:"_onWindowFocusChange",focusout:"_onWindowFocusChange",pointerup:"_onWindowFocusChange",capture:!0,delegated:!1,delay:1,scope:r}),e.on({resize:"_onWindowResize",priority:2e3,scope:r})})}),Ext.define("Ext.util.Filter",{isFilter:!0,config:{property:null,value:null,filterFn:null,id:null,anyMatch:!1,exactMatch:!1,caseSensitive:!1,disabled:!1,disableOnEmpty:!1,operator:null,root:null,serializer:null,convert:null},scope:null,$configStrict:!1,statics:{createFilterFn:function(s){return s?function(e){for(var t,i=s.isCollection?s.items:s,n=i.length,r=!0,o=0;r&&o<n;o++)(t=i[o]).getDisabled()||(r=t.filter(e));return r}:Ext.returnTrue},isEqual:function(e,t){return e.getProperty()===t.getProperty()&&(e.getOperator()===t.getOperator()&&(e.getValue()===t.getValue()||!!(Ext.isArray(e)&&Ext.isArray(t)&&Ext.Array.equals(e,t))))},isInvalid:function(e){if(!e.filterFn){if(!e.property)return"A Filter requires either a property or a filterFn to be set";if(!e.hasOwnProperty("value")&&!e.operator)return"A Filter requires either a property and value, or a filterFn to be set"}return!1}},constructor:function(e){var t=Ext.util.Filter.isInvalid(e);t&&Ext.log.warn(t),this.initConfig(e)},preventConvert:{in:1,notin:1},filter:function(e){var t=this,i=t._filterFn||t.getFilterFn(),n=t.getConvert(),r=t._value;return t._filterValue=r,t.isDateValue=Ext.isDate(r),t.isDateValue&&(t.dateValue=r.getTime()),n&&!t.preventConvert[t.getOperator()]&&(t._filterValue=n.call(t.scope||t,r)),i.call(t.scope||t,e)},getId:function(){var e=this._id;return e||(e=(e=this.getProperty())||Ext.id(null,"ext-filter-"),this._id=e),e},getFilterFn:function(){var e,t=this._filterFn;return t||(t=(e=this.getOperator())?this.operatorFns[e]:this.createRegexFilter(),this._filterFn=t,this.generatedFilterFn=!0),t},createRegexFilter:function(){var t=this,e=!!t.getAnyMatch(),i=!!t.getExactMatch(),n=t.getValue(),r=Ext.String.createRegex(n,!e,!e&&i,!t.getCaseSensitive());return function(e){e=t.getPropertyValue(e);return r?r.test(e):null==e}},getPropertyValue:function(e){var t=this._root;return(null==t?e:e[t])[this._property]},getState:function(){var e,t=this.getInitialConfig(),i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return delete i.root,i.value=this.getValue(),i},getScope:function(){return this.scope},serialize:function(){var e,t=this.getState(),i=this.getSerializer();return delete t.id,delete t.serializer,i&&(e=i.call(this,t))&&(t=e),t},updateOperator:function(){this.generatedFilterFn&&(this._filterFn=null)},updateValue:function(e){this.generatedFilterFn&&(this._filterFn=null),this.getDisableOnEmpty()&&this.setDisabled(Ext.isEmpty(e))},updateFilterFn:function(e){delete this.generatedFilterFn},updateDisableOnEmpty:function(e){e&&this.setDisabled(Ext.isEmpty(this.getValue()))},privates:{getCandidateValue:function(e,t,i){var n=this._convert,e=this.getPropertyValue(e);return n?e=n.call(this.scope||this,e):i||(e=Ext.coerce(e,t)),e}}},function(){var e=this.prototype.operatorFns={"<":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<t},"<=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)<=t},"=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e==t},"===":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e===t},">=":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>=t},">":function(e){var t=this._filterValue;return this.getCandidateValue(e,t)>t},"!=":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!=t},"!==":function(e){var t=this._filterValue;return e=this.getCandidateValue(e,t,!0),this.isDateValue&&e instanceof Date&&(e=e.getTime(),t=this.dateValue),e!==t},in:function(e){var t=this._filterValue;return Ext.Array.contains(t,this.getCandidateValue(e,t))},notin:function(e){var t=this._filterValue;return!Ext.Array.contains(t,this.getCandidateValue(e,t))},like:function(e){var t=this._filterValue;return t&&-1<this.getCandidateValue(e,t).toLowerCase().indexOf(t.toLowerCase())},"/=":function(e){var t=this._filterValue;if(e=this.getCandidateValue(e,t),t!==this.lastRegExpSource){this.lastRegExpSource=t;try{this.regex=new RegExp(t,"i")}catch(e){this.regex=null}}return!!this.regex&&this.regex.test(e)}};e["=="]=e["="],e.gt=e[">"],e.ge=e[">="],e.lt=e["<"],e.le=e["<="],e.eq=e["="],e.ne=e["!="]}),Ext.define("Ext.util.Observable",{extend:"Ext.mixin.Observable",$applyConfigs:!0},function(e){var t=Ext.mixin.Observable;e.releaseCapture=t.releaseCapture,e.capture=t.capture,e.captureArgs=t.captureArgs,e.observe=e.observeClass=t.observe}),Ext.define("Ext.util.AbstractMixedCollection",{requires:["Ext.util.Filter"],mixins:{observable:"Ext.util.Observable"},isMixedCollection:!0,generation:0,indexGeneration:0,constructor:function(e,t){var i=this;1===arguments.length&&Ext.isObject(e)?(i.initialConfig=e,Ext.apply(i,e)):(i.allowFunctions=!0===e,t&&(i.getKey=t),i.initialConfig={allowFunctions:i.allowFunctions,getKey:i.getKey}),i.items=[],i.map={},i.keys=[],i.indexMap={},i.length=0,i.mixins.observable.constructor.call(i)},destroy:function(){this.items=this.map=this.keys=this.indexMap=null,this.callParent()},allowFunctions:!1,add:function(e,t){var i=this.length,i=1===arguments.length?this.insert(i,e):this.insert(i,e,t);return i},getKey:function(e){return e.id},replace:function(e,t){var i,n;return 1==arguments.length&&(t=arguments[0],e=this.getKey(t)),i=this.map[e],null==e||void 0===i?this.add(e,t):(this.generation++,n=this.indexOfKey(e),this.items[n]=t,this.map[e]=t,this.hasListeners.replace&&this.fireEvent("replace",e,i,t),t)},reorder:function(e){var t,i=this.items,n=0,r=i.length,o=[],s=[];for(t in this.suspendEvents(),e)o[e[t]]=i[t];for(n=0;n<r;n++)null==e[n]&&s.push(i[n]);for(n=0;n<r;n++)null==o[n]&&(o[n]=s.shift());this.clear(),this.addAll(o),this.resumeEvents()},updateKey:function(e,t){var i,n=this.map,r=this.indexOfKey(e),o=this.indexMap;-1<r&&(i=n[e],delete n[e],delete o[e],n[t]=i,o[t]=r,this.keys[r]=t,this.indexGeneration=++this.generation)},addAll:function(e){if(1<arguments.length||Ext.isArray(e))this.insert(this.length,1<arguments.length?arguments:e);else for(var t in e)e.hasOwnProperty(t)&&(!this.allowFunctions&&"function"==typeof e[t]||this.add(t,e[t]))},each:function(e,t){for(var i,n=Ext.Array.push([],this.items),r=0,o=n.length;r<o&&(i=n[r],!1!==e.call(t||i,i,r,o));r++);},eachKey:function(e,t){for(var i=this.keys,n=this.items,r=0,o=i.length;r<o;r++)e.call(t||window,i[r],n[r],r,o)},findBy:function(e,t){for(var i=this.keys,n=this.items,r=0,o=n.length;r<o;r++)if(e.call(t||window,n[r],i[r]))return n[r];return null},find:function(){return Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead."),this.findBy.apply(this,arguments)},insert:function(e,t,i){var n=Ext.isIterable(t)?this.doInsert(e,t,i):(n=2<arguments.length?this.doInsert(e,[t],[i]):this.doInsert(e,[t]))[0];return n},doInsert:function(e,t,i){var n,r,o,s,a,l,d,c=this,u=t.length,h=u,f=c.hasListeners.add,g={};if(null!=i)c.useLinearSearch=!0;else for(i=t,t=new Array(u),o=0;o<u;o++)t[o]=this.getKey(i[o]);for(c.suspendEvents(),o=0;o<u;o++)n=t[o],-1!==(r=c.indexOfKey(n))&&(r<e&&e--,c.removeAt(r)),null!=n&&(null!=g[n]&&(a=!0,h--),g[n]=o);if(c.resumeEvents(),a){for(n in l=t,d=i,t=new Array(h),i=new Array(h),o=0,g)t[o]=l[g[n]],i[o]=d[g[n]],o++;u=h}for(s=e===c.length&&c.indexGeneration===c.generation,Ext.Array.insert(c.items,e,i),Ext.Array.insert(c.keys,e,t),c.length+=u,c.generation++,s&&(c.indexGeneration=c.generation),o=0;o<u;o++,e++)null!=(n=t[o])&&(c.map[n]=i[o],s&&(c.indexMap[n]=e)),f&&c.fireEvent("add",e,i[o],n);return i},remove:function(e){var t,e=!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(this.items,e);return-1!==e&&this.removeAt(e)},removeAll:function(e){var t,i=this;if(e||i.hasListeners.remove)if(e)for(t=e.length-1;0<=t;--t)i.remove(e[t]);else for(;i.length;)i.removeAt(0);else i.length=i.items.length=i.keys.length=0,i.map={},i.indexMap={},i.generation++,i.indexGeneration=i.generation},removeAt:function(e){var t,i,n=this;return e<n.length&&0<=e&&(n.length--,t=n.items[e],Ext.Array.erase(n.items,e,1),void 0!==(i=n.keys[e])&&delete n.map[i],Ext.Array.erase(n.keys,e,1),n.hasListeners.remove&&n.fireEvent("remove",t,i),n.generation++,t)},removeRange:function(e,t){var i,n,r,o,s,a,l=this;if(e<l.length&&0<=e){for(t=t||1,t=(o=Math.min(e+t,l.length))-e,s=(a=o===l.length)&&l.indexGeneration===l.generation,r=e;r<o;r++)null!=(n=l.keys[r])&&(delete l.map[n],s&&delete l.indexMap[n]);return i=l.items[r-1],l.length-=t,l.generation++,s&&(l.indexGeneration=l.generation),a?l.items.length=l.keys.length=l.length:(l.items.splice(e,t),l.keys.splice(e,t)),i}return!1},removeAtKey:function(e){var t,i=this.keys;if(null!=e)return this.removeAt(this.indexOfKey(e));for(t=i.length-1;0<=t;t--)null==i[t]&&this.removeAt(t)},getCount:function(){return this.length},indexOf:function(e){var t;return null!=e?!this.useLinearSearch&&(t=this.getKey(e))?this.indexOfKey(t):Ext.Array.indexOf(this.items,e):-1},indexOfKey:function(e){return this.map.hasOwnProperty(e)?(this.indexGeneration!==this.generation&&this.rebuildIndexMap(),this.indexMap[e]):-1},rebuildIndexMap:function(){for(var e=this.indexMap={},t=this.keys,i=t.length,n=0;n<i;n++)e[t[n]]=n;this.indexGeneration=this.generation},get:function(e){var t=this.map[e],e=void 0!==t?t:"number"==typeof e?this.items[e]:void 0;return"function"!=typeof e||this.allowFunctions?e:null},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},contains:function(e){var t;return null!=e&&(!this.useLinearSearch&&(t=this.getKey(e))?null!=this.map[t]:-1!==Ext.Array.indexOf(this.items,e))},containsKey:function(e){return this.map.hasOwnProperty(e)},clear:function(){var e=this;e.generation&&(e.length=0,e.items=[],e.keys=[],e.map={},e.indexMap={},e.generation++,e.indexGeneration=e.generation),e.hasListeners.clear&&e.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(e,t,i,n){var r,o=this.extractValues(e,t),t=o.length,s=0;for(n=n||0===n?n:t-1,r=i=i||0;r<=n;r++)s+=o[r];return s},collect:function(e,t,i){for(var n,r,o=this.extractValues(e,t),s=o.length,a={},l=[],d=0;d<s;d++)n=o[d],r=String(n),!i&&Ext.isEmpty(n)||a[r]||(a[r]=!0,l.push(n));return l},extractValues:function(e,t){var i=this.items;return t&&(i=Ext.Array.pluck(i,t)),Ext.Array.pluck(i,e)},hasRange:function(e,t){return t<this.length},getRange:function(e,t){var i,n,r=this.items,o=[],s=r.length;return s<1||(t<e&&(n=!0,i=e,e=t,t=i),e<0&&(e=0),(null==t||s<=t)&&(t=s-1),o=r.slice(e,t+1),n&&o.length&&o.reverse()),o},filter:function(e,t,i,n){var r=[];return Ext.isString(e)?r.push(new Ext.util.Filter({property:e,value:t,anyMatch:i,caseSensitive:n})):(Ext.isArray(e)||e instanceof Ext.util.Filter)&&(r=r.concat(e)),this.filterBy(Ext.util.Filter.createFilterFn(r))},filterBy:function(e,t){var i,n=new this.self(this.initialConfig),r=this.keys,o=this.items,s=o.length;for(n.getKey=this.getKey,i=0;i<s;i++)e.call(t||this,o[i],r[i])&&n.add(r[i],o[i]);return n.useLinearSearch=this.useLinearSearch,n},findIndex:function(t,i,e,n,r){return Ext.isEmpty(i,!1)?-1:(i=this.createValueMatcher(i,n,r),this.findIndexBy(function(e){return e&&i.test(e[t])},null,e))},findIndexBy:function(e,t,i){for(var n=this.keys,r=this.items,o=i||0,s=r.length;o<s;o++)if(e.call(t||this,r[o],n[o]))return o;return-1},createValueMatcher:function(e,t,i,n){var r;return e.exec||(r=Ext.String.escapeRegex,e=String(e),!0===t?e=r(e):(e="^"+r(e),!0===n&&(e+="$")),e=new RegExp(e,i?"":"i")),e},clone:function(){var e=new this.self(this.initialConfig);return e.add(this.keys,this.items),e.useLinearSearch=this.useLinearSearch,e}}),Ext.define("Ext.util.Sorter",{isSorter:!0,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:void 0},statics:{createComparator:function(s,a){return a=a||0,function(e,t){for(var i,n=s.isCollection?s.items:s,r=n.length,o=0;o<r;++o)if(i=n[o].sort(e,t))return i;return a&&a(e,t)}}},multiplier:1,constructor:function(e){e&&!this.isGrouper&&!e.property==!e.sorterFn&&Ext.raise("A Sorter requires either a property or a sorterFn."),this.initConfig(e)},getId:function(){var e=this._id;return e||(e=(e=this.getProperty())||Ext.id(null,"ext-sorter-"),this._id=e),e},sort:function(e,t){return this.multiplier*this.sortFn(e,t)},sortFn:function(e,t){var i=this._transform,n=this._root,r=this._property;return n&&(e=e[n],t=t[n]),e=e[r],r=t[r],i&&(e=i(e),r=i(r)),r<e?1:e<r?-1:0},applyDirection:function(e){return e||"ASC"},updateDirection:function(e){this.multiplier="DESC"===e.toUpperCase()?-1:1},updateProperty:function(e){e&&delete this.sortFn},updateSorterFn:function(e){this.sortFn=e},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){var e={root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()};return this._id&&(e.id=this._id),e},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}}),Ext.define("Ext.util.Sortable",{isSortable:!0,$configPrefixed:!1,$configStrict:!1,config:{sorters:null},defaultSortDirection:"ASC",requires:["Ext.util.Sorter"],multiSortLimit:3,statics:{createComparator:function(o){return o&&o.length?function(e,t){for(var i=o[0].sort(e,t),n=o.length,r=1;!i&&r<n;r++)i=o[r].sort.call(o[r],e,t);return i}:function(){return 0}}},applySorters:function(e){var t=this.getSorters()||new Ext.util.MixedCollection(!1,Ext.returnId);return e&&t.addAll(this.decodeSorters(e)),t},sort:function(e,t,i,n){var r,o,s=this,a=s.getSorters();if(a||(s.setSorters(null),a=s.getSorters()),Ext.isArray(e)?(n=i,i=t):Ext.isObject(e)?(e=[e],n=i,i=t):Ext.isString(e)&&((r=a.get(e))?null==t?r.toggle():r.setDirection(t):r={property:e,direction:t},e=[r]),e&&e.length)switch(e=s.decodeSorters(e),i){case"multi":a.insert(0,e[0]),0<(o=a.getCount()-s.multiSortLimit)&&a.removeRange(s.multiSortLimit,o);break;case"prepend":a.insert(0,e);break;case"append":a.addAll(e);break;case void 0:case null:case"replace":a.clear(),a.addAll(e);break;default:Ext.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}return!1!==n&&(s.fireEvent("beforesort",s,e),s.onBeforeSort(e),s.getSorterCount()&&s.doSort(s.generateComparator())),e},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var e=this.getSorters().getRange();return e.length?this.createComparator(e):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(e){Ext.isArray(e)||(e=void 0===e?[]:[e]);for(var t,i,n=e.length,r=Ext.util.Sorter,o=this.getModel?this.getModel():this.model,s=0;s<n;s++)(i=e[s])instanceof r||(Ext.isString(i)&&(i={property:i}),Ext.applyIf(i,{root:this.sortRoot,direction:"ASC"}),i.fn&&(i.sorterFn=i.fn),"function"==typeof i&&(i={sorterFn:i}),o&&!i.transform&&(t=o.getField(i.property),i.transform=t&&t.sortType!==Ext.identityFn?t.sortType:void 0),e[s]=new Ext.util.Sorter(i));return e},getFirstSorter:function(){for(var e,t=this.getSorters().items,i=t.length,n=0;n<i;++n)if(!(e=t[n]).isGrouper)return e;return null}},function(){this.prototype.createComparator=this.createComparator}),Ext.define("Ext.util.MixedCollection",{extend:"Ext.util.AbstractMixedCollection",mixins:{sortable:"Ext.util.Sortable"},constructor:function(){this.initConfig(),this.callParent(arguments)},doSort:function(e){this.sortBy(e)},_sort:function(i,e,n){var t,r,o,s="DESC"==String(e).toUpperCase()?-1:1,a=[],l=this.keys,d=this.items;for(n=n||function(e,t){return e-t},t=0,r=d.length;t<r;t++)a[a.length]={key:l[t],value:d[t],index:t};for(Ext.Array.sort(a,function(e,t){return n(e[i],t[i])*s||(e.index<t.index?-1:1)}),t=0,r=a.length;t<r;t++)o=a[t],d[t]=o.value,l[t]=o.key,this.indexMap[o.key]=t;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this)},sortBy:function(i){for(var e,t,n=this.items,r=this.keys,o=n.length,s=0;s<o;s++)n[s].$extCollectionIndex=s;for(Ext.Array.sort(n,function(e,t){return i(e,t)||(e.$extCollectionIndex<t.$extCollectionIndex?-1:1)}),s=0;s<o;s++)e=n[s],t=this.getKey(e),r[s]=t,this.indexMap[t]=s,delete e.$extCollectionIndex;this.generation++,this.indexGeneration=this.generation,this.fireEvent("sort",this,n,r)},findInsertionIndex:function(e,t){var i,n,r=this.items,o=0,s=r.length-1;for(t=t||this.generateComparator();o<=s;)0<=(n=t(e,r[i=o+s>>1]))?o=1+i:n<0&&(s=i-1);return o},reorder:function(e){this.callParent([e]),this.fireEvent("sort",this)},sortByKey:function(e,t){this._sort("key",e,t||function(e,t){e=String(e).toUpperCase(),t=String(t).toUpperCase();return t<e?1:e<t?-1:0})}}),Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(e){"number"==typeof e?this.interval=e:e&&Ext.apply(this,e),this.tasks=[],this.timerFn=Ext.Function.bind(this.onTick,this)},newTask:function(e){e=new Ext.util.TaskRunner.Task(e);return e.manager=this,e},start:function(e){var t=Ext.Date.now();return e.pending||(this.tasks.push(e),e.pending=!0),e.stopped=!1,e.taskStartTime=t,e.taskRunTime=!1!==e.fireOnStart?0:e.taskStartTime,e.taskRunCount=0,this.firing||(!1!==e.fireOnStart?this.startTimer(0,t):this.startTimer(e.interval,t)),e},stop:function(e){return e.stopped||(e.stopped=!0,e.onStop&&e.onStop.call(e.scope||e,e)),e},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:!1,nextExpires:1e99,onTick:function(){var e,t,i,n,r,o,s,a=this,l=a.tasks,d=a.fireIdleEvent,c=Ext.Date.now(),u=1e99,h=l.length,f=Ext.GlobalEvents;for(a.timerId=null,a.firing=!0,i=0;i<h||i<(h=l.length);++i){if(!(o=(n=l[i]).stopped)){if((e=n.taskRunTime+n.interval)<=c){if(r=1,d=(n.hasOwnProperty("fireIdleEvent")?n:a).fireIdleEvent,n.taskRunCount++,s=n.args?n.addCountToArgs?n.args.concat([n.taskRunCount]):n.args:[n.taskRunCount],a.disableTryCatch)r=n.run.apply(n.scope||n,s);else try{r=n.run.apply(n.scope||n,s)}catch(e){try{Ext.log({fn:n.run,prefix:"Error while running task",stack:e.stack,msg:e,level:"error"}),n.onError&&(r=n.onError.call(n.scope||n,n,e))}catch(e){}}n.taskRunTime=c,!1===r||n.taskRunCount===n.repeat?(a.stop(n),o=!0):(o=n.stopped,e=c+n.interval)}!o&&n.duration&&n.duration<=c-n.taskStartTime&&(a.stop(n),o=!0)}o?(n.pending=!1,t=t||l.slice(0,i)):(t&&t.push(n),e<u&&(u=e))}t&&(a.tasks=t),a.firing=!1,a.tasks.length&&a.startTimer(u-c,Ext.Date.now()),!1!==d&&f.hasListeners.idle&&f.fireEvent("idle")},startTimer:function(e,t){var i=t+e,t=this.timerId;t&&this.nextExpires-i>this.interval&&(clearTimeout(t),t=null),t||(e<this.interval&&(e=this.interval),this.timerId=Ext.defer(this.timerFn,e),this.nextExpires=i)}},function(){var e=this.prototype;e.destroy=e.stopAll,this.Task=new Ext.Class({isTask:!0,stopped:!0,fireOnStart:!1,constructor:function(e){Ext.apply(this,e)},restart:function(e){void 0!==e&&(this.interval=e),this.manager.start(this)},start:function(e){this.stopped&&this.restart(e)},stop:function(){this.manager.stop(this)}}),(e=this.Task.prototype).destroy=e.stop}),Ext.define("Ext.fx.target.Target",{isAnimTarget:!0,constructor:function(e){this.target=e,this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}}),Ext.define("Ext.fx.target.Element",{extend:"Ext.fx.target.Target",type:"element",getElVal:function(e,t,i){return void 0===i&&(i="x"===t?e.getX():"y"===t?e.getY():"scrollTop"===t?e.getScroll().top:"scrollLeft"===t?e.getScroll().left:"height"===t?e.getHeight():"width"===t?e.getWidth():e.getStyle(t)),i},getAttr:function(e,t){var i=this.target;return[[i,this.getElVal(i,e,t)]]},setAttr:function(e){for(var t,i,n,r,o,s=e.length,a=0;a<s;a++)for(i in t=e[a].attrs)if(t.hasOwnProperty(i))for(o=t[i].length,r=0;r<o;r++)n=t[i][r],this.setElVal(n[0],i,n[1])},setElVal:function(e,t,i){"x"===t?e.setX(i):"y"===t?e.setY(i):"scrollTop"===t?e.scrollTo("top",i):"scrollLeft"===t?e.scrollTo("left",i):"width"===t?e.setWidth(i):"height"===t?e.setHeight(i):e.setStyle(t,i)}}),Ext.define("Ext.fx.target.ElementCSS",{extend:"Ext.fx.target.Element",setAttr:function(e,t){function i(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null),this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)}for(var n,r,o,s,a,l,d,c,u={attrs:[],duration:[],easing:[]},h=e.length,f={single:!0},g=0;g<h;g++)for(o in a=(r=e[g]).duration,s=r.easing,r=r.attrs)-1==Ext.Array.indexOf(u.attrs,o)&&(u.attrs.push(o.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})),u.duration.push(a+"ms"),u.easing.push(s));for(n=u.attrs.join(","),a=u.duration.join(","),s=u.easing.join(", "),g=0;g<h;g++)for(o in r=e[g].attrs)for(c=r[o].length,d=0;d<c;d++)(l=r[o][d])[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",t?"":n),l[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",t?"":a),l[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",t?"":s),l[0].setStyle(o,l[1]),t?l=l[0].dom.offsetWidth:l[0].on(Ext.supports.CSS3TransitionEnd,i,l[0],f)}}),Ext.define("Ext.fx.target.CompositeElement",{extend:"Ext.fx.target.Element",isComposite:!0,constructor:function(e){e.id=e.id||Ext.id(null,"ext-composite-"),this.callParent([e])},getAttr:function(e,t){for(var i,n=[],r=this.target,o=r.elements,s=o.length,a=0;a<s;a++)(i=o[a])&&(i=r.getElement(i),n.push([i,this.getElVal(i,e,t)]));return n},setAttr:function(e){for(var t,i,n,r,o,s,a,l=this.target,d=e.length,c=l.elements,u=c.length,h=0;h<d;h++)for(r in n=e[h].attrs)if(n.hasOwnProperty(r))for(a=n[r].length,s=0;s<a;s++)for(t=n[r][s][1],i=0;i<u;++i)(o=c[i])&&(o=l.getElement(o),this.setElVal(o,r,t))},remove:function(){this.target.destroy()}}),Ext.define("Ext.fx.target.CompositeElementCSS",{extend:"Ext.fx.target.CompositeElement",requires:["Ext.fx.target.ElementCSS"],setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}}),Ext.define("Ext.fx.target.Sprite",{extend:"Ext.fx.target.Target",type:"draw",getFromPrim:function(e,t){var i;switch(t){case"rotate":case"rotation":return{x:(i=e.attr.rotation).x||0,y:i.y||0,degrees:i.degrees||0};case"scale":case"scaling":return{x:(i=e.attr.scaling).x||1,y:i.y||1,cx:i.cx||0,cy:i.cy||0};case"translate":case"translation":return{x:(i=e.attr.translation).x||0,y:i.y||0};default:return e.attr[t]}},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getFromPrim(this.target,e)]]},setAttr:function(e){for(var t,i,n,r,o,s,a,l,d,c,u=e.length,h=[],f=0;f<u;f++)for(i in t=e[f].attrs)for(c=(n=t[i]).length,a=0;a<c;a++)r=n[a][0],o=n[a][1],s="translate"===i||"translation"===i?{x:o.x,y:o.y}:"rotate"===i||"rotation"===i?(l=o.x,isNaN(l)&&(l=null),d=o.y,isNaN(d)&&(d=null),{degrees:o.degrees,x:l,y:d}):"scale"===i||"scaling"===i?(l=o.x,isNaN(l)&&(l=null),d=o.y,isNaN(d)&&(d=null),{x:l,y:d,cx:o.cx,cy:o.cy}):"width"===i||"height"===i||"x"===i||"y"===i?parseFloat(o):o,-1===(o=Ext.Array.indexOf(h,r))&&(h.push([r,{}]),o=h.length-1),h[o][1][i]=s;for(u=h.length,f=0;f<u;f++)h[f][0].setAttributes(h[f][1]);this.target.redraw()}}),Ext.define("Ext.fx.target.CompositeSprite",{extend:"Ext.fx.target.Sprite",getAttr:function(e,t){for(var i,n=[],r=[].concat(this.target.items),o=r.length,s=0;s<o;s++)i=r[s],n.push([i,void 0!==t?t:this.getFromPrim(i,e)]);return n}}),Ext.define("Ext.fx.target.Component",{extend:"Ext.fx.target.Target",type:"component",getPropMethod:{top:function(){return this.getPosition(!0)[1]},left:function(){return this.getPosition(!0)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(e,t){return[[this.target,void 0!==t?t:this.getPropMethod[e].call(this.target)]]},setAttr:function(e,t,i){for(var n,r,o,s,a,l,d,c,u=e.length,h={},f=0;f<u;f++){for(r in n=e[f].attrs)for(a=n[r].length,s=0;s<a;s++)o=n[r][s],(c=h[this.setMethods[r]]||(h[this.setMethods[r]]={})).target=o[0],c[r]=o[1];h.setPosition&&(l=void 0===(o=h.setPosition).left?void 0:parseFloat(o.left),d=void 0===o.top?void 0:parseFloat(o.top),o.target.setPosition(l,d)),h.setPagePosition&&(o=h.setPagePosition).target.setPagePosition(o.x,o.y),h.setSize&&(l=void 0===(o=h.setSize).width?o.target.getWidth():parseFloat(o.width),d=void 0===o.height?o.target.getHeight():parseFloat(o.height),o.target.el.setSize(l,d),(i||this.dynamic)&&Ext.GlobalEvents.on({idle:Ext.Function.bind(o.target.setSize,o.target,[l,d]),single:!0})),h.setOpacity&&(o=h.setOpacity).target.el.setStyle("opacity",o.opacity)}}}),Ext.define("Ext.fx.Queue",{requires:["Ext.util.HashMap"],constructor:function(){this.targets=new Ext.util.HashMap,this.fxQueue={}},getFxDefaults:function(e){e=this.targets.get(e);return e?e.fxDefaults:{}},setFxDefaults:function(e,t){e=this.targets.get(e);e&&(e.fxDefaults=Ext.apply(e.fxDefaults||{},t))},stopAnimation:function(e,t){for(var i,n=this.getFxQueue(e),r=n.length;r;)(i=n[r-1])&&i.end(t),r--},getActiveAnimation:function(e){e=this.getFxQueue(e);return!(!e||!e.length)&&e[0]},hasFxBlock:function(e){e=this.getFxQueue(e);return e&&e[0]&&e[0].block},getFxQueue:function(e){if(!e)return!1;var t=this.fxQueue,i=t[e],n=this.targets.get(e);return!!n&&(i||(this.fxQueue[e]=t[e]=[],"element"!==n.type&&n.target.on("destroy",function(){t[e]=null,delete t[e]})),this.fxQueue[e])},queueFx:function(t){var i,e,n=this,r=t.target,o=r.getId();r&&(!(e=(i=n.getFxQueue(o)).length)||t.concurrent?t.paused=!1:i[e-1].on("afteranimate",function(){t.paused=!1}),t.on("afteranimate",function(){var e;Ext.Array.remove(i,t),0===i.length&&(n.targets.remove(t.target),n.fxQueue[o]=null,delete n.fxQueue[o]),t.remove&&("element"!==r.type||(e=Ext.get(o))&&e.destroy())},n,{single:!0}),i.push(t))}}),Ext.define("Ext.fx.Manager",{singleton:!0,requires:["Ext.util.MixedCollection","Ext.util.TaskRunner","Ext.fx.target.Element","Ext.fx.target.ElementCSS","Ext.fx.target.CompositeElement","Ext.fx.target.CompositeElementCSS","Ext.fx.target.Sprite","Ext.fx.target.CompositeSprite","Ext.fx.target.Component"],mixins:{queue:"Ext.fx.Queue"},constructor:function(){this.items=new Ext.util.MixedCollection,this.targetArr={},this.mixins.queue.constructor.call(this),this.taskRunner=new Ext.util.TaskRunner},interval:16,forceJS:!0,createTarget:function(e){var t,i=!this.forceJS&&Ext.supports.Transitions;if(this.useCSS3=i,e){if(e.tagName||Ext.isString(e)||e.isFly)e=Ext.get(e),t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.dom)t=new Ext.fx.target["Element"+(i?"CSS":"")](e);else if(e.isComposite)t=new Ext.fx.target["CompositeElement"+(i?"CSS":"")](e);else if(e.isSprite)t=new Ext.fx.target.Sprite(e);else if(e.isCompositeSprite)t=new Ext.fx.target.CompositeSprite(e);else{if(!e.isComponent)return e.isAnimTarget?e:null;t=new Ext.fx.target.Component(e)}return this.targets.add(t),t}return null},addAnim:function(e){var t=this.items,i=this.task;t.add(e.id,e),!i&&t.length&&(i=this.task={run:this.runner,interval:this.interval,scope:this},this.taskRunner.start(i))},removeAnim:function(e){var t=this.items,i=this.task;t.removeAtKey(e.id),i&&!t.length&&(this.taskRunner.stop(i),delete this.task)},runner:function(){var e,t=this.items.getRange(),i=0,n=t.length;for(this.targetArr={},this.timestamp=new Date;i<n;i++)(e=t[i]).isReady()&&this.startAnim(e);for(i=0;i<n;i++)(e=t[i]).isRunning()&&this.runAnim(e);this.applyPendingAttrs(),this.targetArr=null},startAnim:function(e){e.start(this.timestamp)},runAnim:function(e,t){if(e){var i=this.useCSS3&&"element"===e.target.type,n=this.timestamp-e.startTime,r=n>=e.duration;return t&&(n=e.duration,r=!0),n=this.collectTargetData(e,n,i,r),i&&(e.target.setAttr(n.anims[e.id].attributes,!0),this.collectTargetData(e,e.duration,i,r),e.paused=!0,n=e.target.target,e.target.isComposite&&(n=e.target.target.last()),(r={})[Ext.supports.CSS3TransitionEnd]=e.lastFrame,r.scope=e,r.single=!0,n.on(r)),n}},jumpToEnd:function(e){var t,i;this.targetArr||(this.targetArr={},i=!0),t=this.runAnim(e,!0),this.applyAnimAttrs(t,t.anims[e.id]),i&&(this.targetArr=null)},collectTargetData:function(e,t,i,n){var r=e.target.getId(),o=this.targetArr[r];return(o=o||(this.targetArr[r]={id:r,el:e.target,anims:{}})).anims[e.id]={id:e.id,anim:e,elapsed:t,isLastFrame:n,attributes:[{duration:e.duration,easing:i&&e.reverse?e.easingFn.reverse().toCSS3():e.easing,attrs:e.runAnim(t)}]},o},applyAnimAttrs:function(e,t){var i=t.anim;t.attributes&&i.isRunning()&&(e.el.setAttr(t.attributes,!1,t.isLastFrame),t.isLastFrame&&i.lastFrame())},applyPendingAttrs:function(){var e,t,i,n,r,o=this.targetArr;for(t in o)if(o.hasOwnProperty(t))for(r in(e=o[t]).anims)e.anims.hasOwnProperty(r)&&(n=(i=e.anims[r]).anim,i.attributes&&n.isRunning()&&(e.el.setAttr(i.attributes,!1,i.isLastFrame),i.isLastFrame&&n.lastFrame()))}}),Ext.define("Ext.fx.Animator",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager"],isAnimator:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",running:!1,paused:!1,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(e){var t=this;e=Ext.apply(t,e||{}),t.config=e,t.id=Ext.id(null,"ext-animator-"),t.mixins.observable.constructor.call(t,e),t.timeline=[],t.createTimeline(t.keyframes),t.target&&(t.applyAnimator(t.target),Ext.fx.Manager.addAnim(t))},sorter:function(e,t){return e.pct-t.pct},createTimeline:function(e){var t,i,n,r,o,s,a=[],l=this.to||{},d=this.duration;for(o in e)e.hasOwnProperty(o)&&this.animKeyFramesRE.test(o)&&(s={attrs:Ext.apply(e[o],l)},"from"===o?o=0:"to"===o&&(o=100),s.pct=parseInt(o,10),a.push(s));for(Ext.Array.sort(a,this.sorter),r=a.length,n=0;n<r;n++)t=a[n-1]?d*(a[n-1].pct/100):0,i=d*(a[n].pct/100),this.timeline.push({duration:i-t,attrs:a[n].attrs})},applyAnimator:function(e){var t,i,n,r,o,s=[],a=this.timeline,l=a.length;if(!1!==this.fireEvent("beforeanimate",this)){for(o=0;o<l;o++)i=(r=(t=a[o]).attrs).easing||this.easing,n=r.damper||this.damper,delete r.easing,delete r.damper,t=new Ext.fx.Anim({target:e,easing:i,damper:n,duration:t.duration,paused:!0,to:r}),s.push(t);for(this.animations=s,this.target=t.target,o=0;o<l-1;o++)(t=s[o]).nextAnim=s[o+1],t.on("afteranimate",function(){this.nextAnim.paused=!1}),t.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},this);s[l-1].on("afteranimate",function(){this.lastFrame()},this)}},start:function(e){var t=this.delay,i=this.delayStart;if(t){if(!i)return void(this.delayStart=e);if(e-i<t)return;e=new Date(i.getTime()+t)}!1!==this.fireEvent("beforeanimate",this)&&(this.startTime=e,this.running=!0,this.animations[this.keyframeStep].paused=!1)},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;++i<t?(e.startTime=new Date,e.currentIteration=i,e.keyframeStep=0,e.applyAnimator(e.target),e.animations[e.keyframeStep].paused=!1):(e.currentIteration=0,e.end())},end:function(){this.fireEvent("afteranimate",this,this.startTime,new Date-this.startTime)},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1}}),Ext.define("Ext.fx.CubicBezier",{singleton:!0,cubicBezierAtTime:function(e,t,i,n,r,o){var s,l=3*t,d=3*(n-t)-l,c=1-l-d,a=3*i,u=3*(r-i)-a,h=1-a-u;function f(e){return((c*e+d)*e+l)*e}return s=function(e,t){var i,n,r,o,s,a;for(r=e,a=0;a<8;a++){if(o=f(r)-e,Math.abs(o)<t)return r;if(s=(3*c*r+2*d)*r+l,Math.abs(s)<1e-6)break;r-=o/s}if(n=1,(r=e)<(i=0))return i;if(n<r)return n;for(;i<n;){if(o=f(r),Math.abs(o-e)<t)return r;o<e?i=r:n=r,r=(n-i)/2+i}return r}(e,s=1/(200*o)),((h*s+u)*s+a)*s},cubicBezier:function(t,i,n,r){function e(e){return Ext.fx.CubicBezier.cubicBezierAtTime(e,t,i,n,r,1)}return e.toCSS3=function(){return"cubic-bezier("+[t,i,n,r].join(",")+")"},e.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-n,1-r,1-t,1-i)},e}}),Ext.define("Ext.fx.Easing",function(){var e=Math,t=e.PI,n=e.pow,i=e.sin,r=e.sqrt,o=e.abs,s=1.70158;return{requires:["Ext.fx.CubicBezier"],singleton:!0,linear:Ext.identityFn,ease:function(e){var t=.07813-e/2,i=r(.0066+t*t),e=i-t,t=-i-t,t=n(o(e),1/3)*(e<0?-1:1)+n(o(t),1/3)*(t<0?-1:1)+.25;return 3*n(1-t,2)*t*.1+3*(1-t)*t*t+t*t*t},easeIn:function(e){return n(e,1.7)},easeOut:function(e){return n(e,.48)},easeInOut:function(e){var t=.48-e/1.04,i=r(.1734+t*t),e=i-t,t=-i-t,t=n(o(e),1/3)*(e<0?-1:1)+n(o(t),1/3)*(t<0?-1:1)+.5;return 3*(1-t)*t*t+t*t*t},backIn:function(e){return e*e*((1+s)*e-s)},backOut:function(e){return--e*e*((1+s)*e+s)+1},elasticIn:function(e){if(0===e||1===e)return e;return n(2,-10*e)*i(2*t*(e-.075)/.3)+1},elasticOut:function(e){return 1-Ext.fx.Easing.elasticIn(1-e)},bounceIn:function(e){return 1-Ext.fx.Easing.bounceOut(1-e)},bounceOut:function(e){var t=7.5625,e=e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375;return e}}},function(e){var t=e.self,e=t.prototype;t.addMembers({"back-in":e.backIn,"back-out":e.backOut,"ease-in":e.easeIn,"ease-out":e.easeOut,"elastic-in":e.elasticIn,"elastic-out":e.elasticOut,"bounce-in":e.bounceIn,"bounce-out":e.bounceOut,"ease-in-out":e.easeInOut})}),Ext.define("Ext.fx.DrawPath",{singleton:!0,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(e,t){return"object"==(t=String(t).toLowerCase())&&e===Object(e)||"undefined"==t&&typeof e==t||"null"==t&&null===e||"array"==t&&Array.isArray&&Array.isArray(e)||Object.prototype.toString.call(e).toLowerCase().slice(8,-1)==t},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(e){return e.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(e){if(!e)return null;var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[],a=this;return a.is(e,"array")&&a.is(e[0],"array")&&(s=a.pathClone(e)),s.length||String(e).replace(a.pathCommandRE,function(e,t,i){var n=[],r=t.toLowerCase();for(i.replace(a.pathValuesRE,function(e,t){t&&n.push(+t)}),"m"==r&&2<n.length&&(s.push([t].concat(Ext.Array.splice(n,0,2))),r="l",t="m"==t?"l":"L");n.length>=o[r]&&(s.push([t].concat(Ext.Array.splice(n,0,o[r]))),o[r]););}),s.toString=a.path2string,s},pathClone:function(e){var t,i,n,r,o=[];for(this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e)),n=0,r=e.length;n<r;n++)for(o[n]=[],t=0,i=e[n].length;t<i;t++)o[n][t]=e[n][t];return o.toString=this.path2string,o},pathToAbsolute:function(e){this.is(e,"array")&&this.is(e&&e[0],"array")||(e=this.parsePathString(e));var t,i,n,r,o=[],s=0,a=0,l=0,d=0,c=0,u=e.length;for(u&&"M"==e[0][0]&&(l=s=+e[0][1],d=a=+e[0][2],c++,o[0]=["M",s,a]);c<u;c++){if(t=o[c]=[],(i=e[c])[0]!=i[0].toUpperCase())switch(t[0]=i[0].toUpperCase(),t[0]){case"A":t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=+(i[6]+s),t[7]=+(i[7]+a);break;case"V":t[1]=+i[1]+a;break;case"H":t[1]=+i[1]+s;break;case"M":l=+i[1]+s,d=+i[2]+a;default:for(n=1,r=i.length;n<r;n++)t[n]=+i[n]+(n%2?s:a)}else for(n=0,r=i.length;n<r;n++)o[c][n]=i[n];switch(t[0]){case"Z":s=l,a=d;break;case"H":s=t[1];break;case"V":a=t[1];break;case"M":l=(i=o[c])[(r=i.length)-2],d=i[r-1];default:s=(i=o[c])[(r=i.length)-2],a=i[r-1]}}return o.toString=this.path2string,o},interpolatePaths:function(e,t){function i(e,t){if(7<e[t].length){e[t].shift();for(var i=e[t];i.length;)Ext.Array.splice(e,t++,0,["C"].concat(Ext.Array.splice(i,0,6)));Ext.Array.erase(e,t,1),f=Math.max(l.length,d.length||0)}}function n(e,t,i,n,r){e&&t&&"M"==e[r][0]&&"M"!=t[r][0]&&(Ext.Array.splice(t,r,0,["M",n.x,n.y]),i.bx=0,i.by=0,i.x=e[r][1],i.y=e[r][2],f=Math.max(l.length,d.length||0))}for(var r,o,s,a,l=this.pathToAbsolute(e),d=this.pathToAbsolute(t),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=0,f=Math.max(l.length,d.length||0);h<f;h++)l[h]=this.command2curve(l[h],c),i(l,h),d[h]=this.command2curve(d[h],u),i(d,h),n(l,d,c,u,h),n(d,l,u,c,h),r=l[h],o=d[h],s=r.length,a=o.length,c.x=r[s-2],c.y=r[s-1],c.bx=parseFloat(r[s-4])||c.x,c.by=parseFloat(r[s-3])||c.y,u.bx=parseFloat(o[a-4])||u.x,u.by=parseFloat(o[a-3])||u.y,u.x=o[a-2],u.y=o[a-1];return[l,d]},command2curve:function(e,t){if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch("T"!=e[0]&&"Q"!=e[0]&&(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(this.arc2curve.apply(this,[t.x,t.y].concat(e.slice(1))));break;case"S":e=["C",t.x+(t.x-(t.bx||t.x)),t.y+(t.y-(t.by||t.y))].concat(e.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x)),t.qy=t.y+(t.y-(t.qy||t.y)),e=["C"].concat(this.quadratic2curve(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(this.quadratic2curve(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(t.x,t.y,e[1],e[2],e[1],e[2]);break;case"H":e=["C"].concat(t.x,t.y,e[1],t.y,e[1],t.y);break;case"V":e=["C"].concat(t.x,t.y,t.x,e[1],t.x,e[1]);break;case"Z":e=["C"].concat(t.x,t.y,t.X,t.Y,t.X,t.Y)}return e},quadratic2curve:function(e,t,i,n,r,o){return[1/3*e+2/3*i,1/3*t+2/3*n,1/3*r+2/3*i,1/3*o+2/3*n,r,o]},rotate:function(e,t,i){var n=Math.cos(i),i=Math.sin(i);return{x:e*n-t*i,y:e*i+t*n}},arc2curve:function(e,t,i,n,r,o,s,a,l,d){var c,u,h,f,g,p,m,x,E,y,v=Math.PI,b=120*v/180,C=this.radian*(+r||0),S=[],w=Math,P=w.cos,T=w.sin,I=w.sqrt,k=w.abs,R=w.asin;if(d?(f=d[0],g=d[1],h=d[2],m=d[3]):(e=(u=this.rotate(e,t,-C)).x,t=u.y,1<(u=(p=(e-(a=(u=this.rotate(a,l,-C)).x))/2)*p/(i*i)+(c=(t-(l=u.y))/2)*c/(n*n))&&(i*=u=I(u),n*=u),h=(I=(o==s?-1:1)*I(k(((o=i*i)*(I=n*n)-o*c*c-I*p*p)/(o*c*c+I*p*p))))*i*c/n+(e+a)/2,f=R(((t-(m=I*-n*p/i+(t+l)/2))/n).toFixed(7)),g=R(((l-m)/n).toFixed(7)),(f=e<h?v-f:f)<0&&(f=2*v+f),(g=a<h?v-g:g)<0&&(g=2*v+g),s&&g<f&&(f-=2*v),!s&&f<g&&(g-=2*v)),k(g-f)>b&&(R=g,v=a,k=l,a=h+i*P(g=f+b*(s&&f<g?1:-1)),l=m+n*T(g),S=this.arc2curve(a,l,i,n,r,0,s,v,k,[g,R,h,m])),p=g-f,m=P(f),f=T(f),P=P(g),g=T(g),P=[a+(p=4/3*i*(w=w.tan(p/4)))*g,l-(w=4/3*n*w)*P],l=[a,l],(m=[e+p*f,t-w*m])[0]=2*(t=[e,t])[0]-m[0],m[1]=2*t[1]-m[1],d)return[m,P,l].concat(S);for(x=[],y=(S=[m,P,l].concat(S).join().split(",")).length,E=0;E<y;E++)x[E]=E%2?this.rotate(S[E-1],S[E],C).y:this.rotate(S[E],S[E+1],C).x;return x}}),Ext.define("Ext.fx.PropertyHandler",{requires:["Ext.fx.DrawPath"],statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(e,t,i,n,r){i="number"==typeof i?i:1;var o,s=this.unitRE,a=s.exec(e);return a&&(e=a[1],o=a[2],this.scrollRE.test(r)||o||!this.pixelDefaultsRE.test(r)||(o="px")),e=+e||0,(a=s.exec(t))&&(t=a[1],o=a[2]||o),{from:e,delta:((t=+t||0)-(null!=n?n:e))*i,units:o}},get:function(e,t,i,n,r){for(var o,s,a,l,d=e.length,c=[],u=0;u<d;u++)if(n&&(o=n[u][1].from),Ext.isArray(e[u][1])&&Ext.isArray(t)){for(s=[],a=0,l=e[u][1].length;a<l;a++)s.push(this.computeDelta(e[u][1][a],t[a],i,o,r));c.push([e[u][0],s])}else c.push([e[u][0],this.computeDelta(e[u][1],t,i,o,r)]);return c},set:function(e,t){for(var i,n,r,o,s=e.length,a=[],l=0;l<s;l++)if(i=e[l][1],Ext.isArray(i)){for(n=[],o=0,r=i.length;o<r;o++)n.push(i[o].from+i[o].delta*t+(i[o].units||0));a.push([e[l][0],n])}else a.push([e[l][0],i.from+i.delta*t+(i.units||0)]);return a}},stringHandler:{computeDelta:function(e,t,i,n,r){return{from:e,delta:t}},get:function(e,t,i,n,r){for(var o=e.length,s=[],a=0;a<o;a++)s.push([e[a][0],this.computeDelta(e[a][1],t,i,void 0,r)]);return s},set:function(e,t){for(var i,n=e.length,r=[],o=0;o<n;o++)i=e[o][1],r.push([e[o][0],i.delta]);return r}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,t){for(var i,n,r=!1,o=[this.hexRE,this.rgbRE,this.hex3RE],s=o.length,a=0;a<s;a++)if(n=a%2==0?16:10,(i=o[a].exec(e))&&4===i.length){2===a&&(i[1]+=i[1],i[2]+=i[2],i[3]+=i[3]),r={red:parseInt(i[1],n),green:parseInt(i[2],n),blue:parseInt(i[3],n)};break}return r||e},computeDelta:function(e,t,i,n){e=this.parseColor(e);var r=n||e,o=typeof r,n=typeof(t=this.parseColor(t,i));return"string"==o||"undefined"==o||"string"==n||"undefined"==n?t||r:{from:e,delta:{red:Math.round((t.red-r.red)*i),green:Math.round((t.green-r.green)*i),blue:Math.round((t.blue-r.blue)*i)}}},get:function(e,t,i,n){for(var r,o=e.length,s=[],a=0;a<o;a++)n&&(r=n[a][1].from),s.push([e[a][0],this.computeDelta(e[a][1],t,i,r)]);return s},set:function(e,t){for(var i,n,r,o=e.length,s=[],a=0;a<o;a++)if(i=e[a][1]){if(n=i.from,r=i.delta,void 0===(i="object"==typeof(i="object"==typeof i&&"red"in i?"rgb("+i.red+", "+i.green+", "+i.blue+")":i)&&i.length?i[0]:i))return[];r="string"==typeof i?i:"rgb("+[(n.red+Math.round(r.red*t))%256,(n.green+Math.round(r.green*t))%256,(n.blue+Math.round(r.blue*t))%256].join(",")+")",s.push([e[a][0],r])}return s}},object:{interpolate:function(e,t){t="number"==typeof t?t:1;var i,n={};for(i in e)n[i]=parseFloat(e[i])*t;return n},computeDelta:function(e,t,i,n){e=this.interpolate(e);var r,o=n||e,s={};for(r in t=this.interpolate(t,i))s[r]=t[r]-o[r];return{from:e,delta:s}},get:function(e,t,i,n){for(var r,o=e.length,s=[],a=0;a<o;a++)n&&(r=n[a][1].from),s.push([e[a][0],this.computeDelta(e[a][1],t,i,r)]);return s},set:function(e,t){for(var i,n,r,o,s=e.length,a=[],l={},d=0;d<s;d++){for(o in i=(r=e[d][1]).from,n=r.delta,i)l[o]=i[o]+n[o]*t;a.push([e[d][0],l])}return a}},path:{computeDelta:function(e,t,i,n){return{from:e=+e||0,delta:((t=+t||0)-(null!=n?n:e))*(i="number"==typeof i?i:1)}},forcePath:function(e){return Ext.isArray(e)||Ext.isArray(e[0])||(e=Ext.fx.DrawPath.parsePathString(e)),e},get:function(e,t,i,n){for(var r,o,s,a,l,d,c,u,h=this.forcePath(t),f=[],g=e.length,p=0;p<g;p++){for(u=this.forcePath(e[p][1]),u=(s=Ext.fx.DrawPath.interpolatePaths(u,h))[0],h=s[1],r=u.length,c=[],l=0;l<r;l++){for(s=[u[l][0]],o=u[l].length,d=1;d<o;d++)a=n&&n[0][1][l][d].from,s.push(this.computeDelta(u[l][d],h[l][d],i,a));c.push(s)}f.push([e[p][0],c])}return f},set:function(e,t){for(var i,n,r,o,s,a,l,d=e.length,c=[],u=0;u<d;u++){for(r=[],a=(s=e[u][1]).length,i=0;i<a;i++){for(o=[s[i][0]],l=s[i].length,n=1;n<l;n++)o.push(s[i][n].from+s[i][n].delta*t);r.push(o.join(","))}c.push([e[u][0],r.join(",")])}return c}}}},function(){for(var e=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],t=e.length,i=0;i<t;i++)this[e[i]]=this.color;for(t=(e=["cursor"]).length,i=0;i<t;i++)this[e[i]]=this.stringHandler}),Ext.define("Ext.fx.Anim",{mixins:{observable:"Ext.util.Observable"},requires:["Ext.fx.Manager","Ext.fx.Animator","Ext.fx.Easing","Ext.fx.CubicBezier","Ext.fx.PropertyHandler"],isAnimation:!0,duration:250,delay:0,delayStart:0,dynamic:!1,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:!1,running:!1,paused:!1,iterations:1,autoEnd:!1,alternate:!1,currentIteration:0,startTime:0,frameCount:0,constructor:function(e){var t,i=this;if((e=e||{}).keyframes)return new Ext.fx.Animator(e);Ext.apply(i,e),void 0===i.from&&(i.from={}),i.propHandlers={},i.config=e,i.target=Ext.fx.Manager.createTarget(i.target),i.easingFn=Ext.fx.Easing[i.easing],i.target.dynamic=i.dynamic,i.easingFn||(i.easingFn=String(i.easing).match(i.bezierRE),i.easingFn&&5===i.easingFn.length&&(t=i.easingFn,i.easingFn=Ext.fx.CubicBezier.cubicBezier(+t[1],+t[2],+t[3],+t[4]))),i.id=Ext.id(null,"ext-anim-"),i.mixins.observable.constructor.call(i),Ext.fx.Manager.addAnim(i),e.autoEnd&&(i.running=!0,i.jumpToEnd())},setAttr:function(e,t){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,e,t)},initAttrs:function(){var e,t,i,n,r=this.from,o=this.to,s=this.initialFrom||{},a={};for(n in o)o.hasOwnProperty(n)&&(e=this.target.getAttr(n,r[n]),t=o[n],i=Ext.fx.PropertyHandler[n]?this.propHandlers[n]=Ext.fx.PropertyHandler[n]:Ext.isObject(t)?this.propHandlers[n]=Ext.fx.PropertyHandler.object:this.propHandlers[n]=Ext.fx.PropertyHandler.defaultHandler,a[n]=i.get(e,t,this.damper,s[n],n));this.currentAttrs=a},start:function(e){var t=this,i=t.delay,n=t.delayStart;if(i){if(!n)return void(t.delayStart=e);if(e-n<i)return;e=new Date(n.getTime()+i)}!1!==t.fireEvent("beforeanimate",t)&&(t.startTime=e,t.paused||t.currentAttrs||t.initAttrs(),t.running=!0,t.frameCount=0)},jumpToEnd:function(){this.endWasCalled||(this.currentAttrs||this.initAttrs(),Ext.fx.Manager.jumpToEnd(this),this.end())},runAnim:function(e){var t,i,n,r,o=this.currentAttrs,s=this.duration,a=this.easingFn,l=this.propHandlers,d={};for(n in s<=e&&(e=s,r=!0),this.reverse&&(e=s-e),o)o.hasOwnProperty(n)&&(i=o[n],t=r?1:a(e/s),d[n]=l[n].set(i,t));return this.frameCount++,d},lastFrame:function(){var e=this,t=e.iterations,i=e.currentIteration;++i<t?(e.alternate&&(e.reverse=!e.reverse),e.startTime=new Date,e.currentIteration=i,e.paused=!1):(e.currentIteration=0,e.end(),e.fireEvent("lastframe",e,e.startTime))},endWasCalled:0,end:function(e){var t=this;t.endWasCalled++||(t.startTime=0,t.paused=!1,t.running=!1,Ext.fx.Manager.removeAnim(t),e||(t.fireEvent("afteranimate",t,t.startTime),Ext.callback(t.callback,t.scope,[t,t.startTime])),t.remove&&t.target.destroy())},isReady:function(){return!1===this.paused&&!1===this.running&&0<this.iterations},isRunning:function(){return!1===this.paused&&!0===this.running&&!0!==this.isAnimator}}),Ext.enableFx=!0,Ext.define("Ext.util.Animate",{mixinId:"animate",requires:["Ext.fx.Manager","Ext.fx.Anim"],isAnimate:!0,animate:function(e){return Ext.fx.Manager.hasFxBlock(this.id)||Ext.fx.Manager.queueFx(new Ext.fx.Anim(this.anim(e))),this},anim:function(e){if(!Ext.isObject(e))return!!e&&{};return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.apply({target:this,paused:!0},e)},getAnimationProps:function(){var e=this.layout;return e&&e.animate?e.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(e){return Ext.fx.Manager.stopAnimation(this.id,e),this},syncFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!0}),this},sequenceFx:function(){return Ext.fx.Manager.setFxDefaults(this.id,{concurrent:!1}),this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}}),Ext.define("Ext.dom.Fly",{extend:"Ext.dom.Element",alternateClassName:"Ext.dom.Element.Fly",validNodeTypes:{1:1,9:1,11:1},isFly:!0,constructor:function(e){this.dom=e,this.el=this},attach:function(e){return e?(this.dom=e,Ext.cache[e.id]||(this.getData().isSynchronized=!1),this):this.detach()},detach:function(){this.dom=null},addListener:function(){Ext.raise("Cannot use addListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")},removeListener:function(){Ext.raise("Cannot use removeListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}},function(r){var e,o={};r.cache=o,Ext.fly=function(e,t){var i=null,n=Ext.fly;return t=t||n.caller&&n.caller.$name||"_global",(e=Ext.getDom(e))&&(n=e.nodeType,(r.prototype.validNodeTypes[n]||!n&&e.window==e)&&((i=Ext.cache[e.id])&&i.dom===e||((i=o[t]||(o[t]=new r)).dom=e,(e=i.getData(!0))&&(e.isSynchronized=!1)))),i},Ext.getDetachedBody=function(){return e||(Ext.detachedBodyEl=e=new r(document.createElement("div")),e.isDetachedBody=!0),e}}),Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],requires:["Ext.dom.Fly"],isComposite:!0,isLite:!0,statics:{importElementMethods:function(){var e=Ext.dom.Element,i=this.prototype;Ext.Object.each(e.prototype,function(e,t){"function"!=typeof t||i[e]||(i[e]=function(){return this.invoke(e,arguments)})})}},constructor:function(e,t){t?this.elements=e||[]:(this.elements=[],this.add(e))},getElement:function(e){return(this._fly||(this._fly=new Ext.dom.Fly)).attach(e)},transformElement:function(e){return Ext.getDom(e)},getCount:function(){return this.elements.length},add:function(e,t){var i,n,r=this.elements;if(!e)return this;for("string"==typeof e?e=Ext.fly(t||document).query(e):e.isComposite?e=e.elements:Ext.isIterable(e)||(e=[e]),i=0,n=e.length;i<n;++i)r.push(this.transformElement(e[i]));return this},invoke:function(e,t){var i,n,r,o=this.elements,s=o.length;if(0!==r)for(i=(this.isLite?Ext.dom.Fly:Ext.dom.Element).prototype,r=0;r<s;r++)(n=o[r])&&i[e].apply(this.getElement(n),t);return this},item:function(e){var t=this.elements[e],e=null;return t&&(e=this.getElement(t)),e},slice:function(e,t){return Ext.Array.slice(this.elements,e,t)},each:function(e,t){for(var i,n=this.elements,r=n.length,o=0;o<r&&(!(i=n[o])||(i=this.getElement(i),!1!==e.call(t||i,i,this,o)));o++);return this},fill:function(e){return this.elements=[],this.add(e),this},insert:function(e,t){Ext.Array.insert(this.elements,e,t)},filter:function(e){for(var t,i=this.elements,n=i.length,r=[],o=0,s="function"==typeof e;o<n;o++)(t=i[o])&&(t=this.getElement(t),(s?!1!==e.call(t,t,this,o):t.is(e))&&r.push(this.transformElement(t)));return this.elements=r,this},indexOf:function(e){return Ext.Array.indexOf(this.elements,this.transformElement(e))},replaceElement:function(e,t,i){e=isNaN(e)?this.indexOf(e):e;return-1<e&&(t=Ext.getDom(t),i&&((i=this.elements[e]).parentNode.insertBefore(t,i),Ext.removeNode(i)),Ext.Array.splice(this.elements,e,1,t)),this},clear:function(e){var t=this.elements,i=t.length-1;if(e)for(;0<=i;i--)Ext.removeNode(t[i]);this.elements=[]},addElements:function(e,t){if(!e)return this;"string"==typeof e&&(e=Ext.dom.Element.selectorFunction(e,t));for(var i=this.elements,n=e.length,r=0;r<n;r++)i.push(Ext.get(e[r]));return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(e){return-1!=this.indexOf(e)},removeElement:function(e,t){e=[].concat(e);for(var i,n,r=this.elements,o=e.length,s=0;s<o;s++)(n=r[i=e[s]]||r[i=this.indexOf(i)])&&(t&&(n.dom?n.destroy():Ext.removeNode(n)),Ext.Array.erase(r,i,1));return this},destroy:function(){return this.invoke("destroy",arguments)}},function(e){var t=e.prototype;e.importElementMethods(),t.on=t.addListener}),Ext.define("Ext.overrides.dom.Element",function(){function t(e,t){return t.charAt(1).toUpperCase()}var a,i,n,r,d=window,h=document,l="hidden",o="isClipped",s="overflow",c="overflow-x",u="overflow-y",f="originalClip",g="visibility",p="display",m="visibilityMode",x=Ext.baseCSSPrefix+"hidden-offsets",E=Ext.baseCSSPrefix+"hidden-clip",y=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),v=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/gi,b=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,C=/\ssrc=([\'\"])(.*?)\1/i,S=/\S/,w=/\stype=([\'\"])(.*?)\1/i,P=/^-ms-/,T=/(-[a-z])/gi,I=Ext.baseCSSPrefix+"masked",k=Ext.baseCSSPrefix+"masked-relative",R=Ext.baseCSSPrefix+"mask-msg",M=/^body/i,A={},D=h.createRange?h.createRange():null,F={INPUT:!0,TEXTAREA:!0};return Ext.isIE8&&(i=h.createElement("div"),n=[],r=Ext.Function.createBuffered(function(){for(var e=n.length,t=0;t<e;t++)i.appendChild(n[t]);i.innerHTML="",n.length=0},10)),{override:"Ext.dom.Element",mixins:["Ext.util.Animate"],uses:["Ext.dom.GarbageCollector","Ext.dom.Fly","Ext.event.publisher.MouseEnterLeave","Ext.fx.Manager","Ext.fx.Anim"],skipGarbageCollection:!1,_init:function(e){a=e,d.__UNIT_TESTING__&&(e.destroyQueue=n),e.tabbableSelector+=",["+e.tabbableSavedCounterAttribute+"]"},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",tabbableSelector:Ext.supports.CSS3NegationSelector?'a[href],button,iframe,input,select,textarea,[tabindex]:not([tabindex="-1"]),[contenteditable="true"]':'a[href],button,iframe,input,select,textarea,[tabindex],[contenteditable="true"]',naturallyFocusableTags:{BUTTON:!0,IFRAME:!0,EMBED:!0,INPUT:!0,OBJECT:!0,SELECT:!0,TEXTAREA:!0,HTML:!!Ext.isIE,BODY:!Ext.isIE},naturallyTabbableTags:{BUTTON:!0,IFRAME:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0,OBJECT:!!Ext.isIE8m},tabbableSavedCounterAttribute:"data-tabindex-counter",tabbableSavedValueAttribute:"data-tabindex-value",normalize:function(e){return"float"===e&&(e=Ext.supports.Float?"cssFloat":"styleFloat"),A[e]||(A[e]=e.replace(P,"ms-").replace(T,t))}},addKeyListener:function(e,t,i){i="object"!=typeof e||Ext.isArray(e)?{target:this,key:e,fn:t,scope:i}:{target:this,key:e.key,shift:e.shift,ctrl:e.ctrl,alt:e.alt,fn:t,scope:i};return new Ext.util.KeyMap(i)},addKeyMap:function(e){return new Ext.util.KeyMap(Ext.apply({target:this},e))},afterAnimate:function(){var e=this.shadow;!e||e.disabled||e.animate||e.show()},anchorAnimX:function(e){e="l"===e?"right":"left";this.dom.style[e]="0px"},anim:function(e){if(!Ext.isObject(e))return!!e&&{};var t=e.duration||Ext.fx.Anim.prototype.duration,i=e.easing||"ease";return e.stopAnimation&&this.stopAnimation(),Ext.applyIf(e,Ext.fx.Manager.getFxDefaults(this.id)),Ext.fx.Manager.setFxDefaults(this.id,{delay:0}),i={target:this.dom,remove:e.remove,alternate:e.alternate||!1,duration:t,easing:i,callback:e.callback,listeners:e.listeners,iterations:e.iterations||1,scope:e.scope,block:e.block,concurrent:e.concurrent,delay:e.delay||0,paused:!0,keyframes:e.keyframes,from:e.from||{},to:Ext.apply({},e),userConfig:e},Ext.apply(i.to,e.to),delete i.to.to,delete i.to.from,delete i.to.remove,delete i.to.alternate,delete i.to.keyframes,delete i.to.iterations,delete i.to.listeners,delete i.to.target,delete i.to.paused,delete i.to.callback,delete i.to.scope,delete i.to.duration,delete i.to.easing,delete i.to.concurrent,delete i.to.block,delete i.to.stopAnimation,delete i.to.delay,i},animate:function(e){return this.addAnimation(e),this},addAnimation:function(e){var t,i,n=this.dom.id||Ext.id(this.dom);return Ext.fx.Manager.hasFxBlock(n)||(e.listeners&&(t=e.listeners,delete e.listeners),e.internalListeners&&(e.listeners=e.internalListeners,delete e.internalListeners),n=e.autoEnd,delete e.autoEnd,(i=new Ext.fx.Anim(this.anim(e))).on({afteranimate:"afterAnimate",beforeanimate:"beforeAnimate",scope:this,single:!0}),t&&i.on(t),Ext.fx.Manager.queueFx(i),n&&i.jumpToEnd()),i},beforeAnimate:function(){var e=this.shadow;!e||e.disabled||e.animate||e.hide()},boxWrap:function(e){e=e||Ext.baseCSSPrefix+"box";var t=Ext.get(this.insertHtml("beforeBegin","<div class='"+e+"' role='presentation'>"+Ext.String.format(y,e)+"</div>"));return t.selectNode("."+e+"-mc").appendChild(this.dom),t},clean:function(e){var t,i=this.dom,n=this.getData(),r=i.firstChild,o=-1;if(n.isCleaned&&!0!==e)return this;for(;r;)t=r.nextSibling,3===r.nodeType?S.test(r.nodeValue)?t&&3===t.nodeType&&(r.appendData(Ext.String.trim(t.data)),i.removeChild(t),t=r.nextSibling,r.nodeIndex=++o):i.removeChild(r):(Ext.fly(r,"_clean").clean(),r.nodeIndex=++o),r=t;return n.isCleaned=!0,this},empty:D?function(){var e=this.dom;e.firstChild&&(D.setStartBefore(e.firstChild),D.setEndAfter(e.lastChild),D.deleteContents())}:function(){for(var e=this.dom;e.lastChild;)e.removeChild(e.lastChild)},clearListeners:function(){this.removeAnchor(),this.callParent()},clearPositioning:function(e){return e=e||"",this.setStyle({left:e,right:e,top:e,bottom:e,"z-index":"",position:"static"})},createProxy:function(e,t,i){e="object"==typeof e?e:{tag:"div",role:"presentation",cls:e};e=t?Ext.DomHelper.append(t,e,!0):Ext.DomHelper.insertBefore(this.dom,e,!0);return e.setVisibilityMode(a.DISPLAY),e.hide(),i&&this.setBox&&this.getBox&&e.setBox(this.getBox()),e},clearOpacity:function(){return this.setOpacity("")},clip:function(){var e,t=this.getData();return t[o]||(t[o]=!0,e=this.getStyle([s,c,u]),t[f]={o:e[s],x:e[c],y:e[u]},this.setStyle(s,l),this.setStyle(c,l),this.setStyle(u,l)),this},destroy:function(){var e=this.dom,t=this.getData();e&&(this.isAnimate&&this.stopAnimation(),this.removeAnchor()),this.callParent(),e&&Ext.isIE8&&e.window!=e&&9!==e.nodeType&&"BODY"!==e.tagName&&"HTML"!==e.tagName&&(n[n.length]=e,r()),t&&(e=t.maskEl,t=t.maskMsg,e&&e.destroy(),t&&t.destroy())},enableDisplayMode:function(e){return this.setVisibilityMode(a.DISPLAY),void 0!==e&&(this.getData().originalDisplay=e),this},fadeIn:function(e){var i=this.dom;return this.animate(Ext.apply({},e,{opacity:1,internalListeners:{beforeanimate:function(e){var t=Ext.fly(i,"_anim");t.isStyle("display","none")?t.setDisplayed(""):t.show()}}})),this},fadeOut:function(t){var i=this.dom;return t=Ext.apply({opacity:0,internalListeners:{afteranimate:function(e){i&&0===e.to.opacity&&(e=Ext.fly(i,"_anim"),t.useDisplay?e.setDisplayed(!1):e.hide())}}},t),this.animate(t),this},fixDisplay:function(){this.isStyle(p,"none")&&(this.setStyle(g,l),this.setStyle(p,this._getDisplay()),this.isStyle(p,"none")&&this.setStyle(p,"block"))},frame:function(r,o,s){var e,a=this.dom;return r=r||"#C3DAF9",o=o||1,s=s||{},e=function(){var e,t,i=Ext.fly(a,"_anim"),n=this;i.show(),e=i.getBox(),t=Ext.getBody().createChild({role:"presentation",id:i.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35e3,border:"0px solid "+r}}),new Ext.fx.Anim({target:t,duration:s.duration||1e3,iterations:o,from:{top:e.y,left:e.x,borderWidth:0,opacity:1,height:e.height,width:e.width},to:{top:e.y-20,left:e.x-20,borderWidth:10,opacity:0,height:e.height+40,width:e.width+40}}).on("afteranimate",function(){t.destroy(),n.end()})},this.animate({duration:2*Math.max(s.duration,500)||2e3,listeners:{beforeanimate:{fn:e}},callback:s.callback,scope:s.scope}),this},getColor:function(e,t,i){var n,r,o=this.getStyle(e),s=i||""===i?i:"#",a=0;if(!o||/transparent|inherit/.test(o))return t;if(/^r/.test(o))for(r=(o=o.slice(4,o.length-1).split(",")).length;a<r;a++)s+=((n=parseInt(o[a],10))<16?"0":"")+n.toString(16);else s+=3===(o=o.replace("#","")).length?o.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):o;return 5<s.length?s.toLowerCase():t},getLoader:function(){var e=this.getData(),t=e.loader;return t||(e.loader=t=new Ext.ElementLoader({target:this})),t},getPositioning:function(e){var t=this.getStyle(["left","top","position","z-index"]),i=this.dom;return e&&("auto"===t.left&&(t.left=i.offsetLeft+"px"),"auto"===t.top&&(t.top=i.offsetTop+"px")),t},ghost:function(s,e){var t,a=this.dom;return s=s||"b",t=function(){var e=Ext.fly(a,"_anim"),t=e.getWidth(),i=e.getHeight(),n=e.getXY(),r=e.getPositioning(),o={opacity:0};switch(s){case"t":o.y=n[1]-i;break;case"l":o.x=n[0]-t;break;case"r":o.x=n[0]+t;break;case"b":o.y=n[1]+i;break;case"tl":o.x=n[0]-t,o.y=n[1]-i;break;case"bl":o.x=n[0]-t,o.y=n[1]+i;break;case"br":o.x=n[0]+t,o.y=n[1]+i;break;case"tr":o.x=n[0]+t,o.y=n[1]-i}this.to=o,this.on("afteranimate",function(){var e=Ext.fly(a,"_anim");e&&(e.hide(),e.clearOpacity(),e.setPositioning(r))})},this.animate(Ext.applyIf(e||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:t}})),this},hide:function(e){return"string"==typeof e?this.setVisible(!1,e):this.setVisible(!1,this.anim(e)),this},highlight:function(e,t){var i,n,r,o,s=this.dom,a={},l=(t=t||{}).listeners||{};return a[r=t.attr||"backgroundColor"]=e||"ffff9c",t.to?n=t.to:(n={})[r]=t.endColor||this.getColor(r,"ffffff",""),t.listeners=Ext.apply(Ext.apply({},l),{beforeanimate:function(){i=s.style[r];var e=Ext.fly(s,"_anim");if(e.clearOpacity(),e.show(),o=l.beforeanimate)return(o.fn||o).apply(o.scope||l.scope||d,arguments)},afteranimate:function(){s&&(s.style[r]=i),(o=l.afteranimate)&&(o.fn||o).apply(o.scope||l.scope||d,arguments)}}),this.animate(Ext.apply({},t,{duration:1e3,easing:"ease-in",from:a,to:n})),this},hover:function(e,t,i,n){return this.on("mouseenter",e,i||this.dom,n),this.on("mouseleave",t,i||this.dom,n),this},initDD:function(e,t,i){t=new Ext.dd.DD(Ext.id(this.dom),e,t);return Ext.apply(t,i)},initDDProxy:function(e,t,i){t=new Ext.dd.DDProxy(Ext.id(this.dom),e,t);return Ext.apply(t,i)},initDDTarget:function(e,t,i){t=new Ext.dd.DDTarget(Ext.id(this.dom),e,t);return Ext.apply(t,i)},isFocusable:function(){var e,t=this.dom,i=!1;return t&&!t.disabled&&(e=t.nodeName,i=!!Ext.Element.naturallyFocusableTags[e]||("A"===e||"LINK"===e)&&!!t.href||null!=t.getAttribute("tabIndex")||"true"===t.contentEditable,Ext.isIE8&&"INPUT"===e&&"hidden"===t.type&&(i=!1),i=i&&this.isVisible(!0)),i},isInputField:function(){var e=this.dom,t=e.contentEditable;return!!(F[e.tagName]&&"button"!==e.type||""===t||"true"===t)},isTabbable:function(e){var t,i,n,r=this.dom,o=!1;return r&&!r.disabled&&(t=r.nodeName,i=null!=(n=r.getAttribute("tabIndex")),n-=0,"A"===t||"LINK"===t?o=r.href?!(i&&n<0):"true"===r.contentEditable&&!i||i&&0<=n:"true"===r.contentEditable||Ext.Element.naturallyTabbableTags[t]?o=!(i&&n<0):i&&0<=n&&(o=!0),Ext.isIE8&&"INPUT"===t&&"hidden"===r.type&&(o=!1),o=o&&(e||(!this.component||this.component.isVisible(!0))&&this.isVisible(!0))),o},isMasked:function(e){var t,i=this.getData(),n=i.maskEl,r=i.maskMsg,i=!1;if(n&&n.isVisible())r&&r.center(this),i=!0;else if(e&&(t=this.findParentNode()))return Ext.fly(t).isMasked(e);return i},load:function(e){return this.getLoader().load(e),this},mask:function(e,t,i){var n=this.dom,r=this.getData(),o=r.maskEl;return M.test(n.tagName)&&"static"===this.getStyle("position")||this.addCls(k),o&&o.destroy(),o=Ext.DomHelper.append(n,{role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",children:{role:"presentation",cls:t?R+" "+t:R,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:e||""}}}},!0),t=Ext.get(o.dom.firstChild),r.maskEl=o,this.addCls(I),o.setDisplayed(!0),"string"==typeof e?(t.setDisplayed(!0),t.center(this)):t.setDisplayed(!1),n===h.body&&o.addCls(Ext.baseCSSPrefix+"mask-fixed"),this.saveTabbableState({skipSelf:n===h.body}),Ext.isIE9m&&n!==h.body&&this.isStyle("height","auto")&&o.setSize(void 0,i||this.getHeight()),o},puff:function(t){var e,i=this.dom,n=this.getBox(),r=this.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],!0);return t=Ext.applyIf(t||{},{easing:"ease-out",duration:500,useDisplay:!1}),e=function(){var e=Ext.fly(i,"_anim");e.clearOpacity(),e.show(),this.to={width:2*n.width,height:2*n.height,x:n.x-n.width/2,y:n.y-n.height/2,opacity:0,fontSize:"200%"},this.on("afteranimate",function(){var e=Ext.fly(i,"_anim");e&&(t.useDisplay?e.setDisplayed(!1):e.hide(),e.setStyle(r),Ext.callback(t.callback,t.scope))})},this.animate({duration:t.duration,easing:t.easing,listeners:{beforeanimate:{fn:e}}}),this},selectable:function(){return this.dom.unselectable="",this.removeCls(a.unselectableCls),this.addCls(a.selectableCls),this},setCapture:function(){var e=this.dom;Ext.isIE9m&&e.setCapture&&e.setCapture()},setHeight:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{height:e}},t))):this.callParent(arguments),this},setHorizontal:function(){var e=this.verticalCls;delete this.vertical,e&&(delete this.verticalCls,this.removeCls(e)),delete this.setWidth,delete this.setHeight,Ext.isIE8||(delete this.getWidth,delete this.getHeight),delete this.styleHooks},updateText:function(e){},setHtml:function(s,e,a,l){var d,t,c,u=this;return u.dom?(s=s||"",t=u.dom,!0!==e?(t.innerHTML=s,Ext.callback(a,u)):(d=Ext.id(),s+='<span id="'+d+'" role="presentation"></span>',c=Ext.interval(function(){var e,t,i,n,r,o;if(!(r=h.getElementById(d)))return!1;for(clearInterval(c),Ext.removeNode(r),e=Ext.getHead().dom;t=v.exec(s);)(i=!!(n=t[1])&&n.match(C))&&i[2]?((o=h.createElement("script")).src=i[2],(n=n.match(w))&&n[2]&&(o.type=n[2]),e.appendChild(o)):t[2]&&0<t[2].length&&(l?Ext.functionFactory(t[2]).call(l):Ext.globalEval(t[2]));Ext.callback(a,l||u)},20),t.innerHTML=s.replace(b,"")),u):u},setOpacity:function(e,t){return this.dom&&(t&&this.anim?("object"!=typeof t&&(t={duration:350,easing:"ease-in"}),this.animate(Ext.applyIf({to:{opacity:e}},t))):this.setStyle("opacity",e)),this},setPositioning:function(e){return this.setStyle(e)},setVertical:function(e,t){var i=a.prototype;this.vertical=!0,t&&this.addCls(this.verticalCls=t),this.setWidth=i.setHeight,this.setHeight=i.setWidth,Ext.isIE8||(this.getWidth=i.getHeight,this.getHeight=i.getWidth),this.styleHooks=270===e?i.verticalStyleHooks270:i.verticalStyleHooks90},setSize:function(e,t,i){return Ext.isObject(e)&&(i=t,t=e.height,e=e.width),i&&this.anim?(!0===i&&(i={}),this.animate(Ext.applyIf({to:{width:e,height:t}},i))):(this.dom.style.width=a.addUnits(e),this.dom.style.height=a.addUnits(t),(this.shadow||this.shim)&&this.syncUnderlays()),this},setVisible:function(e,t){var i,n,r=this,o=r.dom,s=(void 0===(i=(n=(i=r).getData())[m])&&(n[m]=i=a.VISIBILITY),i);if("string"==typeof t){switch(t){case p:s=a.DISPLAY;break;case g:s=a.VISIBILITY;break;case"offsets":s=a.OFFSETS;break;case"clip":s=a.CLIP}r.setVisibilityMode(s),t=!1}if(t&&r.anim)e&&(r.setOpacity(.01),r.setVisible(!0)),Ext.isObject(t)||(t={duration:350,easing:"ease-in"}),r.animate(Ext.applyIf({callback:function(){e||Ext.fly(o).setVisible(!1).setOpacity(1)},to:{opacity:e?1:0}},t));else{if(s===a.DISPLAY)return r.setDisplayed(e);s===a.OFFSETS?r[e?"removeCls":"addCls"](x):s===a.CLIP?r[e?"removeCls":"addCls"](E):s===a.VISIBILITY&&(r.fixDisplay(),o.style.visibility=e?"":l)}return r.getData().isVisible=e,(r.shadow||r.shim)&&r.setUnderlaysVisible(e),r},setWidth:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{width:e}},t))):this.callParent(arguments),this},setX:function(e,t){return this.setXY([e,this.getY()],t)},setXY:function(e,t){return t&&this.anim?(Ext.isObject(t)||(t={}),this.animate(Ext.applyIf({to:{x:e[0],y:e[1]}},t))):this.callParent([e]),this},setY:function(e,t){return this.setXY([this.getX(),e],t)},show:function(e){return"string"==typeof e?this.setVisible(!0,e):this.setVisible(!0,this.anim(e)),this},slideIn:function(a,l,d){var e,c,u,h,f=this,g=f.dom,p=g.style;return a=a||"t",l=l||{},e=function(){var e,t,i,n,r=this,o=l.listeners,s=Ext.fly(g,"_anim");switch(d||s.fixDisplay(),e=s.getBox(),"t"!=a&&"b"!=a||0!==e.height?"l"!=a&&"r"!=a||0!==e.width||(e.width=g.scrollWidth):e.height=g.scrollHeight,t=s.getStyle(["width","height","left","right","top","bottom","position","z-index"],!0),s.setSize(e.width,e.height),l.preserveScroll&&(u=s.cacheScrollValues()),n=s.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+s.dom.id,style:{visibility:d?"visible":"hidden"}}),h=n.dom.parentNode,n.setPositioning(s.getPositioning()),n.isStyle("position","static")&&n.position("relative"),s.clearPositioning("auto"),n.clip(),u&&u(),s.setStyle({visibility:"",position:"absolute"}),d&&n.setSize(e.width,e.height),a){case"t":i={from:{width:e.width+"px",height:"0px"},to:{width:e.width+"px",height:e.height+"px"}},p.bottom="0px";break;case"l":i={from:{width:"0px",height:e.height+"px"},to:{width:e.width+"px",height:e.height+"px"}},f.anchorAnimX(a);break;case"r":i={from:{x:e.x+e.width,width:"0px",height:e.height+"px"},to:{x:e.x,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX(a);break;case"b":i={from:{y:e.y+e.height,width:e.width+"px",height:"0px"},to:{y:e.y,width:e.width+"px",height:e.height+"px"}};break;case"tl":i={from:{x:e.x,y:e.y,width:"0px",height:"0px"},to:{width:e.width+"px",height:e.height+"px"}},p.bottom="0px",f.anchorAnimX("l");break;case"bl":i={from:{y:e.y+e.height,width:"0px",height:"0px"},to:{y:e.y,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX("l");break;case"br":i={from:{x:e.x+e.width,y:e.y+e.height,width:"0px",height:"0px"},to:{x:e.x,y:e.y,width:e.width+"px",height:e.height+"px"}},f.anchorAnimX("r");break;case"tr":i={from:{x:e.x+e.width,width:"0px",height:"0px"},to:{x:e.x,width:e.width+"px",height:e.height+"px"}},p.bottom="0px",f.anchorAnimX("r")}n.show(),delete(c=Ext.apply({},l)).listeners,(c=new Ext.fx.Anim(Ext.applyIf(c,{target:n,duration:500,easing:"ease-out",from:d?i.to:i.from,to:d?i.from:i.to}))).on("afteranimate",function(){var e=Ext.fly(g,"_anim");e.setStyle(t),d&&(l.useDisplay?e.setDisplayed(!1):e.hide()),n.dom&&(n.dom.parentNode?n.dom.parentNode.insertBefore(e.dom,n.dom):h.appendChild(e.dom),n.destroy()),u&&u(),r.end()}),o&&c.on(o)},f.animate({duration:l.duration?2*Math.max(l.duration,500):1e3,listeners:{beforeanimate:e}}),f},slideOut:function(e,t){return this.slideIn(e,t,!0)},swallowEvent:function(e,t){function i(e){e.stopPropagation(),t&&e.preventDefault()}var n,r;if(Ext.isArray(e)){for(r=e.length,n=0;n<r;n++)this.on(e[n],i);return this}return this.on(e,i),this},switchOff:function(o){var e,s=this.dom;return o=Ext.applyIf(o||{},{easing:"ease-in",duration:500,remove:!1,useDisplay:!1}),e=function(){var t,e=Ext.fly(s,"_anim"),i=this,n=e.getSize(),r=e.getXY();e.clearOpacity(),e.clip(),t=e.getPositioning(),new Ext.fx.Animator({target:s,duration:o.duration,easing:o.easing,keyframes:{33:{opacity:.3},66:{height:1,y:r[1]+n.height/2},100:{width:1,x:r[0]+n.width/2}}}).on("afteranimate",function(){var e=Ext.fly(s,"_anim");o.useDisplay?e.setDisplayed(!1):e.hide(),e.clearOpacity(),e.setPositioning(t),e.setSize(n),i.end()})},this.animate({duration:2*Math.max(o.duration,500),listeners:{beforeanimate:{fn:e}},callback:o.callback,scope:o.scope}),this},syncContent:function(e){var t,i,n,r,o,s,a,l=(e=Ext.getDom(e)).childNodes,d=l.length,c=this.dom,u=c.childNodes,h=u.length,f=c._extData;if(Ext.isIE9m&&c.mergeAttributes)c.mergeAttributes(e,!0),c.src=e.src;else for(s=(o=e.attributes).length,t=0;t<s;t++)"id"!==(a=o[t].name)&&c.setAttribute(a,o[t].value);if(f&&(f.isSynchronized=!1),d===h)for(t=0;t<d;t++){if(n=l[t],i=u[t],(r=n.nodeType)!==i.nodeType||1===r&&n.tagName!==i.tagName)return void(c.innerHTML=e.innerHTML);3===r?i.data=n.data:(n.id&&i.id!==n.id&&(i.id=n.id),i.style.cssText=n.style.cssText,i.className=n.className,Ext.fly(i,"_syncContent").syncContent(n))}else c.innerHTML=e.innerHTML},toggle:function(e){return this.setVisible(!this.isVisible(),this.anim(e)),this},unmask:function(){var e,t=this.getData(),i=t.maskEl;i&&((e=i.dom.style).clearExpression&&(e.clearExpression("width"),e.clearExpression("height")),i&&(i.destroy(),delete t.maskEl),this.removeCls([I,k])),this.restoreTabbableState(this.dom===h.body)},unclip:function(){var e=this.getData();return e[o]&&(e[o]=!1,(e=e[f]).o&&this.setStyle(s,e.o),e.x&&this.setStyle(c,e.x),e.y&&this.setStyle(u,e.y)),this},translate:function(e,t,i){Ext.supports.CssTransforms&&!Ext.isIE9m?this.callParent(arguments):(null!=e&&(this.dom.style.left=e+"px"),null!=t&&(this.dom.style.top=t+"px"))},unselectable:function(){return Ext.isOpera&&(this.dom.unselectable="on"),this.removeCls(a.selectableCls),this.addCls(a.unselectableCls),this},privates:{findTabbableElements:function(e){var t,i,n,r,o,s,a,l,d,c,u,h=this.dom,f=Ext.Element.tabbableSavedCounterAttribute,g=[],p=0;if(!h)return g;if(e&&(t=e.skipSelf,i=e.skipChildren,n=e.excludeRoot,r=e.includeSaved,o=e.includeHidden),(n=n&&Ext.getDom(n))&&n.contains(h))return g;if(!t&&(r&&h.hasAttribute(f)||this.isTabbable(o))&&(g[p++]=h),i)return g;if(!(c=(s=h.querySelectorAll(Ext.Element.tabbableSelector)).length))return g;for(l=new Ext.dom.Fly,d=0;d<c;d++)u=+(a=s[d]).getAttribute("tabIndex"),!(r&&a.hasAttribute(f)||!(u<0)&&l.attach(a).isTabbable(o))||n&&(n===a||n.contains(a))||(g[p++]=a);return g},saveTabbableState:function(e){var t,i,n,r,o,s=Ext.Element.tabbableSavedCounterAttribute,a=Ext.Element.tabbableSavedValueAttribute;for(e&&null!=e.includeSaved||((e=Ext.Object.chain(e||null)).includeSaved=!0),r=0,o=(i=this.findTabbableElements(e)).length;r<o;r++)0<(t=+(n=i[r]).getAttribute(s))?n.setAttribute(s,++t):(n.hasAttribute("tabIndex")?n.setAttribute(a,n.getAttribute("tabIndex")):n.setAttribute(a,"none"),n.setAttribute("tabIndex","-1"),n.setAttribute(s,"1"));return i},restoreTabbableState:function(e,t){var i,n,r,o,s=this.dom,a=Ext.Element.tabbableSavedCounterAttribute,l=Ext.Element.tabbableSavedValueAttribute,d=[];if(!s)return this;for(t||(d=Ext.Array.from(s.querySelectorAll("["+a+"]"))),e||d.unshift(s),r=0,o=d.length;r<o;r++)(n=d[r]).hasAttribute(a)&&n.hasAttribute(l)&&(1<(i=+n.getAttribute(a))?n.setAttribute(a,--i):("none"===(i=n.getAttribute(l))?n.removeAttribute("tabIndex"):n.setAttribute("tabIndex",i),n.removeAttribute(l),n.removeAttribute(a)));return d}},deprecated:{"4.0":{methods:{pause:function(e){return Ext.fx.Manager.setFxDefaults(this.id,{delay:e}),this},scale:function(e,t,i){return this.animate(Ext.apply({},i,{width:e,height:t})),this},shift:function(e){return this.animate(e),this}}},4.2:{methods:{moveTo:function(e,t,i){return this.setXY([e,t],i)},setBounds:function(e,t,i,n,r){return this.setBox({x:e,y:t,width:i,height:n},r)},setLeftTop:function(e,t){var i=this.dom.style;return i.left=a.addUnits(e),i.top=a.addUnits(t),(this.shadow||this.shim)&&this.syncUnderlays(),this},setLocation:function(e,t,i){return this.setXY([e,t],i)}}},"5.0":{methods:{getAttributeNS:function(e,t){return this.getAttribute(t,e)},getCenterXY:function(){return this.getAlignToXY(h,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle("height"))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle("width"))||0},getStyleSize:function(){var e,t,i=this.dom;return i===h||i===h.body?{width:a.getViewportWidth(),height:a.getViewportHeight()}:((i=this.getStyle(["height","width"],!0)).width&&"auto"!==i.width&&(e=parseFloat(i.width)),i.height&&"auto"!==i.height&&(t=parseFloat(i.height)),{width:e||this.getWidth(!0),height:t||this.getHeight(!0)})},isBorderBox:function(){return!0},isDisplayed:function(){return!this.isStyle("display","none")},focusable:"isFocusable"}}}}}(),function(){var u,h,e,t,i,n,r,d,c,f,g,m=Ext.dom.Element,p=m.prototype,o=!Ext.isIE8,x=document,s=x.defaultView,a=/alpha\(opacity=(.*)\)/i,l=/^\s+|\s+$/g,E=p.styleHooks,y=Ext.supports;if(p._init(m),delete p._init,Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain",Ext.plainListCls=Ext.baseCSSPrefix+"list-plain",Ext.CompositeElementLite&&Ext.CompositeElementLite.importElementMethods(),!y.Opacity&&Ext.isIE&&Ext.apply(E.opacity,{get:function(e){var t,e=e.style.filter;return e.match&&((e=e.match(a))&&(t=parseFloat(e[1]),!isNaN(t)))?t?t/100:0:1},set:function(e,t){var i=e.style,e=i.filter.replace(a,"").replace(l,"");i.zoom=1,"number"==typeof t&&0<=t&&t<1?(t*=100,i.filter=e+(e.length?" ":"")+"alpha(opacity="+t+")"):i.filter=e}}),y.matchesSelector||(d=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,c=/\-/g,g={},p.matcherCache=g,p.is=function(e){if(!e)return!0;var t,i,n,r,o,s,a,l=this.dom;if(1!==l.nodeType)return!1;if(!(i=Ext.isFunction(e)?e:g[e])){if(!(t=e.match(d)))return(r=l.parentNode)||(n=!0,r=f=f||x.createDocumentFragment(),f.appendChild(l)),r=-1!==Ext.Array.indexOf(Ext.fly(r,"_is").query(e),l),n&&f.removeChild(l),r;r=t[1],t=t[2],g[e]=i=t?(s=r,a=new RegExp("(?:^|\\s+)"+t.replace(c,"\\-")+"(?:\\s+|$)"),s&&"*"!==s?(s=s.toUpperCase(),function(e){return e.tagName===s&&a.test(e.className)}):function(e){return a.test(e.className)}):(o=(o=r).toUpperCase(),function(e){return e.tagName===o})}return i(l)}),s&&s.getComputedStyle||(p.getStyle=function(e,t){var i,n,r,o,s=this.dom,a="string"!=typeof e,l=e,d=l,c=1,u=t,h=this.styleHooks;if(a&&(i={},l=d[0],o=0,!(c=d.length)))return i;if(!s||s.documentElement)return i||"";e=s.style,t?r=e:(r=s.currentStyle)||(u=!0,r=e);do{if((n=h[l])||(h[l]=n={name:m.normalize(l)}),n=n.get?n.get(s,this,u,r):r[n.name],!a)return n}while(i[l]=n,l=d[++o],o<c);return i}),Ext.isIE8){for(r=function(e,t,i,n){return"none"===n[this.styleName]?"0px":n[this.name]},t=(e=["Top","Right","Bottom","Left"]).length;t--;)n="border"+(i=e[t])+"Width",E["border-"+i.toLowerCase()+"-width"]=E[n]={name:n,styleName:"border"+i+"Style",get:r};var v=Ext.baseCSSPrefix+"sync-repaint";p.syncRepaint=function(){this.addCls(v),this.getWidth(),this.removeCls(v)}}Ext.isIE10m&&Ext.override(m,{focus:function(e,t){var i;if(t=t||this.dom,Number(e))Ext.defer(this.focus,e,this,[null,t]);else{Ext.GlobalEvents.fireEvent("beforefocus",t),!t||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagname||(Ext.synchronouslyFocusing=document.activeElement);try{t.focus()}catch(e){i=e}Ext.synchronouslyFocusing&&document.activeElement!==t&&!i&&t.focus(),Ext.synchronouslyFocusing=null}return this}}),Ext.apply(Ext,{enableGarbageCollector:!0,isBorderBox:!0,useShims:!1,getElementById:function(e){var t,i=x.getElementById(e);return!i&&(t=Ext.detachedBodyEl)&&(i=t.dom.querySelector(Ext.makeIdSelector(e))),i},addBehaviors:function(e){if(Ext.isReady){var t,i,n,r={};for(i in e)(t=i.split("@"))[1]&&(r[n=t[0]]||(r[n]=Ext.fly(document).select(n,!0)),r[n].on(t[1],e[i]));r=null}else Ext.onInternalReady(function(){Ext.addBehaviors(e)})}}),Ext.isIE9m?(Ext.getElementById=function(e){var t,i=x.getElementById(e);return!i&&(t=Ext.detachedBodyEl)&&(i=t.dom.all[e]),i},p.getById=function(e,t){var i,n=this.dom,r=null;return n&&(i=o&&x.getElementById(e)||n.all[e])&&(r=t?i:((e=Ext.cache[e])&&(e.skipGarbageCollection||!Ext.isGarbage(e.dom)?r=e:(Ext.raise("Stale Element with id '"+i.id+"' found in Element cache. Make sure to clean up Element instances using destroy()"),e.destroy())),r||new Ext.Element(i))),r}):x.querySelector||(Ext.getDetachedBody=Ext.getBody,Ext.getElementById=function(e){return x.getElementById(e)},p.getById=function(e,t){e=x.getElementById(e);return t?e:e?Ext.get(e):null}),!Ext.isIE||Ext.isIE9p&&9<=x.documentMode||(p.getAttribute=function(e,t){var i,n=this.dom;return t?"undefined"!=(i=typeof n[t+":"+e])&&"unknown"!=i&&n[t+":"+e]||null:("for"===e&&(e="htmlFor"),n[e]||null)}),Ext.onInternalReady(function(){var e,t,i,n,r=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,o=[],s=p.setWidth,a=p.setHeight,l=p.setSize,d=/^\d+(?:\.\d*)?px$/i;function c(e,t,i,n){n=n[this.name]||"";return r.test(n)?"transparent":n}if(y.FixedTableWidthBug&&(E.width={name:"width",set:function(e,t,i){var n=e.style,r=i._needsTableWidthFix,i=n.display;r&&(n.display="none"),n.width=t,r&&(e.scrollWidth,n.display=i)}},p.setWidth=function(e,t){var i=this.dom,n=i.style,r=this._needsTableWidthFix,o=n.display;return r&&!t&&(n.display="none"),s.call(this,e,t),r&&!t&&(i.scrollWidth,n.display=o),this},p.setSize=function(e,t,i){var n=this.dom,r=n.style,o=this._needsTableWidthFix,s=r.display;return o&&!i&&(r.display="none"),l.call(this,e,t,i),o&&!i&&(n.scrollWidth,r.display=s),this}),Ext.isIE8&&(E.height={name:"height",set:function(e,t,i){var n=i.component;n&&n._syncFrameHeight&&i===n.el&&(i=n.frameBody.dom.style,d.test(t)?(n=n.getFrameInfo())&&(i.height=parseInt(t,10)-n.height+"px"):t&&"auto"!==t||(i.height="")),e.style.height=t}},p.setHeight=function(e,t){var i,n=this.component;return n&&n._syncFrameHeight&&this===n.el&&(i=n.frameBody.dom.style,e&&"auto"!==e?(n=n.getFrameInfo())&&(i.height=e-n.height+"px"):i.height=""),a.call(this,e,t)},p.setSize=function(e,t,i){var n,r=this.component;return r&&r._syncFrameHeight&&this===r.el&&(n=r.frameBody.dom.style,t&&"auto"!==t?(r=r.getFrameInfo())&&(n.height=t-r.height+"px"):n.height=""),l.call(this,e,t,i)}),Ext.getDoc().on("selectstart",function(e,t){var i=m.selectableCls,n=m.unselectableCls,r=t&&t.tagName;if("input"!==(r=r&&r.toLowerCase())&&"textarea"!==r)for(;t&&1===t.nodeType&&t!==x.documentElement;){var o=Ext.fly(t);if(o.hasCls(i))return;if(o.hasCls(n))return void e.stopEvent();t=t.parentNode}}),y.RightMargin||(E.marginRight=E["margin-right"]={name:"marginRight",get:y.DisplayChangeInputSelectionBug||y.DisplayChangeTextAreaSelectionBug?function(e,t,i,n){var r,o,s,a,l,d,c,u,h,f,g,p=n.marginRight;return"0px"!==p&&(r=e.style,o=e,f=y.DisplayChangeInputSelectionBug,g=y.DisplayChangeTextAreaSelectionBug,l=(f||g)&&(a=(s=m.getActiveElement())&&s.tagName,(g&&"TEXTAREA"===a||f&&"INPUT"===a&&"text"===s.type)&&Ext.fly(o).isAncestor(s)&&(l=s.selectionStart,d=s.selectionEnd,Ext.isNumber(l)&&Ext.isNumber(d)))?(c=s,u=l,h=d,function(){c.selectionStart=u,c.selectionEnd=h}):Ext.emptyFn,d=r.display,r.display="inline-block",p=(i?n:e.ownerDocument.defaultView.getComputedStyle(e,"")).marginRight,r.display=d,l()),p}:function(e,t,i,n){var r,o,s=n.marginRight;return"0px"!==s&&(o=(r=e.style).display,r.display="inline-block",s=(i?n:e.ownerDocument.defaultView.getComputedStyle(e,null)).marginRight,r.display=o),s}}),!y.TransparentColor)for(t=(e=["background-color","border-color","color","outline-color"]).length;t--;)i=e[t],n=m.normalize(i),E[i]=E[n]={name:n,get:c};p.verticalStyleHooks90=u=Ext.Object.chain(E),p.verticalStyleHooks270=h=Ext.Object.chain(E),u.width=E.height||{name:"height"},u.height=E.width||{name:"width"},u["margin-top"]={name:"marginLeft"},u["margin-right"]={name:"marginTop"},u["margin-bottom"]={name:"marginRight"},u["margin-left"]={name:"marginBottom"},u["padding-top"]={name:"paddingLeft"},u["padding-right"]={name:"paddingTop"},u["padding-bottom"]={name:"paddingRight"},u["padding-left"]={name:"paddingBottom"},u["border-top"]={name:"borderLeft"},u["border-right"]={name:"borderTop"},u["border-bottom"]={name:"borderRight"},u["border-left"]={name:"borderBottom"},h.width=E.height||{name:"height"},h.height=E.width||{name:"width"},h["margin-top"]={name:"marginRight"},h["margin-right"]={name:"marginBottom"},h["margin-bottom"]={name:"marginLeft"},h["margin-left"]={name:"marginTop"},h["padding-top"]={name:"paddingRight"},h["padding-right"]={name:"paddingBottom"},h["padding-bottom"]={name:"paddingLeft"},h["padding-left"]={name:"paddingTop"},h["border-top"]={name:"borderRight"},h["border-right"]={name:"borderBottom"},h["border-bottom"]={name:"borderLeft"},h["border-left"]={name:"borderTop"},Ext.scopeCss||o.push(Ext.baseCSSPrefix+"body"),y.Touch&&o.push(Ext.baseCSSPrefix+"touch"),Ext.isIE&&Ext.isIE9m&&(o.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m"),o.push(Ext.baseCSSPrefix+"ie8p"),Ext.isIE8?o.push(Ext.baseCSSPrefix+"ie8"):o.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p"),Ext.isIE8m&&o.push(Ext.baseCSSPrefix+"ie8m")),Ext.isIE10&&o.push(Ext.baseCSSPrefix+"ie10"),Ext.isIE10p&&o.push(Ext.baseCSSPrefix+"ie10p"),Ext.isIE11&&o.push(Ext.baseCSSPrefix+"ie11"),Ext.isEdge&&o.push(Ext.baseCSSPrefix+"edge"),Ext.isGecko&&o.push(Ext.baseCSSPrefix+"gecko"),Ext.isOpera&&o.push(Ext.baseCSSPrefix+"opera"),Ext.isOpera12m&&o.push(Ext.baseCSSPrefix+"opera12m"),Ext.isWebKit&&o.push(Ext.baseCSSPrefix+"webkit"),Ext.isSafari&&o.push(Ext.baseCSSPrefix+"safari"),Ext.isChrome&&o.push(Ext.baseCSSPrefix+"chrome"),Ext.isMac&&o.push(Ext.baseCSSPrefix+"mac"),Ext.isLinux&&o.push(Ext.baseCSSPrefix+"linux"),y.CSS3BorderRadius||o.push(Ext.baseCSSPrefix+"nbr"),y.CSS3LinearGradient||o.push(Ext.baseCSSPrefix+"nlg"),y.Touch&&o.push(Ext.baseCSSPrefix+"touch"),Ext.os.deviceType&&o.push(Ext.baseCSSPrefix+Ext.os.deviceType.toLowerCase()),Ext.getBody().addCls(o)},null,{priority:1500})}),Ext.define("Ext.rtl.dom.Element",{override:"Ext.dom.Element",requires:["Ext.CompositeElementLite"],rtlXAnchors:{l:"r",r:"l"},_positionTopRight:["position","top","right"],pxRe:/^\d+(?:\.\d*)?px$/i,statics:{rtlParseBox:function(e){var t=Ext.Element.parseBox(e),e=t.left;return t.left=t.right,t.right=e,t},rtlUnitizeBox:function(e,t){var i=Ext.Element,n=i.addUnits,e=i.parseBox(e);return n(e.top,t)+" "+n(e.left,t)+" "+n(e.bottom,t)+" "+n(e.right,t)}},anchorAnimX:function(e){Ext.rootInheritedState.rtl&&(e=this.rtlXAnchors[e]),this.callParent(arguments)},getPositioning:function(e){var t=Ext.rootInheritedState.rtl?"right":"left",i=this.getStyle([t,"top","position","z-index"]),n=this.dom;return e&&("auto"===i[t]&&(i[t]="left"==t?n.offsetLeft+"px":n.offsetParent.offsetWidth-n.offsetLeft-n.offsetWidth),"auto"===i.top&&(i.top=n.offsetTop+"px")),i},getXY:function(){var e,t,i=document,n=Math.round,r=this.dom,o=i.body,s=0,a=0;if(r!==i&&r!==o)try{e=o.getBoundingClientRect(),s=(t=r.getBoundingClientRect()).left-e.left,a=t.top-e.top,Ext.rootInheritedState.rtl&&(s=o.scrollWidth-t.right)}catch(e){}return[n(s),n(a)]},rtlGetLocalX:function(){var e=this.dom.offsetParent,t=this.getStyle("right");return t&&"auto"!==t?this.pxRe.test(t)?t=parseFloat(t):(t=this.getX(),e&&(t-=Ext.fly(e,"_internal").getX())):t=0,t},rtlGetLocalXY:function(){var e=this.dom.offsetParent,t=this.getStyle(["right","top"]),i=t.right,t=t.top;return i&&"auto"!==i?this.pxRe.test(i)?i=parseFloat(i):(i=this.getX(),e&&(i-=Ext.fly(e,"_internal").getX())):i=0,t&&"auto"!==t?this.pxRe.test(t)?t=parseFloat(t):(t=this.getY(),e&&(t-=Ext.fly(e,"_internal").getY())):t=0,[i,t]},rtlGetScroll:function(){var e=this.dom,t=document,i=t.body,n=this.getScroll(),r=n.left,t=e===t||e===i;return(t?3&this._rtlDocScrollFlag:1===this._rtlScrollFlag)&&(t&&(e=i),r=e.scrollWidth-r-(t?Ext.Element.getViewportWidth():e.clientWidth)),n.left=r,n},rtlGetScrollLeft:function(){return this.rtlGetScroll().left},rtlNormalizeScrollLeft:function(e){var t=this.dom,i=this._rtlScrollFlag;return 0===i?e=-e:1===i&&(e=t.scrollWidth-e-t.clientWidth),e},rtlScrollBy:function(e,t,i){var n=this.dom;return e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x),e&&(e=this.rtlNormalizeScrollLeft(this.constrainScrollLeft(this.rtlGetScrollLeft()+e)),this.scrollTo("left",e,i)),t&&this.scrollTo("top",this.constrainScrollTop(n.scrollTop+t),i),this},rtlScrollIntoView:function(e,t,i,n){return e=Ext.getDom(e)||Ext.getBody().dom,this.doScrollIntoView(e,t,i,n,"rtlGetScrollLeft","rtlScrollTo")},rtlScrollTo:function(e,t,i){return"left"===e&&(t=this.rtlNormalizeScrollLeft(t)),this.scrollTo(e,t,i)},rtlSetLocalX:function(e){var t=this.dom.style;return t.left="auto",t.right=null===e?"auto":e+"px",(this.shadow||this.shim)&&this.syncUnderlays(),this},rtlSetLocalXY:function(e,t){var i=this.dom.style;return i.left="auto",e&&e.length&&(t=e[1],e=e[0]),null===e?i.right="auto":void 0!==e&&(i.right=e+"px"),null===t?i.top="auto":void 0!==t&&(i.top=t+"px"),(this.shadow||this.shim)&&this.syncUnderlays(),this},rtlSetScrollLeft:function(e){return this.dom.scrollLeft=this.rtlNormalizeScrollLeft(e),this},rtlTranslatePoints:function(e,t){t=this.rtlTranslateXY(e,t);return{right:t.x,top:t.y}},rtlTranslateXY:function(e,t){var i,n,r=this.getStyle(this._positionTopRight),o="relative"===r.position,s=parseFloat(r.right),a=parseFloat(r.top),l=this.getXY(),d=this.dom;return e&&e.length&&(t=e[1],e=e[0]),isNaN(s)&&(s=d===(n=(i=document).body)?0:((r=d.offsetParent)&&r!==n&&r!==i.documentElement?r.scrollWidth:Ext.Element.getViewportWidth())-d.offsetLeft-this.getWidth()),isNaN(a)&&(a=o?0:this.dom.offsetTop),{x:s="number"==typeof e?e-l[0]+s:void 0,y:a="number"==typeof t?t-l[1]+a:void 0}},translatePoints:function(e,t){return Ext.rootInheritedState.rtl?this.rtlTranslatePoints(e,t):this.callParent(arguments)},translateXY:function(e,t){return Ext.rootInheritedState.rtl?this.rtlTranslateXY(e,t):this.callParent(arguments)},wrap:function(){var e,t=this.parent(),i=Ext.baseCSSPrefix+"rtl",n=Ext.baseCSSPrefix+"ltr",r=this.callParent(arguments);return t.hasCls(i)?e=i:t.hasCls(n)&&(e=n),e&&Ext.fly(r,"_internal").addCls(e),r}},function(){var s=this;Ext.CompositeElementLite.importElementMethods(),Ext.onInternalReady(function(){var e,t,i,n,r,o;e=(t=document).documentElement,i=t.body,o=4,n=i.style,r=n.direction,t=Ext.getBody().createChild('<div style="height:20000px;width:20000px;"></div>'),n.direction="rtl",0<e.scrollLeft?o=1:(e.scrollLeft=-1,e.scrollLeft?o=0:(e.scrollLeft=1,e.scrollLeft&&(o=2))),t.destroy(),r||(n.direction="ltr",i.scrollWidth),n.direction=r,s.prototype._rtlDocScrollFlag=o,i=Ext.getBody().createChild({tag:"div",style:"direction:rtl;position:absolute;overflow:auto;height:100px;width:100px;background-color:yellow",children:[{tag:"div",style:"height:30px;width:150px;background-color:red"}]}),n=i.dom,r=n.firstChild,o=2,50===n.scrollLeft?o=1:(n.scrollLeft=-1,n.scrollLeft&&(o=0)),r.style.width="30px",r.style.height="150px",s.prototype._rtlScrollbarOnRight=r.getBoundingClientRect().right<n.getBoundingClientRect().right,i.destroy(),s.prototype._rtlScrollFlag=o})}),Ext.define("Ext.GlobalEvents",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.globalEvents",requires:["Ext.dom.Element"],observableType:"global",singleton:!0,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var e=this;e.callParent(),Ext.onInternalReady(function(){e.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer}),Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(e){this.fireEvent("mousedown",e)},fireResize:function(){var e=Ext.Element,t=e.getViewportWidth(),e=e.getViewportHeight();this.curHeight===e&&this.curWidth===t||(this.curHeight=e,this.curWidth=t,this.fireEvent("resize",t,e))}},function(e){Ext.on=function(){return e.addListener.apply(e,arguments)},Ext.un=function(){return e.removeListener.apply(e,arguments)},Ext.fireEvent=function(){return e.fireEvent.apply(e,arguments)}}),Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",deprecated:{5:{methods:{addListener:function(e,t,i,n,r,o,s){var a,l;if("ready"===e)l=t;else if("string"!=typeof e)for(a in e)"ready"===a&&(l=e[a]);l&&(Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead."),Ext.onReady(l)),this.callParent([e,t,i,n,r,o,s])}}}}}),Ext.define("Ext.Glyph",{isGlyph:!0,constructor:function(e){e&&this.setGlyph(e)},setGlyph:function(e){var t;return"string"==typeof(this.glyphConfig=e)?(t=e.split("@"),!isNaN(e=isNaN(t[0])?parseInt("0"+t[0],16):parseInt(t[0],10))&&e||(e=t[0].charCodeAt(0)),this.fontFamily=t[1]||Ext._glyphFontFamily):this.fontFamily=Ext._glyphFontFamily,this.codepoint=e,this.character=Ext.String.fromCodePoint(this.codepoint),this},getStyle:function(){return{"font-family":this.fontFamily}},isEqual:function(e){return e&&e.isGlyph&&e.codepoint===this.codepoint&&e.fontFamily===this.fontFamily},statics:function(){var t;return{fly:function(e){return e.isGlyph?e:(t=t||new Ext.Glyph).setGlyph(e)}}}()}),Ext.USE_NATIVE_JSON=!1,Ext.JSON=new function(){var me=this,hasNative=window.JSON&&"[object JSON]"===JSON.toString(),useHasOwn=!!{}.hasOwnProperty,pad=function(e){return e<10?"0"+e:e},doDecode=function(json){return eval("("+json+")")},doEncode=function(e,t){return null==e?"null":Ext.isDate(e)?me.encodeDate(e):Ext.isString(e)?Ext.isMSDate(e)?me.encodeMSDate(e):me.encodeString(e):"number"==typeof e?isFinite(e)?String(e):"null":Ext.isBoolean(e)?String(e):e.toJSON?e.toJSON():Ext.isArray(e)?encodeArray(e,t):Ext.isObject(e)?encodeObject(e,t):"function"==typeof e?"null":"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\v":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(e){return'"'+e.replace(charToReplace,function(e){var t=m[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(e){return'"'+e+'"'},encodeArrayPretty=function(e,t){for(var i=e.length,n=t+"   ",r=","+n,o=["[",n],s=0;s<i;s+=1)o.push(me.encodeValue(e[s],n),r);return o[o.length-1]=t+"]",o.join("")},encodeObjectPretty=function(e,t){var i,n,r=t+"   ",o=","+r,s=["{",r];for(i in e)n=e[i],useHasOwn&&!e.hasOwnProperty(i)||"function"!=typeof n&&void 0!==n&&s.push(me.encodeValue(i)+": "+me.encodeValue(n,r),o);return s[s.length-1]=t+"}",s.join("")},encodeArray=function(e,t){if(t)return encodeArrayPretty(e,t);for(var i=["[",""],n=e.length,r=0;r<n;r+=1)i.push(me.encodeValue(e[r]),",");return i[i.length-1]="]",i.join("")},encodeObject=function(e,t){if(t)return encodeObjectPretty(e,t);var i,n,r=["{",""];for(i in e)n=e[i],useHasOwn&&!e.hasOwnProperty(i)||"function"!=typeof n&&void 0!==n&&r.push(me.encodeValue(i),":",me.encodeValue(n),",");return r[r.length-1]="}",r.join("")};me.encodeString=encodeString,me.encodeValue=doEncode,me.encodeDate=function(e){return'"'+e.getFullYear()+"-"+pad(e.getMonth()+1)+"-"+pad(e.getDate())+"T"+pad(e.getHours())+":"+pad(e.getMinutes())+":"+pad(e.getSeconds())+'"'},me.encode=function(e){return hasNative&&Ext.USE_NATIVE_JSON?JSON.stringify(e):me.encodeValue(e)},me.decode=function(t,i){try{return hasNative&&Ext.USE_NATIVE_JSON?JSON.parse(t):doDecode(t)}catch(e){if(i)return null;Ext.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+t})}},me.encodeMSDate=encodeMSDate,Ext.util||(Ext.util={}),Ext.util.JSON=me,Ext.encode=me.encode,Ext.decode=me.decode},Ext.define("Ext.mixin.Inheritable",{extend:"Ext.Mixin",mixinConfig:{id:"inheritable"},getInherited:function(e){var t,i,n,r,o=this,s=e&&o.inheritedStateInner||o.inheritedState,a=o.getRefOwner(),l=o.isContainer;return s&&!s.invalid||(t=o.getRefOwner(),r=o.ownerLayout,a&&(n=!r||r===a.layout),o.inheritedState=s=Ext.Object.chain(t?t.getInherited(n):Ext.rootInheritedState),l&&(o.inheritedStateInner=i=Ext.Object.chain(s)),o.initInheritedState(s,i),s=l&&e?o.inheritedStateInner:o.inheritedState),s},getInheritedConfig:function(e,t){var i,n=this.inheritedState;return n&&!n.invalid||(n=this.getInherited()),i=n[e],t&&n.hasOwnProperty(e)&&(t=i,delete n[e],i=n[e],n[e]=t),i},resolveListenerScope:function(e,t){var i,n="boolean"==typeof t,r=Ext._namedScopes[e];return r?r.isController?i=this.getInheritedConfig("controller",n?t:!r.isSelf):r.isSelf?i=this.getInheritedConfig("defaultListenerScope",n&&t)||this:r.isThis&&(i=this):i=this.getInheritedConfig("defaultListenerScope",!n||t)||e||this,i||null},resolveSatelliteListenerScope:function(e,t){var i,n=Ext._namedScopes[t];return n?n.isController?i=this.getInheritedConfig("controller"):n.isSelf?i=this.getInheritedConfig("defaultListenerScope")||e:n.isThis&&(i=e):i=this.getInheritedConfig("defaultListenerScope")||t||this,i||null},lookupReferenceHolder:function(e){return this.getInheritedConfig("referenceHolder",!1!==e)||null},getRefOwner:function(){return this.ownerCt||this.parent||this.$initParent||this.ownerCmp||this.floatParent},invalidateInheritedState:function(){var e=this.inheritedState;e&&(e.invalid=!0,delete this.inheritedState)},privates:{fixReference:function(){var e;this.getReference()&&(e=this.lookupReferenceHolder())&&e.attachReference(this)},onInheritedAdd:function(e,t){this.inheritedState&&t&&this.invalidateInheritedState(),this.getReference()&&Ext.ComponentManager.markReferencesDirty()},onInheritedRemove:function(e){var t;this.getReference()&&(t=this.lookupReferenceHolder())&&t.clearReference(this),this.inheritedState&&!e&&this.invalidateInheritedState()}}},function(){Ext.rootInheritedState={}}),Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:!0},controller:null,defaultListenerScope:!1,publishes:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},reference:null,session:{$value:null,lazy:!0},twoWayBindable:{$value:null,lazy:!0,merge:function(e,t){return this.mergeSets(e,t)}},viewModel:{$value:null,lazy:!0}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(e){var t=this,i=t.getReference(),n=t.getController(),r=t.getConfig("viewModel",!0),o=t.getConfig("session",!0),s=t.getDefaultListenerScope();n&&(e.controller=n),s?e.defaultListenerScope=t:n&&(e.defaultListenerScope=n),r&&(r.isViewModel||(r=t),e.viewModel=r),o&&(o.isSession||(o=t),e.session=o),i&&(t.referenceKey=(e.referencePath||"")+i,t.viewModelKey=(e.viewModelPath||"")+i)},lookupController:function(e){return this.getInheritedConfig("controller",e)||null},lookupSession:function(e){var t=e?null:this.getSession();return t||(t=this.getInheritedConfig("session",e))&&!t.isSession&&(t=t.getInherited().session=t.getSession()),t||null},lookupViewModel:function(e){var t=e?null:this.getViewModel();return t||(t=this.getInheritedConfig("viewModel",e))&&!t.isViewModel&&(t=t.getInherited().viewModel=t.getViewModel()),t||null},publishState:function(e,t){var i,n,r,o=this.publishedState,s=this.getBind(),s=s&&e&&s[e],a=0;if(!s||s.syncing||s.isReadOnly()||(0!==s.calls||null!=t&&t!==this.getInitialConfig()[e])&&s.setValue(t),(s=this.getPublishes())&&(n=this.lookupViewModel())&&(r=this.viewModelKey)){if(e&&o){if(!s[e])return;if(!(t&&t.constructor===Object||t instanceof Array)&&o[e]===t)return;r+=".",r+=e}else{for(i in o=o||(this.publishedState={}),s)++a,o[i]=i===e?t:this[i];if(!a)return;t=o}n.set(r,t)}},privates:{addBindableUpdater:function(e){var t,e=this.self.$config.configs[e];e&&!this.hasOwnProperty(t=e.names.update)&&(this[t]=e.bindableUpdater||(e.root.bindableUpdater=this.makeBindableUpdater(e)))},applyBind:function(e,t){if(!e)return e;var i,n,r,o,s=this,a=s.lookupViewModel(),l=s.getTwoWayBindable(),d=s._getBindTemplateScope;for(n in s.$hasBinds=!0,t&&"string"!=typeof t||(t={}),a||Ext.raise("Cannot use bind config without a viewModel"),Ext.isString(e)&&(s.defaultBindProperty||Ext.raise(s.$className+" has no defaultBindProperty - Please specify a bind object"),i=e,(e={})[s.defaultBindProperty]=i),e)r=e[n],(i=t[n])&&"string"!=typeof i&&(i.destroy(),o=!(i=null)),r&&((i=a.bind(r,s.onBindNotify,s))._config=Ext.Config.get(n),i.getTemplateScope=d,s[i._config.names.set]||Ext.raise("Cannot bind "+n+" on "+s.$className+" - missing a "+i._config.names.set+" method.")),o?delete t[n]:t[n]=i,l&&l[n]&&(o?s.clearBindableUpdater(n):i.isReadOnly()||s.addBindableUpdater(n));return t},applyController:function(e){return e&&(e=Ext.Factory.controller(e)).setView(this),e},applyPublishes:function(e){if(this.lookupViewModel())for(var t in e)this.addBindableUpdater(t);return e},applyReference:function(e){var t=this.validRefRe||Ext.validIdRe;return e&&!t.test(e)&&Ext.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e},applySession:function(e){return e?(e.isSession||(i=!0===e?{}:e,e=(t=this.lookupSession(!0))?t.spawn(i):new Ext.data.Session(i)),e):null;var t,i},applyViewModel:function(e){var t;return e?(e.isViewModel||((t={parent:this.lookupViewModel(!0),view:this}).session=this.getSession(),t.parent||(t.session=this.lookupSession()),e&&(e.constructor===Object?Ext.apply(t,e):"string"==typeof e&&(t.type=e)),e=Ext.Factory.viewModel(t)),e):null},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},clearBindableUpdater:function(e){var t,e=this.self.$config.configs[e];e&&this.hasOwnProperty(t=e.names.update)&&this[t].$bindableUpdater&&delete this[t]},destroyBindable:function(){var e=this.getConfig("viewModel",!0),t=this.getConfig("session",!0),i=this.getController();e&&e.isViewModel&&(e.destroy(),this.setViewModel(null)),t&&t.isSession&&(t.getAutoDestroy()&&t.destroy(),this.setSession(null)),i&&(this.setController(null),i.destroy())},initBindable:function(){this.initBindable=Ext.emptyFn,this.getBind(),this.getPublishes()},makeBindableUpdater:function(n){function e(e,t){var i=this.self.prototype[r];i&&i.call(this,e,t),this.publishState(n.name,e)}var r=n.names.update;return e.$bindableUpdater=!0,e},isSyncing:function(e){var t,i=this.getBind(),n=!1;return i&&(t=i[e])&&(n=0<t.syncing),n},onBindNotify:function(e,t,i){i.syncing=i.syncing+1||1,this[i._config.names.set](e),--i.syncing},removeBindings:function(){var e,t,i;if(this.$hasBinds&&(e=this.getBind())&&"string"!=typeof e)for(t in e)(i=e[t]).destroy(),i._config=i.getTemplateScope=null;this.setBind(null)},updateSession:function(e){var t=this.getInherited();e?t.session=e:delete t.session},updateViewModel:function(e){var t=this.getInherited(),i=this.getController();e?((t.viewModel=e).setView(this),i&&i.initViewModel(e)):delete t.viewModel}}}),Ext.define("Ext.mixin.ComponentDelegation",{extend:"Ext.Mixin",mixinConfig:{id:"componentDelegation"},privates:{addDelegatedListener:function(e,t,i,n,r,o,s){e=Ext.canonicalEventName(e),(r=r||n.order)&&(n&&n.priority||((n=n?Ext.Object.chain(n):{}).priority=this.$orderToPriority[r])),n.target&&Ext.raise("Cannot add '"+e+"' listener to component: '"+this.id+"' - 'delegate' and 'target' event options are incompatible."),((r=this.$delegatedEvents||(this.$delegatedEvents={}))[e]||(r[e]=new Ext.util.Event(this,e))).addListener(t,i,n,o,s)&&this.$hasDelegatedListeners._incr_(e)},clearDelegatedListeners:function(){var e,t,i,n=this.$delegatedEvents;if(n)for(e in n)i=(t=n[e]).listeners.length,t.clearListeners(),this.$hasDelegatedListeners._decr_(e,i),delete n[e]},doFireDelegatedEvent:function(e,t){var i,n,r=!0;if(this.$hasDelegatedListeners[e])for(i=this.getRefOwner();i&&(!(n=i.$delegatedEvents)||(!(n=n[e])||!1!==(r=n.fireDelegated(this,t))));)i=i.getRefOwner();return r},removeDelegatedListener:function(e,t,i){var n,r=this.$delegatedEvents;r&&(n=r[e])&&n.removeListener(t,i)&&(this.$hasDelegatedListeners._decr_(e),0===n.listeners.length&&delete r[e])},destroyComponentDelegation:function(){this.clearPropertiesOnDestroy&&(this.$delegatedEvents=null)}},onClassMixedIn:function(e){function t(){}(e.prototype.HasListeners=e.HasListeners=t).prototype=e.hasListeners=new Ext.mixin.ComponentDelegation.HasDelegatedListeners}},function(e){function t(){}(e.HasDelegatedListeners=t).prototype=e.prototype.$hasDelegatedListeners=new Ext.mixin.Observable.HasListeners}),Ext.define("Ext.mixin.Pluggable",function(i){var s=[];return{config:{plugins:null},addPlugin:function(e){var t=this.getPlugins();return t?((e=this.createPlugin(e)).init(this),t.push(e)):this.setPlugins(e),e},destroyPlugin:function(e){return this.removePlugin(e,!0)},findPlugin:function(e){for(var t,i,n=this.getPlugins(),r=n&&n.length,o=0;o<r&&!i;o++)(t=n[o]).type!==e&&t.ptype!==e||(i=t);return i||null},getPlugin:function(e){for(var t,i,n=this.getPlugins(),r=n&&n.length,o=0;o<r&&!i;o++)(t=n[o]).id!==e&&t.pluginId!==e||(i=t);return i||null},removePlugin:function(e,t){for(var i,n=this.getPlugins(),r=n&&n.length||0;0<r--;){if((i=n[r])===e||i.id===e){n.splice(r,1),t?i.destroy&&i.destroy():i.detachCmp&&(i.detachCmp(),i.setCmp&&i.setCmp(null));break}i=null}return i},privates:{statics:{idSeed:0},activatePlugin:function(e){var t,i,n=this.initialConfig,r=n&&n.plugins,o=null;if(r)for(t=(r=s.concat(r)).length;0<t--;)if((i=r[t])===e||i.type===e){this.initialConfig=n=Ext.apply({},n),(n.plugins=r)[t]=o=this.createPlugin(i);break}return o},applyPlugins:function(e,t){for(var i,n=t&&t.length||0,r=(e=e?s.concat(e):null)&&e.length||0,o=0;o<n;++o)t[o].$dead=!0;for(o=0;o<r;++o)e[o]=this.createPlugin(e[o]);for(o=0;o<r;++o)(i=e[o]).$dead?delete i.$dead:i.init(this);for(o=0;o<n;++o)(i=t[o]).$dead&&(delete i.$dead,Ext.destroy(i));return e},createPlugin:function(e){"string"==typeof e&&(e={type:e});var t=e;return e.isInstance||(e.cmp=this,t=Ext.factory(e,null,null,"plugin"),delete e.cmp),t.id||(t.id=++i.idSeed),t.setCmp&&t.setCmp(this),t}}}}),Ext.define("Ext.Widget",{extend:"Ext.Evented",xtype:"widget",alternateClassName:"Ext.Gadget",requires:["Ext.dom.Element"],mixins:["Ext.mixin.Inheritable","Ext.mixin.Bindable","Ext.mixin.ComponentDelegation","Ext.mixin.Pluggable"],isWidget:!0,element:{reference:"element"},observableType:"component",cachedConfig:{baseCls:!0,cls:null,style:null,border:null,touchAction:null},config:{ui:null,userCls:null},eventedConfig:{width:null,height:null,hidden:null},template:[],classCls:null,classClsRoot:!0,clearPropertiesOnDestroy:"async",noBorderCls:Ext.baseCSSPrefix+"noborder-trbl",constructor:function(e){this.initId(e),this.initElement(),this.mixins.observable.constructor.call(this,e),Ext.ComponentManager.register(this),(e=this.getController())&&e.init(this)},afterCachedConfig:function(){var e,t,i,n=this.self.prototype,r=this.referenceList,o=this.renderElement;for(n.renderTemplate=n=document.createDocumentFragment(),n.appendChild(o.clone(!0,!0)),e=0,t=(i=n.querySelectorAll("[id]")).length;e<t;e++)i[e].removeAttribute("id");for(e=0,t=r.length;e<t;e++)this[r[e]].dom.removeAttribute("reference")},addCls:function(e){this.el.addCls(e)},applyBaseCls:function(e){var t=Ext.baseCSSPrefix,i=this.xtype;return e=!0===e?this.classCls||t+i:e||t+i},applyCls:function(e){return"string"==typeof e&&(e=[e]),e&&e.length||(e=null),e},applyHidden:function(e){return!!e},applyTouchAction:function(e,t){return null!=t&&(e=Ext.merge({},t,e)),e},applyWidth:function(e){return this.filterLengthValue(e)},applyHeight:function(e){return this.filterLengthValue(e)},updateBorder:function(e){e=e||null===e,this.el.toggleCls(this.noBorderCls,!e)},clearListeners:function(){this.mixins.observable.clearListeners.call(this),this.mixins.componentDelegation.clearDelegatedListeners.call(this)},destroy:function(){this.isDestroying=this.destroying=!0,this.doDestroy(),this.clearListeners(),this.isDestroying=this.destroying=!1,this.mixins.componentDelegation.destroyComponentDelegation.call(this),this.callParent()},doDestroy:function(){for(var e,t=this.referenceList,i=0,n=t.length;i<n;i++)e=t[i],this.hasOwnProperty(e)&&(this[e].destroy(),this[e]=null);this.destroyBindable(),Ext.ComponentManager.unregister(this)},doFireEvent:function(e,t,i){i=this.mixins.observable.doFireEvent.call(this,e,t,i);return!1!==i&&(i=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,e,t)),i},getBubbleTarget:function(){return this.getRefOwner()},getElementConfig:function(){var e=this.element;return"children"in e||(e=Ext.apply({children:this.getTemplate()},e)),e},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},getClassCls:function(){for(var e,t,i,n,r=this.self.prototype,o=r;o;){if(t=o.classCls)if(t instanceof Array)for(i=0,n=t.length;i<n;i++)(e=e||[]).push(t[i]);else(e=e||[]).push(t);if(o.classClsRoot&&o.hasOwnProperty("classClsRoot"))break;o=o.superclass}return e&&(r.classClsList=e),e},hide:function(){this.setHidden(!0)},initElement:function(){var e,t,i,n,r,o,s,a,l,d=this,c=d.self.prototype,u=d.getId(),h=d.referenceList=d.referenceList=[],f=!0,g=!c.hasOwnProperty("renderTemplate");for(g?(f=!1,e=document.createDocumentFragment(),t=Ext.Element.create(d.processElementConfig.call(c),!0),e.appendChild(t)):t=(e=d.renderTemplate.cloneNode(!0)).firstChild,r=0,o=(n=e.querySelectorAll("[reference]")).length;r<o;r++)a=(s=n[r]).getAttribute("reference"),f&&s.removeAttribute("reference"),"element"===a?(i&&Ext.raise("Duplicate 'element' reference detected in '"+d.$className+"' template."),s.id=u,(i=d.el=d.addElementReference(a,s)).dom.setAttribute("data-componentid",u),g&&(l=d.getClassCls())&&i.addCls(l)):d.addElementReferenceOnDemand(a,s),h.push(a);i||Ext.raise("No 'element' reference found in '"+d.$className+"' template."),t===i.dom?d.renderElement=i:d.addElementReferenceOnDemand("renderElement",t)},is:function(e){return Ext.ComponentQuery.is(this,e)},isHidden:function(e){var t,i=!!this.getHidden();if(!i&&e)for(t=this.getRefOwner();t&&t!==e&&!(i=!!t.getHidden());)t=t.getRefOwner();return i},isVisible:function(e){return!this.isHidden(e)},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},lookupTpl:function(e){return Ext.XTemplate.getTpl(this,e)},removeCls:function(e){this.el.removeCls(e)},toggleCls:function(e,t){this.element.toggleCls(e,t)},resolveListenerScope:function(e,t){return this.mixins.inheritable.resolveListenerScope.call(this,e,t)},setSize:function(e,t){if(e&&"object"==typeof e)return this.setSize(e.width,e.height);void 0!==e&&this.setWidth(e),void 0!==t&&this.setHeight(t)},show:function(){this.setHidden(!1)},updateBaseCls:function(e,t){var i=this.element;t&&i.removeCls(t),e&&i.addCls(e),this.isConfiguring||this.syncUiCls()},updateCls:function(e,t){this.element.replaceCls(t,e)},updateHidden:function(e){var t=this.renderElement;t&&!t.destroyed&&(e?t.hide():t.show())},applyStyle:function(e,t){return t&&e===t&&Ext.isObject(t)&&(e=Ext.apply({},e)),e},updateStyle:function(e){this.element.applyStyles(e)},updateTouchAction:function(e){var t,i,n,r;for(t in e)i=this[t],n=e[t],i&&i.isElement?i.setTouchAction(n):r=!0;r&&this.el.setTouchAction(e)},updateUi:function(){this.syncUiCls()},updateWidth:function(e){this.element.setWidth(e)},updateHeight:function(e){this.element.setHeight(e)},up:function(e,t){var i=this.getRefOwner(),n="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,s=0;if(e)for(;i;i=i.getRefOwner()){if(s++,e.isComponent||e.isWidget){if(i===e)return i}else if(Ext.ComponentQuery.is(i,e))return i;if(n&&i.is(t))return;if(r&&s===t)return;if(o&&i===t)return}return i},updateLayout:Ext.emptyFn,onFocusEnter:Ext.emptyFn,onFocusLeave:Ext.emptyFn,isAncestor:function(){return!1},privates:{addElementReferenceOnDemand:function(e,t){this._elementListeners[e]?this.addElementReference(e,t):Ext.Object.defineProperty(this,e,{get:function(){return delete this[e],this.addElementReference(e,t)},configurable:!0})},addElementReference:function(e,t){var i,n,t=this[e]=Ext.get(t),r=this._elementListeners[e];if(t.skipGarbageCollection=!0,t.component=this,r){for(i in r=Ext.clone(r))"object"==typeof(n=r[i])&&(n.scope=this);r.scope=this,t.on(r)}return t},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.element),this.isDetached=!0},doAddListener:function(e,t,i,n,r,o,s){var a,l,d,c=n&&n.element,u=n&&n.delegate;if(c){for(d in-1===Ext.Array.indexOf(this.referenceList,c)&&Ext.Logger.error("Adding event listener with an invalid element reference of '"+c+"' for this component. Available values are: '"+this.referenceList.join("', '")+"'",this),(a={})[e]=t,i&&(a.scope=i),l=Ext.Element.prototype.$eventOptions,n)l[d]&&(a[d]=n[d]);this.mon(this[c],a)}else u?this.mixins.componentDelegation.addDelegatedListener.call(this,e,t,i,n,r,o,s):this.callParent([e,t,i,n,r,o,s])},doRemoveListener:function(e,t,i){this.mixins.observable.doRemoveListener.call(this,e,t,i),this.mixins.componentDelegation.removeDelegatedListener.call(this,e,t,i)},filterLengthValue:function(e){return"auto"===e||!e&&0!==e?null:e},getFocusEl:function(){return this.element},initElementListeners:function(e){var t,i,n,r,o=this.self.superclass._elementListeners,s=e.reference,a=e.children,l=this.hasOwnProperty("_elementListeners")?this._elementListeners:this._elementListeners=o?Ext.Object.chain(o):{};if(s&&(t=e.listeners)&&(o&&(i=o[s])&&(t=Ext.Object.chain(i),Ext.apply(t,e.listeners)),l[s]=t,e.listeners=null),a)for(r=0,n=a.length;r<n;r++)this.initElementListeners(a[r])},initId:function(e){var t=this.config,t=e&&e.id||t&&t.id;t?(this.setId(t),this.id=t):this.getId()},processElementConfig:function(){var e,t=this.self.superclass;return this.hasOwnProperty("_elementConfig")?e=this._elementConfig:(e=this._elementConfig=this.getElementConfig(),t.isWidget&&this.processElementConfig.call(t),this.initElementListeners(e)),e},reattachToBody:function(){this.isDetached=!1},addUi:function(e){var t,i,n,r=this.getUi();if(e){for(n=(e=e.split(" ")).length,r=r&&r.split(" ")||[],t=0;t<n;t++)i=e[t],-1===r.indexOf(i)&&r.push(i);this.setUi(r.join(" "))}},removeUi:function(e){var t,i,n,r=this.getUi();if(e){for(n=(e=e.split(" ")).length,r=r&&r.split(" ")||[],t=0;t<n;t++)i=e[t],-1!==(i=r.indexOf(i))&&r.splice(i,1);this.setUi(r.join(" "))}},syncUiCls:function(){var e,t,i,n,r,o=this.getUi(),s=this.currentUiCls,a=this.element,l=this.getBaseCls(),d=this.classClsList,c=[];if(s&&a.removeCls(s),o){for(t=0,i=(o=o.split(" ")).length;t<i;t++)if(e="-"+o[t],l&&l!==this.classCls&&c.push(l+e),d)for(n=0,r=d.length;n<r;n++)c.push(d[n]+e);a.addCls(c),this.currentUiCls=c}},updateUserCls:function(e,t){this.element.replaceCls(t,e)}}},function(e){e=e.prototype;(e.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(e.$eventOptions=Ext.Object.chain(e.$eventOptions)).delegate=1}),Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",uses:["Ext.Component"],$configStrict:!1,isComponent:!0,liquidLayout:!0,rendered:!0,rendering:!0,config:{renderTo:null},constructor:function(e){this.callParent([e]),this.getComponentLayout(),(e=this.getRenderTo())&&this.render(e)},addClsWithUI:function(e){this.el.addCls(e)},afterComponentLayout:Ext.emptyFn,updateLayout:function(){var e=this.getRefOwner();e&&e.updateLayout()},destroy:function(){var e=this.ownerCt;e&&e.remove&&e.remove(this,!1),this.callParent()},finishRender:function(){this.rendering=!1,this.initBindable()},getAnimationProps:function(){return{}},getComponentLayout:function(){var e=this.componentLayout;return e||(e=this.componentLayout=new Ext.layout.component.Auto).setOwner(this),e},getEl:function(){return this.element},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(e,t,i){this.ownerCt=e,this.onInheritedAdd(this,i)},onRemoved:function(e){e||this.removeBindings(),this.onInheritedRemove(e),this.ownerCt=this.ownerLayout=null},parseBox:function(e){return Ext.Element.parseBox(e)},removeClsWithUI:function(e){this.el.removeCls(e)},render:function(e,t){var i,n=this.element,r=Ext.Component.prototype;this.ownerCt&&!this.floating||(Ext.scopeCss&&n.addCls(r.rootCls),n.addCls(r.borderBoxCls)),t&&(i=e.childNodes[t])?Ext.fly(e).insertBefore(n,i):Ext.fly(e).appendChild(n)},setPosition:function(e,t){this.el.setLocalXY(e,t)},up:function(){return Ext.Component.prototype.up.apply(this,arguments)},isAncestor:function(){return Ext.Component.prototype.isAncestor.apply(this,arguments)},onFocusEnter:function(){return Ext.Component.prototype.onFocusEnter.apply(this,arguments)},onFocusLeave:function(){return Ext.Component.prototype.onFocusLeave.apply(this,arguments)},isLayoutChild:function(e){var t=this.ownerCt;return!!t&&(t===e||t.isLayoutChild(e))},privates:{doAddListener:function(e,t,i,n,r,o,s){"painted"!=e&&"resize"!=e||this.element.doAddListener(e,t,i||this,n,r),this.callParent([e,t,i,n,r,o,s])},doRemoveListener:function(e,t,i){"painted"!=e&&"resize"!=e||this.element.doRemoveListener(e,t,i),this.callParent([e,t,i])}}},function(e){e=e.prototype;Ext.isIE9m&&(e.addElementReferenceOnDemand=e.addElementReference)}),Ext.define("Ext.ProgressBase",{mixinId:"progressbase",config:{value:0,textTpl:null},applyTextTpl:function(e){return e.isTemplate||(e=new Ext.XTemplate(e)),e},applyValue:function(e){return e||0}}),Ext.define("Ext.Progress",{extend:"Ext.Gadget",xtype:["progress","progressbarwidget"],alternateClassName:"Ext.ProgressBarWidget",mixins:["Ext.ProgressBase"],config:{text:null,animate:!1},cachedConfig:{baseCls:Ext.baseCSSPrefix+"progress",textCls:Ext.baseCSSPrefix+"progress-text",cls:null},template:[{reference:"backgroundEl"},{reference:"barEl",children:[{reference:"textEl"}]}],defaultBindProperty:"value",updateCls:function(e,t){var i=this.element;t&&i.removeCls(t),e&&i.addCls(e)},updateUi:function(e,t){var i=this.element,n=this.barEl,r=this.getBaseCls()+"-";t&&(i.removeCls(r+t),n.removeCls(r+"bar-"+t)),i.addCls(r+e),n.addCls(r+"bar-"+e)},updateBaseCls:function(e,t){t&&Ext.raise("You cannot configure baseCls - use a subclass"),this.element.addCls(e),this.barEl.addCls(e+"-bar")},updateTextCls:function(e){this.backgroundEl.addCls(e+" "+e+"-back"),this.textEl.addCls(e)},updateValue:function(e,t){var i=this.barEl,n=this.getTextTpl();n&&this.setText(n.apply({value:e,percent:Math.round(100*e)})),this.getAnimate()?(i.stopAnimation(),i.animate(Ext.apply({from:{width:100*t+"%"},to:{width:100*e+"%"}},this.animate))):i.setStyle("width",100*e+"%")},updateText:function(e){this.backgroundEl.setHtml(e),this.textEl.setHtml(e)}}),Ext.define("Ext.overrides.Progress",{override:"Ext.Progress",config:{ui:"default"},updateWidth:function(e,t){this.callParent([e,t]),e-=this.element.getBorderWidth("lr"),this.backgroundEl.setWidth(e),this.textEl.setWidth(e)}}),Ext.define("Ext.util.Format",function(){var c,i;return{requires:["Ext.Error","Ext.Number","Ext.String","Ext.Date"],singleton:!0,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",currencySpacer:"",percentSign:"%",currencyAtEnd:!1,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/gi,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){c=this},nbsp:function(e,t){return((t=!1!==t)?""!==e&&null!=e:e)||(e=""),e},undef:function(e){return void 0!==e?e:""},defaultValue:function(e,t){return void 0!==e&&""!==e?e:t},substr:"b"!="ab".substr(-1)?function(e,t,i){e=String(e);return t<0?e.substr(Math.max(e.length+t,0),i):e.substr(t,i)}:function(e,t,i){return String(e).substr(t,i)},lowercase:function(e){return String(e).toLowerCase()},uppercase:function(e){return String(e).toUpperCase()},usMoney:function(e){return c.currency(e,"$",2)},currency:function(e,t,i,n,r){var o="",s=",0",a=0;for((e=+e)<0&&(e=-e,o="-"),s+=0<(i=Ext.isDefined(i)?i:c.currencyPrecision)?".":"";a<i;a++)s+="0";return e=c.number(e,s),null==r&&(r=c.currencySpacer),!0===(n||c.currencyAtEnd)?Ext.String.format("{0}{1}{2}{3}",o,e,r,t||c.currencySign):Ext.String.format("{0}{1}{2}{3}",o,t||c.currencySign,r,e)},date:function(e,t){return e?(Ext.isDate(e)||(e=new Date(Date.parse(e))),Ext.Date.dateFormat(e,t||Ext.Date.defaultFormat)):""},dateRenderer:function(t){return function(e){return c.date(e,t)}},hex:function(e,t){var i=parseInt(e||0,10).toString(16);if(t)for(t<0&&(t=-t,i.length>t&&(i=i.substring(i.length-t)));i.length<t;)i="0"+i;return i},or:function(e,t){return e||t},pick:function(e,t,i){if(Ext.isNumber(e)){var n=arguments[e+1];if(n)return n}return e?i:t},lessThanElse:function(e,t,i,n,r){var o=Ext.Number.from(e,0),e=Ext.Number.from(t,0),t=!Ext.isDefined(r);return o<e?i:e<o||t?n:r},sign:function(e,t,i,n){return void 0===n&&(n=i),c.lessThanElse(e,0,t,i,n)},stripTags:function(e){return e&&String(e).replace(c.stripTagsRe,"")},stripScripts:function(e){return e&&String(e).replace(c.stripScriptsRe,"")},fileSize:function(e){e=e<1024?1===e?"1 byte":e+" bytes":e<1048576?Math.round(10*e/1024)/10+" KB":e<1073741824?Math.round(10*e/1048576)/10+" MB":Math.round(10*e/1073741824)/10+" GB";return e},math:(i={},function(e,t){return i[t]||(i[t]=Ext.functionFactory("v","return v "+t+";")),i[t](e)}),round:function(e,t){var i=Number(e);return"number"==typeof t?(t=Math.pow(10,t),i=Math.round(e*t)/t):void 0===t&&(i=Math.round(i)),i},number:function(e,t){if(!t)return e;if(isNaN(e))return"";var i,n,r,o,s,a,l,d=c.formatFns[t];return d||(i=t,a=c.thousandSeparator,l=c.decimalSeparator,n=0,s="",a="/i"===t.substr(t.length-2)?(c.I18NFormatCleanRe&&c.lastDecimalSeparator===l||(c.I18NFormatCleanRe=new RegExp("[^\\d\\"+l+"#]","g"),c.lastDecimalSeparator=l),r=-1!==(t=t.substr(0,t.length-2)).indexOf(a),t.replace(c.I18NFormatCleanRe,"").split(l)):(r=-1!==t.indexOf(","),t.replace(c.formatCleanRe,"").split(".")),l=t.replace(c.formatPattern,""),2<a.length?Ext.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:e,formatString:t,msg:"Invalid number format, should have no more than 1 decimal"}):2===a.length&&(n=a[1].length,(o=a[1].match(c.hashRe))&&(s='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+o[0].length+'}$")')),s=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(r?",thousandSeparator,thousands=[],j,n,i":"")+(l?',formatString="'+t+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+n+");",s,";"],r?(n&&(s[s.length]='parts=fnum.split(".");',s[s.length]="fnum=parts[0];"),s[s.length]="if(absVal>=1000) {",s[s.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}",n&&(s[s.length]="fnum += utilFormat.decimalSeparator+parts[1];")):n&&(s[s.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'),s[s.length]='if(neg&&fnum!=="'+(n?"0."+Ext.String.repeat("0",n):"0")+'") { fnum="-"+fnum; }',o&&(s[s.length]='fnum=fnum.replace(trailingZeroes,"");'),s[s.length]="return ",s[s.length]=l?"formatString.replace(formatPattern, fnum);":"fnum;",s[s.length]="};",d=c.formatFns[i]=Ext.functionFactory("Ext",s.join(""))(Ext)),d(e)},numberRenderer:function(t){return function(e){return c.number(e,t)}},percent:function(e,t){return c.number(100*e,t||"0")+c.percentSign},attributes:function(e){if("object"==typeof e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t,'="',"style"===t?Ext.DomHelper.generateStyles(e[t],null,!0):Ext.htmlEncode(e[t]),'" ');e=i.join("")}return e||""},plural:function(e,t,i){return e+" "+(1===e?t:i||t+"s")},nl2br:function(e){return Ext.isEmpty(e)?"":e.replace(c.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(e){if("number"==typeof(e=e||0))return{top:e,right:e,bottom:e,left:e};var t=e.split(" "),e=t.length;return 1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0}},uri:function(e){return encodeURI(e)},uriCmp:function(e){return encodeURIComponent(e)},wordBreakRe:/[\W\s]+/,word:function(e,t,i){i=i?"string"==typeof i?new RegExp(i):i:c.wordBreakRe;return(e||"").split(i)[t||0]||""}}}),Ext.define("Ext.Template",{requires:["Ext.util.Format"],inheritableStatics:{from:function(e,t){return new this((e=Ext.getDom(e)).value||e.innerHTML,t||"")}},useEval:Ext.isGecko,constructor:function(e){var t,i,n=arguments,r=[],o=n.length;if(this.initialConfig={},1===o&&Ext.isArray(e)&&(o=(n=e).length),1<o)for(t=0;t<o;t++)"object"==typeof(i=n[t])?(Ext.apply(this.initialConfig,i),Ext.apply(this,i)):r.push(i);else r.push(e);this.html=r.join("")},isTemplate:!0,disableFormats:!1,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(e){return this.compiled?(this.fn||this.compile(),this.fn(e).join("")):this.evaluate(e)},evaluate:function(o){var s=!this.disableFormats,a=Ext.util.Format,l=this;return this.html.replace(this.tokenRe,function(e,t,i,n,r){return null!=i&&""!==i||(i=t),n&&s?(r=r?[o[i]].concat(Ext.functionFactory("return ["+r+"];")()):[o[i]],"this."===n.substr(0,5)?l[n.substr(5)].apply(l,r):a[n]?a[n].apply(a,r):e):void 0!==o[i]?o[i]:""})},applyOut:function(e,t){return this.compiled?(this.fn||this.compile(),t.push.apply(t,this.fn(e))):t.push(this.apply(e)),t},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(e,t){return this.html=e,this.compiled=!!t,this.fn=null,this},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var e=this,t=e.html.replace(e.compileARe,"\\\\").replace(e.compileBRe,"\\n").replace(e.compileCRe,"\\'").replace(e.tokenRe,e.regexReplaceFn.bind(e));return t=(!0!==this.disableFormats?"var fm=Ext.util.Format;":"")+(e.useEval?"$=":"return")+" function(v){return ['"+t+"'];};",e.fn=e.useEval?e.evalCompiled(t):new Function("Ext",t)(Ext),e.compiled=!0,e},evalCompiled:function($){return eval($),$},regexReplaceFn:function(e,t,i,n,r){if(null==t||""===t?t='"'+i+'"':this.stringFormat&&(t=parseInt(t)+1),n&&!0!==this.disableFormats){if(r=r?","+r:"","this."===n.substr(0,5))n+="(";else{if(!Ext.util.Format[n])return e;n="fm."+n+"("}return"',"+n+"v["+t+"]"+r+"),'"}return"',v["+t+"] == undefined ? '' : v["+t+"],'"},insertFirst:function(e,t,i){return this.doInsert("afterBegin",e,t,i)},insertBefore:function(e,t,i){return this.doInsert("beforeBegin",e,t,i)},insertAfter:function(e,t,i){return this.doInsert("afterEnd",e,t,i)},append:function(e,t,i){return this.doInsert("beforeEnd",e,t,i)},doInsert:function(e,t,i,n){i=Ext.DomHelper.insertHtml(e,Ext.getDom(t),this.apply(i));return n?Ext.get(i):i},overwrite:function(e,t,i){t=Ext.DomHelper.overwrite(Ext.getDom(e),this.apply(t));return i?Ext.get(t):t}},function(i){var n=/\{\d+\}/,r={useFormat:!1,compiled:!0,stringFormat:!0},o={};Ext.String.format=Ext.util.Format.format=function(e){var t;return(o[e]||(o[e]=(t=e,n.test(t)?(t=new i(t,r),function(){return t.apply(arguments)}):function(){return t}))).apply(this,arguments)},Ext.String.formatEncode=function(){return Ext.String.htmlEncode(Ext.String.format.apply(this,arguments))}}),Ext.define("Ext.util.XTemplateParser",{requires:["Ext.String"],constructor:function(e){Ext.apply(this,e)},doTpl:Ext.emptyFn,parse:function(e){var t,i,n,r,o,s,a,l,d,c,u,h=this,f=e.length,g={elseif:"elif"},p=h.topRe,m=h.actionsRe;for(h.level=0,h.stack=i=[],t=0;t<f;t=l){if(p.lastIndex=t,!(r=p.exec(e))){h.doText(e.substring(t,f));break}if(a=r.index,l=p.lastIndex,t<a&&(n=e.substring(t,a),u&&""===Ext.String.trim(n)||h.doText(n)),u=!1,r[1])l=e.indexOf("%}",a+2),h.doEval(e.substring(a+2,l)),l+=2;else if(r[2])l=e.indexOf("]}",a+2),h.doExpr(e.substring(a+2,l)),l+=2;else if(r[3])h.doTag(r[3]);else if(r[4]){for(d=null;null!==(s=m.exec(r[4]));)(n=s[2]||s[3])&&(n=Ext.String.htmlDecode(n),"string"==typeof(s=(d=d||{})[o=g[o=s[1]]||o])?d[o]=[s,n]:s?d[o].push(n):d[o]=n);d?d.if?(h.doIf(d.if,d),i.push({type:"if"})):d.switch?(h.doSwitch(d.switch,d),i.push({type:"switch"}),u=!0):d.case?h.doCase(d.case,d):d.elif?h.doElseIf(d.elif,d):d.for?(++h.level,(c=h.propRe.exec(r[4]))&&(d.propName=c[1]||c[2]),h.doFor(d.for,d),i.push({type:"for",actions:d})):d.foreach?(++h.level,(c=h.propRe.exec(r[4]))&&(d.propName=c[1]||c[2]),h.doForEach(d.foreach,d),i.push({type:"foreach",actions:d})):d.exec&&(h.doExec(d.exec,d),i.push({type:"exec",actions:d})):h.elseRe.test(r[4])?h.doElse():h.defaultRe.test(r[4])?h.doDefault():(h.doTpl(),i.push({type:"tpl"}))}else 5===r[0].length?i.push({type:"tpl"}):(a=i.pop(),h.doEnd(a.type,a.actions),"for"!=a.type&&"foreach"!=a.type||--h.level)}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/}),Ext.define("Ext.util.XTemplateCompiler",{extend:"Ext.util.XTemplateParser",useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:!0,propNameRe:/^[\w\d\$]*$/,compile:function(e){e=this.generate(e);return this.useEval?this.evalTpl(e):new Function("Ext",e)(Ext)},generate:function(e){var t=this,i="var fm=Ext.util.Format,ts=Object.prototype.toString;";return t.maxLevel=0,t.body=["var c0=values, a0="+t.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"],t.definitions?"string"==typeof t.definitions?t.definitions=[t.definitions,i]:t.definitions.push(i):t.definitions=[i],t.switches=[],t.parse(e),t.definitions.push((t.useEval?"$=":"return")+" function ("+t.fnArgs+") {",t.body.join(""),"}"),e=t.definitions.join("\n"),t.definitions.length=t.body.length=t.switches.length=0,delete t.definitions,delete t.body,delete t.switches,e},doText:function(e){var t=this.body;e=e.replace(this.aposRe,"\\'").replace(this.newLineRe,"\\n"),this.useIndex?t.push("out[out.length]='",e,"'\n"):t.push("out.push('",e,"')\n")},doExpr:function(e){var t=this.body;t.push("if ((v="+e+") != null) out"),this.useIndex?t.push("[out.length]=v+''\n"):t.push(".push(v+'')\n")},doTag:function(e){var t=this.parseTag(e);t?this.doExpr(t):this.doText("{"+e+"}")},doElse:function(){this.body.push("} else {\n")},doEval:function(e){this.body.push(e,"\n")},doIf:function(e,t){"."===e?this.body.push("if (values) {\n"):this.propNameRe.test(e)?this.body.push("if (",this.parseTag(e),") {\n"):this.body.push("if (",this.addFn(e),this.callFn,") {\n"),t.exec&&this.doExec(t.exec)},doElseIf:function(e,t){"."===e?this.body.push("else if (values) {\n"):this.propNameRe.test(e)?this.body.push("} else if (",this.parseTag(e),") {\n"):this.body.push("} else if (",this.addFn(e),this.callFn,") {\n"),t.exec&&this.doExec(t.exec)},doSwitch:function(e){var t;"."===e||"#"===e?(t="."===e?"values":"xindex",this.body.push("switch (",t,") {\n")):this.propNameRe.test(e)?this.body.push("switch (",this.parseTag(e),") {\n"):this.body.push("switch (",this.addFn(e),this.callFn,") {\n"),this.switches.push(0)},doCase:function(e){var t,i,n=Ext.isArray(e)?e:[e],r=this.switches.length-1;for(this.switches[r]?this.body.push("break;\n"):this.switches[r]++,i=0,r=n.length;i<r;++i)t=this.intRe.exec(n[i]),n[i]=t?t[1]:"'"+n[i].replace(this.aposRe,"\\'")+"'";this.body.push("case ",n.join(": case "),":\n")},doDefault:function(){var e=this.switches.length-1;this.switches[e]?this.body.push("break;\n"):this.switches[e]++,this.body.push("default:\n")},doEnd:function(e,t){var i=this.level-1;"for"==e||"foreach"==e?(t.exec&&this.doExec(t.exec),this.body.push("}\n"),this.body.push("parent=p",i,";values=r",1+i,";xcount=n"+i+";xindex=i",i,"+1;xkey=k",i,";\n")):"if"!=e&&"switch"!=e||this.body.push("}\n")},doFor:function(e,t){var i=this,n=i.level,r=n-1,o="."===e?"values":i.propNameRe.test(e)?i.parseTag(e):i.addFn(e)+i.callFn;i.maxLevel<n&&(i.maxLevel=n,i.body.push("var ")),r="."==e?"c"+n:"a"+r+"?c"+r+"[i"+r+"]:c"+r,i.body.push("i",n,"=0,n",n,"=0,c",n,"=",o,",a",n,"=",i.createArrayTest(n),",r",n,"=values,p",n,",k",n,";\n","p",n,"=parent=",r,"\n","if (c",n,"){if(a",n,"){n",n,"=c",n,".length;}else if (c",n,".isMixedCollection){c",n,"=c",n,".items;n",n,"=c",n,".length;}else if(c",n,".isStore){c",n,"=c",n,".data.items;n",n,"=c",n,".length;}else{c",n,"=[c",n,"];n",n,"=1;}}\n","for (xcount=n",n,";i",n,"<n"+n+";++i",n,"){\n","values=c",n,"[i",n,"]"),t.propName&&i.body.push(".",t.propName),i.body.push("\n","xindex=i",n,"+1\n"),t.between&&i.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},doForEach:function(e,t){var i=this,n=i.level,r=n-1,o="."===e?"values":i.propNameRe.test(e)?i.parseTag(e):i.addFn(e)+i.callFn;i.maxLevel<n&&(i.maxLevel=n,i.body.push("var ")),r="."==e?"c"+n:"a"+r+"?c"+r+"[i"+r+"]:c"+r,i.body.push("i",n,"=-1,n",n,"=0,c",n,"=",o,",a",n,"=",i.createArrayTest(n),",r",n,"=values,p",n,",k",n,";\n","p",n,"=parent=",r,"\n","for(k",n," in c",n,"){\n","xindex=++i",n,"+1;\n","xkey=k",n,";\n","values=c",n,"[k",n,"];"),t.propName&&i.body.push(".",t.propName),t.between&&i.body.push('if(xindex>1){ out.push("',t.between,'"); } \n')},createArrayTest:"isArray"in Array?function(e){return"Array.isArray(c"+e+")"}:function(e){return"ts.call(c"+e+')==="[object Array]"'},doExec:function(e,t){var i="f"+this.definitions.length,n=this.guards[this.strict?0:1];this.definitions.push("function "+i+"("+this.fnArgs+") {",n.doTry," var $v = values; with($v) {","  "+e," }",n.doCatch,"}"),this.body.push(i+this.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:' } catch(e) {\nExt.log.warn("XTemplate evaluation exception: " + e.message);\n}'}],addFn:function(e){var t="f"+this.definitions.length,i=this.guards[this.strict?0:1];return"."===e?this.definitions.push("function "+t+"("+this.fnArgs+") {"," return values","}"):".."===e?this.definitions.push("function "+t+"("+this.fnArgs+") {"," return parent","}"):this.definitions.push("function "+t+"("+this.fnArgs+") {",i.doTry," var $v = values; with($v) {","  return("+e+")"," }",i.doCatch,"}"),t},parseTag:function(e){var t,i,n=this.tagRe.exec(e);return n?(i=n[1],t=n[2],e=n[3],n=n[4],i="."==i?(this.validTypes||(this.definitions.push("var validTypes={string:1,number:1,boolean:1};"),this.validTypes=!0),'validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'):"#"==i?"xindex":"$"==i?"xkey":"parent."==i.substr(0,7)?i:isNaN(i)&&-1==i.indexOf("-")&&-1!=i.indexOf(".")?"values."+i:"values['"+i+"']",n&&(i="("+i+n+")"),t&&this.useFormat?(e=e?","+e:"","this."!=t.substr(0,5)?t="fm."+t+"(":t+="(",t+i+e+")"):i):null},evalTpl:function($){return eval($),$},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var e=this.prototype;e.fnArgs="out,values,parent,xindex,xcount,xkey",e.callFn=".call(this,"+e.fnArgs+")"}),Ext.define("Ext.XTemplate",{extend:"Ext.Template",requires:["Ext.util.XTemplateCompiler"],isXTemplate:!0,emptyObj:{},fn:null,strict:!1,apply:function(e,t,i,n){return this.applyOut(e,[],t,i,n).join("")},applyOut:function(e,t,i,n,r){var o,s=this;if(s.fn||(o=new Ext.util.XTemplateCompiler({useFormat:!0!==s.disableFormats,definitions:s.definitions,strict:s.strict}),s.fn=o.compile(s.html)),n=n||1,r=r||1,s.strict)s.fn(t,e,i||s.emptyObj,n,r);else try{s.fn(t,e,i||s.emptyObj,n,r)}catch(e){Ext.log.warn("XTemplate evaluation exception: "+e.message)}return t},compile:function(){return this},statics:{getTpl:function(e,t){var i,n=e[t];if(n&&!n.isTemplate){if(n=Ext.ClassManager.dynInstantiate("Ext.XTemplate",n),e.hasOwnProperty(t))i=e;else for(i=e.self.prototype;i&&!i.hasOwnProperty(t);i=i.superclass);(i[t]=n).owner=i}return n||null}}}),Ext.define("Ext.app.EventDomain",{requires:["Ext.util.Event"],statics:{instances:{}},isEventDomain:!0,isInstance:!1,constructor:function(){this.isInstance||(Ext.app.EventDomain.instances[this.type]=this),this.bus={},this.monitoredClasses=[]},dispatch:function(e,t,i){t=Ext.canonicalEventName(t);var n,r,o,s,a,l,d,c,u=this.bus[t];if(!u)return!0;for(n in u)if(u.hasOwnProperty(n)&&this.match(e,n,this.controller))for(o in r=u[n])if(r.hasOwnProperty(o)&&(s=r[o]).controller.isActive())for(l=(a=s.list).length,d=0;d<l;d++)if(!1===(c=a[d]).fire.apply(c,i))return!1;return!0},listen:function(e,t){var i,n,r,o,s,a,l,d,c,u=this.bus,h=this.idProperty,f=this.monitoredClasses,g=f.length,p=t.getId(),m="component"===this.type,x=m?t.getRefMap():null;for(n in e)if(l=e[n],m&&(n=x[n]||n),l)for(d in h&&(/^[*#]/.test(n)||Ext.raise("Selectors containing id should begin with #"),n="*"===n?n:n.substring(1)),l){for(r=null,o=l[d],s=t,d=Ext.canonicalEventName(d),a=new Ext.util.Event(t,d),Ext.isObject(o)&&(o=(r=o).fn,s=r.scope||t,delete r.fn,delete r.scope),r&&r.scope||"string"!=typeof o?"string"==typeof o&&(o=s[o]):(s[o]||Ext.raise('Cannot resolve "'+o+'" on controller.'),s=null),a.addListener(o,s,r),i=0;i<g;++i)(c=f[i].hasListeners)&&c._incr_(d);((r=(r=u[d]||(u[d]={}))[n]||(r[n]={}))[p]||(r[p]={controller:t,list:[]})).list.push(a)}},match:function(e,t){var i=this.idProperty;return!!i&&("*"===t||e[i]===t)},monitor:function(e){var n=this,t=e.isInstance?e:e.prototype,r=t.doFireEvent;n.monitoredClasses.push(e),t.doFireEvent=function(e,t){var i=r.apply(this,arguments);return!1===i||this.destroyed||this.isSuspended(e)||(i=n.dispatch(this,e,t)),i}},unlisten:function(e){var t,i,n,r,o,s,a,l,d,c,u,h=this.bus,f=e,g=this.monitoredClasses,p=g.length;for(i in e.isController&&(f=e.getId()),h)if(i=Ext.canonicalEventName(i),h.hasOwnProperty(i)&&(a=h[i]))for(s in a)if(t=a[s],c=t[f],c&&(n=c.list)){for(l=0,r=n.length;l<r;++l)for((o=n[l]).clearListeners(),d=0;d<p;++d)(u=g[d].hasListeners)&&u._decr_(o.name);delete t[f]}},destroy:function(){this.monitoredClasses=this.bus=null,this.callParent()}}),Ext.define("Ext.app.domain.Component",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.Widget"],type:"component",constructor:function(){this.callParent(),this.monitor(Ext.Widget)},dispatch:function(e,t,i){for(var n,r=e.lookupController(!1);r;){if(n=r.compDomain,n&&!1===n.dispatch(e,t,i))return!1;r=(n=r.getView())?n.lookupController(!0):null}return this.callParent(arguments)},match:function(e,t){return e.is(t)}}),Ext.define("Ext.util.ProtoElement",function(){var d=Ext.String.splitWords,c=Ext.Array.toMap;return{isProtoEl:!0,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:!1,constructor:function(e){var t,i,n=this;e&&(Ext.apply(n,e),t=n.cls,i=n.style,delete n.cls),n.classList=t?d(t):[],n.classMap=t?c(n.classList):{},i&&("string"==typeof i?n.style=Ext.Element.parseStyles(i):Ext.isFunction(i)?(n.styleFn=i,delete n.style):n.style=Ext.apply({},i))},flush:function(){this.flushClassList=[],this.removedClasses={},delete this.style,delete this.unselectableAttr},addCls:function(e){if(!e)return this;for(var t,i="string"==typeof e?d(e):e,n=i.length,r=this.classList,o=this.classMap,s=this.flushClassList,a=0;a<n;++a)o[t=i[a]]||(o[t]=!0,r.push(t),s&&(s.push(t),delete this.removedClasses[t]));return this},hasCls:function(e){return e in this.classMap},removeCls:function(e){for(var t,i=this.classList,n=this.classList=[],r=c(d(e)),o=i.length,s=this.classMap,a=this.removedClasses,l=0;l<o;++l)r[t=i[l]]?(a&&s[t]&&(a[t]=!0,Ext.Array.remove(this.flushClassList,t)),delete s[t]):n.push(t);return this},setStyle:function(e,t){var i=this.style||(this.style={});return"string"==typeof e?1===arguments.length?this.setStyle(Ext.Element.parseStyles(e)):i[e]=t:Ext.apply(i,e),this},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls),Ext.isOpera&&(this.unselectableAttr=!0)},writeTo:function(e){var t,i=this,n=i.flushClassList||i.classList,r=i.removedClasses;return i.styleFn?(t=Ext.apply({},i.styleFn()),Ext.apply(t,i.style)):t=i.style,e[i.clsProp]=n.join(" "),t&&(e[i.styleProp]=i.styleIsText?Ext.DomHelper.generateStyles(t,null,!0):t),r&&(r=Ext.Object.getKeys(r)).length&&(e[i.removedProp]=r.join(" ")),i.unselectableAttr&&(e.unselectable="on"),e}}}),Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:"Ext.dom.CompositeElementLite",isLite:!1,getElement:function(e){return e},transformElement:function(e){return Ext.get(e)}}),Ext.define("Ext.util.CSS",function(){function s(e,t){return t.charAt(1).toUpperCase()}var a,l=null,r=document,d=/(-[a-z])/gi;return{singleton:!0,rules:l,initialized:!1,constructor:function(){a=this},createStyleSheet:function(e,t){var i=r.getElementsByTagName("head")[0],n=r.createElement("style");return n.setAttribute("type","text/css"),t&&n.setAttribute("id",t),(t=n.styleSheet)?(i.appendChild(n),t.cssText=e):(n.appendChild(r.createTextNode(e)),i.appendChild(n),t=n.sheet),a.cacheStyleSheet(t),t},removeStyleSheet:function(e){e="string"==typeof e?r.getElementById(e):e.ownerNode;e&&e.parentNode.removeChild(e)},swapStyleSheet:function(e,t){var i;a.removeStyleSheet(e),(i=r.createElement("link")).setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("id",e),i.setAttribute("href",t),r.getElementsByTagName("head")[0].appendChild(i)},cacheStyleSheet:function(e){l=l||(a.rules={});try{for(var t,i=e.cssRules||e.rules,n=i.length-1,r=e.imports,o=r?r.length:0,s=0;s<o;++s)a.cacheStyleSheet(r[s]);for(;0<=n;--n)(t=i[n]).styleSheet&&a.cacheStyleSheet(t.styleSheet),a.cacheRule(t,e)}catch(e){}},cacheRule:function(e,t){if(e.styleSheet)return a.cacheStyleSheet(e.styleSheet);var i,n,r=e.selectorText;if(r)for(i=(r=r.split(",")).length,n=0;n<i;n++)l[Ext.String.trim(r[n]).toLowerCase()]={parentStyleSheet:t,cssRule:e}},getRules:function(e){var t,i={};for(t in null!==l&&!e||a.refreshCache(),l)i[t]=l[t].cssRule;return i},refreshCache:function(){var e=r.styleSheets,t=0,i=e.length;for(l=a.rules={};t<i;t++)try{e[t].disabled||a.cacheStyleSheet(e[t])}catch(e){}},getRule:function(e,t,i){var n;if(l&&!t||a.refreshCache(),!Ext.isArray(e))return(t=l[e.toLowerCase()])&&!i&&(t=t.cssRule),t||null;for(n=0;n<e.length;n++)if(l[e[n]])return i?l[e[n].toLowerCase()]:l[e[n].toLowerCase()].cssRule;return null},createRule:function(e,t,i){var n=e.cssRules||e.rules,r=n.length;return e.insertRule?e.insertRule(t+" {"+i+"}",r):e.addRule(t,i||" "),a.cacheRule(r=n[r],e),r},updateRule:function(e,t,i){var n,r,o;if(Ext.isArray(e)){for(r=0;r<e.length;r++)if(a.updateRule(e[r],t,i))return!0}else if(n=a.getRule(e)){if(2===arguments.length)for(t in o=Ext.Element.parseStyles(t))n.style[t.replace(d,s)]=o[t];else n.style[t.replace(d,s)]=i;return!0}return!1},deleteRule:function(e){var t,i=a.getRule(e,!1,!0);i&&(t=i.parentStyleSheet,i=Ext.Array.indexOf(t.cssRules||t.rules,i.cssRule),t.deleteRule?t.deleteRule(i):t.removeRule(i),delete l[e])}}}),Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:!0,isEnded:!1,constructor:function(e){return this.initConfig(e),this},applyStartTime:function(e){return e=e||Ext.Date.now()},updateStartTime:function(e){this.reset()},reset:function(){this.isEnded=!1},getValue:Ext.emptyFn}),Ext.define("Ext.fx.easing.Linear",{extend:"Ext.fx.easing.Abstract",alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(e){this.distance=this.getEndValue()-e},updateEndValue:function(e){this.distance=e-this.getStartValue()},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration();return t<e?(this.isEnded=!0,this.getEndValue()):this.getStartValue()+e/t*this.distance}}),Ext.define("Ext.util.translatable.Abstract",{extend:"Ext.Evented",requires:["Ext.fx.easing.Linear"],config:{useWrapper:null,easing:null,easingX:{duration:300},easingY:{duration:300}},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:!1,isTranslatable:!0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.position={x:0,y:0}},factoryEasing:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(e){this.getEasingX()||this.setEasingX(this.factoryEasing(e)),this.getEasingY()||this.setEasingY(this.factoryEasing(e))},applyEasingX:function(e){return this.factoryEasing(e)},applyEasingY:function(e){return this.factoryEasing(e)},doTranslate:function(e,t){this.hasListeners.translate&&this.fireEvent("translate",this,e,t)},translate:function(e,t,i){if(i)return this.translateAnimated(e,t,i);this.isAnimating&&this.stopAnimation(),isNaN(e)||"number"!=typeof e||(this.x=e),isNaN(t)||"number"!=typeof t||(this.y=t),this.doTranslate(e,t)},translateAxis:function(e,t,i){var n,r;return"x"==e?n=t:r=t,this.translate(n,r,i)},getPosition:function(){var e=this.position;return e.x=-this.x,e.y=-this.y,e},animate:function(e,t){return this.activeEasingX=e,this.activeEasingY=t,this.isAnimating=!0,this.lastX=null,this.lastY=null,Ext.AnimationQueue.start(this.doAnimationFrame,this),this.fireEvent("animationstart",this,this.x,this.y),this},translateAnimated:function(e,t,i){var n=this;Ext.isObject(i)||(i={}),n.isAnimating&&n.stopAnimation(),n.callback=i.callback,n.callbackScope=i.scope;var r=Ext.Date.now(),o=i.easing,s="number"==typeof e?i.easingX||o||n.getEasingX()||!0:null,o="number"==typeof t?i.easingY||o||n.getEasingY()||!0:null;return s&&((s=n.factoryEasing(s)).setStartTime(r),s.setStartValue(n.x),s.setEndValue(e),"duration"in i&&s.setDuration(i.duration)),o&&((o=n.factoryEasing(o)).setStartTime(r),o.setStartValue(n.y),o.setEndValue(t),"duration"in i&&o.setDuration(i.duration)),n.animate(s,o)},doAnimationFrame:function(){var e,t,i=this,n=i.activeEasingX,r=i.activeEasingY,o=Date.now();i.isAnimating&&(i.lastRun=o,null!==n||null!==r?(null!==n?(i.x=e=Math.round(n.getValue()),n.isEnded&&(i.activeEasingX=null,i.fireEvent("axisanimationend",i,"x",e))):e=i.x,null!==r?(i.y=t=Math.round(r.getValue()),r.isEnded&&(i.activeEasingY=null,i.fireEvent("axisanimationend",i,"y",t))):t=i.y,i.lastX===e&&i.lastY===t||(i.doTranslate(e,t),i.lastX=e,i.lastY=t),i.fireEvent("animationframe",i,e,t)):i.stopAnimation())},stopAnimation:function(){var e=this;e.isAnimating&&(e.activeEasingX=null,e.activeEasingY=null,e.isAnimating=!1,Ext.AnimationQueue.stop(e.doAnimationFrame,e),e.destroying||(e.fireEvent("animationend",e,e.x,e.y),e.callback&&(e.callback.call(e.callbackScope),e.callback=null)))},refresh:function(){this.translate(this.x,this.y)},destroy:function(){this.destroying=!0,this.isAnimating&&this.stopAnimation(),this.callParent(),this.destroying=!1,this.destroyed=!0}}),Ext.define("Ext.util.translatable.Dom",{extend:"Ext.util.translatable.Abstract",config:{element:null},applyElement:function(e){if(e)return Ext.get(e)},updateElement:function(){this.refresh()}}),Ext.define("Ext.util.translatable.ScrollPosition",{extend:"Ext.util.translatable.Dom",type:"scrollposition",constructor:function(e){e&&e.element&&(this.x=e.element.getScrollLeft(),this.y=e.element.getScrollTop()),this.callParent([e])},translateAnimated:function(){var e=this.getElement();this.x=e.getScrollLeft(),this.y=e.getScrollTop(),this.callParent(arguments)},doTranslate:function(e,t){var i=this.getElement();i.setScrollLeft(Math.round(e)),i.setScrollTop(Math.round(t))},getPosition:function(){var e=this.position,t=this.getElement();return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),Ext.define("Ext.scroll.Scroller",{extend:"Ext.Evented",alias:"scroller.scroller",mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.CSS","Ext.util.translatable.ScrollPosition"],factoryConfig:{defaultType:"scroller"},isScroller:!0,config:{direction:void 0,element:void 0,scrollbars:null,snapSelector:null,snapOffset:null,msSnapInterval:null,x:!0,y:!0,scrollElement:null,size:null,spacerXY:null},snappableCls:Ext.baseCSSPrefix+"scroller-snappable",elementCls:Ext.baseCSSPrefix+"scroller",spacerCls:Ext.baseCSSPrefix+"scroller-spacer",noScrollbarsCls:Ext.baseCSSPrefix+"no-scrollbars",statics:{create:function(e,t){return Ext.Factory.scroller(e,t)},getScrollingElement:function(){var e,t=document,i=this.$standardScrollElement,n=t.scrollingElement;return n||(void 0===i&&((e=document.createElement("iframe")).style.height="1px",document.body.appendChild(e),(n=e.contentWindow.document).write('<!DOCTYPE html><div style="height:9999em">x</div>'),n.close(),i=n.documentElement.scrollHeight>n.body.scrollHeight,e.parentNode.removeChild(e),this.$standardScrollElement=i),i?t.documentElement:t.body)}},constructor:function(e){this.position={x:0,y:0},this.callParent([e]),this.onDomScrollEnd=Ext.Function.createBuffered(this.onDomScrollEnd,100,this)},destroy:function(){var e=this;e.setX(Ext.emptyString),e.setY(Ext.emptyString),e.setElement(null),e.setScrollElement(null),e.onDomScrollEnd=e._partners=e.component=null,e._translatable&&(e._translatable.destroy(),e._translatable=null),e.removeSnapStylesheet(),e.callParent()},addPartner:function(e,t){var i=this._partners||(this._partners={}),n=e._partners||(e._partners={});i[e.getId()]={scroller:e,axis:t},n[this.getId()]={scroller:this,axis:t}},applyElement:function(e,t){var i,n;if(t&&this.scrollListener.destroy(),e)return e.isElement?i=e:(i=Ext.get(e))||"string"!=typeof e||Ext.raise("Cannot create Ext.scroll.Scroller instance. Element with id '"+e+"' not found."),e=i.dom===document.documentElement||i.dom===document.body?(n=Ext.getWin(),Ext.scroll.Scroller.getScrollingElement()):n=i,this.setScrollElement(Ext.get(e)),this.scrollListener=n.on({scroll:this.onDomScroll,scope:this,destroyable:!0}),i},applySize:function(e,t){var i,n;return null===e||"number"==typeof e?i=n=e:e&&(i=e.x,n=e.y),null===i?i=0:void 0===i&&(i=t?t.x:0),null===n?n=0:void 0===n&&(n=t?t.y:0),{x:i,y:n}},getClientSize:function(){var e=this.getElement().dom;return{x:e.clientWidth,y:e.clientHeight}},getScrollbarSize:function(){var e,t,i,n,r,o=0,s=0,a=this.getElement();return a&&!a.destroyed&&(e=this.getX(),t=this.getY(),a=a.dom,(e||t)&&(r=Ext.getScrollbarSize()),"scroll"===e?i=!0:e&&(i=a.scrollWidth>a.clientWidth),"scroll"===t?n=!0:t&&(n=a.scrollHeight>a.clientHeight),i&&(s=r.height),n&&(o=r.width)),{width:o,height:s}},getPosition:function(){return this.positionDirty&&this.updateDomScrollPosition(),this.position},getSize:function(){var e=this.getElement(),t=e&&!e.destroyed?{x:(t=e.dom).scrollWidth,y:t.scrollHeight}:{x:0,y:0};return t},getMaxPosition:function(){var e=this.getElement(),t=0,i=0;return e&&!e.destroyed&&(t=(e=e.dom).scrollWidth-e.clientWidth,i=e.scrollHeight-e.clientHeight),{x:t,y:i}},getMaxUserPosition:function(){var e=this.getElement(),t=0,i=0;return e&&!e.destroyed&&(e=e.dom,this.getX()&&(t=e.scrollWidth-e.clientWidth),this.getY()&&(i=e.scrollHeight-e.clientHeight)),{x:t,y:i}},refresh:function(){return this.positionDirty=!0,this.fireEvent("refresh",this),this},removePartner:function(e){var t=this._partners,i=e._partners;t&&delete t[e.getId()],i&&delete i[this.getId()]},scrollBy:function(e,t,i){var n=this.getPosition();return e&&(e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x)),e="number"==typeof e?e+n.x:null,t="number"==typeof t?t+n.y:null,this.doScrollTo(e,t,i)},scrollIntoView:function(e,t,i,n){var r=this.getPosition(),o=this.getElement();e&&(o=Ext.fly(e).getScrollIntoViewXY(o,r.x,r.y),t=(!1===t?r:o).x,(o=o.y)!==r.y||t!==r.x?(n&&this.on({scrollend:"doHighlight",scope:this,single:!0,args:[e,n]}),this.doScrollTo(t,o,i)):n&&this.doHighlight(e,n))},isInView:function(e){return this.doIsInView(e)},scrollTo:function(e,t,i){var n;e&&(e.length?(i=t,t=e[1],e=e[0]):"number"!=typeof e&&(i=t,t=e.y,e=e.x)),(e<0||t<0)&&(n=this.getMaxPosition(),e<0&&(e+=n.x),t<0&&(t+=n.y)),this.doScrollTo(e,t,i)},updateDirection:function(e){var t,i;e?("auto"===e?i=t=!0:"vertical"===e?i=!(t=!1):"horizontal"===e?i=!(t=!0):"both"===e&&(i=t="scroll"),this.setX(t),this.setY(i)):(t=this.getX(),i=this.getY(),t&&i?e="scroll"===i&&"scroll"===t?"both":"auto":i?e="vertical":t&&(e="horizontal"),this._direction=e)},updateScrollbars:function(e,t){this.syncScrollbarCls()},updateSize:function(e){var t=this.getElement(),i=e.x,e=e.y;t&&(this.positionDirty=!0,t=this.getSpacer(),i||e?(0<i&&--i,0<e&&--e,this.setSpacerXY({x:i,y:e}),t.show()):t.hide())},updateMsSnapInterval:function(){this.initMsSnapInterval()},updateSnapSelector:function(){this.initSnap()},updateSnapOffset:function(){this.initSnap()},updateElement:function(e){this.initXStyle(),this.initYStyle(),e.addCls(this.elementCls),this.initSnap(),this.initMsSnapInterval(),this.syncScrollbarCls()},updateX:function(e){this.initXStyle()},updateY:function(e){this.initYStyle()},deprecated:{5:{methods:{getScroller:function(){return this}}},"5.1.0":{methods:{scrollToTop:function(e){return this.scrollTo(0,0,e)},scrollToEnd:function(e){return this.scrollTo(1/0,1/0,e)}}}},privates:{getSpacer:function(){var e,t=this._spacer;return t||(e=this.getElement(),(t=this._spacer=e.createChild({cls:this.spacerCls,role:"presentation"},e.dom.firstChild)).setVisibilityMode(2),t.hide(),e.position()),t},applySpacerXY:function(e,t){return t&&e.x===t.x&&e.y===t.y&&(e=void 0),e},updateSpacerXY:function(e){var t=this.getSpacer().dom.style,i=e.y;t.marginTop="",this.translateSpacer(e.x,this.constrainScrollRange(i)),t.lineHeight=Number(!parseInt(t.lineHeight,10))+"px",0<(i=i-this.getElement().dom.scrollHeight)&&(t.marginTop=Math.min(i,this.maxSpacerMargin||0)+"px")},translateSpacer:function(e,t){this.getSpacer().translate(e,t)},doIsInView:function(e,t){var i=this.component,n={x:!1,y:!1},r=this.getElement();return e&&(t||r.contains(e)||i&&i.owns(e))&&(r=r.getRegion(),e=Ext.fly(e).getRegion(),n.x=e.right>r.left&&e.left<r.right,n.y=e.bottom>r.top&&e.top<r.bottom),n},constrainScrollRange:function(e){if(e<1e6)return e;if(!this.maxSpacerTranslate){var t=Math.pow(2,32),i=t,n=500,r=Ext.getBody().createChild({style:{position:"absolute",left:"-10000px",top:"0",width:"500px",height:"500px"},cn:{cls:this.spacerCls}},null,!0),o=Ext.get(r.firstChild),s=o.dom.style;for(o.translate(0,t-1),s.lineHeight=Number(!parseInt(s.lineHeight,10))+"px";i!==n+1;)o.translate(0,t=n+Math.floor((i-n)/2)),s.lineHeight=Number(!parseInt(s.lineHeight,10))+"px",r.scrollHeight<t?i=t:n=t;for(o.translate(0,Ext.scroll.Scroller.prototype.maxSpacerTranslate=n),i=2*n;i!==n+1;)o.dom.style.marginTop=(t=n+Math.floor((i-n)/2))+"px",s.lineHeight=Number(!parseInt(s.lineHeight,10))+"px",r.scrollHeight<t?i=t:n=t;Ext.fly(r).destroy(),Ext.scroll.Scroller.prototype.maxSpacerMargin=n-Ext.scroll.Scroller.prototype.maxSpacerTranslate}return Math.min(e,this.maxSpacerTranslate)},convertX:function(e){return e},doHighlight:function(e,t){!0!==t?Ext.fly(e).highlight(t):Ext.fly(e).highlight()},doScrollTo:function(e,t,i){var n,r,o,s,a=this.getScrollElement();a&&!a.destroyed&&(r=a.dom,s=t===1/0,((o=e===1/0)||s)&&(n=this.getMaxPosition(),o&&(e=n.x),s&&(t=n.y)),e=this.convertX(e),i?(this._translatable||(this._translatable=new Ext.util.translatable.ScrollPosition({element:a})),this._translatable.translate(e,t,i)):(null!=t&&(r.scrollTop=t),null!=e&&(r.scrollLeft=e,Ext.isIE8&&(r.scrollLeft,r.scrollLeft=e))),this.positionDirty=!0)},fireScrollStart:function(e,t){var i=this.component;this.invokePartners("onPartnerScrollStart",e,t),this.hasListeners.scrollstart&&this.fireEvent("scrollstart",this,e,t),i&&i.onScrollStart&&i.onScrollStart(e,t),Ext.GlobalEvents.fireEvent("scrollstart",this,e,t)},fireScroll:function(e,t){var i=this.component;this.invokePartners("onPartnerScroll",e,t),this.hasListeners.scroll&&this.fireEvent("scroll",this,e,t),i&&i.onScrollMove&&i.onScrollMove(e,t),Ext.GlobalEvents.fireEvent("scroll",this,e,t)},fireScrollEnd:function(e,t){var i=this.component;this.invokePartners("onPartnerScrollEnd",e,t),this.hasListeners.scrollend&&this.fireEvent("scrollend",this,e,t),i&&i.onScrollEnd&&i.onScrollEnd(e,t),Ext.GlobalEvents.fireEvent("scrollend",this,e,t)},getElementScroll:function(e){return e.getScroll()},initSnap:function(){var e,t,i=this.getSnapOffset(),n=this.getSnapSelector(),r=this.getElement();r&&n&&(r.addCls(this.snappableCls),this.removeSnapStylesheet(),i&&(e=(e=i.x||0)&&-e+"px",t=(t=i.y||0)&&-t+"px"),t=e+" "+t+";",this.snapStylesheet=Ext.util.CSS.createStyleSheet("#"+r.id+" "+n+"{-webkit-scroll-snap-coordinate:"+t+"scroll-snap-coordinate:"+t+"}"))},initMsSnapInterval:function(){var e,t,i=this.getElement();i&&(t=this.getMsSnapInterval())&&(e=t.x,t=t.y,i=i.dom.style,e&&(i["-ms-scroll-snap-points-x"]="snapInterval(0px, "+e+"px)"),t&&(i["-ms-scroll-snap-points-y"]="snapInterval(0px, "+t+"px)"))},initXStyle:function(){var e=this.getElement(),t=this.getX();e&&e.dom&&(t?!0===t&&(t="auto"):t="hidden",e.setStyle("overflow-x",t))},initYStyle:function(){var e=this.getElement(),t=this.getY();e&&e.dom&&(t?!0===t&&(t="auto"):t="hidden",e.setStyle("overflow-y",t))},invokePartners:function(e,t,i){var n,r,o=this._partners,s="onPartnerScrollEnd"===e;if(!this.suspendSync&!this.isReflecting)for(r in o)(n=o[r].scroller).isReflecting=!0,n[e](this,t,i),s&&(n.isReflecting=!1)},clearReflecting:function(){this.isReflecting=!1},suspendPartnerSync:function(){this.suspendSync=(this.suspendSync||0)+1},resumePartnerSync:function(e){this.suspendSync&&this.suspendSync--,!this.suspendSync&&e&&(e=this.getPosition(),this.invokePartners("onPartnerScroll",e.x,e.y),this.invokePartners("onPartnerScrollEnd",e.x,e.y))},updateDomScrollPosition:function(){var e=this.getScrollElement(),t=this.position;return e&&!e.destroyed&&(e=this.getElementScroll(e),t.x=e.left,t.y=e.top),this.positionDirty=!1,t},syncWithPartners:function(){var e,t,i,n=this._partners;for(e in this.isReflecting=!0,n)i=(t=n[e].scroller).getPosition(),this.onPartnerScroll(t,i.x,i.y);this.isReflecting=!1},syncScrollbarCls:function(){var e=this.getElement();e&&e.toggleCls(this.noScrollbarsCls,!1===this.getScrollbars())},onDomScroll:function(){var e,t=this.updateDomScrollPosition();this.restoring||(e=t.x,t=t.y,this.isScrolling||(this.isScrolling=Ext.isScrolling=!0,this.fireScrollStart(e,t)),this.fireScroll(e,t),this.onDomScrollEnd())},onDomScrollEnd:function(){var e,t;this.destroying||this.destroyed||(e=(t=this.getPosition()).x,t=t.y,this.isScrolling=Ext.isScrolling=!1,this.trackingScrollLeft=e,this.trackingScrollTop=t,this.fireScrollEnd(e,t))},onPartnerScroll:function(e,t,i){e=e._partners[this.getId()].axis;e&&("x"===e?i=null:"y"===e&&(t=null)),this.doScrollTo(t,i,!1,!0)},onPartnerScrollStart:Ext.privateFn,onPartnerScrollEnd:Ext.privateFn,removeSnapStylesheet:function(){var e=this.snapStylesheet;e&&(Ext.util.CSS.removeStyleSheet(e),this.snapStylesheet=null)},restoreState:function(){var e=this;e.getScrollElement()&&void 0!==e.trackingScrollTop&&(e.restoring=!0,Ext.defer(function(){e.restoring=!1},50),e.doScrollTo(e.trackingScrollLeft,e.trackingScrollTop,!1))}}},function(t){Ext.getViewportScroller=function(){return t.viewport||(t.viewport=new t)},Ext.setViewportScroller=function(e){t.viewport!==e&&(Ext.destroy(t.viewport),t.viewport=e.isScroller?e:new t(e))},Ext.onReady(function(){Ext.defer(function(){var e=Ext.getViewportScroller();e.getElement()||e.setElement(Ext.getBody())},100)})}),Ext.define("Ext.rtl.scroll.Scroller",{override:"Ext.scroll.Scroller",config:{rtl:null},updateRtl:Ext.emptyFn,privates:{convertX:function(e){var t;return this.getRtl()&&(t=this.getElement())&&(e=t.rtlNormalizeScrollLeft(e)),e},getElementScroll:function(e){return this.getRtl()?e.rtlGetScroll():e.getScroll()},translateSpacer:function(e,t){this.getRtl()?(this.getSpacer().dom.style.right=e-1+"px",this.callParent([null,t])):this.callParent([e,t])}}}),Ext.define("Ext.util.Floating",{mixinId:"floating",uses:["Ext.ZIndexManager"],focusOnToFront:!0,shadow:"sides",animateShadow:!1,constrain:!1,alignOnScroll:!0,config:{activeCounter:0,alwaysOnTop:!1},preventDefaultAlign:!1,_visModeMap:{visibility:1,display:2,offsets:3},constructor:function(){var e,t=this,i=t.el,n=t.shadow;n&&(e={mode:!0===n?"sides":n},(n=t.shadowOffset)&&(e.offset=n),e.animate=t.animateShadow,e.fixed=t.fixed,i.enableShadow(e,!1)),(t.shim||Ext.useShims)&&i.enableShim({fixed:t.fixed},!1),i.setVisibilityMode(t._visModeMap[t.hideMode]),t.el.on({mousedown:t.onMouseDown,scope:t,capture:!0}),t.registerWithOwnerCt(),t.initHierarchyEvents()},alignTo:function(e,t,i,n,r){var o,s=this,a=e.isComponent?(o=e.el,e.destroyed):!(a=(o=e=Ext.get(e)).dom)||Ext.isGarbage(a);if(a)return s._lastAlignTarget=null,void(s.alignListeners&&s.alignListeners.destroy());s.mixins.positionable.alignTo.call(s,o,t,i,n,!1!==r),n=s.getXY(),r=e.getXY(),s.alignVector=[n[0]-r[0],n[1]-r[1]],s._lastAlignTarget=e,s._lastAlignToPos=t,s._lastAlignToOffsets=i,s._topAlignTarget=s.getTopAlignTarget(),s.clearClip(),s.alignListeners||(i={resize:{fn:s.alignOnResize,buffer:100},scope:s,destroyable:!0},s.alignOnScroll&&!o.contains(s.el)&&(i.scroll=s.doRealign),s.alignListeners=Ext.on(i))},initFloatConstrain:function(){var e=this.floatParent;!this.constrain&&!this.constrainHeader||this.constrainTo||(this.constrainTo=e?e.getTargetEl():this.container)},initHierarchyEvents:function(){var e=this.syncHidden;this.hasHierarchyEventListeners||(this.mon(Ext.GlobalEvents,{hide:e,collapse:e,show:e,expand:e,added:e,scope:this}),this.hasHierarchyEventListeners=!0)},registerWithOwnerCt:function(){var e=this,t=e.ownerCt,i=e.zIndexParent;i&&i.unregisterFloatingItem(e),i=e.zIndexParent=e.up("[floating]"),e.floatParent=t||i,e.initFloatConstrain(),delete e.ownerCt,i?i.registerFloatingItem(e):Ext.WindowManager.register(e)},onMouseDown:function(e){var t,i,n=this.focusTask,r=this.getRefOwner(),o="touch"===e.pointerType;if(this.floating&&(!n||!n.id)){for(this.owns(Ext.Element.getActiveElement())&&(o=!0),t=e.target,i=this.el.dom;!o&&t&&t!==i;)Ext.fly(t).isFocusable()&&(o=!0),t=t.parentNode;Ext.WindowManager.getActive()===this&&(t===i||o)||this.toFront(o),!o&&r&&r.containsFocus&&e.preventDefault()}},onBeforeFloatLayout:function(){this.el.preventSync=!0},onAfterFloatLayout:function(){var e=this.el;(e.shadow||e.shim)&&(e.setUnderlaysVisible(!0),e.syncUnderlays())},syncHidden:function(){var e=this,t=e.hidden||!e.rendered,i=e.hierarchicallyHidden=e.isHierarchicallyHidden(),n=e.pendingShow;t!==i&&(i?(e.hide(),e.pendingShow=!0):n&&(delete e.pendingShow,n.length?e.show.apply(e,n):e.show()))},setZIndex:function(e){return this.el.setZIndex(e),e+=10,this.floatingDescendants&&(e=100*Math.floor(this.floatingDescendants.setBase(e)/100)+1e4),e},doConstrain:function(e){e=this.calculateConstrainedPosition(e,null,!0);e&&this.setPosition(e)},updateActiveCounter:function(e){var t=this.zIndexParent;t&&t!==t.zIndexManager.front&&!1!==this.bringParentToFront&&t.setActiveCounter(++Ext.ZIndexManager.activeCounter),(t=this.zIndexManager)&&t.onComponentUpdate(this)},updateAlwaysOnTop:function(e){var t=this.zIndexManager;t&&t.onComponentUpdate(this)},toFront:function(e){return this.zIndexManager.bringToFront(this,e||!this.focusOnToFront)&&this.hasListeners.tofront&&this.fireEvent("tofront",this,this.el.getZIndex()),this},setActive:function(e,t){var i=this;e?(i.el.shadow&&!1!==i.el.getData().isVisible&&!i.maximized&&i.el.enableShadow(null,!0),t&&((t=Ext.ComponentManager.getActiveComponent())&&t.up(i)||i.focus()),i.fireEvent("activate",i)):i.fireEvent("deactivate",i)},toBack:function(){return this.zIndexManager.sendToBack(this),this},center:function(){var e;return this.isVisible()?(e=this.getAlignToXY(this.container,"c-c"),this.setPagePosition(e)):this.needsCenter=!0,this},onFloatShow:function(){this.needsCenter?this.center():this._lastAlignTarget&&this.alignTo(this._lastAlignTarget,this._lastAlignToPos,this._lastAlignToOffsets,!1,!this.fixed),this.needsCenter=!1},fitContainer:function(e){var t=this.floatParent,i=t?t.getTargetEl():this.container,n=i.getViewSize(),i=t||i.dom!==document.body?[0,0]:i.getXY();n.x=i[0],n.y=i[1],this.setBox(n,e)},privates:{onFloatDestroy:function(){this.clearAlignEl()},getTopAlignTarget:function(){for(var e=this._lastAlignTarget,t=e;e&&(t=e)&&e.isComponent;)e=t.isFloating()?t._lastAlignTarget:(e=t.up("{isFloating()}"))&&e._lastAlignTarget;return t},clearAlignEl:function(){this._lastAlignTarget&&(this.alignListeners=Ext.destroy(this.alignListeners),Ext.un("scroll",this.doRealign,this),this._lastAlignToPos=this._lastAlignTarget=this._lastAlignToOffsets=this._topAlignTarget=null)},alignOnResize:function(){this.doRealign()},doRealign:function(e){var t,i=this._lastAlignTarget.el;i&&this.isVisible()&&((i.isComponent?i.destroyed:!(t=i.dom)||Ext.isGarbage(t))?this.clearAlignEl():e&&(!e.getElement().contains(this._topAlignTarget.el)||e.getElement().contains(this.el))||(i=[(i=i.getXY())[0]+this.alignVector[0],i[1]+this.alignVector[1]],this.setXY(i),e&&this.clipToScroller(e)))},clipToScroller:function(e){var t=this._topAlignTarget.getBox(),i=e.getElement().getConstrainRegion(),e=0;t.top<i.top&&(e=1),t.right>i.right&&(e|=2),t.bottom>i.bottom&&(e|=4),t.left<i.left&&(e|=8),e?this.clipTo(i,e):this.clearClip()}}}),Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:!0,lazy:!0,merge:function(e,t,i,n){var r,o,s=t?Ext.Object.chain(t):{};if(e instanceof Array)for(r=e.length;r--;)o=e[r],n&&o in s||("string"==typeof o?s[o]={name:o,itemId:o}:s[o.name]=o);else if(e)if(e.constructor===Object)for(r in e)n&&r in s||(!0===(o=e[r])?s[r]={itemId:r}:"string"==typeof o?s[r]={itemId:o}:"itemId"in(s[r]=o)||(o.itemId=r),s[r].name=r);else n&&e in s||(s[e]={name:e,itemId:e});return s}}},destroy:function(){var e,t;for(t in this.getChildEls())(e=this[t])&&(e.destroy&&(e.component=null,e.destroy()),this[t]=null)},privates:{addChildEl:function(e){var t=this.getChildEls();this.hasOwnProperty("childEls")||(this.childEls=t=Ext.Object.chain(t)),"string"==typeof e&&(e={name:e,itemId:e}),t[e.name]=e},afterClassMixedIn:function(e){var t=e.prototype,i=t.childEls;i&&(delete t.childEls,e.getConfigurator().add({childEls:i}))},attachChildEls:function(e,t){var i,n,r,o,s,a,l=this.getChildEls(),d=t||this,c=d.id+"-",u=!d.frame;for(i in l)if(r=l[i],!u||!r.frame){if(a=(s=r.select)?e.select(s,!0):(s=r.selectNode)?e.selectNode(s,!1):(a=r.id)?Ext.cache[a]||e.getById(a):(a=c+r.itemId,Ext.cache[a]))if(a.isElement)a.component=d;else if(a.isComposite&&!a.isLite)for(o=(n=a.elements).length;o--;)n[o].component=d;this[i]=a||null}}}}),Ext.define("Ext.util.Renderable",{mixinId:"renderable",requires:["Ext.dom.Element"],frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],frameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],_renderState:0,ariaEl:"el",_layerCls:Ext.baseCSSPrefix+"layer",_fixedLayerCls:Ext.baseCSSPrefix+"fixed-layer",ariaStaticRoles:{presentation:!0,article:!0,definition:!0,directory:!0,document:!0,img:!0,heading:!0,math:!0,note:!0,banner:!0,complementary:!0,contentinfo:!0,navigation:!0,search:!0,undefined:!0,null:!0},statics:{makeRenderSetter:function(n,r){var o=n.name;return function(e){var t=this.renderConfigs||(this.renderConfigs={}),i=t[r];return this._renderState>=r?(n.setter||n.getSetter()).call(this,e):(i||(t[r]=i={}),o in i||(i[o]=this[o]),this[o]=e),this}},processRenderConfig:function(e,t,i){var n,r,o,s,a=this.prototype,l=this.getConfigurator(),d=Ext.util.Renderable.makeRenderSetter,c=e[t];for(o in c)a[s=(r=Ext.Config.get(o)).names.set]||(n=r.renderSetter||(r.renderSetter={}),a[s]=n[i]||(n[i]=d(r,i)));delete e[t],l.add(c)}},onClassMixedIn:function(e){function i(e){e.beforeRenderConfig&&this.processRenderConfig(e,"beforeRenderConfig",1),e.renderConfig&&this.processRenderConfig(e,"renderConfig",3),n.call(this,e)}function t(e,t){e.override=i,e.processRenderConfig=r,t.beforeRenderConfig&&e.processRenderConfig(t,"beforeRenderConfig",1),t.renderConfig&&e.processRenderConfig(t,"renderConfig",3)}var n=e.override,r=this.processRenderConfig;t(e,e.prototype),e.onExtended(t)},afterRender:function(){var e,t,i,n=this,r={},o=n.protoEl,s=n.el;n.finishRenderChildren(),n._renderState=4,n.contentEl&&(t=(e=Ext.baseCSSPrefix)+"hidden-",(i=n.contentEl=Ext.get(n.contentEl)).component=n,i.removeCls([e+"hidden",t+"display",t+"offsets"]),n.getContentTarget().appendChild(i.dom)),o.writeTo(r),(o=r.removed)&&s.removeCls(o),(o=r.cls).length&&s.addCls(o),(o=r.style)&&s.setStyle(o),n.protoEl=null,n.ownerCt||n.skipLayout||n.updateLayout(),n.x&&n.y||!n.pageX&&!n.pageY||n.setPagePosition(n.pageX,n.pageY),n.disableOnRender&&n.onDisable(),(o=n.controller)&&o.afterRender&&o.afterRender(n)},afterFirstLayout:function(e,t){var i,n,r,o,s=this,a=s.x,l=s.y,d=s.defaultAlign,c=s.alignOffset;s.ownerLayout||(i=void 0!==a,n=void 0!==l),!s.floating||s.preventDefaultAlign||i&&n||(s.floatParent?(r=s.floatParent.getTargetEl().getViewRegion(),o=s.el.getAlignToXY(s.alignTarget||s.floatParent.getTargetEl(),d,c),r.x=o[0]-r.x,r.y=o[1]-r.y):(o=s.el.getAlignToXY(s.alignTarget||s.container,d,c),r=s.el.translateXY(o[0],o[1])),a=i?a:r.x,l=n?l:r.y,i=n=!0),(i||n)&&s.setPosition(a,l),s.onBoxReady(e,t),(l=s.controller)&&l.boxReady&&l.boxReady(s,e,t)},beforeRender:function(){var e,t=this,i=t.floating,n=t.getComponentLayout(),r=t.userCls;t._renderState=1,t.ariaUsesMainElement="el"===t.ariaEl,(e=t.controller)&&e.beforeRender&&e.beforeRender(t),t.initBindable(),t.renderConfigs&&t.flushRenderConfigs(),t.reference&&t.publishState(),r&&t.addCls(r),i&&(t.addCls(t.fixed?t._fixedLayerCls:t._layerCls),(r=i.cls)&&t.addCls(r)),t.frame=t.frame||t.alwaysFramed,n.initialized||n.initLayout(),t.initOverflow(),t.setUI(t.ui)},doApplyRenderTpl:function(e,t){var i=t.$comp;i.rendered||i.initRenderTpl().applyOut(t.renderData,e)},getElConfig:function(){var e=this,t=e.autoEl,i=e.getFrameInfo(),n={tag:"div",tpl:i?e.initFramingTpl(i.table):e.initRenderTpl()},r=e.layoutTargetCls,o=e.protoEl,s=e.ariaRole;return e.initStyles(o),r&&!i&&o.addCls(r),o.writeTo(n),o.flush(),t&&(Ext.isString(t)?n.tag=t:Ext.apply(n,t)),s&&e.ariaUsesMainElement&&(n.role=s,e.ariaStaticRoles[s]||(n["aria-hidden"]=!!e.hidden,n["aria-disabled"]=!!e.disabled,e.ariaLabel&&!e.ariaLabelledBy&&(n["aria-label"]=e.ariaLabel),e.collapsible&&(n["aria-expanded"]=!e.collapsed),e.ariaRenderAttributes&&Ext.apply(n,e.ariaRenderAttributes),e.config.ariaAttributes&&Ext.apply(n,e.getAriaAttributes()))),n.id=e.id,n.tpl&&(i?(n.tplData=i=e.getFrameRenderData(),i.renderData=e.initRenderData()):n.tplData=e.initRenderData()),e.ariaRenderAttributes=null,n},getInsertPosition:function(e){return void 0!==e&&(e=Ext.isNumber(e)?this.container.dom.childNodes[e]:Ext.getDom(e)),e},getRenderTree:function(){var e=this,t=null;return e.hasListeners.beforerender&&!1===e.fireEvent("beforerender",e)||(e._renderState=1,e.beforeRender(),e.rendering=!0,e._renderState=2,t=e.getElConfig(),e.el&&(t.id=e.$pid=Ext.id(null,e.el.identifiablePrefix))),t},initRenderData:function(){var e,t=this,i=t.ariaRole,n=Ext.apply({$comp:t,id:t.id,ui:t.ui,uiCls:t.uiCls,baseCls:t.baseCls,componentCls:t.componentCls,frame:t.frame,hasTabGuard:!!t.tabGuard,scrollerCls:t.scrollerCls,childElCls:"",ariaEl:t.ariaEl},t.renderData);return i&&!t.ariaUsesMainElement&&(e={role:i},t.ariaStaticRoles[i]||(e["aria-hidden"]=!!t.hidden,e["aria-disabled"]=!!t.disabled,t.ariaLabel&&!t.ariaLabelledBy&&(e["aria-label"]=t.ariaLabel),t.collapsible&&(e["aria-expanded"]=!t.collapsed),t.ariaRenderAttributes&&Ext.apply(e,t.ariaRenderAttributes),t.config.ariaAttributes&&Ext.apply(e,t.getAriaAttributes())),n.ariaAttributes=e),n},onRender:function(e,t){var i=this,n=i.x,r=i.y,o=null,s=i.el,a=i.scrollable;i.applyRenderSelectors(),a&&a.isScroller&&(a.setElement(i.getOverflowEl()),Ext.isIE&&(i.showListenerIE=Ext.on("show",i.onGlobalShow,i,{destroyable:!0}))),i.rendering=null,i.rendered=!0,i._renderState=3,i.renderConfigs&&i.flushRenderConfigs(),null!=n&&(o={x:n}),null!=r&&((o=o||{}).y=r),i.getFrameInfo()||(n=i.width,r=i.height,"number"==typeof n&&((o=o||{}).width=n),"number"==typeof r&&((o=o||{}).height=r)),i.lastBox=s.lastBox=o},render:function(e,t){var i,n,r,o=this,s=o.el,a=o.ownerLayout;s&&!s.isElement&&(o.wrapPrimaryEl(s),s=o.el),o.skipLayout||Ext.suspendLayouts(),e=o.initContainer(e),r=o.getInsertPosition(t),s?o.hasListeners.beforerender&&!1===o.fireEvent("beforerender",o)?i=!0:(o.beforeRender(),o.needsRenderTpl=o.rendering=!0,o._renderState=2,o.initStyles(s),!1!==o.allowDomMove&&(r?e.dom.insertBefore(s.dom,r):e.dom.appendChild(s.dom))):(n=o.getRenderTree(),a&&a.transformItemRenderTree&&(n=a.transformItemRenderTree(n)),n&&(s=r?Ext.DomHelper.insertBefore(r,n):Ext.DomHelper.append(e,n),o.wrapPrimaryEl(s),o.cacheRefEls(s))),s&&!i&&o.finishRender(t),o.skipLayout||Ext.resumeLayouts(!o.hidden&&!e.isDetachedBody)},ensureAttachedToBody:function(e){for(var t,i=this;i.ownerCt;)i=i.ownerCt;i.container.isDetachedBody&&(i.container=t=Ext.getBody(),t.appendChild(i.el.dom),e&&i.updateLayout(),"number"!=typeof i.x&&"number"!=typeof i.y||i.setPosition(i.x,i.y))},privates:{applyRenderSelectors:function(){var e,t,i=this.renderSelectors,n=this.el;if(this.attachChildEls(n),this.ariaEl=this[this.ariaEl]||this.el,i)for(t in i)(e=i[t])&&(this[t]=n.selectNode(e,!1))},cacheRefEls:function(e){e=e||this.el;for(var t,i=Ext.cache,n=Ext.dom.Element,r=(e.isElement?e.dom:e).querySelectorAll("[data-ref]"),o=r.length,s=0;s<o;s++)i[(t=r[s]).id]||new n(t)},doAutoRender:function(){this.rendered||(this.floating?this.render(this.renderTo||document.body):this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender))},doRenderContent:function(e,t){var i=t.$comp,t=i.data;i.html&&(Ext.DomHelper.generateMarkup(i.html,e),delete i.html),i.tpl&&(i.tpl.isTemplate||(i.tpl=new Ext.XTemplate(i.tpl)),t&&(i.data=t=t.isEntity?t.getData(!0):t,i.tpl.applyOut(t,e)))},doRenderFramingTabGuard:function(e,t,i){var n=t.$comp.layout;t.renderData.$skipTabGuards=!0,n&&n.doRenderTabGuard&&n.doRenderTabGuard.call(this,e,t,i)},flushRenderConfigs:function(){var e,t,i,n,r,o=this.renderConfigs,s=this._renderState;if(o){for(t=0;t<=s;++t)if(e=o[t])for(i in o[t]=null,e)r=e[i],(n=n||{})[i]=this[i],this[i]=r;n&&this.setConfig(n)}},finishRender:function(e){var t,i,n,r,o,s=this,a=Ext.cache;if(!s.el||s.$pid)if(r=s.container?(o=a[s.id])?o.dom:s.container.getById(s.id,!0):(o=a[n=s.$pid||s.id])?o.dom:Ext.getDom(n),s.el){for(delete s.$pid,s.el.dom||s.wrapPrimaryEl(s.el),r.parentNode.insertBefore(s.el.dom,r),t=r,i=(r=s.el.dom).firstChild;t.firstChild;)r.insertBefore(t.firstChild,i);s.el.addCls(t.className),Ext.removeNode(t)}else s.wrapPrimaryEl(r);else s.needsRenderTpl&&((o=s.initRenderTpl())&&(n=s.initRenderData(),o.insertFirst(s.getTargetEl(),n)),s.cacheRefEls());(s.el.component=s).container||(s.container=Ext.get(s.el.dom.parentNode)),s.ctCls&&s.container.addCls(s.ctCls),s.onRender(s.container,e),s.overflowInited||s.initOverflow(),s.el.setVisibilityMode(Ext.Element[s.hideMode.toUpperCase()]),s.overCls&&s.el.hover(s.addOverCls,s.removeOverCls,s),s.hasListeners.render&&s.fireEvent("render",s),s.afterRender(),s.hasListeners.afterrender&&s.fireEvent("afterrender",s),s.initEvents(),s.hidden&&s.el.hide()},finishRenderChildren:function(){this.getComponentLayout().finishRender()},getFrameRenderData:function(){var e=this,t=e.frameSize,i="";return e._syncFrameHeight&&e.height&&(i="height:"+(e.height-t.height)+"px"),{$comp:e,id:e.id,fgid:e.id+"-frame",ui:e.ui,uiCls:e.uiCls,frameCls:e.frameCls,frameBodyCls:e.layoutTargetCls||"",baseCls:e.baseCls,hasTabGuard:e.tabGuard,top:!!t.top,left:!!t.left,right:!!t.right,bottom:!!t.bottom,mcStyle:i,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame)return!1;var e,t,i,n,r,o,s,a,l,d,c,u,h,f=this.frameInfoCache,g=this.getFramingInfoCls()+"-frameInfo",p=f[g];return null==p&&(p=!!(e=Ext.fly(this.getStyleProxy(g),"frame-style-el").getStyle("font-family"))&&(e=e.split("-"),t=parseInt(e[1],10),i=parseInt(e[2],10),n=parseInt(e[3],10),r=parseInt(e[4],10),o=parseInt(e[5],10),s=parseInt(e[6],10),a=parseInt(e[7],10),l=parseInt(e[8],10),d=parseInt(e[9],10),c=parseInt(e[10],10),u=parseInt(e[11],10),h=parseInt(e[12],10),{table:"t"===e[0].charAt(0),vertical:"v"===e[0].charAt(1),top:t,right:i,bottom:n,left:r,width:r+i,height:t+n,border:{top:o,right:s,bottom:a,left:l,width:l+s,height:o+a},padding:{top:d,right:c,bottom:u,left:h,width:h+c,height:d+u}}),!0!==this.frame||p||Ext.log.error("You have set frame: true explicity on this component ("+this.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled."),f[g]=p),this.frame=!!p,this.frameSize=p},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(e){var t=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,!0));return t.className=e,t},getFrameTpl:function(e){return this.lookupTpl(e?"frameTableTpl":"frameTpl")},initContainer:function(e){return!e&&this.el&&(e=this.el.dom.parentNode,this.allowDomMove=!1),this.container=e.dom?e:Ext.get(e),this.container},initOverflow:function(){var e=this.getOverflowStyle(),t=this.scrollFlags,i=this.getOverflowEl();(t.y||t.x)&&i&&i.isElement&&(this.overflowInited=!0,i.setStyle(e))},initFramingTpl:function(e){e=this.getFrameTpl(e);return e&&!e.applyRenderTpl&&this.setupFramingTpl(e),e},initRenderTpl:function(){var e=this.lookupTpl("renderTpl");return e&&!e.renderContent&&this.setupRenderTpl(e),e},setupFramingTpl:function(e){e.applyRenderTpl=this.doApplyRenderTpl,e.renderTabGuard=this.doRenderFramingTabGuard},setupRenderTpl:function(e){e.renderBody=e.renderContent=this.doRenderContent},updateFrame:function(){if(!Ext.supports.CSS3BorderRadius&&this.frame){var e,t,i,n,r,o,s,a=this,l=a.el.dom,d=a.frameTable,c=a.frameBody,u=c.dom,h=a.getFrameInfo(),f=document.createElement("div"),g=a.getFrameRenderData();for(g.hasTabGuard=!1,a.getFrameTpl(h.table).insertFirst(f,g),s=f.querySelectorAll("[data-ref]"),g=f.querySelector('[data-ref="frameBody"]'),n=u;n.parentNode!==l;)n=n.parentNode;for(;f.firstChild;)l.insertBefore(f.firstChild,n);for(t in g.parentNode.replaceChild(u,g),u.className=g.className,c.setSize(),e=a.getChildEls(),d&&(d.destroy(),a.frameTable=null),e)e[t].frame&&(i=a[t])&&i!==c&&(i.destroy(),a[t]=null);for(o=s.length;o--;)"frameBody"!==(t=(r=s[o]).getAttribute("data-ref"))&&(a[t]=new Ext.dom.Element(r))}},frameInfoCache:{}}}),Ext.define("Ext.rtl.util.Renderable",{override:"Ext.util.Renderable",_rtlCls:Ext.baseCSSPrefix+"rtl",_ltrCls:Ext.baseCSSPrefix+"ltr",rtlFrameTableTpl:["<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameBodyCls} {frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],beforeRender:function(){var e=this.getInherited().rtl;e?this.addCls(this._rtlCls):!1===e&&this.addCls(this._ltrCls),this.callParent()},initRenderData:function(){var e=this.callParent(),t=this._rtlCls;return t&&this.getInherited().rtl&&(e.childElCls=" "+t),e},privates:{getFrameTpl:function(e){return e&&this.getInherited().rtl?this.lookupTpl("rtlFrameTableTpl"):this.callParent(arguments)},getFrameRenderData:function(){var e=this.callParent(),t=this._rtlCls;return t&&this.getInherited().rtl&&(e.frameElCls=" "+t),e}}}),Ext.define("Ext.state.Provider",{mixins:{observable:"Ext.util.Observable"},prefix:"ext-",constructor:function(e){Ext.apply(this,e),this.state={},this.mixins.observable.constructor.call(this)},get:function(e,t){e=this.state[e];return void 0===e?t:e},clear:function(e){delete this.state[e],this.fireEvent("statechange",this,e,null)},set:function(e,t){this.state[e]=t,this.fireEvent("statechange",this,e,t)},decodeValue:function(e){var t,i,n,r,o,s,a=/^(a|n|d|b|s|o|e)\:(.*)$/.exec(unescape(e));if(a&&a[1])switch(i=a[1],e=a[2],i){case"e":return null;case"n":return parseFloat(e);case"d":return new Date(Date.parse(e));case"b":return"1"===e;case"a":if(t=[],e)for(o=(r=e.split("^")).length,s=0;s<o;s++)e=r[s],t.push(this.decodeValue(e));return t;case"o":if(t={},e)for(o=(r=e.split("^")).length,s=0;s<o;s++)t[(n=(e=r[s]).split("="))[0]]=this.decodeValue(n[1]);return t;default:return e}},encodeValue:function(e){var t,i,n,r="",o=0;if(null==e)return"e:1";if("number"==typeof e)t="n:"+e;else if("boolean"==typeof e)t="b:"+(e?"1":"0");else if(Ext.isDate(e))t="d:"+e.toUTCString();else if(Ext.isArray(e)){for(i=e.length;o<i;o++)r+=this.encodeValue(e[o]),o!==i-1&&(r+="^");t="a:"+r}else if("object"==typeof e){for(n in e)"function"!=typeof e[n]&&void 0!==e[n]&&(r+=n+"="+this.encodeValue(e[n])+"^");t="o:"+r.substring(0,r.length-1)}else t="s:"+e;return escape(t)}}),Ext.define("Ext.state.Manager",{singleton:!0,requires:["Ext.state.Provider"],constructor:function(){this.provider=new Ext.state.Provider},setProvider:function(e){this.provider=e},get:function(e,t){return this.provider.get(e,t)},set:function(e,t){this.provider.set(e,t)},clear:function(e){this.provider.clear(e)},getProvider:function(){return this.provider}}),Ext.define("Ext.state.Stateful",{mixinId:"state",requires:["Ext.state.Manager","Ext.util.TaskRunner"],config:{stateful:null},saveDelay:100,constructor:function(){this.stateEvents||(this.stateEvents=[]),this.stateful&&(this.addStateEvents(this.stateEvents),this.initState())},addStateEvents:function(e){var t,i,n,r;if(this.stateful&&this.getStateId())for(r="string"==typeof e?arguments:e,n=this.stateEventsByName||(this.stateEventsByName={}),t=r.length;t--;)(i=r[t])&&!n[i]&&(n[i]=1,this.on(i,this.onStateChange,this))},onStateChange:function(){var e,t=this.saveDelay;this.stateful&&(t?(this.stateTask||(e=(e=Ext.state.Stateful).runner||(e.runner=new Ext.util.TaskRunner),this.stateTask=e.newTask({run:this.saveState,scope:this,interval:t,repeat:1,fireIdleEvent:!1})),this.stateTask.start()):this.saveState())},saveState:function(){var e,t,i,n,r,o,s,a,l=this,d=l.getStateful(),c=d&&l.getStateId(),u=l.hasListeners;if(c){if(s=l.getState()||{},Ext.isObject(d))for(r in t=l.self.getConfigurator().configs,d)d[r]?r in s||(e=t[r],s[r]=e?l[e.get]():l[r]):delete s[r];for(r=0,o=(i=l.getPlugins()||[]).length;r<o;r++)(n=i[r])&&n.getState&&(a=n.getState(s))&&!s[n.ptype]&&(s[n.ptype]=a);u.beforestatesave&&!1===l.fireEvent("beforestatesave",l,s)||(Ext.state.Manager.set(c,s),u.statesave&&l.fireEvent("statesave",l,s))}},getState:function(){return null},applyState:function(e){e&&Ext.apply(this,e)},getStateId:function(){return this.stateId||(this.autoGenId?null:this.id)},initState:function(){var e,t,i,n,r,o,s,a=this.stateful&&this.getStateId(),l=this.hasListeners;if(a&&(t=Ext.state.Manager.get(a),t&&(e=Ext.apply({},t),!l.beforestaterestore||!1!==this.fireEvent("beforestaterestore",this,t)))){for(i=0,n=(r=this.getPlugins()||[]).length;i<n;i++)(o=r[i])&&(s=o.ptype,o.applyState&&o.applyState(e[s],t),delete e[s]);this.applyState(e),l.staterestore&&this.fireEvent("staterestore",this,t)}},savePropToState:function(e,t,i){var n=this[e],r=this.initialConfig;return!(!this.hasOwnProperty(e)||r&&r[e]===n)&&(t&&(t[i||e]=n),!0)},savePropsToState:function(e,t){var i,n;if("string"==typeof e)this.savePropToState(e,t);else for(i=0,n=e.length;i<n;++i)this.savePropToState(e[i],t);return t},destroy:function(){var e=this.stateTask;e&&(e.destroy(),this.stateTask=null)}}),Ext.define("Ext.util.Focusable",{mixinId:"focusable",hasFocus:!1,focusable:!1,focusCls:"focus",initFocusable:Ext.emptyFn,initFocusableEvents:function(){this.initFocusableElement()},getFocusClsEl:function(){return this.getFocusEl()},getFocusEl:function(){return this.element||this.el},destroyFocusable:function(){Ext.destroy(this.focusListeners),this.focusListeners=this.focusEnterEvent=this.focusTask=null,this.focusEl=this.ariaEl=null},enableFocusable:Ext.emptyFn,disableFocusable:function(){var e,t=this.focusCls;this.hasFocus&&(e=this.findFocusTarget())&&e.focus(),e=this.getFocusClsEl(),t&&e&&e.removeCls(this.removeClsWithUI(t,!0))},isFocusable:function(e){var t;return!!(this.focusable||this.isContainer&&e)&&(!(!(t=this.getFocusEl())||!this.canFocus())&&t.isFocusable(e))},canFocus:function(e,t){return(this.isContainer||this.focusable)&&this.rendered&&!this.destroying&&!this.destroyed&&!this.disabled&&(e||this.isVisible(!0))||t&&!!this.findFocusTarget()},focus:function(e,t,i,n){var r,o,s,a=this;if((a.focusable||a.isContainer)&&!a.destroyed&&!a.destroying){if(t)return a.getFocusTask().delay(Ext.isNumber(t)?t:10,a.focus,a,[e,!1,i,n]),a;if(a.cancelFocus(),a.canFocus()){if(r=a.getFocusEl()){if(r.isComponent)return r.focus(e,t,i,n);(o=r.dom)&&(a.floating&&(s=a.container.dom.scrollTop),r.focus(),e&&(Ext.isArray(e)?a.selectText&&a.selectText.apply(a,e):o.select?o.select():a.selectText&&a.selectText()),Ext.callback(i,n)),a.floating&&void 0!==s&&(a.container.dom.scrollTop=s)}}else if(r=a.findFocusTarget())return r.focus(e,t,i,n);return a}},cancelFocus:function(){var e=this.getFocusTask();e&&e.cancel()},beforeBlur:Ext.emptyFn,onBlur:function(e){var t,i=this,n=i.focusableContainer,r=i.focusCls;i.focusable&&!i.destroying&&(i.hasFocus=!1,i.beforeBlur(e),n&&n.beforeFocusableChildBlur(i,e),t=i.getFocusClsEl(),r&&t&&t.removeCls(i.removeClsWithUI(r,!0)),i.fireEvent("blur",i,e),i.postBlur(e),n&&n.afterFocusableChildBlur(i,e))},postBlur:Ext.emptyFn,beforeFocus:Ext.emptyFn,onFocus:function(e){var t,i=this,n=i.focusableContainer,r=i.focusCls;i.focusable&&i.canFocus()&&(i.beforeFocus(e),n&&n.beforeFocusableChildFocus(i,e),t=i.getFocusClsEl(),r&&t&&t.addCls(i.addClsWithUI(r,!0)),i.hasFocus||(i.hasFocus=!0,i.fireEvent("focus",i,e)),i.postFocus(e),n&&n.afterFocusableChildFocus(i,e))},postFocus:Ext.emptyFn,getTabIndex:function(){var e,t;if(this.focusable){if(e=this.rendered&&this.getFocusEl()){if(e.isComponent)t=e.getTabIndex();else{if(!e.isElement)return;t=e.getAttribute("tabIndex")}this.tabIndex=t}else t=this.tabIndex;return+t}},setTabIndex:function(e,t){var i;this.focusable&&(this.tabIndex=e,this.rendered&&(i=t||this.getFocusEl())&&(i.isComponent?i.setTabIndex(e):i.isElement&&i.set({tabIndex:e})))},onFocusEnter:function(e){var t=this;t.destroying||t.destroyed||(t.floating&&t!==t.zIndexManager.getActive()&&t.toFront(!0),t.focusEnterEvent=e,t.containsFocus=!0,t.fireEvent("focusenter",t,e))},onFocusLeave:function(e){this.destroying||this.destroyed||(this.focusEnterEvent=null,this.containsFocus=!1,this.fireEvent("focusleave",this,e))},privates:{revertFocus:function(){var e,t=this.focusEnterEvent;!this.preventRefocus&&this.el.contains(Ext.Element.getActiveElement())&&t&&(e=t&&t.relatedTarget,Ext.getDoc().contains(e)&&Ext.fly(e).isFocusable()?e.focus():t.fromComponent&&t.fromComponent.focus&&t.fromComponent.focus())},findFocusTarget:function(){for(var e,t,i=this.up(":visible(true):not([disabled]):not([destroying])");i;i=i.up(":visible(true):not([disabled]):not([destroying])")){if((e=Ext.ComponentQuery.query(":canfocus()",i)).length)return e[(t=Ext.Array.indexOf(e,Ext.ComponentManager.getActiveComponent()))+1]||e[t-1]||e[0];if(i.isFocusable&&i.isFocusable())return i}},initFocusableElement:function(){var e=this.tabIndex,t=this.getFocusEl();t&&!t.isComponent&&(this.focusEl=t,null!=e&&this.canFocus(!0)&&this.setTabIndex(e,t),t.dom.setAttribute("data-componentid",this.id))},getFocusTask:function(){return this.focusTask||(this.focusTask=Ext.focusTask),this.focusTask},handleFocusEvent:function(e){var t;this.isFocusing(e)&&((t=new Ext.event.Event(e.event)).type="focus",t.relatedTarget=e.fromElement,t.target=e.toElement,this.onFocus(t))},handleBlurEvent:function(e){var t;this.isBlurring(e)&&((t=new Ext.event.Event(e.event)).type="blur",t.target=e.fromElement,t.relatedTarget=e.toElement,this.onBlur(t))},isFocusing:function(e){var t;return!(!this.focusable||!(t=this.getFocusEl()))&&(t.isComponent?t.isFocusing(e):e.toElement===t.dom&&e.fromElement!==e.toElement)},isBlurring:function(e){var t;return!(!this.focusable||!(t=this.getFocusEl()))&&(t.isComponent?t.isBlurring(e):e.fromElement===t.dom&&e.fromElement!==e.toElement)},blur:function(){var e;if(this.focusable&&this.canFocus())return(e=this.getFocusEl())&&(this.blurring=!0,e.blur(),delete this.blurring),this},disableTabbing:function(){var e,t=this.el;t&&t.saveTabbableState(),(e=this.getFocusEl())&&(e.isComponent?e.disableTabbing():e.isElement&&t&&!t.contains(e)&&e.saveTabbableState())},enableTabbing:function(){var e=this.el,t=this.getFocusEl();t&&(t.isComponent?t.enableTabbing():t.isElement&&e&&!e.contains(t)&&t.restoreTabbableState()),e&&e.restoreTabbableState()},updateMaskState:function(e,t){var i,n=this.ariaEl.dom;e?(this.disableTabbing(),this.setMasked(!0),n&&(n.setAttribute("aria-busy","true"),(i=n.getAttribute("aria-describedby"))&&(this._savedAriaDescribedBy=i),n.setAttribute("aria-describedby",t.ariaEl.id))):(this.enableTabbing(),this.setMasked(!1),n&&(n.removeAttribute("aria-busy"),i=n.getAttribute("aria-describedby"),n.removeAttribute("aria-describedby"),i===t.ariaEl.id&&this._savedAriaDescribedBy&&(n.setAttribute("aria-describedby",this._savedAriaDescribedBy),delete this._savedAriaDescribedBy)))}}},function(){Ext.focusTask||(Ext.focusTask=new Ext.util.DelayedTask)}),Ext.define("Ext.mixin.Accessible",{extend:"Ext.Mixin",mixinConfig:{id:"accessible"},config:{ariaAttributes:{$value:null,lazy:!0}},privates:{getAriaLabelEl:function(e){var t,i,n,r,o=[];if(e){if(Ext.isFunction(e))return e.call(this);if(Ext.isArray(e)||(e=[e]),t=this.lookupReferenceHolder())for(i=0,n=e.length;i<n;i++)(r=t.lookupReference(e[i]))&&o.push(r.ariaEl.id)}return o.length?o.join(" "):null}}}),Ext.define("Ext.mixin.Keyboard",function(s){return{extend:"Ext.Mixin",mixinConfig:{id:"keyboard"},config:{keyMap:{$value:null,cached:!0,merge:function(e,t,i,n){if(null===e)return e;var r,o,s,a,l=t?Ext.Object.chain(t):{};for(r in e)"scope"!==r&&(o=r.toUpperCase(),n&&void 0!==l[o]||((s=e[r])&&(a=(s="string"==typeof s||"function"==typeof s?{handler:s}:Ext.apply({handler:s.fn},s)).scope||e.scope||"self",s.scope="controller"===a?"self.controller":a),l[o]=s));return l}},keyMapEnabled:null},keyMapTarget:"el",applyKeyMap:function(e,t){var i,n,r,o;if(e){for(r in t&&this.isConfiguring&&(t=Ext.apply({},t)),i=e.scope||"controller",e)if("scope"!==r){if(o=e[r])o="string"==typeof o||"function"==typeof o?{handler:o,scope:i}:o&&Ext.apply({handler:o.fn,scope:i},o),t=t||{};else if(void 0===o&&Ext.raise('keyMap entry "'+r+'" is undefined'),!t)continue;s.parseEntry(r,n=o||{})?t[n.name]=o:Ext.raise('Invalid keyMap key specification "'+r+'"')}}else t=null;return this._keyMapReady&&this.setKeyMapListener(t&&this.getKeyMapEnabled()),t||null},initKeyMap:function(){var e=this.getKeyMapEnabled();this._keyMapReady=!0,null===e?this.setKeyMapEnabled(!0):this.setKeyMapListener(e&&this.getKeyMap())},updateKeyMapEnabled:function(e){this.setKeyMapListener(e&&this._keyMapReady&&this.getKeyMap())},privates:{_keyMapListenCount:0,_keyMapReady:!1,callKeyMapEntry:function(e,t){return e&&Ext.callback(e.handler,e.scope,[t,this],0,this)},findKeyMapEntry:function(e){var t,i,n=this.getKeyMap();if(n)for(t in n)if(s.matchEntry(t,i=n[t],e))return i;return null},onKeyMapEvent:function(e){var t=this.getKeyMapEnabled()?this.findKeyMapEntry(e):null;return this.callKeyMapEntry(t,e)},setKeyMapListener:function(e){var t=this._keyMapListener;++this._keyMapListenCount,t&&(t.destroy(),t=null),e&&("function"==typeof(e=this[this.keyMapTarget])&&(e=e.call(this)),t=e.on({destroyable:!0,scope:this,keydown:"onKeyMapEvent",keypress:"onKeyMapEvent"})),this._keyMapListener=t||null},statics:{_charCodeRe:/^#([\d]+)$/,_hyphenRe:/^[a-z]+\-/i,_keyMapEvents:{charCode:"keypress",keyCode:"keydown"},matchEntry:function(e,t,i){var n,r=i.browserEvent;if(i.type!==t.event)return!1;if(n=t.charCode){if(i.getCharCode()!==n)return!1}else if(t.keyCode!==i.keyCode||!t.shiftKey!=!r.shiftKey)return!1;return!t.ctrlKey==!r.ctrlKey&&!t.altKey==!r.altKey&&!t.metaKey==!r.metaKey},parseEntry:function(e,t){e=e.toUpperCase();for(var i=Ext.event.Event,n=i.keyFlags,r=this._hyphenRe.test(e)?"-":"+",o=e===r?[r]:e.split(r),s=o.length-1,a=o[s],e=a,r="keyCode",l=0;l<s;l++){if(!n[o[l]])return!1;t[n[o[l]]]=!0}return s&&(e=t.ctrlKey?"CTRL+":"",e+=t.altKey?"ALT+":"",e+=t.metaKey?"META+":"",e+=t.shiftKey?"SHIFT+":"",e+=a),t.name=e,isNaN(e=i[a])&&((i=this._charCodeRe.exec(a))?e=+i[1]:1===a.length&&(e=a.charCodeAt(0)),e?r="charCode":e=+a),t.event=t.event||this._keyMapEvents[r],!isNaN(e)&&(t[r]=e)}}}}}),Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],requires:["Ext.ComponentQuery","Ext.ComponentManager","Ext.util.ProtoElement","Ext.dom.CompositeElement","Ext.scroll.Scroller"],mixins:["Ext.mixin.Inheritable","Ext.util.Floating","Ext.util.Positionable","Ext.util.Observable","Ext.mixin.ComponentDelegation","Ext.mixin.Bindable","Ext.util.Animate","Ext.util.ElementContainer","Ext.util.Renderable","Ext.state.Stateful","Ext.util.Focusable","Ext.mixin.Accessible","Ext.mixin.Keyboard"],uses:["Ext.overrides.*","Ext.Element","Ext.DomHelper","Ext.XTemplate","Ext.ComponentLoader","Ext.layout.Context","Ext.layout.Layout","Ext.layout.component.Auto","Ext.LoadMask","Ext.ZIndexManager","Ext.util.DelayedTask","Ext.resizer.Resizer","Ext.util.ComponentDragger"],statics:{AUTO_ID:1e3,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,ariaHighContrastModeCls:Ext.baseCSSPrefix+"aria-highcontrast",cancelLayout:function(e,t){var i=this.runningLayoutContext||this.pendingLayouts;i&&i.cancelComponent(e,!1,t)},fromElement:function(e,t,i){return Ext.ComponentManager.fromElement(e,t,i)},flushLayouts:function(){var i=this,e=i.pendingLayouts;e&&e.invalidQueue.length&&(i.pendingLayouts=null,i.runningLayoutContext=e,Ext.override(e,{runComplete:function(){i.runningLayoutContext=null;var e=Ext.scroll.Scroller,t=Ext.GlobalEvents;return e.viewport&&e.viewport.restoreState(),e=this.callParent(),t.hasListeners.afterlayout&&t.fireEvent("afterlayout"),e}}),e.run())},resumeLayouts:function(e){this.layoutSuspendCount&&!--this.layoutSuspendCount&&(e&&this.flushLayouts(),Ext.GlobalEvents.hasListeners.resumelayouts&&Ext.GlobalEvents.fireEvent("resumelayouts"))},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(e,t){var i=this.runningLayoutContext;i?i.queueInvalidate(e):((this.pendingLayouts||(this.pendingLayouts=new Ext.layout.Context)).queueInvalidate(e),t||this.layoutSuspendCount||e.isLayoutSuspended()||this.flushLayouts())}},$configPrefixed:!1,$configStrict:!1,clearPropertiesOnDestroy:"async",manageLayoutScroll:!0,config:{data:null,maxHeight:null,maxWidth:null,minHeight:null,minWidth:null,scrollable:null},renderConfig:{touchAction:null},defaultBindProperty:"html",alignTarget:null,autoRender:!1,autoShow:!1,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:!0},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:!1,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:function(){var e=["input","select","textarea","optgroup","option","table"];return!Ext.isIE9m||Ext.isIE9&&!Ext.isIEQuirks||e.push("p"),new RegExp("^(?:"+e.join("|")+")$","i")}(),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:!1,floating:!1,hidden:!1,hideMode:"display",maskElement:null,renderTpl:"{%this.renderContent(out,values)%}",resizeHandles:"all",shrinkWrap:2,toFrontOnShow:!0,synthetic:!1,tplWriteMode:"overwrite",ui:"default",uiCls:[],userCls:null,weight:null,allowDomMove:!0,autoGenId:!1,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:!1,frameSize:null,horizontalPosProp:"left",isComponent:!0,_isLayoutRoot:!1,layoutSuspendCount:0,liquidLayout:!1,maskOnDisable:!0,rendered:!1,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"scroll-scroller",_scrollFlags:{auto:{auto:{overflowX:"auto",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"auto",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"auto",overflowY:"scroll",x:!0,y:!0,both:!0}},false:{auto:{overflowX:"hidden",overflowY:"auto",x:!1,y:!0,both:!1},false:{overflowX:"hidden",overflowY:"hidden",x:!1,y:!1,both:!1},scroll:{overflowX:"hidden",overflowY:"scroll",x:!1,y:!0,both:!1}},scroll:{auto:{overflowX:"scroll",overflowY:"auto",x:!0,y:!0,both:!0},false:{overflowX:"scroll",overflowY:"hidden",x:!0,y:!1,both:!1},scroll:{overflowX:"scroll",overflowY:"scroll",x:!0,y:!0,both:!0}},none:{overflowX:"",overflowY:"",x:!1,y:!1,both:!1}},_scrollableCfg:{x:{x:!0,y:!1},y:{x:!1,y:!0},horizontal:{x:!0,y:!1},vertical:{x:!1,y:!0},both:{x:!0,y:!0},true:{x:!0,y:!0}},validIdRe:Ext.validIdRe,constructor:function(e){var t,i,n,r,o=this;if((e=e||{}).initialConfig?(e.isAction&&(o.baseAction=e),e=e.initialConfig):(e.tagName||e.dom||Ext.isString(e))&&(e={applyTo:e,id:e.id||e}),o.initialConfig=e,o.getId(),o.protoEl=new Ext.util.ProtoElement,o.$calledInitConfig=!0,o.initConfig(e),delete o.$calledInitConfig,null==o.scrollable&&((n=o.autoScroll)?r=!!n:(e=o.overflowX,n=o.overflowY,(e||n)&&(r={x:!(!e||"hidden"===e)&&e,y:!(!n||"hidden"===n)&&n})),r&&o.setScrollable(r)),(r=o.xhooks)&&(delete o.xhooks,Ext.override(o,r)),o.mixins.elementCt.constructor.call(o),o.validIdRe.test(o.id)||Ext.raise('Invalid component "id": "'+o.id+'"'),o.validIdRe.test(o.itemId)||Ext.raise('Invalid component "itemId": "'+o.itemId+'"'),o.setupProtoEl(),o.cls&&(o.initialCls=o.cls,o.protoEl.addCls(o.cls)),o.style&&(o.initialStyle=o.style,o.protoEl.setStyle(o.style)),o.renderData=o.renderData||{},o.initComponent(),o.preventRegister||Ext.ComponentManager.register(o),o.mixins.state.constructor.call(o),o.addStateEvents("resize"),(r=o.getController())&&r.init(o),o.plugins)for(t=0,i=o.plugins.length;t<i;t++)o.plugins[t]=o.initPlugin(o.plugins[t]);o.loader=o.getLoader(),o.disabled&&(o.disabled=!1,o.disable(!0)),o.renderTo&&o.render(o.renderTo),o.autoShow&&!o.$initParent&&o.show(),Ext.isDefined(o.disabledClass)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls."),o.disabledCls=o.disabledClass,delete o.disabledClass),o.baseAction&&o.baseAction.addComponent(o)},beforeInitConfig:function(){this.$calledInitConfig||Ext.raise("initConfig should not be called by subclasses, it will be called by Ext.Component"),this.mixins.observable.constructor.call(this)},addCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.addCls.apply(t,arguments),this},addClsWithUI:function(e,t){var i,n,r=[],o=0,s=this.uiCls=Ext.Array.clone(this.uiCls),a=this.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length;o<i;o++)(n=e[o])&&!this.hasUICls(n)&&(s.push(n),a&&(r=r.concat(this.addUIClsToElement(n))));return!0!==t&&a&&this.addCls(r),r},afterComponentLayout:function(e,t,i,n){var r=this.scrollable;1==++this.componentLayoutCounter?this.afterFirstLayout(e,t):this.manageLayoutScroll&&r&&r.restoreState(),e===i&&t===n||this.onResize(e,t,i,n),this.floating&&this.onAfterFloatLayout()},addPlugin:function(e){return e=this.constructPlugin(e),this.plugins?this.plugins.push(e):this.plugins=[e],this.pluginsInitialized&&this.initPlugin(e),e},addPropertyToState:function(e,t,i){var n=arguments.length;return 3!==n&&!this.hasOwnProperty(t)||(n<3&&(i=this[t]),i!==this.initialConfig[t]&&((e=e||{})[t]=i)),e},addUIClsToElement:function(e){var t,i,n,r,o=this.baseCls+"-"+this.ui+"-"+e,e=[Ext.baseCSSPrefix+e,this.baseCls+"-"+e,o];if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(i in o+="-",t=this.getChildEls())(r=t[i].frame)&&!0!==r&&(n=this[i])&&n.addCls(o+r);return e},removeUIClsFromElement:function(e){var t,i,n,r,o=this.baseCls+"-"+this.ui+"-"+e,e=[Ext.baseCSSPrefix+e,this.baseCls+"-"+e,o];if(this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(i in o+="-",t=this.getChildEls())(r=t[i].frame)&&!0!==r&&(n=this[i])&&n.removeCls(o+r);return e},adjustPosition:function(e,t){var i;return this.isContainedFloater()&&(e+=(i=this.floatParent.getTargetEl().getViewRegion()).left,t+=i.top),{x:e,y:t}},afterHide:function(e,t){var i=this,n=i.focusableContainer;delete i.getInherited().topmostFocusEvent,i.hiddenByLayout=null,i.ownerLayout&&i.updateLayout({isRoot:!1}),n&&n.onFocusableChildHide(i),i.fireHierarchyEvent("hide"),i.fireEvent("hide",i),Ext.callback(e,t||i)},afterSetPosition:function(e,t){this.onPosition(e,t),this.hasListeners.move&&this.fireEvent("move",this,e,t)},afterShow:function(e,t,i){var n,r=this,o=r.el;e=r.getAnimateTarget(e),r.ghost||(e=null),e?(o={x:o.getX(),y:o.getY(),width:o.dom.offsetWidth,height:o.dom.offsetHeight},e={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},r.fireHierarchyEvent("show"),(n=r.ghost()).el.stopAnimation(),n.setX(-1e4),r.ghostBox=o,n.el.animate({from:e,to:o,listeners:{afteranimate:function(){r.destroying||(n.componentLayout.lastComponentSize=null,r.unghost(),r.ghostBox=null,r.onShowComplete(t,i))}}})):(r.onShowComplete(t,i),r.fireHierarchyEvent("show"))},animate:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f,g,p,m=this;return o=(e=e||{}).to||{},Ext.fx.Manager.hasFxBlock(m.id)?m:((t=Ext.isDefined(o.width))&&(r=Ext.Number.constrain(o.width,m.minWidth,m.maxWidth)),(i=Ext.isDefined(o.height))&&(n=Ext.Number.constrain(o.height,m.minHeight,m.maxHeight)),e.dynamic||!t&&!i||(l=a=(e.from?e.from.width:void 0)||m.getWidth(),c=d=(e.from?e.from.height:void 0)||m.getHeight(),u=!1,i&&d<n&&(c=n,u=!0),t&&a<r&&(l=r,u=!0),(i||t)&&"hidden"!==(p=m.el.getStyle("overflow"))&&m.el.setStyle("overflow","hidden"),u&&(s=!Ext.isNumber(m.width),u=!Ext.isNumber(m.height),m.setSize(l,c),m.el.setSize(a,d),s&&delete m.width,u&&delete m.height),t&&(o.width=r),i&&(o.height=n)),h=m.constrain,f=m.constrainHeader,(h||f)&&(m.constrain=m.constrainHeader=!1,g=e.callback,e.callback=function(){m.constrain=h,m.constrainHeader=f,g&&g.call(e.scope||m,arguments),"hidden"!==p&&m.el.setStyle("overflow",p)}),m.mixins.animate.animate.apply(m,arguments))},applyScrollable:function(e,t){var i,n=this,r=n.rendered;return e?(!0!==e&&"string"!=typeof e||((i=n._scrollableCfg[e])||Ext.raise("'"+e+"' is not a valid value for 'scrollable'"),e=i),t?(t.setConfig(e),e=t):(e=Ext.Object.chain(e),r&&(e.element=n.getOverflowEl()),(e=Ext.scroll.Scroller.create(e,n.scrollableType)).component=n)):t&&(e=t).setConfig({x:!1,y:!1}),!n.rendered||n.destroying||n.destroyed||(e?n.getOverflowStyle():n.scrollFlags=n._scrollFlags.none,n.updateLayout()),e},applyTouchAction:function(e,t){return null!=t&&(e=Ext.merge({},t,e)),e},beforeDestroy:Ext.emptyFn,beforeLayout:function(){this.floating&&this.onBeforeFloatLayout()},beforeSetPosition:function(e,t,i){var n,r,o=null;return e&&(Ext.isNumber(n=e[0])?(i=t,t=e[1],e=n):void 0!==(n=e.x)&&(i=t,t=e.y,e=n)),(this.constrain||this.constrainHeader)&&(o=this.calculateConstrainedPosition(null,[e,t],!0))&&(e=o[0],t=o[1]),r=void 0!==t,((n=void 0!==e)||r)&&(this.x=e,this.y=t,o={x:(t=this.adjustPosition(e,t)).x,y:t.y,anim:i,hasX:n,hasY:r}),o},beforeShow:Ext.emptyFn,bubble:function(e,t,i){for(var n=this;n&&!1!==e.apply(t||n,i||[n]);)n=n.getBubbleTarget();return this},clearListeners:function(){this.mixins.observable.clearListeners.call(this),this.mixins.componentDelegation.clearDelegatedListeners.call(this)},cloneConfig:function(e){var t=(e=e||{}).id||Ext.id(),e=Ext.applyIf(e,this.initialConfig);return e.id=t,new(Ext.getClass(this))(e)},destroy:function(){var e=this;e.hasListeners.beforedestroy&&!1===e.fireEvent("beforedestroy",e)||(e.isDestroying=e.destroying=!0,e.doDestroy(),e.clearListeners(),e.isDestroying=e.destroying=!1,e.callParent(),e.mixins.componentDelegation.destroyComponentDelegation.call(e),e.mixins.observable.destroyObservable.call(e,!0))},doDestroy:function(){var e,t,i=this,n=i.focusableContainer,r=i.renderSelectors,o=i.floatParent||i.ownerCt;if(i.floating&&(delete i.floatParent,i.zIndexManager&&!i.zIndexManager.destroyed&&i.zIndexManager.unregister(i),i.floating=!0),i.removeBindings(),i.beforeDestroy.$emptyFn||i.beforeDestroy(),i.destroyBindable(),o&&o.remove&&o.remove(i,!1),i.stopAnimation(),i.rendered&&Ext.destroy(i.loadMask,i.dd,i.resizer,i.proxy,i.proxyWrap,i.resizerComponent,i.scrollable,i.contentEl),n&&n.onFocusableChildDestroy(i),i.focusable&&i.destroyFocusable(),Ext.destroy(i.componentLayout,i.loadMask,i.floatingDescendants),i.onDestroy.$emptyFn||i.onDestroy(),Ext.destroy(i.plugins),i.rendered&&Ext.Component.cancelLayout(i,!0),i.componentLayout=null,i.hasListeners.destroy&&i.fireEvent("destroy",i),i.preventRegister||Ext.ComponentManager.unregister(i),i.mixins.state.destroy.call(i),i.floating&&i.onFloatDestroy(),i.rendered){if(i.showListenerIE&&(i.showListenerIE.destroy(),i.showListenerIE=null),i.preserveElOnDestroy||i.el.destroy(),i.el.component=null,i.mixins.elementCt.destroy.call(i),r)for(e in r)r.hasOwnProperty(e)&&(t=i[e])&&(delete i[e],t.destroy());i.rendered=!1}},disable:function(e,t){var i=this,n=i.focusableContainer,r=i.getInherited();return t||(r.disabled=!0,i.savedDisabled=!0),i.maskOnDisable&&(r.disableMask=!0),i.disabled||(n&&n.beforeFocusableChildDisable(i),i.addCls(i.disabledCls),i.rendered?i.onDisable():i.disableOnRender=!0,(i.disabled=!0)!==e&&i.fireEvent("disable",i),n&&n.onFocusableChildDisable(i)),i},doFireEvent:function(e,t,i){i=this.mixins.observable.doFireEvent.call(this,e,t,i);return!1===i||this.destroyed||(i=this.mixins.componentDelegation.doFireDelegatedEvent.call(this,e,t)),i},enable:function(e,t){var i=this,n=i.focusableContainer,r=i.getInherited();return t||(delete i.getInherited().disabled,i.savedDisabled=!1),i.maskOnDisable&&delete r.disableMask,i.disabled&&(t&&r.hasOwnProperty("disabled")||(n&&n.beforeFocusableChildEnable(i),i.disableOnRender=!1,i.removeCls(i.disabledCls),i.rendered&&i.onEnable(),!(i.disabled=!1)!==e&&i.fireEvent("enable",i),n&&n.onFocusableChildEnable(i))),i},findParentBy:function(e){for(var t=this.getRefOwner();t&&!e(t,this);t=t.getRefOwner());return t||null},findParentByType:function(t){return Ext.isFunction(t)?this.findParentBy(function(e){return e.self===t||e.constructor===t}):this.up(t)},findPlugin:function(e){for(var t=this.plugins,i=t&&t.length,n=0;n<i;n++)if(t[n].ptype===e)return t[n]},getAnimateTarget:function(e){return(e=(e=e||this.animateTarget)&&(e.isComponent?e.getEl():Ext.get(e)))||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){return this.componentLayout&&this.componentLayout.isLayout||this.setComponentLayout(Ext.layout.Layout.create(this.componentLayout,"autocomponent")),this.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(e){var t=this.componentLayout;this.hidden&&(e.hidden=!0),this.collapseImmune&&(e.collapseImmune=!0),void 0!==this.modelValidation&&(e.modelValidation=this.modelValidation),this.savedDisabled&&(e.disabled=!0),this.mixins.bindable.initInheritedState.call(this,e),t&&t.initInheritedState&&t.initInheritedState(e)},getId:function(){var e;return this.id||(this.id=this.initialConfig.id)||(e=(e=this.getXType())?e.replace(Ext.Component.INVALID_ID_CHARS_Re,"-"):Ext.name.toLowerCase()+"-comp",this.id=e+"-"+this.getAutoId()),this.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var e=this.loader;return e?(e.isLoader?e.setTarget(this):this.loader=new Ext.ComponentLoader(Ext.apply({target:this},e)),this.loader):null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(e){for(var t,i=this.plugins,n=i&&i.length,r=0;r<n;r++)if((t=i[r]).id===e||t.pluginId===e)return t;return null},getPosition:function(e){var t,i=this.isContainedFloater();return!0!==e||i?(t=this.getXY(),!0===e&&i&&(i=this.floatParent.getTargetEl().getViewRegion(),t[0]-=i.left,t[1]-=i.top),t):[this.getLocalX(),this.getLocalY()]},getScrollX:function(){var e=this.getScrollable();return e?e.getPosition().x:0},getScrollY:function(){var e=this.getScrollable();return e?e.getPosition().y:0},getSize:function(e){return this.el.getSize(e)},getSizeModel:function(e){var t,i,n,r,o,s,a,l,d,c,u=this,h=Ext.layout.SizeModel,f=u.componentLayout.ownerContext,g=u.width,p=u.height,m=u.floating||u.floated;return f&&(c=f.widthModel,o=f.heightModel),c&&o||(n="number"==(t=typeof g),r="number"==(i=typeof p),(d=m||!(s=u.ownerLayout))?(a=Ext.layout.Layout.prototype.autoSizePolicy,l=m?3:u.shrinkWrap,n&&(c=h.configured),r&&(o=h.configured)):(a=s.getItemSizePolicy(u,e),l=s.isItemShrinkWrap(u)),f&&(f.ownerSizePolicy=a),l=!0===l?3:l||0,d&&l&&(g&&"string"==t&&(l&=2),p&&"string"==i&&(l&=1)),3!==l&&(e=e||u.ownerCt&&u.ownerCt.getSizeModel())&&(l|=(e.width.shrinkWrap?1:0)|(e.height.shrinkWrap?2:0)),c=c||(a.setsWidth?a.readsWidth?n?h.calculatedFromConfigured:1&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:n?h.configured:1&l?h.shrinkWrap:h.natural),o=o||(a.setsHeight?a.readsHeight?r?h.calculatedFromConfigured:2&l?h.calculatedFromShrinkWrap:h.calculatedFromNatural:h.calculated:r?h.configured:2&l?h.shrinkWrap:h.natural)),c.pairsByHeightOrdinal[o.ordinal]},getState:function(){var e=null,t=this.getSizeModel();return t.width.configured&&(e=this.addPropertyToState(e,"width")),t.height.configured&&(e=this.addPropertyToState(e,"height")),e},getUserCls:function(){return this.userCls},setUserCls:function(e){var t=this.userCls;return e!==t&&(this.userCls=e,this.rendered&&this.el.replaceCls(t,e)),t},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var e,t,i,n=this.self;if(!n.xtypes){for(e=[],t=this;t;)void 0!==(i=t.xtypes)&&e.unshift.apply(e,i),t=t.superclass;n.xtypeChain=e,n.xtypes=e.join("/")}return n.xtypes},hasCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.hasCls.apply(t,arguments)},hasUICls:function(e){var t=this.uiCls||[];return Ext.Array.contains(t,e)},hide:function(e,t,i){var n=this,r=n.focusableContainer;return n.pendingShow&&(n.pendingShow=!1),n.rendered&&!n.isVisible()||n.hasListeners.beforehide&&!1===n.fireEvent("beforehide",n)&&!n.hierarchicallyHidden||(n.getInherited().hidden=n.hidden=!0,r&&r.beforeFocusableChildHide(n),n.fireHierarchyEvent("beforehide"),n.rendered&&n.onHide.apply(n,arguments)),n},initComponent:function(){var e=this,t=e.width,i=e.height;e.plugins&&!e.plugins.processed&&(e.plugins=e.constructPlugins()),e.pluginsInitialized=!0,null==t&&null==i||e.setSize(t,i),e.listeners&&(e.on(e.listeners),e.listeners=null),e.focusable&&e.initFocusable()},initEvents:function(){var e,t,i,n,r,o=this.afterRenderEvents;if(o)for(i in o)if((t=this[i])&&t.on)for(n=0,r=(e=o[i]).length;n<r;++n)this.mon(t,e[n]);this.focusable&&this.initFocusableEvents(),this.initKeyMap()},is:function(e){return Ext.ComponentQuery.is(this,e)},isDescendantOf:function(e){for(var t=this.getRefOwner();t&&t!==e;t=t.getRefOwner());return t||null},isAncestor:function(e){for(;e;){if(e.getRefOwner()===this)return!0;e=e.getRefOwner()}},isDisabled:function(){return this.disabled},isDraggable:function(){return!!this.draggable},isDroppable:function(){return!!this.droppable},isFloating:function(){return this.floating},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){for(var e,t,i=this,n=!1;e=i.ownerCt||i.floatParent;i=e){if((t=e.getInherited()).hidden){n=!0;break}if(!i.getInherited().collapseImmune){n=!!t.collapsed;break}if(e.collapsed&&!i.collapseImmune){n=!0;break}}return n},isLayoutChild:function(e){return!this.floating&&!!this.up(e)},isLayoutRoot:function(){var e=this.ownerLayout;return!(e&&!this._isLayoutRoot&&!this.floating)||e.isItemLayoutRoot(this)},isLayoutSuspended:function(){for(var e,t=this;t;){if(t.layoutSuspendCount||t.suspendLayout)return!0;if(!(e=t.ownerLayout))break;t=e.owner}return!1},isVisible:function(e){var t;return this.hidden||!this.rendered||this.destroyed?t=!0:e&&(t=this.isHierarchicallyHidden()),!t},isXType:function(e,t){return t?-1!==Ext.Array.indexOf(this.xtypes,e):!!this.xtypesMap[e]},isMasked:function(e){return!!(this.masked||this.loadMask&&this.loadMask.isVisible()||e&&this.getInherited().masked)},lookupTpl:function(e){return Ext.XTemplate.getTpl(this,e)},setMasked:function(e){var t=this.focusableContainer;return e?(this.masked=!0,this.getInherited().masked=e):(this.masked=!1,delete this.getInherited().masked),t&&t.onFocusableChildMasked(this,e),this},mask:function(e,t,i){var n=this.lastBox,r=this.getMaskTarget()||this.el;n&&(i=n.height),r.mask(e,t,i),this.setMasked(!0)},nextNode:function(e,t){var i,n,r,o,s,a=this.ownerCt;if(t&&this.is(e))return this;if(a){for(n=a.items.items,o=Ext.Array.indexOf(n,this)+1,r=n.length;o<r;o++){if((s=n[o]).is(e))return s;if(s.down&&(i=s.down(e)))return i}return a.nextNode(e)}return null},nextSibling:function(e){var t,i,n,r,o=this.ownerCt;if(o&&(n=(t=o.items).indexOf(this)+1))if(e){for(i=t.getCount();n<i;n++)if((r=t.getAt(n)).is(e))return r}else if(n<t.getCount())return t.getAt(n);return null},onAdded:function(e,t,i){this.ownerCt=e,this.onInheritedAdd(this,i),this.hasListeners&&this.hasListeners.added&&this.fireEvent("added",this,e,t),Ext.GlobalEvents.hasListeners.added&&this.fireHierarchyEvent("added")},onRemoved:function(e){var t,i=this;!i.isLayoutMoving&&i.el&&i.el.contains(Ext.Element.getActiveElement())&&(t=i.findFocusTarget())&&t.focus(),Ext.GlobalEvents.hasListeners.removed&&i.fireHierarchyEvent("removed"),i.hasListeners.removed&&i.fireEvent("removed",i,i.ownerCt),e||i.removeBindings(),i.onInheritedRemove(e),i.ownerCt=i.ownerLayout=null},onBoxReady:function(e,t){var i,n=this;(n.ariaLabelledBy||n.ariaDescribedBy)&&(n.ariaLabelledBy&&(i=n.getAriaLabelEl(n.ariaLabelledBy))&&n.ariaEl.dom.setAttribute("aria-labelledby",i),n.ariaDescribedBy&&(i=n.getAriaLabelEl(n.ariaDescribedBy))&&n.ariaEl.dom.setAttribute("aria-describedby",i)),n.resizable&&n.initResizable(n.resizable),n.draggable&&n.initDraggable(),n.hasListeners.boxready&&n.fireEvent("boxready",n,e,t)},onDestroy:Ext.emptyFn,onDisable:function(){var e,t,i=this;i.focusable&&i.disableFocusable(),i.ariaStaticRoles[i.ariaRole]||i.ariaEl.dom.setAttribute("aria-disabled",!0),i.maskOnDisable&&!i.getInheritedConfig("disableMask",!0)&&(t=(e=i.el.dom).nodeName,i.disabledRe.test(t)&&(e.disabled=!0),i.nonMaskableRe.test(t)||i.mask())},onEnable:function(){var e,t,i=this;i.focusable&&i.enableFocusable(),i.ariaStaticRoles[i.ariaRole]||i.ariaEl.dom.setAttribute("aria-disabled",!1),i.maskOnDisable&&i.getInherited().hasOwnProperty("masked")&&(t=(e=i.el.dom).nodeName,i.disabledRe.test(t)&&(e.disabled=!1),i.nonMaskableRe.test(t)||i.unmask())},onGlobalShow:function(e){this.up(e)&&this.getScrollable().restoreState()},onHide:function(e,t,i){var n,r,o,s=this;s.ariaStaticRoles[s.ariaRole]||s.destroying||s.destroyed||s.ariaEl.dom.setAttribute("aria-hidden",!0),s.revertFocus(),e=s.getAnimateTarget(e),s.ghost||(e=null),e?(o={x:e.getX(),y:e.getY(),width:e.dom.offsetWidth,height:e.dom.offsetHeight},(n=s.ghost()).el.stopAnimation(),r=s.getSize(),n.el.animate({to:o,listeners:{afteranimate:function(){s.destroying||(n.componentLayout.lastComponentSize=null,s.unghost(!1),n.el.setSize(r),s.afterHide(t,i))}}})):s.el.hide(),e||s.afterHide(t,i)},onPosition:Ext.emptyFn,onResize:function(e,t,i,n){this.floating&&this.constrain&&this.doConstrain(),this.hasListeners.resize&&this.fireEvent("resize",this,e,t,i,n)},onShow:function(){var e=this;e.ariaStaticRoles[e.ariaRole]||e.ariaEl.dom.setAttribute("aria-hidden",!1),e.el.show(),e.updateLayout({isRoot:!1,context:e._showContext}),e.floating&&(e.maximized?e.fitContainer():e.constrain&&e.doConstrain())},_showContext:{show:!0},onShowComplete:function(e,t){var i=this.focusableContainer;this.floating&&this.onFloatShow(),Ext.callback(e,t||this),this.fireEvent("show",this),i&&i.onFocusableChildShow(this),delete this.hiddenByLayout},onShowVeto:Ext.emptyFn,previousNode:function(e,t){var i,n,r,o,s=this.ownerCt;if(t&&this.is(e))return this;if(s){for(n=s.items.items,r=Ext.Array.indexOf(n,this)-1;-1<r;r--){if(o=n[r],o.query&&(i=(i=o.query(e))[i.length-1]))return i;if(o.is(e))return o}return s.previousNode(e,!0)}return null},previousSibling:function(e){var t,i,n,r=this.ownerCt;if(r&&-1!==(i=(t=r.items).indexOf(this)))if(e){for(--i;0<=i;i--)if((n=t.getAt(i)).is(e))return n}else if(i)return t.getAt(--i);return null},registerFloatingItem:function(e){this.floatingDescendants||(this.floatingDescendants=new Ext.ZIndexManager(this)),this.floatingDescendants.register(e)},removeCls:function(e){var t=this.rendered?this.el:this.protoEl;return t.removeCls.apply(t,arguments),this},removeClsWithUI:function(e,t){var i,n,r=[],o=0,s=Ext.Array,a=s.remove,l=this.uiCls=s.clone(this.uiCls),d=this.activeUI;for("string"==typeof e&&(e=e.indexOf(" ")<0?[e]:Ext.String.splitWords(e)),i=e.length,o=0;o<i;o++)(n=e[o])&&this.hasUICls(n)&&(a(l,n),d&&(r=r.concat(this.removeUIClsFromElement(n))));return!0!==t&&d&&this.removeCls(r),r},resumeLayouts:function(e){this.rendered&&(this.layoutSuspendCount||Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended."),this.layoutSuspendCount&&!--this.layoutSuspendCount&&(this.suspendLayout=!1,e&&!this.isLayoutSuspended()&&this.updateLayout(e)))},scrollBy:function(e,t,i){var n=this.getScrollable();n&&n.scrollBy(e,t,i)},scrollTo:function(e,t,i){var n=this.getScrollable();n&&n.scrollTo(e,t,i)},setAutoScroll:function(e){return this.setScrollable(!!e),this},setBorder:function(e,t){var i=!!t;(this.rendered||i)&&(i||(t=this.el),e=e?!0===e?"1px":this.unitizeBox(e):0,t.setStyle("border-width",e),i||this.updateLayout()),this.border=e},setDock:function(e){var t=this.ownerCt;return e!==this.dock&&(t&&t.moveDocked?t.moveDocked(this,e):this.dock=e),this},setDisabled:function(e){return this[e?"disable":"enable"]()},setFlex:function(e){this.flex=e},setHeight:function(e){return this.setSize(void 0,e)},setLoading:function(e,t){var i=this,n={target:i};return i.rendered&&(!1!==e?(Ext.isString(e)?n.msg=e:Ext.apply(n,e),i.loadMask&&i.loadMask.isLoadMask?Ext.apply(i.loadMask,n):(t&&null==n.useTargetEl&&(n.useTargetEl=!0),i.loadMask=new Ext.LoadMask(n)),i.loadMask.isVisible()?i.loadMask.syncMaskState():i.loadMask.show()):i.loadMask&&i.loadMask.isLoadMask&&i.loadMask.hide()),i.loadMask},setMargin:function(e,t){this.rendered?(e=e||0===e?(!0===e&&(e=5),this.unitizeBox(e)):"",this.margin=e,this.margin$=null,this.getEl().setStyle("margin",e),t||this.updateLayout(this._notAsLayoutRoot)):this.margin=e},setOverflowXY:function(e,t){return this.setScrollable({x:!(!e||"hidden"===e)&&e,y:!(!t||"hidden"===t)&&t}),this},setPagePosition:function(e,t,i){var n,r,o=this;return Ext.isArray(e)&&(t=e[1],e=e[0]),o.pageX=e,o.pageY=t,o.floating?(o.isContainedFloater()?(r=o.floatParent.getTargetEl().getViewRegion(),Ext.isNumber(e)&&Ext.isNumber(r.left)&&(e-=r.left),Ext.isNumber(t)&&Ext.isNumber(r.top)&&(t-=r.top)):(e=(n=o.el.translateXY(e,t)).x,t=n.y),o.setPosition(e,t,i)):(n=o.el.translateXY(e,t),o.setPosition(n.x,n.y,i)),o},setPosition:function(e,t,i){var n=this,r=n.beforeSetPosition.apply(n,arguments);return r&&n.rendered&&(e=r.x,t=r.y,i?e===n.getLocalX()&&t===n.getLocalY()||(n.stopAnimation(),n.animate(Ext.apply({duration:1e3,listeners:{afteranimate:Ext.Function.bind(n.afterSetPosition,n,[e,t])},to:{left:e,top:t}},i))):(n.setLocalXY(e,t),n.afterSetPosition(e,t))),n},setScrollX:function(e,t){var i=this.getScrollable();i&&i.scrollTo(e,null,t)},setScrollY:function(e,t){var i=this.getScrollable();i&&i.scrollTo(null,e,t)},setSize:function(e,t){var i,n,r=this,o=r.width,s=r.height;return e&&"object"==typeof e&&(t=e.height,e=e.width),"number"==typeof e?r.width=Ext.Number.constrain(e,r.minWidth,r.maxWidth):null===e?delete r.width:"string"==typeof e&&(i=!0,r.width=e),"number"==typeof t?r.height=Ext.Number.constrain(t,r.minHeight,r.maxHeight):null===t?delete r.height:"string"==typeof t&&(n=!0,r.height=t),r.rendered&&r.isVisible()&&(o===r.width&&s===r.height||((r.liquidLayout||i||n)&&r.el.setSize(r.width,r.height),r.updateLayout(r._notAsLayoutRoot))),r},setStyle:function(e,t){return(this.el||this.protoEl).setStyle(e,t),this},setUI:function(e){var t,i=this,n=i.uiCls,r=i.activeUI;e!==r&&(r?((t=i.removeClsWithUI(n,!0)).length&&i.removeCls(t),i.removeUIFromElement()):i.uiCls=[],i.ui=e,i.activeUI=e,i.addUIToElement(),(t=i.addClsWithUI(n,!0)).length&&i.addCls(t),i.rendered&&i.updateLayout())},setVisible:function(e){return this[e?"show":"hide"]()},setHidden:function(e){return this.setVisible(!e)},setWidth:function(e){return this.setSize(e)},show:function(e,t,i){var n=this,r=n.rendered,o=n.focusableContainer;return n.hierarchicallyHidden||n.floating&&!r&&n.isHierarchicallyHidden()?(r||n.initHierarchyEvents(),1<arguments.length?(arguments[0]=null,n.pendingShow=arguments):n.pendingShow=!0):r&&n.isVisible()?n.floating&&n.onFloatShow():!1!==n.fireEvent("beforeshow",n)?(n.hidden=!1,delete this.getInherited().hidden,o&&o.beforeFocusableChildShow(n),Ext.suspendLayouts(),r||!n.autoRender&&!n.floating||(n.doAutoRender(),r=n.rendered),r?(n.beforeShow(),Ext.resumeLayouts(),n.onShow.apply(n,arguments),n.afterShow.apply(n,arguments)):Ext.resumeLayouts(!0)):n.onShowVeto(),n},showAt:function(e,t,i){var n=this;return n.rendered||!n.autoRender&&!n.floating?n.floating?n.setPosition(e,t,i):n.setPagePosition(e,t,i):(n.x=e,n.y=t),n.show()},showBy:function(e,t,i){return this.floating||Ext.log.warn("Using showBy on a non-floating component"),this.floating&&e&&(this._lastAlignTarget=e,this._lastAlignToPos=t||this.defaultAlign,this._lastAlignToOffsets=i||this.alignOffset,this.show()),this},suspendLayouts:function(){this.rendered&&1==++this.layoutSuspendCount&&(this.suspendLayout=!0)},toggleCls:function(e,t){return void 0===t&&(t=!this.hasCls(e)),this[t?"addCls":"removeCls"](e)},unitizeBox:function(e){return Ext.Element.unitizeBox(e)},unmask:function(){(this.getMaskTarget()||this.el).unmask(),this.setMasked(!1)},unregisterFloatingItem:function(e){this.floatingDescendants&&this.floatingDescendants.unregister(e)},up:function(e,t){var i=this.getRefOwner(),n="string"==typeof t,r="number"==typeof t,o=t&&t.isComponent,s=0;if(e)for(;i&&!i.destroyed;i=i.getRefOwner()){if(s++,e.isComponent){if(i===e)return i}else if(Ext.ComponentQuery.is(i,e))return i;if(n&&i.is(t))return;if(r&&s===t)return;if(o&&i===t)return}return i},update:function(e,t,i,n){var r,o=this,s=o.tpl&&!Ext.isString(e),a=o.focusableContainer;s?o.data=e&&e.isEntity?e.getData(!0):e:o.html=Ext.isObject(e)?Ext.DomHelper.markup(e):e,o.rendered&&(e=(e=o.getSizeModel()).width.shrinkWrap||e.height.shrinkWrap,o.isContainer?(r=o.layout.getRenderTarget(),e=e||0<o.items.items.length):r=o.getTargetEl(),s?o.tpl[o.tplWriteMode](r,o.data||{}):r.setHtml(o.html,t,i,n||o),e&&o.updateLayout(),a&&a.onFocusableChildUpdate(o))},setHtml:function(e,t,i){this.update(e,t,null,i)},applyData:function(e){this.update(e)},updateBox:function(e){return this.setSize(e.width,e.height),this.setPagePosition(e.x,e.y),this},_asLayoutRoot:{isRoot:!0},_notAsLayoutRoot:{isRoot:!1},updateLayout:function(e){var t=this,i=t.lastBox,n=e&&e.isRoot,r=e&&e.context;i&&(i.invalid=!0),!t.rendered||t.layoutSuspendCount||t.suspendLayout||(t.hidden?Ext.Component.cancelLayout(t):"boolean"!=typeof n&&(n=t.isLayoutRoot()),!n&&t.ownerLayout&&t.ownerLayout.onContentChange(t,r)||t.isLayoutSuspended()||(e=e&&e.hasOwnProperty("defer")?e.defer:t.deferLayouts,Ext.Component.updateLayout(t,e)))},updateMaxHeight:function(e,t){this.changeConstraint(e,t,"min","max-height","height")},updateMaxWidth:function(e,t){this.changeConstraint(e,t,"min","max-width","width")},updateMinHeight:function(e,t){this.changeConstraint(e,t,"max","min-height","height")},updateMinWidth:function(e,t){this.changeConstraint(e,t,"max","min-width","width")},updateTouchAction:function(e){var t,i,n,r;for(t in e)i=this[t],n=e[t],i&&i.isElement?i.setTouchAction(n):r=!0;r&&this.el.setTouchAction(e)},getAnchorToXY:function(e,t,i,n){return e.getAnchorXY(t,i,n)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(e){this.el.setLocalX(e)},setLocalXY:function(e,t){this.el.setLocalXY(e,t)},setLocalY:function(e){this.el.setLocalY(e)},setX:function(e,t){this.el.setX(e,t)},setXY:function(e,t){this.el.setXY(e,t)},setY:function(e,t){this.el.setY(e,t)},privates:{addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},addUIToElement:function(){var e,t,i,n,r=this.baseCls+"-"+this.ui;if(this.addCls(r),this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(t in r+="-",e=this.getChildEls())(n=e[t].frame)&&!0!==n&&(i=this[t])&&i.addCls(r+n)},changeConstraint:function(e,t,i,n,r){var o=this[r];null!=e&&"number"==typeof o&&(this[r]=Math[i](o,e)),this.liquidLayout&&(null!=e?this.setStyle(n,e+"px"):t&&this.setStyle(n,"")),this.rendered&&this.updateLayout()},constructPlugin:function(e){return e="string"==typeof e?Ext.PluginManager.create({},e,this):Ext.PluginManager.create(e,null,this)},constructPlugins:function(){var e,t,i,n=this.plugins;if(n)for((e=[]).processed=!0,Ext.isArray(n)||(n=[n]),t=0,i=n.length;t<i;t++)e[t]=this.constructPlugin(n[t]);return this.pluginsInitialized=!0,e},detachFromBody:function(){Ext.getDetachedBody().appendChild(this.el),Ext.Component.cancelLayout(this),this.isDetached=!0},doAddListener:function(e,t,i,n,r,o,s){var a,l,d,c,u,h=this;if(Ext.isObject(t)||n&&n.element){if(n.element)for(l in c=n.element,(a={})[e]=t,i&&(a.scope=i),d=h.$elementEventOptions,n)d[l]&&(a[l]=n[l]);else a=t,c=e;(u=h[c])&&u.isObservable?h.mon(u,a):(h.afterRenderEvents=h.afterRenderEvents||{},h.afterRenderEvents[c]||(h.afterRenderEvents[c]=[]),h.afterRenderEvents[c].push(a))}else(n&&n.delegate?h.mixins.componentDelegation.addDelegatedListener:h.mixins.observable.doAddListener).call(h,e,t,i,n,r,o,s)},doRemoveListener:function(e,t,i){this.mixins.observable.doRemoveListener.call(this,e,t,i),this.mixins.componentDelegation.removeDelegatedListener.call(this,e,t,i)},fireHierarchyEvent:function(e){var t=Ext.GlobalEvents;t.hasListeners[e]&&t.fireEvent(e,this)},getActionEl:function(){return this.el},getAutoId:function(){return this.autoGenId=!0,++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e,t=this.getScrollable(),i=this._scrollFlags,i=t?(!0===(e=t.getX())&&(e="auto"),!0===(t=t.getY())&&(t="auto"),i[e][t]):i.none;return{overflowX:(this.scrollFlags=i).overflowX,overflowY:i.overflowY}},getPlugins:function(){var e=this.plugins;return(e=e&&e.processed?e:this.constructPlugins())||null},getProxy:function(){var e;return this.proxy||(e=Ext.getBody(),this.proxy=this.el.createProxy(Ext.baseCSSPrefix+"proxy-el",e,!0)),this.proxy},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(e){return Ext.log.warn("getTpl is deprecated, use lookupTpl."),this.lookupTpl(e)},initCls:function(){var e=this,t=[e.baseCls],i=e.getComponentLayout().targetCls;return i&&t.push(i),Ext.isDefined(e.cmpCls)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls."),e.componentCls=e.cmpCls,delete e.cmpCls),e.componentCls?t.push(e.componentCls):e.componentCls=e.baseCls,t},initDraggable:function(){var e=this,t=e.resizer&&e.resizer.el!==e.el?e.resizerComponent=new Ext.Component({el:e.resizer.el,rendered:!0,container:e.container}):e,i=Ext.applyIf({el:t.getDragEl(),constrainTo:e.constrain||e.draggable.constrain?e.constrainTo||(e.floatParent?e.floatParent.getTargetEl():e.container):void 0},e.draggable);(e.constrain||e.constrainDelegate)&&(i.constrain=e.constrain,i.constrainDelegate=e.constrainDelegate),e.dd=new Ext.util.ComponentDragger(t,i)},initPadding:function(e){var t=this.padding;null!=t&&(this.layout&&this.layout.managePadding&&"padding"===this.contentPaddingProperty?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===t?5:t)))},initPlugin:function(e){return e.init(this),e},initResizable:function(e){((e=Ext.apply({target:this,dynamic:!1,constrainTo:this.constrain||e&&e.constrain?this.constrainTo||(this.floatParent?this.floatParent.getTargetEl():this.container):void 0,handles:this.resizeHandles},e)).target=this).resizer=new Ext.resizer.Resizer(e)},initStyles:function(e){var t=this,i=t.margin,n=t.border,r=t.cls,o=t.style,s=t.x,a=t.y,l=t.liquidLayout;t.initPadding(e),null!=i&&e.setStyle("margin",this.unitizeBox(!0===i?5:i)),null!=n&&t.setBorder(n,e),r&&r!==t.initialCls&&(e.addCls(r),t.cls=t.initialCls=null),o&&o!==t.initialStyle&&(e.setStyle(o),t.style=t.initialStyle=null),null!=s&&e.setStyle(t.horizontalPosProp,"number"==typeof s?s+"px":s),null!=a&&e.setStyle("top","number"==typeof a?a+"px":a),t.ownerCt&&!t.floating||(Ext.scopeCss&&e.addCls(t.rootCls),e.addCls(t.borderBoxCls)),!l&&t.getFrameInfo()||(l=t.width,t=t.height,null!=l&&("number"==typeof l?e.setStyle("width",l+"px"):e.setStyle("width",l)),null!=t&&("number"==typeof t?e.setStyle("height",t+"px"):e.setStyle("height",t)))},isContainedFloater:function(){return this.floating&&this.floatParent},isDescendant:function(e){if(e.isContainer)for(var t=this.ownerCt;t;t=t.ownerCt)if(t===e)return!0;return!1},owns:function(e){var t=!1;return e.isEvent?e=e.target:e.isElement&&(e=e.dom),(e=Ext.Component.fromElement(e))&&(t=e===this||!!e.up(this)),t},parseBox:function(e){return Ext.Element.parseBox(e)},reattachToBody:function(){this.isDetached=!1},removeManagedListenerItem:function(e,t,i,n,r,o){var s=t.options?t.options.element:null;if(!s)return this.mixins.observable.removeManagedListenerItem.apply(this,arguments);(s=this[s])&&s.un&&(!e&&(t.item!==i||t.ename!==n||r&&t.fn!==r||o&&t.scope!==o)||(s.un(t.ename,t.fn,t.scope),e||Ext.Array.remove(this.managedListeners,t)))},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(e){Ext.Array.remove(this.plugins,e),e.destroy()},removeUIFromElement:function(){var e,t,i,n,r=this.baseCls+"-"+this.ui;if(this.removeCls(r),this.rendered&&this.frame&&!Ext.supports.CSS3BorderRadius)for(t in r+="-",e=this.getChildEls())(n=e[t].frame)&&!0!==n&&(i=this[t])&&i.removeCls(r+n)},setComponentLayout:function(e){var t=this.componentLayout;t&&t.isLayout&&t!==e&&t.setOwner(null),(this.componentLayout=e).setOwner(this)},setHiddenState:function(e){var t=this.getInherited(),i=this.zIndexManager;(this.hidden=e)?t.hidden=!0:delete t.hidden,i&&i.onComponentShowHide(this)},setupProtoEl:function(){var e=this.initCls();this.protoEl.addCls(e)},wrapPrimaryEl:function(e){var t=this.el;t&&t.isElement||(this.el=Ext.get(e)),this.floating&&this.mixins.floating.constructor.call(this)}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){return this.updateLayout(),this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(i){var e=i.prototype;(e.$elementEventOptions=Ext.Object.chain(Ext.Element.prototype.$eventOptions)).element=1,(e.$eventOptions=Ext.Object.chain(e.$eventOptions)).delegate=1,i.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"}),Ext.resumeLayouts=function(e){i.resumeLayouts(e)},Ext.suspendLayouts=function(){i.suspendLayouts()},Ext.batchLayouts=function(e,t){i.suspendLayouts();try{e.call(t)}finally{i.resumeLayouts(!0)}},Ext.setGlyphFontFamily=function(e){Ext._glyphFontFamily=e},i.hierarchyEventSource=e.hierarchyEventSource=Ext.GlobalEvents,Ext.onReady(function(){Ext.supports.HighContrastMode&&Ext.getBody().addCls(i.ariaHighContrastModeCls)})}),Ext.define("Ext.layout.container.border.Region",{override:"Ext.Component",initBorderRegion:function(){var t=this;t._borderRegionInited||(t._borderRegionInited=!0,t.addStateEvents(["changeregion","changeweight"]),Ext.override(t,{getState:function(){var e=t.callParent(),e=t.addPropertyToState(e,"region");return t.addPropertyToState(e,"weight")}}))},getOwningBorderContainer:function(){var e=this.getOwningBorderLayout();return e&&e.owner},getOwningBorderLayout:function(){var e=this.ownerLayout;return e&&e.isBorderLayout?e:null},setRegion:function(e){var t=this,i=t.region;if("string"!=typeof e&&Ext.raise("Use setBox to set the size or position of a component."),e!==i)if(n=t.getOwningBorderLayout()){var n,r=n.regionFlags[e],o=t.placeholder,s=t.splitter,a=n.owner,l=n.regionMeta,d=t.collapsed||t.floated;if(!1===t.fireEventArgs("beforechangeregion",[t,e]))return i;Ext.suspendLayouts(),t.region=e,Ext.apply(t,r),t.updateCollapseTool&&t.updateCollapseTool(),s&&(Ext.apply(s,r),s.updateOrientation(),0<=(r=(n=a.items).indexOf(t))&&(l=l[e].splitterDelta,n.getAt(r+l)!==s&&(n.remove(s),r=n.indexOf(t),0<l&&++r,n.insert(r,s)))),o&&(d&&t.expand(!1),a.remove(o),t.placeholder=null,d&&t.collapse(null,!1)),a.updateLayout(),Ext.resumeLayouts(!0),t.fireEventArgs("changeregion",[t,i])}else t.region=e;return i},setWeight:function(e){var t=this.getOwningBorderContainer(),i=this.placeholder,n=this.weight;return e!==n&&!1!==this.fireEventArgs("beforechangeweight",[this,e])&&(this.weight=e,i&&(i.weight=e),t&&t.updateLayout(),this.fireEventArgs("changeweight",[this,n])),n}},function(e){e=e.prototype;e.setBorderRegion=e.setRegion,e.setRegionWeight=e.setWeight}),Ext.define("Ext.rtl.Component",{override:"Ext.Component",applyScrollable:function(e,t){t=this.callParent([e,t]);return t&&this.getInherited().rtl&&t.setRtl(!0),t},convertPositionSpec:function(e){return Ext.util.Region.getAlignInfo(e,(Ext.rootInheritedState.rtl||!1)!==(this.getInherited().rtl||!1))},getAnchorToXY:function(e,t,i,n){var r,o=document,s=e.dom===o.body||e.dom===o?(r=(o=Ext.rootInheritedState.rtl?e.rtlGetScroll():e.getScroll()).left,o.top):(s=e.getXY(),r=i?0:s[0],i?0:s[1]);return e.calculateAnchorXY(t,r,s,n)},getBorderPadding:function(){var e,t=this.el.getBorderPadding();return this.isParentRtl()&&(e=t.xBegin,t.xBegin=t.xEnd,t.xEnd=e),t},getLocalX:function(){return this.isLocalRtl()?this.el.rtlGetLocalX():this.el.getLocalX()},getLocalXY:function(){return this.isLocalRtl()?this.el.rtlGetLocalXY():this.el.getLocalXY()},unitizeBox:function(e){return this.getInherited().rtl?Ext.dom.Element.rtlUnitizeBox(e):this.callParent(arguments)},initInheritedState:function(e){this.callParent(arguments);var t=this.rtl;void 0!==t&&(e.rtl=t)},isLocalRtl:function(){var e=this.floating?(void 0===this._isOffsetParentRtl&&(e=this.el.dom.offsetParent||this.el.dom.parentNode)&&(this._isOffsetParentRtl=Ext.fly(e,"_isLocalRtl").isStyle("direction","rtl")),!!this._isOffsetParentRtl):this.isParentRtl();return e},isParentRtl:function(){var e,t=this.getInherited(),i=!1;return t.hasOwnProperty("rtl")&&(e=t.rtl,delete t.rtl),t.rtl&&(i=!0),void 0!==e&&(t.rtl=e),i},setLocalX:function(e){return this.isLocalRtl()?this.el.rtlSetLocalX(e):this.el.setLocalX(e)},setLocalXY:function(e,t){return this.isLocalRtl()?this.el.rtlSetLocalXY(e,t):this.el.setLocalXY(e,t)},isOppositeRootDirection:function(){return!this.getInherited().rtl!=!Ext.rootInheritedState.rtl},privates:{initStyles:function(){this.getInherited().rtl&&(this.horizontalPosProp="right"),this.callParent(arguments)},parseBox:function(e){return this.getInherited().rtl?Ext.dom.Element.rtlParseBox(e):this.callParent(arguments)}}},function(){Ext.onInternalReady(function(){(Ext.fly(document.documentElement).isStyle("direction","rtl")||Ext.getBody().isStyle("direction","rtl"))&&(Ext.rootInheritedState.rtl=!0)})}),Ext.define("Ext.overrides.app.domain.Component",{override:"Ext.app.domain.Component",requires:["Ext.Component"]},function(e){e.monitor(Ext.Component)}),Ext.define("Ext.app.EventBus",{singleton:!0,requires:["Ext.app.domain.Component"],constructor:function(){var e=Ext.app.EventDomain.instances;this.callParent(),this.domains=e,this.bus=e.component.bus},control:function(e,t){return this.domains.component.listen(e,t)},listen:function(e,t){var i,n=this.domains;for(i in e)e.hasOwnProperty(i)&&n[i].listen(e[i],t)},unlisten:function(e){var t,i=Ext.app.EventDomain.instances;for(t in i)i[t].unlisten(e)}}),Ext.define("Ext.app.domain.Global",{extend:"Ext.app.EventDomain",requires:["Ext.GlobalEvents"],singleton:!0,type:"global",constructor:function(){this.callParent(),this.monitor(Ext.GlobalEvents)},listen:function(e,t){this.callParent([{global:e},t])},match:Ext.returnTrue}),Ext.define("Ext.app.BaseController",{requires:["Ext.app.EventBus","Ext.app.domain.Global"],uses:["Ext.app.domain.Controller"],mixins:["Ext.mixin.Observable"],isController:!0,config:{id:void 0,control:null,listen:null,routes:null,before:null},constructor:function(e){Ext.apply(this,e),delete this.control,delete this.listen,this.eventbus=Ext.app.EventBus,this.mixins.observable.constructor.call(this,e)},updateId:function(e){this.id=e},applyListen:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},applyControl:function(e){return Ext.isObject(e)&&(e=Ext.clone(e)),e},updateControl:function(e){this.getId(),e&&this.control(e)},updateListen:function(e){this.getId(),e&&this.listen(e)},updateRoutes:function(e){if(e){var t,i,n,r=this.getBefore()||{},o=Ext.app.route.Router;for(t in e)i=e[t],Ext.isString(i)&&(i={action:i}),n=i.action,i.before?r[n]&&Ext.log.warn('You have a before method configured on a route ("'+t+'") and in the before object property also in the "'+this.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.'):i.before=r[n],o.connect(t,i,this)}},isActive:function(){return!0},control:function(e,t,i){var n,i=i;Ext.isString(e)?(n={})[e]=t:(n=e,i=t),this.eventbus.control(n,i||this)},listen:function(e,t){this.eventbus.listen(e,t||this)},destroy:function(){var e=this.eventbus;Ext.app.route.Router.disconnectAll(this),e&&(e.unlisten(this),this.eventbus=null),this.callParent()},redirectTo:function(e,t){e.isModel&&(e=e.toUrl());var i=!1;return Ext.util.History.getToken()===e?t&&(i=!0,Ext.app.route.Router.onStateChange(e)):(i=!0,Ext.util.History.add(e)),i}}),Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(e){var t,i,n=Ext.app.namespaces;for(Ext.isArray(e)||(e=[e]),t=0,i=e.length;t<i;t++)n[e[t]]=!0},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(e){var t,i=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),n="";for(t in i)i.hasOwnProperty(t)&&t.length>n.length&&t+"."===e.substring(0,t.length+1)&&(n=t);return""===n?void 0:n},setupPaths:function(e,t,i){var n,r=Ext.manifest;if(e&&null!==t&&((r=r&&r.paths)&&void 0===t||Ext.Loader.setPath(e,void 0===t?"app":t)),i)for(n in i)i.hasOwnProperty(n)&&Ext.Loader.setPath(n,i[n])}}),Ext.getNamespace=Ext.app.getNamespace}),Ext.define("Ext.util.CollectionKey",{mixins:["Ext.mixin.Identifiable"],isCollectionKey:!0,observerPriority:-200,config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:!0},generation:0,map:null,mapRebuilds:0,constructor:function(e){this.initConfig(e),Ext.isFunction(this.getKey)||Ext.raise("CollectionKey requires a keyFn or property config")},get:function(e){return(this.map||this.getMap())[e]||null},clear:function(){this.map=null},getRootProperty:function(){var e=this.callParent();return null!==e?e:this.getCollection().getRootProperty()},indexOf:function(e,t){var i,n,r,o,s=(this.map||this.getMap())[e],a=this.getCollection(),e=a.length;if(!s)return-1;if(void 0===t&&(t=-1),s instanceof Array){for(n=e,o=(r=s).length;0<o--;)(i=a.indexOf(r[o]))<n&&t<i&&(n=i);if(n===e)return-1}else n=a.indexOf(s);return t<n?n:-1},updateKey:function(e,t){var i,n,r=this.map;r&&((i=r[t])instanceof Array?0<=(n=Ext.Array.indexOf(i,e))&&(2<i.length?i.splice(n,1):r[t]=i[1-n]):i&&(this.getUnique()&&i!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+this.getKey(e)+'"'),delete r[t]),this.add([e]))},onCollectionAdd:function(e,t){this.map&&this.add(t.items)},onCollectionItemChange:function(e,t){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,t){var i,n=this.map,r=t.items,o=r.length;if(n)if(this.getUnique()&&o<e.length/2)for(i=0;i<o;++i)delete n[this.getKey(r[i])];else this.map=null},add:function(e){for(var t,i,n,r=this.map,o=e.length,s=this.getUnique(),a=0;a<o;++a)n=this.getKey(i=e[a]),!s&&n in r?((t=r[n])instanceof Array||(r[n]=t=[t]),t.push(i)):r[n]=i},applyKeyFn:function(t){Ext.isString(t)?this.getKey=function(e){return e[t]()}:this.getKey=t},updateProperty:function(t){var i=this.getRootProperty();this.getKey=function(e){return(i?e[i]:e)[t]}},getMap:function(){var e=this.map;return e||(this.map=e={},this.keysByItemKey={},++this.mapRebuilds,this.add(this.getCollection().items)),e},updateCollection:function(e){e.addObserver(this)},clone:function(){return new Ext.util.CollectionKey(this.getCurrentConfig())}}),Ext.define("Ext.util.Grouper",{extend:"Ext.util.Sorter",isGrouper:!0,config:{groupFn:null,sortProperty:null},constructor:function(e){e&&e.getGroupString&&Ext.raise("Cannot set getGroupString - use groupFn instead"),this.callParent(arguments)},getGroupString:function(e){e=this._groupFn(e);return null!=e?String(e):""},sortFn:function(e,t){var i=this._groupFn(e),n=this._groupFn(t),r=this._sortProperty,o=this._root,s=this._sorterFn,a=this._transform;if(i===n)return 0;if(r||s){if(s)return s.call(this,e,t);o&&(e=e[o],t=t[o]),i=e[r],n=t[r],a&&(i=a(i),n=a(n))}return n<i?1:i<n?-1:0},standardGroupFn:function(e){var t=this._root;return(t?e[t]:e)[this._property]},updateSorterFn:function(){},updateProperty:function(){this.getGroupFn()||this.setGroupFn(this.standardGroupFn)}}),Ext.define("Ext.util.Collection",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.CollectionKey","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isCollection:!0,config:{autoFilter:!0,autoSort:!0,autoGroup:!0,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null,trackGroups:!0},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:!1,sorted:!1,filtered:!1,$endUpdatePriority:1001,manageSorters:!0,constructor:function(e){this.items=[],this.map={},this.length=0,e&&e.keyFn&&(this.getKey=e.keyFn),this.mixins.observable.constructor.call(this,e)},destroy:function(){var e=this,t=e._filters,i=e._sorters,n=e._groups;t&&(t.destroy(),e._filters=null),i&&(e.grouped=e.sorted=!1,e.setSorters(null),e.manageSorters&&i.destroy()),n&&(n.destroy(),e._groups=null),e.setSource(null),e.observers=e.items=e.map=null,e.callParent()},add:function(e){var t=this.decodeItems(arguments,0),i=t;return t.length&&(this.splice(this.length,0,t),i=1===t.length?t[0]:t),i},replaceAll:function(){var e=this.decodeItems(arguments,0),t=e;return e.length?(this.splice(0,this.length,e),t=1===e.length?e[0]:e):this.removeAll(),t},aggregate:function(e,t,i,n,r){var o=Ext.Array.slice(arguments);return o.unshift(this.items),this.aggregateItems.apply(this,o)},aggregateByGroup:function(e,t,i){var n=this.getGroups();return this.aggregateGroups(n,e,t,i)},aggregateItems:function(e,t,i,n,r,o){var s,a,l,d,c,u,h=Ext.Number.clipIndices(e.length,[n,r]),f=0!==n&&r!==e.length;if(n=h[0],r=h[1],!Ext.isFunction(i))return(i=this._aggregators[i]).call(this,e,n,r,t,this.getRootProperty());for(l=this.getRootProperty(),c=new Array(void 0),u=f?new Array(void 0):e,s=n,a=0;s<r;++s,a++)f&&(u[a]=d=e[s]),c[a]=(l?d[l]:d)[t];return i.call(o||this,e,c,0)},aggregateGroups:function(e,t,i,n){for(var r,o,s=e.items,a=s.length,l=!Ext.isFunction(i),d={},c=0;c<a;++c)r=s[c],o=l?r[i](t):this.aggregateItems(r.items,t,i,null,null,n),d[r.getGroupKey()]=o;return d},beginUpdate:function(){this.updating++||this.notify("beginupdate")},clear:function(){var e,t,i=this.generation,n=i?this.items:[];if(i&&(this.items=[],this.length=0,this.map={},this.indices={},this.generation++,e=this.getExtraKeys()))for(t in e)e[t].clear();return n},clone:function(){var e=new this.self(this.initialConfig);return e.add(this.items),e},collect:function(e,t,i){for(var n,r,o=this.items,s=o.length,a={},l=[],d=0;d<s;++d)r=o[d],r=(t?r[t]:r)[e],n=String(r),!i&&Ext.isEmpty(r)||a[n]||(a[n]=1,l.push(r));return l},contains:function(e){var t,i=!1;return null!=e&&(t=this.getKey(e),i=this.map[t]===e),i},containsKey:function(e){return e in this.map},createFiltered:function(e,t,i,n,r){var o,s,a,l,d,c=new this.self(this.initialConfig),u=this.getRootProperty(),h=this.items;if(Ext.isFunction(e))l=e,d=t;else{if(Ext.isString(e))a=[new Ext.util.Filter({property:e,value:t,root:u,anyMatch:i,caseSensitive:n,exactMatch:r})];else if(e instanceof Ext.util.Filter)a=[e],e.setRoot(u);else if(Ext.isArray(e))for(s=0,o=(a=e.slice(0)).length;s<o;++s)a[s].setRoot(u);l=Ext.util.Filter.createFilterFn(a)}for(d=d||this,s=0,o=h.length;s<o;s++)l.call(d,h[s])&&c.add(h[s]);return c},filterBy:function(e,t){return this.createFiltered(e,t)},each:function(e,t){var i,n,r=this.items,o=r.length;if(o)for(t=t||this,r=r.slice(0),i=0;i<o&&!1!==(n=e.call(t,r[i],i,o));i++);return n},eachKey:function(e,t){var i,n,r,o,s=this.items,a=s.length;if(a)for(t=t||this,s=s.slice(0),i=0;i<a&&(r=this.getKey(n=s[i]),!1!==(o=e.call(t,r,n,i,a)));i++);return o},endUpdate:function(){--this.updating||this.notify("endupdate")},find:function(t,e,i,n,r,o){if(Ext.isEmpty(e,!1))return null;var s=Ext.String.createRegex(e,n,r,o),a=this.getRootProperty();return this.findBy(function(e){return e&&s.test((a?e[a]:e)[t])},null,i)},findBy:function(e,t,i){var n,r,o,s=this.items,a=s.length;for(t=t||this,n=i||0;n<a;n++)if(o=this.getKey(r=s[n]),e.call(t,r,o))return s[n];return null},findIndex:function(e,t,i,n,r,o){o=this.find(e,t,i,n,r,o);return o?this.indexOf(o):-1},findIndexBy:function(e,t,i){i=this.findBy(e,t,i);return i?this.indexOf(i):-1},first:function(e){e=e?this.getGroups():void 0;return e?this.aggregateGroups(e,null,"first"):this.items[0]},last:function(e){e=e?this.getGroups():void 0;return e?this.aggregateGroups(e,null,"last"):this.items[this.length-1]},get:function(e){return this.map[e]},getAt:function(e){return this.items[e]},getByKey:function(e){return this.map[e]},getCount:function(){return this.length},getKey:function(e){var t=e.id;return 0===t||t||0===(t=e._id)||t?t:e.getId()},getRange:function(e,t){var i,n=this.items,r=n.length;return t<e&&Ext.raise("Inverted range passed to Collection.getRange: ["+e+","+t+"]"),i=r?(i=Ext.Number.clipIndices(r,[e,t]),n.slice(i[0],i[1])):[]},getValues:function(e,t,i,n){var r,o=this.items,i=Ext.Number.clipIndices(o.length,[i,n]),s=[],a=i[0];for(n=i[1];a<n;++a)r=o[a],r=(t?r[t]:r)[e],s.push(r);return s},indexOf:function(e){if(!e)return-1;e=this.getKey(e);return this.indexOfKey(e)},indexOfKey:function(e){var t=this.indices;return e in this.map?(t=t||this.getIndices())[e]:-1},insert:function(e,t){var i=this.decodeItems(arguments,1),n=i;return i.length&&(this.splice(e,0,i),n=1===i.length?i[0]:i),n},itemChanged:function(e,t,i,n){var r,o,s,a=this,l=0===i||!!i,d=a.filtered&&a.getAutoFilter(),c=!1,u=0,h=a.items,f=a.length-1,g=a.sorted&&0<f&&a.getAutoSort(),p=a.getSource(),m=0,x=!1,E=!1;p&&!p.updating?p.itemChanged(e,t,i,n):(p=a.getKey(e),d&&(c=(E=(o=a.indexOfKey(l?i:p))<0)!==(x=a.isItemFiltered(e))),c?s=x?(m=[e],-1):(r=[e],a.length):g&&!x&&(d||(o=a.indexOfKey(l?i:p)),d=a.getSortFn(),-1!==o&&(o&&0<d(h[o-1],h[o])?(u=-1,s=Ext.Array.binarySearch(h,e,0,o,d)):o<f&&0<d(h[o],h[o+1])&&(u=1,s=Ext.Array.binarySearch(h,e,o+1,d)),u&&(r=[e]))),n={item:e,key:p,index:s,filterChanged:c,keyChanged:l,indexChanged:!!u,filtered:x,oldIndex:o,newIndex:s,wasFiltered:E,meta:n},l&&(n.oldKey=i),t&&(n.modified=t),a.beginUpdate(),a.notify("beforeitemchange",[n]),l&&a.updateKey(e,i),(r||m)&&a.splice(s,m,r),0<u?n.newIndex--:u<0&&n.oldIndex++,a.notify(x?"filtereditemchange":"itemchange",[n]),a.endUpdate())},remove:function(e){var t=this.decodeRemoveItems(arguments,0),i=this.length;return this.splice(0,t),i-this.length},removeAll:function(){var e=this.length;return this.generation&&e&&this.splice(0,e),this},removeAt:function(e,t){var i=this.length,n=Ext.Number,e=n.clipIndices(i,[e,void 0===t?1:t],n.Clip.COUNT),t=e[0],n=e[1]-t,e=1==n&&this.getAt(t);return this.splice(t,n),i=this.length-i,e&&i?e:i},removeByKey:function(e){e=this.getByKey(e);return!(!e||!this.remove(e))&&e},replace:function(e){var t=this.indexOf(e);-1===t?this.add(e):this.insert(t,e)},splice:function(e,t,i){var n,r,o,s,a,l,d,c,u,h,f,g,p,m,x,E=this,y=E.sorted&&E.getAutoSort(),v=E.map,b=E.items,C=E.length,S=t instanceof Array?E.decodeRemoveItems(t):null,w=!S,P=Ext.Number,P=P.clipIndices(C,[e,w?t:0],P.Clip.COUNT),T=P[0],I=P[1],k=I-T,R=E.decodeItems(arguments,2),M=R?R.length:0,A=T,D=E.indices||(M||S?E.getIndices():null),F=null,L=k?[T]:null,O=null,P=E.getSource();if(P&&!P.updating){if(w)for(S=[],d=0;d<k;++d)S.push(b[T+d]);return d=T<C?P.indexOf(b[T]):P.length,E.requestedIndex=e,P.splice(d,S,R),delete E.requestedIndex,E}if(M){for(n=R,O=[],r={},y&&(x=E.getSorters(),1<M&&(n.$cloned||(R=n=n.slice(0)),E.sortData(n))),d=0;d<M;++d)void 0!==(h=r[f=E.getKey(c=R[d])])?(m=m||{})[h]=1:((u=D[f])<T||I<=u)&&(L=L||[]).push(u),r[f]=d,O.push(f);if(m){for(g=O,O=[],(n=[]).$cloned=!0,d=0;d<M;++d)m[d]||(c=R[d],n.push(c),O.push(g[d]));M=n.length}F={items:n,keys:O}}for(d=S?S.length:0;0<d--;)void 0!==(u=D[f=E.getKey(S[d])])&&(L=L||[]).push(u);if(!F&&!L)return E;if(E.beginUpdate(),L){for(s=null,l=[],o={},1<L.length&&L.sort(Ext.Array.numericSortFn),d=0,p=L.length;d<p;++d)(f=E.getKey(c=b[u=L[d]]))in v&&(delete v[f],(!s||u>s.at+a.length)&&(l.push(s={at:u,items:a=[],keys:g=[],map:o,next:s,replacement:F}),F&&(F.replaced=s)),a.push(o[f]=c),g.push(f),u<A-1&&--A,1<k&&u===T&&(--k,L[d--]=++T));for(F&&(F.at=A),h=l.length;0<h--;){if((d=(s=l[h]).at)+(p=s.items.length)<C&&(E.indices=D=null),E.length=C-=p,b.splice(d,p),D)for(g=s.keys,d=0;d<p;++d)delete D[g[d]];++E.generation,E.notify("remove",[s])}}if(F)if(y&&1<M&&C)E.spliceMerge(n,O);else{if(y&&(1<M?(A=0,E.indices=D=null):A=x.findInsertionIndex(F.items[0],b,E.getSortFn(),e)),A===C){for(I=A,d=n.length-1;0<=d;--d)b[I+d]=n[d];if(D=E.indices)for(d=0;d<M;++d)D[O[d]]=A+d}else E.indices=null,Ext.Array.insert(b,A,n);for(d=0;d<M;++d)v[O[d]]=n[d];E.length+=M,F.at=A,F.atItem=0===A?null:b[A-1],++E.generation,E.notify("add",[F])}return E.endUpdate(),E},update:function(e,t){this.beginUpdate();try{return e.call(t||this,this)}catch(e){throw Ext.log.error(this.$className+": Unhandled Exception: ",e.description||e.message),e}finally{this.endUpdate()}},updateKey:function(e,t){var i=this.map,n=this.indices,r=this.getSource();r&&!r.updating?r.updateKey(e,t):(r=this.getKey(e))!==t&&(i[t]!==e||r in i?(r in i&&i[r]!==e&&Ext.raise('Duplicate newKey "'+r+'" for item with oldKey "'+t+'"'),t in i&&i[t]!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+r+'"')):(delete i[t],this.updating++,this.generation++,i[r]=e,n&&(n[r]=n[t],delete n[t]),this.notify("updatekey",[{item:e,newKey:r,oldKey:t}]),this.updating--))},findInsertIndex:function(e){for(var t,i=this.getSource(),n=i.items,r=i.indexOf(e)-1;-1<r;){if(t=n[r],-1<(t=this.indexOf(t)))return t+1;--r}return 0},onCollectionAdd:function(e,t){var i,n,r,o,s,a,l=this,d=t.atItem,c=t.items,t=l.requestedIndex;if(l.sorted||(void 0!==t?n=t:d?-1===(n=l.indexOf(d))?n=l.findInsertIndex(c[0]):++n:n=0),l.getAutoFilter()&&l.filtered)for(o=0,a=c.length;o<a;++o)s=c[o],l.isItemFiltered(s)?(r=r||c.slice(0,o),(i=i||[]).push(s)):r&&r.push(s);l.splice(n<0?l.length:n,0,r||c),i&&l.notify("filteradd",[i])},onCollectionBeforeItemChange:function(e,t){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){delete this.onCollectionUpdateKey,this.itemChanged(t.item,t.modified,t.oldKey,t.meta)},onCollectionFilteredItemChange:null,onCollectionRefresh:function(e){var t,i,n,r,o=this,s={},a={},l=e.items;for(l=o.filtered&&o.getAutoFilter()?Ext.Array.filter(l,o.getFilterFn()):l.slice(0),o.sorted&&o.sortData(l),o.items=l,o.length=r=l.length,o.map=s,o.indices=a,t=0;t<r;++t)s[n=o.getKey(i=l[t])]=i,a[n]=t;o.notify("refresh")},onCollectionRemove:function(e,t){this.splice(0,t.items)},onCollectionUpdateKey:function(e,t){this.updateKey(t.item,t.oldKey)},_aggregators:{average:function(e,t,i,n,r){var o=i-t;return o&&this._aggregators.sum.call(this,e,t,i,n,r)/o},bounds:function(e,t,i,n,r){for(var o,s,a,l=t;l<i;++l)o=e[l],(o=(r?o[r]:o)[n])<s||(s=o),a<o||(a=o);return[a,s]},count:function(e){return e.length},extremes:function(e,t,i,n,r){for(var o,s,a,l,d=null,c=null,u=t;u<i;++u)o=e[u],(l=(r?o[r]:o)[n])<s||(s=l,d=o),a<l||(a=l,c=o);return[c,d]},max:function(e,t,i,n,r){return this._aggregators.bounds.call(this,e,t,i,n,r)[1]},maxItem:function(e,t,i,n,r){return this._aggregators.extremes.call(this,e,t,i,n,r)[1]},min:function(e,t,i,n,r){return this._aggregators.bounds.call(this,e,t,i,n,r)[0]},minItem:function(e,t,i,n,r){return this._aggregators.extremes.call(this,e,t,i,n,r)[0]},sum:function(e,t,i,n,r){for(var o,s=0,a=t;a<i;++a)o=e[a],s+=o=(r?o[r]:o)[n];return s}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",filtereditemchange:"onCollectionFilteredItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",beforesort:"beforeCollectionSort",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(e){var t=this.observers;t||(this.observers=t=[]),Ext.Array.contains(t,e)&&Ext.Error.raise("Observer already added"),this.notifying&&(this.observers=t=t.slice(0)),t.push(e),1<t.length&&Ext.Array.sort(t,this.prioritySortFn)},prioritySortFn:function(e,t){return(e.observerPriority||0)-(t.observerPriority||0)},applyExtraKeys:function(e,t){var i,n,r,o=t||{};for(n in e)(r=e[n]).isCollectionKey?r.setCollection(this):(i={collection:this},Ext.isString(r)?i.property=r:i=Ext.apply(i,r),r=new Ext.util.CollectionKey(i)),(o[n]=this[n]=r).name=n;return o},applyGrouper:function(e){return e=e&&this.getSorters().decodeSorter(e,"Ext.util.Grouper")},decodeItems:function(e,t){var i,n,r,o=void 0===t?e:e[t];if(!o||!o.$cloned){if((i=e.length>t+1||!Ext.isIterable(o))&&1===(o=Ext.Array.slice(e,t)).length&&void 0===o[0]&&(o.length=0),n=this.getDecoder())for(i||(o=o.slice(0),i=!0),r=o.length;0<r--;)!1===(o[r]=n.call(this,o[r]))&&o.splice(r,1);i&&(o.$cloned=!0)}return o},getIndices:function(){var e,t=this.indices,i=this.items,n=i.length;if(!t)for(this.indices=t={},++this.indexRebuilds,e=0;e<n;++e)t[this.getKey(i[e])]=e;return t},notify:function(e,t){var i,n,r,o,s=this.observers,a=this._eventToMethodMap[e],l=0;if(t=t||[],s&&a){for(this.notifying=!0,i=0,n=s.length;i<n;++i)(r=(o=s[i])[a])&&(l++||t.unshift(this),r.apply(o,t));this.notifying=!1}this.hasListeners&&this.hasListeners[e]&&(l||t.unshift(this),this.fireEventArgs(e,t))},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(e){var t=this._filters;return t||!1===e||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},isItemFiltered:function(e){return!this.getFilters().filterFn(e)},onFilterChange:function(e){var t,i,n,r=this,o=r.getSource();if(o)(o.length||r.length)&&r.onCollectionRefresh(o);else{if(t=r.getExtraKeys())for(n in i={},t)i[n]=t[n].clone(r);o=new Ext.util.Collection({keyFn:r.getKey,extraKeys:i,rootProperty:r.getRootProperty()}),r.length&&o.add(r.items),r.setSource(o),r.autoSource=o}r.notify("filter")},applyFilters:function(e,t){return!e||e.isFilterCollection?e:(e&&(t=t||this.getFilters()).splice(0,t.length,e),t)},updateFilters:function(e,t){t&&t.un("endupdate","onEndUpdateFilters",this),e&&(e.on({endupdate:"onEndUpdateFilters",scope:this,priority:this.$endUpdatePriority}),e.$filterable=this),this.onEndUpdateFilters(e)},onEndUpdateFilters:function(e){var t=this.filtered,i=!!e&&0<e.length;(t||i)&&(this.filtered=i,this.onFilterChange(e))},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(e){var t=this._sorters;return t||!1===e||(t=new Ext.util.SorterCollection,this.setSorters(t)),t},onSortChange:function(){this.sorted&&this.sortItems()},sort:function(e,t,i){var n=this.getSorters();return n.addSort.apply(n,arguments),this},sortData:function(e){return Ext.Array.sort(e,this.getSortFn()),e},sortItems:function(e){this.sorted&&(e&&Ext.raise("Collections with sorters cannot resorted"),e=this.getSortFn()),this.indices=null,this.notify("beforesort",[this.getSorters(!1)]),this.length&&Ext.Array.sort(this.items,e),this.notify("sort")},sortBy:function(e){return this.sortItems(e)},findInsertionIndex:function(e,t,i,n){var r,o;return t=t||this.items,i=i||this.getSortFn(),n<(o=t.length)&&(r=0<n?i(t[n-1],e):0,o=n<o-1?i(e,t[n]):0,r<1&&o<1)?n:Ext.Array.binarySearch(t,e,i)},applySorters:function(e,t){return!e||e.isSorterCollection?e:(e&&(t=t||this.getSorters()).splice(0,t.length,e),t)},createSortFn:function(){var n=this.getGrouper(),e=this.getSorters(!1),r=e?e.getSortFn():null;return n?function(e,t){var i=n.sort(e,t);return!i&&r&&(i=r(e,t)),i}:r},updateGrouper:function(e){var t,i=this,n=i.getGroups(),r=i.getSorters();i.onSorterChange(),i.grouped=!!e,e?i.getTrackGroups()&&(n||((n=new Ext.util.GroupCollection({itemRoot:i.getRootProperty()})).$groupable=i).setGroups(n),n.setGrouper(e),t=!0):(n&&(i.removeObserver(n),n.destroy()),i.setGroups(null)),r.updating||i.onEndUpdateSorters(r),t&&n.onCollectionRefresh(i)},updateSorters:function(e,t){t&&!t.destroyed&&t.un("endupdate","onEndUpdateSorters",this),e&&(e.on({endupdate:"onEndUpdateSorters",scope:this,priority:this.$endUpdatePriority}),e.$sortable=this),this.onSorterChange(),this.onEndUpdateSorters(e)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(e){var t=this.sorted,i=this.grouped&&this.getAutoGroup()||e&&0<e.length;(t||i)&&(this.sorted=!!i,this.onSortChange(e))},removeObserver:function(e){var t=this.observers;t&&Ext.Array.remove(t,e)},spliceMerge:function(e,t){var i,n,r,o,s,a,l=this.map,d=e.length,c=0,u=this.items,h=u.length,f=[],g=0,p=[],m=this.getSortFn();for(this.items=p,a=0;a<d;a=n){for(o=e[a];c<h&&!(m(o,s=u[c])<0);++c)p.push(s);if(c===h){for(f[g++]={at:p.length,itemAt:p[p.length-1],items:i=[]},1<g&&(f[g-2].next=f[g-1]);a<d;++a)i.push(o=e[a]),p.push(o);break}for(f[g++]={at:p.length,itemAt:p[p.length-1],items:i=[o]},1<g&&(f[g-2].next=f[g-1]),p.push(o),n=a+1;n<d&&!(0<=m(o=e[n],s));++n)p.push(o),i.push(o)}for(;c<h;++c)p.push(u[c]);for(r=0;r<d;++r)l[t[r]]=e[r];for(this.length=p.length,++this.generation,this.indices=null,r=0;r<g;++r)this.notify("add",[f[r]])},getGroups:function(){return this.callParent()||null},updateAutoGroup:function(e){var t=this.getGroups();t&&t.setAutoGroup(e),this.onEndUpdateSorters(this._sorters)},updateGroups:function(e,t){t&&this.removeObserver(t),e&&this.addObserver(e)},updateSource:function(e,t){var i=this.autoSource;t&&(t.destroyed||t.removeObserver(this),t===i&&(i.destroy(),this.autoSource=null)),e&&(e.addObserver(this),(e.length||this.length)&&this.onCollectionRefresh(e))}},function(){var e=this.prototype;e.removeAtKey=e.removeByKey,e.decodeRemoveItems=e.decodeItems,Ext.Object.each(e._aggregators,function(n){e[n]=function(e,t,i){return this.aggregate(e,n,t,i)},e[n+"ByGroup"]=function(e){return this.aggregateByGroup(e,n)}})}),Ext.define("Ext.util.ObjectTemplate",{requires:["Ext.XTemplate"],isObjectTemplate:!0,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(e,t){return Ext.isObject(e)||Ext.raise("The template is not an Object"),e.isObjectTemplate?e:new Ext.util.ObjectTemplate(e,t)}},constructor:function(e,t){Ext.apply(this,t),this.template=e},apply:function(e){return delete this.apply,this.apply=this.compile(this.template),this.apply(e)},privates:{compile:function(r){var o,e,n,t,s=this.excludeProperties;if(Ext.isString(r))t=r.indexOf("{")<0?function(){return r}:this.valueRe.test(r)?(r=r.substring(1,r.length-1).split("."),function(e){for(var t=e,i=0;t&&i<r.length;++i)t=t[r[i]];return t}):(r=new Ext.XTemplate(r),function(e){return r.apply(e)});else if(!r||Ext.isPrimitive(r)||Ext.isFunction(r))t=function(){return r};else if(r instanceof Array){for(o=[],e=0,n=r.length;e<n;++e)o[e]=this.compile(r[e]);t=function(e){for(var t=[],i=0;i<n;++i)t[i]=o[i](e);return t}}else{for(e in o={},r)s[e]||(o[e]=this.compile(r[e]));t=function(e){var t,i,n={};for(t in r)void 0!==(i=s[t]?r[t]:o[t](e))&&(n[t]=i);return n}}return t}}}),Ext.define("Ext.data.schema.Role",{isRole:!0,left:!0,owner:!1,side:"left",isMany:!1,defaultReaderType:"json",_internalReadOptions:{recordsOnly:!0,asRoot:!0},constructor:function(e,t){var i=t.extra;Ext.apply(this,t),i&&(delete(i=Ext.apply({},i)).type,Ext.apply(this,i),delete this.extra),(this.association=e).owner===this.side&&((e.owner=this).owner=!0)},processUpdate:function(){Ext.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},processLoad:function(e,t,i,n){return i},checkMembership:Ext.emptyFn,adoptAssociated:function(e,t){e=this.getAssociatedItem(e);e&&t.adopt(e)},$roleFilterId:"$associationRoleFilter",createAssociationStore:function(e,t,i,n){var r=this.association,o=r.getFieldName(),s=r.isManyToMany,a=this.storeConfig,r=t.getId(),t={asynchronousLoad:!1,model:this.cls,role:this,session:e,associatedEntity:t,disableMetaChangeEvent:!0,pageSize:null,remoteFilter:!0,trackRemoved:!e};return s?t.filters=[{id:this.$roleFilterId,property:this.inverse.field,value:r,exactMatch:!0}]:o&&(t.filters=[{id:this.$roleFilterId,property:o,value:r,exactMatch:!0}],t.foreignKeyName=o),a&&Ext.apply(t,a),t=Ext.Factory.store(t),this.onStoreCreate(t,e,r),(o||s&&e)&&t.on({scope:this,add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany"}),i&&t.loadData(i),t.complete=!!n,t},onStoreCreate:Ext.emptyFn,getAssociatedStore:function(r,o,s,e,t){var a,i,n,l,d,c,u,h=this.getStoreName(),f=r[h],g=r.session,p=o&&o.reload,m=r.$source,x=!1,E=!1;if(!f){if(g){if(m&&(E=m.phantom),!e&&m&&(c=m[h])&&!c.isLoading()){for(e=[],i=0,n=(l=c.getData().items).length;i<n;++i)d=l[i],e.push(g.getRecord(d.self,d.id));x=!!c.complete,u=!0}u||(u=!!e,e=this.findRecords(g,r,e,t),u||e&&e.length||(e=null),x=E||u)}else x=!!e;(f=this.createAssociationStore(g,r,e,x||r.phantom)).$source=c,e||!this.autoLoad&&!o||(p=!0),r[h]=f}return o&&(p||f.isLoading()?f.on("load",function(e,t,i,n){a=[e,n],s=s||o.scope||r,i?Ext.callback(o.success,s,a):Ext.callback(o.failure,s,a),a.push(i),Ext.callback(o,s,a),Ext.callback(o.callback,s,a)},null,{single:!0}):(a=[f,null],s=s||o.scope||r,Ext.callback(o.success,s,a),a.push(!0),Ext.callback(o,s,a),Ext.callback(o.callback,s,a))),p&&!f.isLoading()&&f.load(),f},getAssociatedItem:function(e){return e[this.isMany?this.getStoreName():this.getInstanceName()]||null},onDrop:Ext.emptyFn,onIdChanged:Ext.emptyFn,getReaderRoot:function(){return this.associationKey||(this.associationKey=this.association.schema.getNamer().readerRoot(this.role))},getReader:function(){var e=this.reader,t=this.cls,i=!this.associationKey,n=this.getReaderRoot();return e&&!e.isReader&&(Ext.isString(e)&&(e={type:e}),Ext.applyIf(e,{model:t,rootProperty:n,useSimpleAccessors:i,type:this.defaultReaderType}),e=this.reader=Ext.createByAlias("reader."+e.type,e)),e},getInstanceName:function(){return this.instanceName||(this.instanceName=this.association.schema.getNamer().instanceName(this.role))},getOldInstanceName:function(){return this.oldInstanceName||(this.oldInstanceName="$old"+this.getInstanceName())},getStoreName:function(){return this.storeName||(this.storeName=this.association.schema.getNamer().storeName(this.role))},constructReader:function(e){var t,i=this.getReader(),n=this.cls,r=!this.associationKey,o=this.getReaderRoot();return i||((t=n.getProxy())?((i=new(t=t.getReader()).self).copyFrom(t),i.setRootProperty(o)):i=new e.self({model:n,useSimpleAccessors:r,rootProperty:o}),this.reader=i),i},read:function(e,t,i,n){i=this.constructReader(i),t=i.getRoot(t);if(t)return i.readRecords(t,n,this._internalReadOptions)},getCallbackOptions:function(e,t,i){return"function"==typeof e?e={callback:e,scope:t||i}:e&&((e=Ext.apply({},e)).scope=t||e.scope||i),e},doGetFK:function(e,t,i){var n,r=this.cls,o=this.association.getFieldName(),s=this.getInstanceName(),a=e[s],l=t&&t.reload,d=void 0!==a&&!l,c=e.session;return d?a&&(d=!a.isLoading()):c?(n=e.get(o))||0===n?(d=c.peekRecord(r,n,!0)&&!l,a=c.getRecord(r,n,!1)):(d=!0,e[s]=a=null):o?(n=e.get(o))||0===n?a=a||r.createWithId(n):(d=!0,e[s]=a=null):(d=!0,a=null),d?t&&(d=[a,null],i=i||t.scope||e,Ext.callback(t.success,i,d),d.push(!0),Ext.callback(t,i,d),Ext.callback(t.callback,i,d)):(e[s]=a,t=this.getCallbackOptions(t,i,e),a.load(t)),a},doSetFK:function(e,t,i,n){var r,o=this.association.getFieldName(),s=this.getInstanceName(),a=e[s],l=this.inverse,d=l.setterName;e.session;if(t&&t.isEntity?a!==t&&(e[r=this.getOldInstanceName()]=a,e[s]=t,a&&a.isEntity&&(a[l.getInstanceName()]=void 0),o&&e.set(o,t.getId()),delete e[r],e.onAssociatedRecordSet(t,this),d&&t[d](e)):(o||Ext.raise('No foreignKey specified for "'+this.association.left.role+'" by '+e.$className),(e.changingKey&&!l.isMany||e.set(o,t))&&a&&a.isEntity&&!a.isEqual(a.getId(),t)&&(e[s]=void 0,l.isMany||(a[l.getInstanceName()]=void 0))),i)return Ext.isFunction(i)&&(i={callback:i,scope:n||e}),e.save(i)}}),Ext.define("Ext.data.schema.Association",{requires:["Ext.data.schema.Role"],isOneToOne:!1,isManyToOne:!1,isManyToMany:!1,owner:null,field:null,constructor:function(e){var t;Ext.apply(this,e),this.left=t=new this.Left(this,this.left),this.right=e=new this.Right(this,this.right),(t.inverse=e).inverse=t},hasField:function(){return!!this.field},getFieldName:function(){var e=this.field;return e?e.name:""}}),Ext.define("Ext.data.schema.OneToOne",{extend:"Ext.data.schema.Association",isOneToOne:!0,isToOne:!0,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",onDrop:function(e,t){var i=this.getAssociatedItem(e);e[this.getInstanceName()]=null,i&&(i[this.inverse.getInstanceName()]=null)},onIdChanged:function(e,t,i){var n=this.getAssociatedItem(e),r=this.association.getFieldName();!e.session&&n&&r&&n.set(r,i)},createGetter:function(){var e=this;return function(){return e.doGet(this)}},createSetter:function(){var t=this;return function(e){return t.doSet(this,e)}},doGet:function(e){var t=e[this.getInstanceName()];e.session;return t||null},doSet:function(e,t){var i=this.getInstanceName(),n=e[i],r=this.inverse.setterName;return n!==t&&(e[i]=t,r&&t[r](e),e.onAssociatedRecordSet(t,this)),n},read:function(e,t,i,n){var r,n=this.callParent([e,t,i,n]);n&&(r=n[0])&&((r[this.inverse.getInstanceName()]=e)[this.getInstanceName()]=r,delete e.data[this.role])}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",createGetter:function(){var i=this;return function(e,t){return i.doGetFK(this,e,t)}},createSetter:function(){var n=this;return function(e,t,i){return n.doSetFK(this,e,t,i)}},onDrop:function(e,t){var i,n=this.association.field,r=this.getAssociatedItem(e);this.inverse.owner&&(t&&n?((i=e.get(n.name))||0===i)&&(r=t.getEntry(this.cls,i).record)&&r.drop():r&&r.drop()),n&&e.set(n.name,null),e[this.getInstanceName()]=null,r&&(r[this.inverse.getInstanceName()]=null)},onValueChange:function(e,t,i){var n=e[this.getOldInstanceName()]||this.getAssociatedItem(e),r=i||0===i,o=this.getInstanceName(),s=this.cls;e.changingKey=!0,this.doSetFK(e,i),r?t&&s&&(e[o]=t.peekRecord(s,i)||void 0):e[o]=null,this.inverse.owner&&n&&this.association.schema.queueKeyCheck(n,this),e.changingKey=!1},checkKeyForDrop:function(e){this.inverse.getAssociatedItem(e)||e.drop()},read:function(e,t,i,n){var r,o,s,a,l=this.callParent([e,t,i,n]);l&&(r=l[0],(t=this.association.field)&&(o=t.name),i=e.session,n=e.data,r&&(i&&!((l=i.getRefs(r,this.inverse,!0))&&l[e.id]||void 0===n[o])||(t&&(a=n[o])!==(s=r.id)&&(n[o]=s,i&&i.updateReference(e,t,s,a)),(r[this.inverse.getInstanceName()]=e)[this.getInstanceName()]=r),delete n[this.role]))}})}),Ext.define("Ext.data.schema.ManyToOne",{extend:"Ext.data.schema.Association",isManyToOne:!0,isToOne:!0,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,onDrop:function(e,t){var i,n,r,o,s=this.getAssociatedItem(e);if(s){if((i=s.removeAll())&&this.inverse.owner)for(r=0,n=i.length;r<n;++r)i[r].drop();s.destroy(),e[this.getStoreName()]=null}else if(t&&(i=t.getRefs(e,this)))for(o in i)i[o].drop()},onIdChanged:function(e,t,i){var n,r,o,s,a=this.association.getFieldName(),l=this.getAssociatedItem(e);if(l&&((s=l.getFilters().get(this.$roleFilterId))&&s.setValue(i),!e.session&&a))for(r=0,o=(n=l.getDataSource().items).length;r<o;++r)n[r].set(a,i)},processUpdate:function(e,t){var i,n,r,o,s=this.inverse.cls,a=t.R;if(a)for(i in a)(n=e.peekRecord(s,i))?(o=e.getEntityList(this.cls,a[i]),(r=this.getAssociatedItem(n))?(r.loadData(o),r.complete=!0):n[this.getterName](null,null,o)):e.onInvalidAssociationEntity(s,i)},findRecords:function(e,t,i,n){var r,o,s,a,l,d,c=i,u=e.getRefs(t,this,!0),h=this.association.field;if(h&&(u||n)){if(r=h.name,c=[],i)for(d={},a=0,l=i.length;a<l;++a)s=(o=i[a]).id,u&&u[s]?c.push(o):n&&void 0===o.data[r]&&(c.push(o),o.data[r]=t.id,e.updateReference(o,h,t.id,void 0)),d[s]=!0;if(u)for(s in u)d&&d[s]||c.push(u[s])}return c},processLoad:function(e,t,i,n){var r=i;return n&&(r=this.findRecords(n,t,i,!0)),this.onLoadMany(t,r,n),r},adoptAssociated:function(e,t){var i,n,r,e=this.getAssociatedItem(e);if(e)for(e.setSession(t),n=0,r=(i=e.getData().items).length;n<r;++n)t.adopt(i[n])},createGetter:function(){var n=this;return function(e,t,i){return n.getAssociatedStore(this,e,t,i,!0)}},createSetter:null,onAddToMany:function(e,t){this.syncFK(t,e.getAssociatedEntity(),!1)},onLoadMany:function(e,t,i){var n,r,o,s,a,l,d=this.inverse.getInstanceName(),c=e.getId(),u=this.association.field;if(u)for(n=0,r=t.length;n<r;++n)(o=t[n])[d]=e,u&&(l=u.name,(s=(a=o.data)[l])!==c&&(a[l]=c,i&&i.updateReference(o,u,c,s)))},onRemoveFromMany:function(e,t){this.syncFK(t,e.getAssociatedEntity(),!0)},read:function(e,t,i,n){var r,o,s=this.inverse.getInstanceName(),a=this.callParent([e,t,i,n]);if(a)for(n=e[this.getterName](null,null,a),delete e.data[this.role],o=0,r=(a=n.getData().items).length;o<r;++o)a[o][s]=e},syncFK:function(e,t,i){for(var n,r,o=this.association.getFieldName(),s=this.inverse,a=s.setterName,l=s.getInstanceName(),d=e.length,c=t.getId();0<d--;)r=i?null:t,!(n=e[d]).isEqual(c,n.get(o))!==i?(n.changingKey=!0,n[a](r),n.changingKey=!1):n[l]=r}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:!1,side:"right",onDrop:function(e,t){var i=this.association.field;i&&e.set(i.name,null),e[this.getInstanceName()]=null},createGetter:function(){var i=this;return function(e,t){return i.doGetFK(this,e,t)}},createSetter:function(){var n=this;return function(e,t,i){return n.doSetFK(this,e,t,i)}},checkMembership:function(e,t){var i,n=this.association.field;n&&(i=this.getSessionStore(e,t.get(n.name)))&&!i.contains(t)&&i.add(t)},onValueChange:function(e,t,i,n){var r,o,s,a,l,d,c=this.getInstanceName(),u=this.cls;if(!e.changingKey)if((r=i||0===i)||(e[c]=null),t)(s=this.getSessionStore(t,n))&&s.remove(e),r&&((s=this.getSessionStore(t,i))&&!s.isLoading()&&s.add(e),u&&(d=t.peekRecord(u,i)),e[c]=d||void 0);else if(o=e.joined)for(a=o.length-1;0<=a;a--)(s=o[a]).isStore&&(l=s.getAssociatedEntity())&&l.self===this.cls&&l.getId()===n&&s.remove(e);this.owner&&null===i&&this.association.schema.queueKeyCheck(e,this)},checkKeyForDrop:function(e){var t=this.association.field;null===e.get(t.name)&&e.drop()},getSessionStore:function(e,t){var i,n=this.cls;if(n&&(i=e.peekRecord(n,t)))return this.inverse.getAssociatedItem(i)},read:function(e,t,i,n){var r,n=this.callParent([e,t,i,n]);n&&(r=n[0])&&(e[this.getInstanceName()]=r,delete e.data[this.role])}})}),Ext.define("Ext.data.schema.ManyToMany",{extend:"Ext.data.schema.Association",isManyToMany:!0,isToMany:!0,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:!0,digitRe:/^\d+$/,findRecords:function(e,t,i){var n,r,o,s,a,l,d=e.getMatrixSlice(this.inverse,t.id).members,c=[],u=this.cls;if(i)for(n={},r=0,o=i.length;r<o;++r)(a=d[s=(l=i[r]).id])&&-1===a[2]||c.push(l),n[s]=!0;for(s in d)a=d[s],(!n||!n[s]&&a&&-1!==a[2])&&(l=e.peekRecord(u,s))&&c.push(l);return c},onIdChanged:function(e,t,i){e=this.getAssociatedItem(e);e&&e.getFilters().get(this.$roleFilterId).setValue(i)},processLoad:function(e,t,i,n){var r=i;return n&&(r=this.findRecords(n,t,i),this.onAddToMany(e,r,!0)),r},processUpdate:function(e,t){var i,n,r,o,s=this.inverse.cls,a=t.R;if(a)for(i in a)(n=e.peekRecord(s,i))?(o=e.getEntityList(this.cls,a[i]),(r=this.getAssociatedItem(n))?(r.loadData(o),r.complete=!0):n[this.getterName](null,null,o)):e.onInvalidAssociationEntity(s,i);this.processMatrixBlock(e,t.C,1),this.processMatrixBlock(e,t.D,-1)},checkMembership:function(e,t){var i,n,r,o,s,a,l,d=e.getMatrix(this.association,!0);if(d&&(d=this.left?d.right:d.left,i=d.inverse.role.cls,n=this.inverse,d=d.slices,d&&(r=d[t.id])))for(o in s=r.members)-1!==s[o][2]&&(a=e.peekRecord(i,o))&&(l=n.getAssociatedItem(a))&&(l.matrixUpdate=1,l.add(t),l.matrixUpdate=0)},onStoreCreate:function(e,t,i){t&&((i=t.getMatrixSlice(this.inverse,i)).attach(e),i.notify=this.onMatrixUpdate,i.scope=this)},processMatrixBlock:function(e,t,i){var n,r=this.inverse,o=this.digitRe;if(t)for(n in t)o.test(n)&&(n=parseInt(n,10)),e.getMatrixSlice(r,n).update(t[n],i)},createGetter:function(){var n=this;return function(e,t,i){return n.getAssociatedStore(this,e,t,i,!1)}},onAddToMany:function(e,t,i){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,!0===i?0:1),e.matrixUpdate=0)},onRemoveFromMany:function(e,t){e.matrixUpdate||(e.matrixUpdate=1,e.matrix.update(t,-1),e.matrixUpdate=0)},read:function(e,t,i,n){n=this.callParent([e,t,i,n]);n&&(e[this.getterName](null,null,n),delete e.data[this.role])},onMatrixUpdate:function(e,t,i){var n,r=e.store;!r||r.loading||r.matrixUpdate||(r.matrixUpdate=1,e=r.indexOfId(t),i<0?0<=e&&r.remove([e]):e<0&&(n=(n=r.getSession().getEntry(this.type,t))&&n.record)&&r.add(n),r.matrixUpdate=0)},adoptAssociated:function(e,t){var i,n,r,o=this.getAssociatedItem(e);if(o)for(o.setSession(t),this.onStoreCreate(o,t,e.getId()),n=0,r=(i=o.getData().items).length;n<r;++n)t.adopt(i[n])}},function(){var e=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:e,left:!1,side:"right"})},null,"Ext.data.schema.ManyToMany")})}),Ext.define("Ext.util.Inflector",{singleton:!0,plurals:[[/(quiz)$/i,"$1zes"],[/^(ox)$/i,"$1en"],[/([m|l])ouse$/i,"$1ice"],[/(matr|vert|ind)ix|ex$/i,"$1ices"],[/(x|ch|ss|sh)$/i,"$1es"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(hive)$/i,"$1s"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/sis$/i,"ses"],[/([ti])um$/i,"$1a"],[/(buffal|tomat|potat)o$/i,"$1oes"],[/(bu)s$/i,"$1ses"],[/(alias|status|sex)$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(ax|test)is$/i,"$1es"],[/^(p)erson$/i,"$1eople"],[/^(m)an$/i,"$1en"],[/(.*)(child)(ren)?$/i,"$1$2ren"],[/s$/i,"s"],[/$/,"s"]],singulars:[[/(address)$/i,"$1"],[/(quiz)zes$/i,"$1"],[/(matr)ices$/i,"$1ix"],[/(vert|ind)ices$/i,"$1ex"],[/^(ox)en/i,"$1"],[/(alias|status)es$/i,"$1"],[/(octop|vir)i$/i,"$1us"],[/(cris|ax|test)es$/i,"$1is"],[/(shoe)s$/i,"$1"],[/(o)es$/i,"$1"],[/(bus)es$/i,"$1"],[/([m|l])ice$/i,"$1ouse"],[/(x|ch|ss|sh)es$/i,"$1"],[/(m)ovies$/i,"$1ovie"],[/(s)eries$/i,"$1eries"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/([lr])ves$/i,"$1f"],[/(tive)s$/i,"$1"],[/(hive)s$/i,"$1"],[/([^f])ves$/i,"$1fe"],[/(^analy)ses$/i,"$1sis"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"],[/([ti])a$/i,"$1um"],[/(n)ews$/i,"$1ews"],[/(p)eople$/i,"$1erson"],[/s$/i,""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(e,t){this.singulars.unshift([e,t])},plural:function(e,t){this.plurals.unshift([e,t])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(e){return-1!=Ext.Array.indexOf(this.uncountable,e)},pluralize:function(e){if(this.isTransnumeral(e))return e;for(var t,i,n=this.plurals,r=n.length,o=0;o<r;o++)if((i=(t=n[o])[0])==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},singularize:function(e){if(this.isTransnumeral(e))return e;for(var t,i,n=this.singulars,r=n.length,o=0;o<r;o++)if((i=(t=n[o])[0])==e||i.test&&i.test(e))return e.replace(i,t[1]);return e},classify:function(e){return Ext.String.capitalize(this.singularize(e))},ordinalize:function(e){var t=parseInt(e,10),i=t%100;if(11<=i&&i<=13)return e+"th";switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}}},function(){var e,t={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"};for(e in t)t.hasOwnProperty(e)&&(this.plural(e,t[e]),this.singular(t[e],e))}),Ext.define("Ext.data.schema.Namer",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.Inflector"],alias:"namer.default",isNamer:!0,capitalize:function(e){return Ext.String.capitalize(e)},fieldRole:function(e){var t=e.match(this.endsWithIdRe,"");return t&&(e=e.substr(0,e.length-(t[1]||t[2]).length)),this.apply("uncapitalize",e)},idField:function(e){return this.apply("uncapitalize,singularize",e)+"Id"},instanceName:function(e){return this.apply("underscore",e)},multiRole:function(e){return this.apply("undotted,uncapitalize,pluralize",e)},pluralize:function(e){return Ext.util.Inflector.pluralize(e)},readerRoot:function(e){return this.apply("uncapitalize",e)},singularize:function(e){return Ext.util.Inflector.singularize(e)},storeName:function(e){return this.apply("underscore",e)},uncapitalize:function(e){return Ext.String.uncapitalize(e)},underscore:function(e){return"_"+e},uniRole:function(e){return this.apply("undotted,uncapitalize,singularize",e)},undotted:function(e){if(e.indexOf(".")<0)return e;for(var t=e.split("."),i=t.length;1<i--;)t[i]=this.apply("capitalize",t[i]);return t.join("")},getterName:function(e){var t=e.role;return e&&e.isMany?t:"get"+this.apply("capitalize",t)},inverseFieldRole:function(e,t,i,n){t=this.apply(t?"uniRole":"multiRole",e),e=this.apply("pluralize",i),n=this.apply("undotted,pluralize",n);return e.toLowerCase()!==n.toLowerCase()&&(t=i+this.apply("capitalize",t)),t},manyToMany:function(e,t,i){i=this.apply("undotted,capitalize,singularize",t)+this.apply("undotted,capitalize,pluralize",i);return e&&(i=this.apply("capitalize",e+i)),i},manyToOne:function(e,t,i,n){return this.apply("capitalize,singularize",i)+this.apply("capitalize",t)},matrixRole:function(e,t){t=this.apply(e?"multiRole,capitalize":"multiRole",t);return e?e+t:t},oneToOne:function(e,t,i,n){return this.apply("undotted,capitalize,singularize",i)+this.apply("capitalize",t)},setterName:function(e){return"set"+this.apply("capitalize",e.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,t){var i,n,r,o=this.cache,o=o[t]||(o[t]={}),s=o[e];if(!s){if(e.indexOf(",")<0)s=this[e](t);else for(n=(r=e.split(",")).length,s=t,i=0;i<n;++i)s=this.apply(r[i],s);o[e]=s}return s}}),Ext.define("Ext.data.schema.Schema",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.util.ObjectTemplate","Ext.data.schema.OneToOne","Ext.data.schema.ManyToOne","Ext.data.schema.ManyToMany","Ext.data.schema.Namer"],alias:"schema.default",aliasPrefix:"schema.",isSchema:!0,type:"default",statics:{instances:{},clearInstance:function(e){var t=this.instances[e];delete this.instances[e],t&&(t.clear(!0),t.destroy())},get:function(e){var t,i=this.instances,n="default",r=e&&Ext.isString(e);if(e){if(e.isSchema)return e;n=r?e:e.id||n}return(t=i[n])?e&&!r&&("default"!==n&&Ext.raise("Only the default Schema instance can be reconfigured"),r=Ext.merge({},t.config),Ext.merge(r,e),t.setConfig(r),t.config=r,t.setConfig=function(){Ext.raise("The schema can only be reconfigured once")}):(i[n]=t=this.create(e),t.id=n),t},lookupEntity:function(e){var t,i,n=null,r=this.instances;if(e)if(e.isEntity)n=e.self;else if(Ext.isFunction(e))n=e;else if(Ext.isString(e)){if(!(n=Ext.ClassManager.get(e))||n.prototype&&n.prototype.isEntity||(n=null),!n)for(i in r)(t=r[i].getEntity(e))&&(n&&Ext.raise('Ambiguous entity name "'+e+'". Defined by schema "'+n.schema.type+'" and "'+i+'"'),n=t);n||Ext.raise('No such Entity "'+e+'".')}return n}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,keyCheckDelay:10,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}"},urlPrefix:""},onClassExtended:function(e,t){var i=t.alias;i&&!t.type&&(Ext.isString(i)||(i=i[0]),e.prototype.type=i.substring(this.prototype.aliasPrefix.length))},constructor:function(e){this.initConfig(e),this.clear()},applyDefaultIdentifier:function(e){return e&&Ext.Factory.dataIdentifier(e)},applyNamer:function(e){e=Ext.data.schema.Namer.create(e);return e.schema=this,e},applyNamespace:function(e){var t;return e&&(t=e.length-1,"."!==e.charAt(t)&&(e+=".")),e},applyProxy:function(e){return Ext.util.ObjectTemplate.create(e)},eachAssociation:function(e,t){var i,n=this.associations;for(i in n)if(n.hasOwnProperty(i)&&!1===e.call(t,i,n[i]))break},eachEntity:function(e,t){var i,n=this.entities;for(i in n)if(n.hasOwnProperty(i)&&!1===e.call(t,i,n[i].cls))break},getAssociation:function(e){return this.associations[e]||null},getEntity:function(e){e=this.entityClasses[e]||this.entities[e];return e&&e.cls||null},getEntityName:function(e){var t,i=this.getNamespace(),e="string"==typeof e?e:e.$className||null;if(e){if(i&&(t=i.length,e.substring(0,t)!==i))return e;t&&(e=e.substring(t))}return e},hasAssociations:function(e){return e=e.entityName||e,!!this.associationEntityMap[e]},hasEntity:function(e){e=this.getEntityName(e);return!(!this.entities[e]&&!this.entityClasses[e])},addMatrix:function(e,t,i,n,r){var o=this.getNamer(),s=this.associations,a=this.entities,l=n.type,d=r.type,c=n.field||o.apply("idField",l),u=r.field||o.apply("idField",d),h=n.role||o.matrixRole(i,l),o=r.role||o.matrixRole(i,d),i=a[l]||(a[l]={cls:null,name:l,associations:{}}),a=a[d]||(a[d]={cls:null,name:d,associations:{}});++this.assocCount,s[t]=r=new Ext.data.schema.ManyToMany({name:t,schema:this,definedBy:e,left:{cls:i.cls,type:l,role:h,field:c,associationKey:n.associationKey},right:{cls:a.cls,type:d,role:o,field:u,associationKey:r.associationKey}}),i.associations[r.right.role]=r.right,a.associations[r.left.role]=r.left,i.cls&&(this.associationEntityMap[i.cls.entityName]=!0),a.cls&&(this.associationEntityMap[a.cls.entityName]=!0),this.decorateModel(r)},addReference:function(e,t,i,n,r){var o=this.getNamer(),s=this.entities,a=this.associations,l=e.entityName,d=i.association,c=i.child,u=i.parent,h=i.role,f=i.type||u||c,g=i.inverse,p=Ext.isString(g)?{role:g}:g,g=p&&p.role,h=h||(!t||i.legacy?o.apply("uncapitalize",f):o.apply("fieldRole",t.name)),g=g||o.inverseFieldRole(l,n,h,f),d=d||(n?o.oneToOne(e,g,f,h):o.manyToOne(e,g,f,h));r&&d in a&&!1!==r(a[d],d,g,h)||(d in a&&Ext.raise('Duplicate association: "'+d+'" declared by '+l+(t?"."+t.name:"")+" (collides with "+a[d].definedBy.entityName+")"),t&&t.definedBy===s[f]&&Ext.raise("ForeignKey reference should not be owned by the target model"),s=s[f]||(s[f]={cls:null,name:f,associations:{}}),d=new(n?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne)({name:d,owner:c?"left":u?"right":null,definedBy:e,schema:this,field:t,nullable:!t||!!t.allowBlank,left:{cls:e,type:l,role:g,extra:p},right:{cls:s.cls,type:f,role:h,extra:i},meta:i}),e.associations[h]=d.right,s.associations[g]=d.left,t&&(t.reference=d.right,e.references.push(t)),++this.assocCount,this.associationEntityMap[l]=!0,s.cls&&(this.associationEntityMap[s.cls.entityName]=!0),(a[d.name]=d).right.cls&&this.decorateModel(d))},privates:{addEntity:function(e){var t,i,n,r,o,s=this.entities,a=e.entityName,l=s[a],d=e.fields;if(l)if(l.cls)Ext.raise('Duplicate entity name "'+a+'": '+l.cls.$className+" and "+e.$className);else for(o in t=l.associations)t[o].inverse.cls=e,this.associationEntityMap[a]=!0,this.decorateModel(t[o].association);else s[a]=l={name:a,associations:{}};for((l.cls=e).prototype.associations=e.associations=l.associations,this.entityClasses[e.$className]=l,++this.entityCount,n=0,r=d.length;n<r;++n)(i=d[n]).reference&&this.addReferenceDescr(e,i)},addMatrices:function(e,t){var i,n,r;if(Ext.isString(t))this.addMatrixDescr(e,null,t);else if(t[0])for(i=0,n=t.length;i<n;++i)this.addMatrixDescr(e,null,t[i]);else for(r in t)this.addMatrixDescr(e,r,t[r])},addMatrixDescr:function(e,t,i){var n,r,o=e.entityName,s=this.associations,a=this.getNamer(),l=i.left,d=i.right;Ext.isString(i)?d="#"===i.charAt(0)?(l={type:o},{type:i.substring(1)}):"#"===i.charAt(r=i.length-1)?(l={type:i.substring(0,r)},{type:o}):a.apply("multiRole",o)<a.apply("multiRole",i)?(l={type:o},{type:i}):(l={type:i},{type:o}):(Ext.Assert.isString(i.type,'No "type" for manyToMany in '+o),n=i.relation,l||!d&&a.apply("multiRole",o)<a.apply("multiRole",i.type)?(l=l&&!0!==l?Ext.apply({type:o},l):{type:o},d=i):(d=d&&!0!==d?Ext.apply({type:o},d):{type:o},l=i)),(t=t||a.manyToMany(n,l.type,d.type))in s?(i=[(r=s[t]).kind,r.left.type,r.left.role,r.left.field,r.right.type,r.right.role,r.right.field].join("|"),delete s[t],this.addMatrix(e,t,n,l,d),a=s[t],(s[t]=r).left.cls.associations[r.right.role]=r.right,r.right.cls.associations[r.left.role]=r.left,--this.assocCount,i!=(a=[a.kind,a.left.type,a.left.role,a.left.field,a.right.type,a.right.role,a.right.field].join("|"))&&(Ext.log.warn(t+"("+r.definedBy.entityName+"): "+i),Ext.log.warn(t+"("+o+"): "+a),Ext.raise('Conflicting association: "'+t+'" declared by '+o+" was previously declared by "+r.definedBy.entityName))):this.addMatrix(e,t,n,l,d)},addReferenceDescr:function(e,t){var i=t.$reference,i=Ext.isString(i)?{type:i}:Ext.apply({},i);this.addReference(e,t,i,t.unique)},addBelongsTo:function(e,t){this.addKeylessSingle(e,t,!1)},addHasOne:function(e,t){this.addKeylessSingle(e,t,!0)},addKeylessSingle:function(e,t,i){var n;(t=Ext.apply({},this.checkLegacyAssociation(e,t))).type=this.getEntityName(t.child||t.parent||t.type),n=t.foreignKey||t.type.toLowerCase()+"_id",n=e.getField(n),t.fromSingle=!0,n&&(n.$reference=t,n.unique=!0,t.legacy=!0,Ext.log.warn("Using foreignKey is deprecated, use a keyed association. See Ext.data.field.Field.reference")),this.addReference(e,n,t,i)},addHasMany:function(s,e){var a,t,i,n,r=this.entities,o=this.pending;(e=Ext.apply({},this.checkLegacyAssociation(s,e))).type=this.getEntityName(e.child||e.parent||e.type),n=r[t=e.type],(a=n&&n.cls)?(t=s.entityName,i=e.foreignKey||t.toLowerCase()+"_id",delete e.foreignKey,r=Ext.apply({},e.inverse),delete e.inverse,delete(n=Ext.apply({},e)).type,e=Ext.apply({type:t,inverse:n},r),n.child&&(delete n.child,e.parent=t),(i=a.getField(i))&&((i.$reference=e).legacy=!0,Ext.log.warn("Using foreignKey is deprecated, use a keyed association. See Ext.data.field.Field.reference")),this.addReference(a,i,e,!1,function(e,t,i,n){var r,o=!!e.meta.fromSingle&&a===e.left.cls;return o&&(r=a.entityName,e=s.entityName,Ext.raise('hasMany ("'+e+'") and belongsTo ("'+r+'") should not be used in conjunction to declare a relationship. Use only one.')),o})):(o[t]||(o[t]=[]),o[t].push([s,e]))},checkLegacyAssociation:function(e,t){(t=Ext.isString(t)?{type:t}:Ext.apply({},t)).model&&(t.type=t.model,delete t.model);var i=t.associatedName||t.name;return i&&(delete t.associatedName,delete t.name,t.role=i),t},afterKeylessAssociations:function(e){var t,i,n=this.pending,e=e.entityName,r=n[e];if(r){for(t=0,i=r.length;t<i;++t)this.addHasMany.apply(this,r[t]);delete n[e]}},clear:function(e){var t=this,i=t.timer;delete t.setConfig,i&&(window.clearTimeout(i),t.timer=null),t.associations={},t.associationEntityMap={},t.entities={},t.entityClasses={},t.pending={},t.assocCount=t.entityCount=0,e&&t.setNamespace(null)},constructProxy:function(e){var t=Ext.Object.chain(e),e=this.getProxy();return t.schema=this,t.prefix=this.getUrlPrefix(),e.apply(t)},applyDecoration:function(e){var t,i=e.inverse.cls,n=this.getNamer();i&&!e.decorated&&(e.decorated=!0,t=i.prototype,(i=e.getterName)||(e.getterName=i=n.getterName(e)),t[i]=e.createGetter(),e.createSetter&&((i=e.setterName)||(e.setterName=i=n.setterName(e)),t[i]=e.createSetter()))},decorateModel:function(e){this.applyDecoration(e.left),this.applyDecoration(e.right)},processKeyChecks:function(e){var t,i,n,r=this.keyCheckQueue,o=this.timer;if(o&&(window.clearTimeout(o),this.timer=null),r)do{for(r=this.keyCheckQueue,this.keyCheckQueue=[],i=0,t=r.length;i<t;++i)(n=r[i]).role.checkKeyForDrop(n.record)}while(e&&this.keyCheckQueue.length)},queueKeyCheck:function(e,t){var i=this.keyCheckQueue,n=this.timer;i||(this.keyCheckQueue=i=[]),i.push({record:e,role:t}),n||(this.timer=Ext.Function.defer(this.processKeyChecks,this.getKeyCheckDelay(),this))},rankEntities:function(){var e,t,i=this.entities,n=Ext.Object.getKeys(i),r=n.length;for(this.nextRank=1,n.sort(),t=0;t<r;++t)(e=i[n[t]].cls).rank||this.rankEntity(e);this.topoStack=null},rankEntity:function(e){var t,i,n=e.associations,r=this.topoStack||(this.topoStack=[]),o=e.entityName;for(i in r.push(o),0===e.rank&&Ext.raise(o+" has circular foreign-key references: "+r.join(" --\x3e ")),e.rank=0,n)!(t=n[i]).left&&t.association.field&&((t=t.cls).rank||this.rankEntity(t));e.rank=this.nextRank++,r.pop()}}}),Ext.define("Ext.data.AbstractStore",{mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],requires:["Ext.util.Collection","Ext.data.schema.Schema","Ext.util.Filter"],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:!1,$configStrict:!1,config:{filters:null,autoDestroy:void 0,storeId:null,statefulFilters:!1,sorters:null,remoteSort:{lazy:!0,$value:!1},remoteFilter:{lazy:!0,$value:!1},groupField:void 0,groupDir:"ASC",grouper:null,pageSize:25,autoSort:null},currentPage:1,loading:!1,isStore:!0,updating:0,constructor:function(e){var t;this.isInitializing=!0,this.mixins.observable.constructor.call(this,e),this.isInitializing=!1,!(t=this.getStoreId())&&e&&e.id&&this.setStoreId(t=e.id),t&&Ext.data.StoreManager.register(this)},getCount:function(){var e=this.getData();return e?e.getCount():0},rangeCached:function(e,t){return this.getData().getCount()>=Math.max(e,t)},find:function(e,t,i,n,r,o){n=!n,o=!(!n||!o);return this.getData().findIndex(e,t,i,n,o,!r)},findRecord:function(){var e=this.find.apply(this,arguments);return-1!==e?this.getAt(e):null},findExact:function(t,i,e){return this.getData().findIndexBy(function(e){return e.isEqual(e.get(t),i)},this,e)},findBy:function(e,t,i){return this.getData().findIndexBy(e,t,i)},getAt:function(e){return this.getData().getAt(e)||null},getRange:function(e,t,i){var n=this.getData().getRange(e,Ext.isNumber(t)?t+1:t);return i&&i.callback&&i.callback.call(i.scope||this,n,e,t,i),n},getFilters:function(e){var t=this.callParent();return t||!1===e||(this.setFilters([]),t=this.callParent()),t},applyFilters:function(e,t){var i;return t||(t=this.createFiltersCollection(),i=!0),t.add(e),i&&this.onRemoteFilterSet(t,this.getRemoteFilter()),t},getSorters:function(e){var t=this.callParent();return t||!1===e||(this.setSorters([]),t=this.callParent()),t},applySorters:function(e,t){var i;return t||(t=this.createSortersCollection(),i=!0),t.add(e),i&&this.onRemoteSortSet(t,this.getRemoteSort()),t},filter:function(e,t,i){Ext.isString(e)&&(e={property:e,value:t}),this.suppressNextFilter=!!i,this.getFilters().add(e),this.suppressNextFilter=!1},removeFilter:function(e,t){var i=this.getFilters();this.suppressNextFilter=!!t,e instanceof Ext.util.Filter?i.remove(e):i.removeByKey(e),this.suppressNextFilter=!1},updateAutoSort:function(e){this.getData().setAutoSort(e)},updateRemoteSort:function(e){this.onRemoteSortSet(this.getSorters(!1),e)},updateRemoteFilter:function(e){this.onRemoteFilterSet(this.getFilters(!1),e)},addFilter:function(e,t){this.suppressNextFilter=!!t,this.getFilters().add(e),this.suppressNextFilter=!1},filterBy:function(e,t){this.getFilters().add({filterFn:e,scope:t||this})},clearFilter:function(e){var t=this.getFilters(!1);t&&0!==t.getCount()&&(this.suppressNextFilter=!!e,t.removeAll(),this.suppressNextFilter=!1)},isFiltered:function(){return 0<this.getFilters().getCount()},isSorted:function(){var e=this.getSorters(!1);return!!(e&&0<e.length)||this.isGrouped()},addFieldTransform:function(e){var t,i,n;e.getTransform()||(t=e.getProperty(),(i=this.getModel())&&(n=(n=i.getField(t))?n.getSortType():null),n&&n!==Ext.identityFn&&e.setTransform(n))},beginUpdate:function(){this.updating++||this.fireEvent("beginupdate")},endUpdate:function(){this.updating&&!--this.updating&&(this.fireEvent("endupdate"),this.onEndUpdate())},getState:function(){var t,i,e,n=[],r=this.getFilters(),o=this.getGrouper();return this.getSorters().each(function(e){n[n.length]=e.getState(),i=!0}),this.statefulFilters&&this.saveStatefulFilters&&(i=!0,t=[],r.each(function(e){t[t.length]=e.getState()})),o&&(i=!0),i&&(e={},n.length&&(e.sorters=n),t&&(e.filters=t),o&&(e.grouper=o.getState())),e},applyState:function(e){var t=e.sorters,i=e.filters,e=e.grouper;t&&this.getSorters().replaceAll(t),i&&(this.saveStatefulFilters=!0,this.getFilters().replaceAll(i)),e&&this.setGrouper(e)},hasPendingLoad:Ext.emptyFn,isLoaded:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var e=this;e.hasListeners.beforedestroy&&e.fireEvent("beforedestroy",e),e.destroying=!0,e.getStoreId()&&Ext.data.StoreManager.unregister(e),e.doDestroy(),e.hasListeners.destroy&&e.fireEvent("destroy",e),e.destroying=!1,e.callParent()},doDestroy:Ext.emptyFn,sort:function(e,t,i){0===arguments.length?this.getRemoteSort()?this.load():this.forceLocalSort():this.getSorters().addSort(e,t,i)},onBeforeCollectionSort:function(e,t){t&&this.fireEvent("beforesort",this,t.getRange())},onSorterEndUpdate:function(){var e=this,t=e.getSorters(!1);!e.settingGroups&&t&&((t=t.getRange()).length?e.getRemoteSort()?e.load({callback:function(){e.fireEvent("sort",e,t)}}):(e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,t)):e.fireEvent("sort",e,t))},onFilterEndUpdate:function(){var e=this,t=e.suppressNextFilter;e.getFilters(!1)&&(e.getRemoteFilter()?(e.getFilters().each(function(e){e.getInitialConfig().filterFn&&Ext.raise("Unable to use a filtering function in conjunction with remote filtering.")}),e.currentPage=1,t||e.load()):t||(e.fireEvent("datachanged",e),e.fireEvent("refresh",e)),e.trackStateChanges&&(e.saveStatefulFilters=!0),e.fireEvent("filterchange",e,e.getFilters().getRange()))},updateGroupField:function(e){e?this.setGrouper({property:e,direction:this.getGroupDir()}):this.setGrouper(null)},getGrouper:function(){return this.getData().getGrouper()},group:function(e,t){var i=this,n=i.getSorters(!1),n=e||n&&n.length;e&&"string"==typeof e&&(e={property:e,direction:t||i.getGroupDir()}),i.settingGroups=!0,i.getData().setGrouper(e),delete i.settingGroups,n?i.getRemoteSort()?i.load({scope:i,callback:i.fireGroupChange}):(i.fireEvent("datachanged",i),i.fireEvent("refresh",i),i.fireGroupChange()):i.fireGroupChange()},fireGroupChange:function(){this.destroyed||this.fireEvent("groupchange",this,this.getGrouper())},clearGrouping:function(){this.group(null)},getGroupField:function(){var e=this.getGrouper(),t="";return e&&(t=e.getProperty()),t},isGrouped:function(){return!!this.getGrouper()},applyGrouper:function(e){return this.group(e),this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,privates:{loadsSynchronously:Ext.privateFn,onRemoteFilterSet:function(e,t){e&&e[t?"on":"un"]("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(e,t){e&&(e[t?"on":"un"]("endupdate",this.onSorterEndUpdate,this),this.getData()[t?"un":"on"]("beforesort",this.onBeforeCollectionSort,this))}},deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}}),Ext.define("Ext.data.Error",{isError:!0,$configPrefixed:!1,config:{field:null,message:""},constructor:function(e){this.initConfig(e),this.msg=this.message}}),Ext.define("Ext.data.ErrorCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.data.Errors",requires:["Ext.data.Error"],init:function(e){for(var t,i,n,r,o=e.fields,s=e.data,a=0,l=o.length;a<l;++a)n=s[r=(i=o[a]).name],i.validate&&!i.validate.$nullFn&&(t=this.length,n=i.validate(n,null,this,e),t===this.length&&!0!==n&&this.add(r,n));return this},add:function(e,t){var i=Ext.data.field.Field.defaultInvalidMessage,n=e;if(Ext.isString(e)?n=new Ext.data.Error({field:e,message:t||i}):(n.isError||(n=new Ext.data.Error({field:n.field||n.name,message:n.error||n.message||n.msg||i})),e=n.field),i=this.get(e)){if(Ext.isArray(i))return i.push(n),i;this.removeAtKey(e),(n=[i,n]).field=e,n=[n]}return this.callParent([n])},getKey:function(e){return e.field},isValid:function(){return 0===this.length},getByField:function(e){e=this.get(e);return e&&!Ext.isArray(e)&&(e=[e]),e||[]}}),Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:!0,config:{synchronous:!1,url:"",params:void 0,callback:void 0,scope:void 0,resultSet:null,response:null,request:null,records:null,id:void 0,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:!1,running:!1,complete:!1,success:void 0,exception:!1,error:void 0,idPrefix:"ext-operation-",constructor:function(e){var t=e&&e.scope;this.initConfig(e),e&&(e.scope=t),t&&(this.setScope(t),this.initialConfig.scope=t),this._internalId=Ext.id(this,this.idPrefix)},getAction:function(){return this.action},execute:function(){var e;return delete this.error,delete this.success,this.complete=this.exception=!1,this.setStarted(),this.request=e=this.doExecute(),e&&e.setOperation(this),e},doExecute:Ext.emptyFn,abort:function(){var e=this.request;this.running&&e&&(this.getProxy().abort(e),this.request=null)},process:function(e,t,i,n){n=!1!==n,this.setResponse(i),this.setResultSet(e),e.getSuccess()?(this.doProcess(e,t,i),this.setSuccessful(n)):n&&this.setException(e.getMessage())},_commitSetOptions:{convert:!0,commit:!0},doProcess:function(e,t,i){var n,r,o,s,a=this._commitSetOptions,l=this.getRecords(),d=l.length,c=l[0].clientIdProperty,u=e.getRecords(),h=u?u.length:0;if(h&&c){for(n=Ext.Array.toValueMap(l,"id"),s=0;s<h;++s)(o=n[(r=u[s])[c]])?(delete n[o.id],delete r[c],o.set(r,a)):Ext.log.warn("Ignoring server record: "+Ext.encode(r));for(s in n)n[s].commit()}else for(s=0;s<d;++s)o=l[s],0!==h&&(r=u[s])?o.set(r,a):o.commit()},setStarted:function(){this.started=this.running=!0},setCompleted:function(){var e=this.getProxy();this.complete=!0,this.running=!1,this.triggerCallbacks(),e&&e.completeOperation(this)},setSuccessful:function(e){this.success=!0,e&&this.setCompleted()},setException:function(e){this.exception=!0,this.success=this.running=!1,this.error=e,this.setCompleted()},triggerCallbacks:function(){var e=this,t=e.getInternalCallback();t&&(t.call(e.getInternalScope()||e,e),e.setInternalCallback(null),e.setInternalScope(null)),(t=e.getCallback())&&(t.call(e.getScope()||e,e.getRecords(),e,e.wasSuccessful()),e.setCallback(null),e.setScope(null))},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var e;return this._records||((e=this.getResultSet())?e.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&!0===this.success},allowWrite:function(){return!0}}),Ext.define("Ext.data.operation.Create",{extend:"Ext.data.operation.Operation",alias:"data.operation.create",action:"create",isCreateOperation:!0,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}}),Ext.define("Ext.data.operation.Destroy",{extend:"Ext.data.operation.Operation",alias:"data.operation.destroy",action:"destroy",isDestroyOperation:!0,order:30,foreignKeyDirection:-1,doProcess:function(){for(var e=this.getRecords(),t=e.length,i=0;i<t;++i)e[i].setErased()},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(e,t){var i={};return i[e.idField[this.getNameProperty()||"name"]]=e.id,i}}),Ext.define("Ext.data.operation.Read",{extend:"Ext.data.operation.Operation",alias:"data.operation.read",action:"read",isReadOperation:!0,config:{filters:void 0,sorters:void 0,grouper:void 0,start:void 0,limit:void 0,page:void 0,addRecords:!1},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return!1}}),Ext.define("Ext.data.operation.Update",{extend:"Ext.data.operation.Operation",alias:"data.operation.update",action:"update",isUpdateOperation:!0,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}}),Ext.define("Ext.data.SortTypes",{singleton:!0,none:Ext.identityFn,stripCommasRe:/,/g,stripTagsRE:/<\/?[^>]+>/gi,asText:function(e){return null!=e?String(e).replace(this.stripTagsRe,""):"\0"},asUCText:function(e){return null!=e?String(e).toUpperCase().replace(this.stripTagsRe,""):"\0"},asUCString:function(e){return null!=e?String(e).toUpperCase():"\0"},asDate:function(e){return e?Ext.isDate(e)?e.getTime():Date.parse(String(e)):0},asFloat:function(e){e=parseFloat(String(e).replace(this.stripCommasRe,""));return isNaN(e)?0:e},asInt:function(e){e=parseInt(String(e).replace(this.stripCommasRe,""),10);return isNaN(e)?0:e}}),Ext.define("Ext.data.validator.Validator",{mixins:["Ext.mixin.Factoryable"],alias:"data.validator.base",isValidator:!0,type:"base",statics:{all:{},register:function(e,t){var i=this.all;i[e.toUpperCase()]=i[e.toLowerCase()]=i[e]=t.prototype}},onClassExtended:function(e,t){t.type&&Ext.data.validator.Validator.register(t.type,e)},constructor:function(e){"function"==typeof e?(this.fnOnly=!0,this.validate=e):this.initConfig(e)},validate:function(){return!0},clone:function(){return this.fnOnly?new Ext.data.validator.Validator(this.validate):new this.self(this.getCurrentConfig())}},function(){this.register(this.prototype.type,this)}),Ext.define("Ext.data.field.Field",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.data.SortTypes","Ext.data.validator.Validator"],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:!0,isField:!0,allowBlank:!0,allowNull:!1,critical:!1,defaultInvalidMessage:"This field is invalid",defaultValue:void 0,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:void 0,persist:null,reference:null,unique:!1,rank:null,stripRe:/[\$,%]/g,calculated:!1,evil:!1,identifier:!1,onClassExtended:function(e,t){var i=t.sortType,n=e.prototype,r=n.validators,e=t.validators;i&&Ext.isString(i)&&(n.sortType=Ext.data.SortTypes[i]),e&&(Ext.isArray(e)||(e=[e]),delete t.validators,r&&(e=r.concat(e)),n.validators=e)},argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(e){var t,i,n,r,o,s,a,l,d=this,c=d.calculateRe;if(e&&(Ext.isString(e)?d.name=e:((l=e.validators)&&(delete e.validators,d.instanceValidators=l),Ext.apply(d,e))),d.allowNull||(d.allowNull=!!d.reference),t=d.calculate,i=d.depends,t&&(d.convert=d.doCalculate,!i)){if(!(i=t.$depends))for(n={},s=t.toString(),t.$depends=i=[],o=(r=d.argumentNamesRe.exec(s))?r[1]:"data";r=c.exec(s);)o!==r[1]||n[a=r[2]]||(n[a]=1,i.push(a));d.depends=i}l=d.defaultValue,d.convert&&(d.calculated=e=1<d.convert.length,d.evil=e&&!i),null===d.persist&&(d.persist=!t),t=d.sortType,d.sortType?Ext.isString(t)&&(d.sortType=Ext.data.SortTypes[t]):d.sortType=Ext.data.SortTypes.none,i&&"string"==typeof i&&(d.depends=[i]),d.cloneDefaultValue=void 0!==l&&(Ext.isDate(l)||Ext.isArray(l)||Ext.isObject(l))},setModelValidators:function(e){this._validators=null,this.modelValidators=e},compileValidators:function(){this._validators=[],this.constructValidators(this.validators),this.constructValidators(this.modelValidators),this.constructValidators(this.instanceValidators)},constructValidators:function(e){if(e){e instanceof Array||(e=[e]);for(var t,i=e.length,n=this._validators,r=0;r<i;++r)(t=e[r]).fn&&(t=t.fn),n.push(Ext.Factory.dataValidator(t))}},collate:function(e,t){return this.sortType&&(e=this.sortType(e),t=this.sortType(t)),e===t?0:e<t?-1:1},compare:function(e,t){return e===t?0:e<t?-1:1},isEqual:function(e,t){return 0===this.compare(e,t)},convert:null,serialize:null,validate:function(e,t,i,n){var r,o,s,a,l="";for(this._validators||this.compileValidators(),a=0,s=(o=this._validators).length;a<s;++a)if(!0!==(r=o[a].validate(e,n)))if(r=r||this.defaultInvalidMessage,i)i.add(this.name,r),l=l||r;else{if(!t){l=r;break}l&&(l+=t),l+=r}return l||!0},doCalculate:function(e,t){return t?this.calculate(t.data):e},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var e=this.mapping;return!(!e&&0!==e)},getPersist:function(){return this.persist},getSortType:function(){return this.sortType},getType:function(){return"auto"},deprecated:{5.1:{methods:{getSortDir:function(){return this.sortDir}}}}}),Ext.define("Ext.data.field.Boolean",{extend:"Ext.data.field.Field",alias:["data.field.bool","data.field.boolean"],isBooleanField:!0,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(e){return"boolean"==typeof e?e:!this.allowNull||null!=e&&""!==e?this.trueRe.test(String(e)):null},getType:function(){return"bool"}}),Ext.define("Ext.data.field.Date",{extend:"Ext.data.field.Field",alias:"data.field.date",sortType:"asDate",isDateField:!0,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(e,t){var i=e instanceof Date,n=t instanceof Date,r=n&&i?0===(r=e.getTime()-t.getTime())?0:r<0?-1:1:i==n?0:i?1:-1;return r},convert:function(e){if(!e)return null;if(e instanceof Date)return e;var t=this.dateReadFormat||this.dateFormat;return t?Ext.Date.parse(e,t,this.useStrict):(e=Date.parse(e))?new Date(e):null},serialize:function(e){var t,i=null;return Ext.isDate(e)&&(i=(t=this.getDateWriteFormat())?Ext.Date.format(e,t):e),i},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){return this.hasOwnProperty("dateWriteFormat")?this.dateWriteFormat:this.hasOwnProperty("dateFormat")?this.dateFormat:this.dateWriteFormat||this.dateFormat||"timestamp"},getType:function(){return"date"}}),Ext.define("Ext.data.field.Integer",{extend:"Ext.data.field.Field",alias:["data.field.int","data.field.integer"],isNumeric:!0,isIntegerField:!0,numericType:"int",convert:function(e){if("number"==typeof e)return this.getNumber(e);var t,i=null==e||""===e,n=this.allowNull;return i?t=n?null:0:(t=this.parse(e),n&&isNaN(t)&&(t=null)),t},getNumber:function(e){return parseInt(e,10)},getType:function(){return this.numericType},parse:function(e){return parseInt(String(e).replace(this.stripRe,""),10)},sortType:function(e){return null==e&&(e=1/0),e}}),Ext.define("Ext.data.field.Number",{extend:"Ext.data.field.Integer",alias:["data.field.float","data.field.number"],isIntegerField:!1,isNumberField:!0,numericType:"float",getNumber:Ext.identityFn,parse:function(e){return parseFloat(String(e).replace(this.stripRe,""))}}),Ext.define("Ext.data.field.String",{extend:"Ext.data.field.Field",alias:"data.field.string",sortType:"asUCString",isStringField:!0,convert:function(e){var t=this.allowNull?null:"";return null==e?t:String(e)},getType:function(){return"string"}}),Ext.define("Ext.data.identifier.Generator",{abstract:!0,mixins:["Ext.mixin.Factoryable"],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:!0,config:{id:null},constructor:function(e){this.initConfig(e),(e=this.getId())&&(Ext.data.identifier.Generator.all[e]=this)},privates:{clone:function(e){var t=this.getInitialConfig(),t=e?Ext.apply({},e,t):t;return new this.self(t)},statics:{all:{}}}},function(){var i=this,e=Ext.Factory,n=e.dataIdentifier;e.dataIdentifier=function(e){var t=Ext.isString(e)?e:e&&e.id;return t&&i.all[t]||n(e)}}),Ext.define("Ext.data.identifier.Sequential",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var e=this._seed,t=this._prefix;return this._seed+=this._increment,null!==t?t+e:e}}),Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",requires:["Ext.data.ErrorCollection","Ext.data.operation.*","Ext.data.field.*","Ext.data.validator.Validator","Ext.data.schema.Schema","Ext.data.identifier.Generator","Ext.data.identifier.Sequential"],uses:["Ext.data.Validation"],isEntity:!0,isModel:!0,validIdRe:null,erasing:!1,observableType:"record",crudState:"R",crudStateWas:null,constructor:function(e,t){var i,n,r,o,s,a,l=this,d=l.self,c=d.identifier,u=Ext.data.Model,h=u.identifier,f=l.idField.name;l.data=l.data=e=e||{},l.session=t||null,l.internalId=r=h.generate();var g=e[f];if(t&&!t.isSession&&Ext.raise('Bad Model constructor argument 2 - "session" is not a Session'),(i=e)instanceof Array)for(l.data=e={},a=l.getFields(),o=Math.min(a.length,i.length),s=0;s<o;++s)e[a[s].name]=i[s];(n=d.initializeFn)||(d.initializeFn=n=u.makeInitializeFn(d)),n.$nullFn||d.initializeFn(l),(l.id=n=e[f])||0===n||(g&&Ext.raise('The model ID configured in data ("'+g+'") has been rejected by the '+l.fieldsMap[f].type+" field converter for the "+f+" field"),n=t?(c=t.getIdentifier(d)).generate():h===c?r:c.generate(),e[f]=l.id=n,l.phantom=!0,l.crudState="C"),t&&t.add(l),l.init&&Ext.isFunction(l.init)&&l.init()},editing:!1,dirty:!1,session:null,dropped:!1,erased:!1,clientIdProperty:null,evented:!1,phantom:!1,idProperty:"id",manyToMany:null,identifier:null,previousValues:void 0,proxy:void 0,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:!0,beginEdit:function(){var e=this.modified,t=this.previousValues;this.editing||(this.editing=!0,this.editMemento={dirty:this.dirty,data:Ext.apply({},this.data),generation:this.generation,modified:e&&Ext.apply({},e),previousValues:t&&Ext.apply({},t)})},cancelEdit:function(){var e=this.editMemento;e&&(this.editing=!1,Ext.apply(this,e),this.editMemento=null)},endEdit:function(e,t){var i=this.editMemento;i&&(this.editing=!1,this.editMemento=null,this.previousValues=i.previousValues,e||(t=t||this.getModifiedFieldNames(i.data),(this.dirty||t&&t.length)&&this.callJoined("afterEdit",[t])))},getField:function(e){return this.self.getField(e)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(e,t){this.set(this.idProperty,e,t)},getPrevious:function(e){var t=this.previousValues;return t&&t[e]},isModified:function(e){var t=this.modified;return!(!t||!t.hasOwnProperty(e))},getModified:function(e){var t;return this.isModified(e)&&(t=this.modified[e]),t},get:function(e){return this.data[e]},_singleProp:{},_rejectOptions:{convert:!1,silent:!0},set:function(e,t,i){var n,r,o,s,a,l,d,c,u,h,f,g,p,m,x,E,y,v=this,b=v.self,C=v.data,S=v.modified,w=v.previousValues,P=v.session,T=Ext.isString(e),I=T?i:t,k=I?!1!==I.convert:v.convertOnSet,R=v.fieldsMap,M=I&&I.silent,i=I&&I.commit,A=!(I&&!1===I.refs)&&P,D=!(I&&!1===I.dirty&&!i),F=null,L=0,O=v.associations;for(T?(E=v._singleProp)[e]=t:E=e,(p=b.rankedFields)||(p=b.rankFields()),f=p.length;;){for(a in E)if(x=E[a],n=C[a],d=v,m=(r=R[a])?(k&&r.convert&&(x=r.convert(x,v)),(d=r).reference):null,!d.isEqual(n,x)){for(C[a]=x,(F=F||[]).push(a),(w||(v.previousValues=w={}))[a]=n,m&&m.cls&&(A&&P.updateReference(v,r,x,n),m.onValueChange(v,P,x,n)),h=(u=r&&r.dependents)&&u.length;0<h--;)(c=u[h]).dirty=!0,L=L?Math.min(L,c.rank):c.rank;r&&!r.persist||(S&&S.hasOwnProperty(a)?D&&!d.isEqual(S[a],x)||(delete S[a],v.dirty=-1):D&&(S||(v.modified=S={}),v.dirty=!0,S[a]=n)),a===v.idField.name&&(o=!0,l=n,g=x)}if(!L)break;for((r=p[L-1]).dirty=!1,T?delete E[e]:(E=v._singleProp,T=!0),E[e=r.name]=C[e],k=!0;L<f&&!p[L].dirty;++L);L<f?++L:L=0}if(v.dirty<0)for(s in v.dirty=!1,S)if(S.hasOwnProperty(s)){v.dirty=!0;break}if(T&&delete E[e],++v.generation,o&&(v.id=g,v.onIdChanged(g,l),v.callJoined("onIdChanged",[l,g]),O))for(y in O)O[y].onIdChanged(v,l,g);return i?v.commit(M,F):M||v.editing||!F||v.callJoined("afterEdit",[F]),F},reject:function(e){var t=this.modified;this.erased&&Ext.raise("Cannot reject once a record has been erased."),t&&this.set(t,this._rejectOptions),this.dropped=!1,this.clearState(),e||this.callJoined("afterReject")},commit:function(e,t){var i,n=this.versionProperty,r=this.data;this.clearState(),!n||this.phantom||isNaN(r[n])||++r[n],this.phantom=!1,this.dropped&&(this.erased=i=!0),e||(i?this.callJoined("afterErase"):this.callJoined("afterCommit",[t]))},clearState:function(){this.dirty=this.editing=!1,this.editMemento=this.modified=null},drop:function(e){var t,i=this.associations,n=this.session;if(!this.erased&&!this.dropped){if(this.dropped=!0,i&&!1!==e)for(t in i)i[t].onDrop(this,n);this.callJoined("afterDrop"),this.phantom&&this.setErased()}},join:function(e){var t=this.joined;t?t.length?Ext.Array.include(t,e):t[0]=e:t=this.joined=[e],e.isStore&&!this.store&&(this.store=e)},unjoin:function(e){var t,i=this.joined,n=i&&i.length,r=this.store;if(e===this.session)this.session=null;else if(1===n&&i[0]===e?i.length=0:n&&Ext.Array.remove(i,e),r===e){if(r=null,i)for(t=0,n=i.length;t<n;++t)if((e=i[t]).isStore){r=e;break}this.store=r}},clone:function(e){var t=this.modified,e=this.copy(this.id,e);return t&&(e.modified=Ext.apply({},t)),e.dirty=this.dirty,e.dropped=this.dropped,e.phantom=this.phantom,e},copy:function(e,t){var i=Ext.apply({},this.data),n=this.idProperty,r=this.self;return e||0===e?i[n]=e:null===e&&delete i[n],new r(i,t)},getProxy:function(){return this.self.getProxy()},getValidation:function(e){var t=this.validation;return t||(this.validation=t=new Ext.data.Validation,t.attach(this)),(!0===e||!1!==e&&t.syncGeneration!==this.generation)&&t.refresh(e),t},validate:function(){return(new Ext.data.ErrorCollection).init(this)},isValid:function(){return this.getValidation().isValid()},toUrl:function(){var e=this.$className.split(".");return e[e.length-1].toLowerCase()+"/"+this.getId()},erase:function(e){return this.erasing=!0,this.drop(),this.erasing=!1,this.save(e)},setErased:function(){this.erased=!0,this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var e=this.self,t=e.criticalFields;return t||(e.rankFields(),t=e.criticalFields),t},getAssociatedData:function(e,t){var i,n,r,o,s,a,l,d,c,u,h,f=this.associations;for(d in e=e||{},this.$gathering=1,t=t&&Ext.Object.chain(t),f)if((r=f[d].getAssociatedItem(this))&&!r.$gathering){if(r.isStore){for(r.$gathering=1,a=(o=r.getData().items).length,s=[],n=0;n<a;++n)i=!(l=o[n]).$gathering,l.$gathering=1,c=t?(void 0===(h=t.associated)?(t.associated=i,u=!0):i||(u=!(t.associated=!1)),t):i?this._getAssociatedOptions:this._getNotAssociatedOptions,s.push(l.getData(c)),u&&(t.associated=h,u=!1),delete l.$gathering;delete r.$gathering}else c=t||this._getAssociatedOptions,t&&void 0===t.associated&&(c.associated=!0),s=r.getData(c);e[d]=s}return delete this.$gathering,e},getData:function(e){var t,i,n,r,o,s={},a=!0===e?this._getAssociatedOptions:e||s,l=this.data,d=a.associated,c=a.changes,e=c&&a.critical,c=c?this.modified:l,u=this.fieldsMap,h=a.persist,f=a.serialize;if(c)for(r in c){if(o=l[r],i=u[r]){if(h&&!i.persist)continue;f&&i.serialize&&(o=i.serialize(o,this))}s[r]=o}if(e)for(n=(t=this.self.criticalFields||this.getCriticalFields()).length;0<n--;)(r=(i=t[n]).name)in s||(o=l[r],f&&i.serialize&&(o=i.serialize(o,this)),s[r]=o);return d&&this.getAssociatedData(s,a),s},getTransientFields:function(){var e=this.self,t=e.transientFields;return t||(e.rankFields(),t=e.transientFields),t},isLoading:function(){return!!this.loadOperation},abort:function(){var e=this.loadOperation;e&&e.abort()},load:function(a){a=Ext.apply({},a);var l=this,d=a.scope||l,e=l.getProxy(),c=a.callback,t=l.loadOperation,r=l.getId();if(t)return(t.extraCalls||(t.extraCalls=[])).push(a),t;var o=!0;return l.phantom&&(o=!1),a.id=r,a.recordCreator=function(e,t,i){var n=l.session;return i&&(i.recordCreator=n?n.recordCreator:null),l.set(e,l._commitOptions),o&&l.getId()!==r&&Ext.raise("Invalid record id returned for "+r+"@"+l.entityName),l},a.internalCallback=function(e){var t,i,n=e.wasSuccessful()&&0<e.getRecords().length,r=l.loadOperation.extraCalls,o=[l,e],s=[l,e,n];if(l.loadOperation=null,n?Ext.callback(a.success,d,o):Ext.callback(a.failure,d,o),Ext.callback(c,d,s),r)for(t=0,i=r.length;t<i;++t)a=r[t],n?Ext.callback(a.success,d,o):Ext.callback(a.failure,d,o),Ext.callback(a.callback,d,s);l.callJoined("afterLoad")},delete a.callback,l.loadOperation=t=e.createOperation("read",a),t.execute(),t},save:function(i){i=Ext.apply({},i);var n=this,e=n.phantom,t=n.dropped,r=t?"destroy":e?"create":"update",o=i.scope||n,s=i.callback,a=n.getProxy();return i.records=[n],i.internalCallback=function(e){var t=[n,e],e=e.wasSuccessful();e?Ext.callback(i.success,o,t):Ext.callback(i.failure,o,t),t.push(e),Ext.callback(s,o,t)},delete i.callback,r=a.createOperation(r,i),t&&e?(r.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet),n.setErased(),r.setSuccessful(!0)):r.execute(),r},inheritableStatics:{addFields:function(e){this.replaceFields(e)},replaceFields:function(e,t){var i,n,r,o,s,a=this,l=a.prototype,d=Ext.data.field.Field,c=a.fields,u=a.fieldsMap,h=a.fieldOrdinals;if(!0===t)c.length=0,a.fieldsMap=u={},a.fieldOrdinals=h={};else if(t){for(n=t.length;0<n--;)(o=t[n])in h&&(delete h[o],delete u[o]);for(n=0,r=c.length;n<r;++n)(o=(i=c[n]).name)in h?h[o]=n:(c.splice(n,1),--n,--r)}for(n=0,r=e?e.length:0;n<r;n++)(o=(i=e[n]).name)in h||(h[o]=s=c.length,c.push(i=d.create(i)),(u[o]=i).ordinal=s,i.definedBy=i.owner=this);a.idField=l.idField=l=u[l.idProperty],l.allowNull=l.critical=l.identifier=!0,l.defaultValue=null,a.initializeFn=a.rankedFields=a.transientFields=a.criticalFields=null},removeFields:function(e){this.replaceFields(null,e)},getIdFromData:function(e){var t=this.idField;return t.calculated?new this(e).id:e[t.name]},createWithId:function(e,t,i){var n=t;return!e&&0!==e||(n={},t&&Ext.apply(n,t),n[this.idField.name]=e),new this(n,i)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(e){return this.fieldsMap[e]||null},getProxy:function(){var e=this.proxy,t=this.defaultProxy;return e||(!(e=this.proxyConfig)&&t&&(e=t),e&&e.isProxy||("string"==typeof e&&(e={type:e}),t=this.schema.constructProxy(this),e=e?Ext.merge(t,e):t),e=this.setProxy(e)),e},setProxy:function(e){var t;return e&&(e.isProxy?(t=e.getModel())&&t!==this&&(e=e.clone()):e=Ext.Factory.proxy(e),e.setModel(this)),this.prototype.proxy=this.proxy=e},load:function(e,t,i){var n={};return n[this.prototype.idProperty]=e,(i=new this(n,i)).load(t),i}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(e,t){for(var i=this.stores,n=i.length,r=0;r<n;++r)e.call(t,i[r])},join:function(e){var t=this.stores,i=this.joined;i?i.push(e):i=this.joined=[e],e.isStore&&(this.store=this.store||e,(t=t||(this.stores=[])).push(e))},unjoin:function(e){var t=this.stores,i=this.joined;1===i.length?i.length=0:Ext.Array.remove(i,e),e.isStore&&(Ext.Array.remove(t,e),this.store=t[0]||null)}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:!0},_getChangesOptions:{changes:!0},_getAssociatedOptions:{associated:!0},_getNotAssociatedOptions:{associated:!1},copyFrom:function(e){var t,i,n,r,o=this.fields,s=o.length,a=[],l=0,d=this.idProperty;if(e){for(t=this.data,i=e.data;l<s;l++)(n=o[l].name)!==d&&(void 0===(r=i[n])||this.isEqual(t[n],r)||(t[n]=r,a.push(n)));this.phantom&&!e.phantom&&(this.beginEdit(),this.setId(e.getId()),this.endEdit(!0),this.commit(!0))}return a},callJoined:function(e,t){var i,n,r,o,s=this.joined,a=this.session,l=this.dropped?"D":this.phantom?"C":this.dirty?"U":"R";if(this.crudState=l,s||a){if(t?t.unshift(this):t=[this],s)for(i=0,n=s.length;i<n;++i)(o=s[i])&&(r=o[e])&&r.apply(o,t);(r=a&&a[e])&&r.apply(a,t)}this.crudStateWas=l},onAssociatedRecordSet:function(e,t){this.callJoined("afterAssociatedRecordSet",[e,t])},onIdChanged:Ext.privateFn,setSession:function(e){e&&(this.session&&Ext.raise("This model already belongs to a session."),this.id||Ext.raise("The model must have an id to participate in a session.")),(this.session=e)&&e.add(this)},getModifiedFieldNames:function(e){var t,i=this.data,n=[],r=e||this.editMemento.data;for(t in i)i.hasOwnProperty(t)&&(this.isEqual(i[t],r[t],t)||n.push(t));return n},isEqual:function(e,t,i){var n;return i&&(n=i.isField?i:this.fieldsMap[i])?n.isEqual(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",defaultProxy:"memory",rankFields:function(){var e,t,i,n=this.prototype,r=this.fields,o=r.length,s=[],a=[],l=[];for(this.rankedFields=n.rankedFields=s,this.criticalFields=n.criticalFields=a,this.transientFields=n.transientFields=l,i=0;i<o;++i)(t=r[i]).critical&&a.push(t),t.persist||l.push(t),t.evil?(e=e||[]).push(t):t.depends||(s.push(t),t.rank=s.length);for(i=0;i<o;++i)(t=r[i]).rank||t.evil||this.topoAdd(t);if(e)for(i=0,o=e.length;i<o;++i)s.push(t=e[i]),t.rank=s.length;return this.topoStack=null,s},topoAdd:function(e){var t,i,n=e.depends,r=n?n.length:0,o=this.rankedFields,s=this.topoStack||(this.topoStack=[]);for(s.push(e.name),0===e.rank&&Ext.raise(this.$className+" has circular field dependencies: "+s.join(" --\x3e ")),s.length&&e.evil&&Ext.raise(this.$className+": Field "+s[s.length-1]+" cannot depend on depends-less field "+e.name),t=e.rank=0;t<r;++t)(i=this.fieldsMap[n[t]])||Ext.raise(this.$className+": Field "+e.name+" depends on undefined field "+n[t]),(i.dependents||(i.dependents=[])).push(e),i.rank||this.topoAdd(i);o.push(e),e.rank=o.length,s.pop()},initFields:function(e,t,i){var n,r,o,s,a,l,d,c,u,h=Ext.data.field.Field,f=e.fields,g=[],p={},m={},x=i.fields,E=e.versionProperty||i.versionProperty,y=t.idProperty;if(t.fields=i.fields=g,t.fieldOrdinals=i.fieldOrdinals=p,t.fieldsMap=i.fieldsMap=m,t.references=i.references=[],x)for(r=0,o=x.length;r<o;++r)g[r]=n=Ext.Object.chain(x[r]),n.dependents=null,n.owner=t,p[s=n.name]=r,(m[s]=n).rank=null,n.generated&&(c=(d=n).name);if(f)for(delete e.fields,r=0,o=f.length;r<o;++r)(l=(n=f[r]).reference)&&"string"!=typeof l&&(l=Ext.merge({},l)),n.$reference=l,void 0===(a=p[s=(n=h.create(f[r])).name])&&(p[s]=a=g.length),m[s]=n,(g[a]=n).definedBy=n.owner=t,n.ordinal=a,s===y&&(u=n);if(e=m[y]){if(u&&d&&d.generated)for(Ext.Array.remove(g,d),delete m[c],delete p[c],m[y]=u,r=0,o=g.length;r<o;++r)n=g[r],g.ordinal=r,p[n.name]=r}else a=d&&d.generated?d.ordinal:g.length,delete m[c],delete p[c],e=new h(y),g[a]=e,p[y]=a,(m[y]=e).definedBy=t,e.ordinal=a,e.generated=!0;e.allowNull=e.critical=e.identifier=!0,e.defaultValue=null,t.idField=i.idField=e,E&&((n=m[E])||(a=g.length,n=new h({name:E,type:"int"}),g[a]=n,p[E]=a,(m[E]=n).definedBy=t,n.ordinal=a,n.generated=!0),n.defaultValue=1,n.critical=!0)},initValidators:function(e,t,i){var n,r,o,s,a,l,d,c,u,h,f=i.validators;if(f)for(r in n={},f)n[r]=Ext.Array.clone(f[r]);if(s=e.validators||e.validations,e.validations&&(delete e.validations,Ext.log.warn((t.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead.")),s){if(delete e.validators,n=n||{},Ext.isArray(s)){for(o={},a=0,l=s.length;a<l;++a)o[c=(h=s[a]).field]||(o[c]=[]),h=h.fn||h,o[c].push(h);s=o}for(c in s)d=s[c],Ext.isArray(d)||(d=[d]),u=n[c],n[c]?Ext.Array.push(u,d):n[c]=d}if(n)for(c in n)(r=t.getField(c))&&r.setModelValidators(n[c]);t.validators=i.validators=n},initAssociations:function(e,t,i){var n,r,o,s,a=t.associations,l=t.belongsTo,d=t.hasMany,c=t.hasOne,u=t.manyToMany;if(delete t.associations,delete t.belongsTo,delete t.hasMany,delete t.hasOne,delete t.manyToMany,u&&e.addMatrices(i,u),a)for(n=0,r=(a=Ext.isArray(a)?a:[a]).length;n<r;++n)switch(o=a[n],delete(s=Ext.apply({},o)).type,o.type){case"belongsTo":e.addBelongsTo(i,s);break;case"hasMany":e.addHasMany(i,s);break;case"hasOne":e.addHasOne(i,s);break;default:Ext.raise('Invalid association type: "'+o.type+'"')}if(l)for(n=0,r=(l=Ext.isArray(l)?l:[l]).length;n<r;++n)e.addBelongsTo(i,l[n]);if(d)for(n=0,r=(d=Ext.isArray(d)?d:[d]).length;n<r;++n)e.addHasMany(i,d[n]);if(c)for(n=0,r=(c=Ext.isArray(c)?c:[c]).length;n<r;++n)e.addHasOne(i,c[n]);e.afterKeylessAssociations(i)},initIdentifier:function(e,t,i){var n=e.identifier||e.idgen,r=i.identifier||t.schema._defaultIdentifier;e.idgen&&Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead."),n?(delete e.identifier,delete e.idgen,n=Ext.Factory.dataIdentifier(n)):r&&(n=r.clone&&!r.getId()?r.clone():r.isGenerator?r:Ext.Factory.dataIdentifier(r)),(t.identifier=i.identifier=n)||(n=(n=t.entityName)||Ext.id(null,"extModel"),t.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:n+"-"}))},findValidator:function(e,t,i){var n,r,o,s=i.type||i,a=e[t];if(a)for(r=0,n=a.length;r<n;++r)if((o=a[r]).type===s)return o;return null},makeInitializeFn:function(e){var t,i,n,r,o,s,a,l,d,c,u=["var "],h=["\nreturn function (e) {\n    var data = e.data, v;\n"],f=0;for((s=e.rankedFields)||(s=e.rankFields()),d=0,c=s.length;d<c;++d)a="f"+d,n=(o=s[d]).convert,d&&u.push(",  \n    "),u.push(a," = $fields["+d+"]"),u.push("  /*  ",o.name,"  */"),((l=void 0!==o.defaultValue)||n)&&(r='data["'+o.name+'"]',++f,t=i="",o.cloneDefaultValue&&(t="Ext.clone(",i=")"),h.push("\n"),n&&l?h.push("    v = ",r,";\n    if (v !== undefined) {\n        v = ",a,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",t,a,".defaultValue",i,";\n    }\n    ",r," = v;"):n?h.push("    v = ",a,".convert(",r,",e);\n    if (v !== undefined) {\n        ",r," = v;\n    }\n"):l&&h.push("    if (",r," === undefined) {\n        ",r," = ",t,a,".defaultValue",i,";\n    }\n"));return f?(u.push(";\n"),u.push.apply(u,h),u.push("}"),u=u.join(""),new Function("$fields","Ext",u)(s,Ext)):Ext.emptyFn}}}},function(){var s,a=this,e=a.prototype,l=Ext.data.schema.Schema;a.proxyConfig=e.proxy,delete e.proxy,a.fields=[],a.fieldsMap=e.fieldsMap={},a.schema=e.schema=l.get(e.schema),e.idField=new Ext.data.field.Field(e.idProperty),a.identifier=new Ext.data.identifier.Sequential,a.onExtended(function(e,t){var i,n=e.prototype,r=t.schema,o=n.superclass.self;e.idProperty=t.idProperty||n.idProperty,r?(delete t.schema,i=l.get(r)):(i=n.schema)||(i=s=s||l.get("default")),e.rankFields=a.rankFields,e.topoAdd=a.topoAdd,n.schema=e.schema=i,(r=t.entityName)||(n.entityName=r=i.getEntityName(e),r||(t.associations&&Ext.raise('Anonymous entities cannot specify "associations"'),t.belongsTo&&Ext.raise('Anonymous entities cannot specify "belongsTo"'),t.hasMany&&Ext.raise('Anonymous entities cannot specify "hasMany"'),t.hasOne&&Ext.raise('Anonymous entities cannot specify "hasOne"'),t.matrices&&Ext.raise('Anonymous entities cannot specify "manyToMany"'))),e.entityName=r,e.fieldExtractors={},a.initIdentifier(t,e,n),a.initFields(t,e,n),a.initValidators(t,e,n),e.fields.items=e.fields,r&&(i.addEntity(e),a.initAssociations(i,t,e)),(i=t.proxy)?delete t.proxy:o!==a&&(i=o.proxyConfig||o.proxy),e.proxyConfig=i})}),Ext.define("Ext.data.ResultSet",{isResultSet:!0,$configPrefixed:!1,config:{loaded:!0,count:null,total:null,success:!1,records:null,message:null,metadata:null},constructor:function(e){this.initConfig(e)},getCount:function(){var e,t=this.callParent();return t||(e=this.getRecords())&&(t=e.length),t}}),Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],requires:["Ext.data.ResultSet","Ext.XTemplate","Ext.util.LruCache"],mixins:["Ext.mixin.Observable","Ext.mixin.Factoryable"],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:!0,readRecordsOnFailure:!0,model:null,proxy:null,transform:null,keepRawData:null},isReader:!0,constructor:function(e){e&&e.hasOwnProperty("root")&&((e=Ext.apply({},e)).rootProperty=e.root,delete e.root,Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.'));this.duringInit=1,this.mixins.observable.constructor.call(this,e),--this.duringInit,this.buildExtractors()},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},applyTransform:function(e){return e&&(Ext.isFunction(e)?e={fn:e}:e.charAt&&(e={fn:this[e]}),e.fn.bind(e.scope||this))},forceBuildExtractors:function(){this.duringInit||this.buildExtractors(!0)},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(e,t){var i,n;if(e)if(n=e.responseText){if((i=this.getResponseData(e))&&i.__$isError)return new Ext.data.ResultSet({total:0,count:0,records:[],success:!1,message:i.msg});i=this.readRecords(i,t)}else""!==n&&(i=this.readRecords(e,t));return i||this.nullResultSet},getNullResultSet:function(){return this.nullResultSet},createReadError:function(e){return{__$isError:!0,msg:e}},readRecords:function(e,t,i){var n,r,o,s,a,l=this,d=i&&i.recordsOnly,c=i&&i.asRoot,u=l.getMeta?l.getMeta(e):e.metaData;return u&&l.onMetaChange(u),(a=l.getTransform())&&(e=a(e)),l.buildExtractors(),l.getKeepRawData()&&(l.rawData=e),l.hasListeners.rawdata&&l.fireEventArgs("rawdata",[e]),e=l.getData(e),n=!0,i=0,a=[],l.getSuccessProperty()&&(!1!==(o=l.getSuccess(e))&&"false"!==o||(n=!1)),l.getMessageProperty()&&(s=l.getMessage(e)),(n||l.getReadRecordsOnFailure())&&((c=c||Ext.isArray(e)?e:l.getRoot(e))&&(r=c.length),l.getTotalProperty()&&(o=parseInt(l.getTotal(e),10),isNaN(o)||(r=o)),c&&(i=(a=l.extractData(c,t)).length)),d?a:new Ext.data.ResultSet({total:r||i,metadata:u,count:i,records:a,success:n,message:s})},extractData:function(e,t){var i,n,r,o,s,a=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),l=a.schema,d=l.hasAssociations(a)&&this.getImplicitIncludes(),c=this.getFieldExtractorInfo(a.fieldExtractors),u=e.length,h=new Array(u),f=this.getTypeProperty();for(!u&&Ext.isObject(e)&&(e=[e],u=1),s=0;s<u;s++)(o=e[s]).isModel||(n=o,(o=f&&(r=this.getChildType(l,n,f))?(i=r.getProxy().getReader()).extractRecord(n,t,r,l.hasAssociations(r)&&i.getImplicitIncludes(),i.getFieldExtractorInfo(r.fieldExtractors)):this.extractRecord(n,t,a,d,c)).isModel&&o.isNode&&(o.raw=n)),o.onLoad&&o.onLoad(),h[s]=o;return h},getChildType:function(e,t,i){var n;switch(typeof i){case"string":return e.getEntity(t[i]);case"object":return n=i.namespace,e.getEntity((n?n+".":"")+t[i.name]);case"function":return e.getEntity(i(t))}},extractRecordData:function(e,t){var i=t&&t.model?Ext.data.schema.Schema.lookupEntity(t.model):this.getModel(),n=this.getFieldExtractorInfo(i.fieldExtractors);return this.extractRecord(e,t,i,!1,n)},extractRecord:function(e,t,i,n,r){var o=t&&t.recordCreator||this.defaultRecordCreator,r=this.extractModelData(e,r),i=o.call(this,r,i||this.getModel(),t);return n&&i.isModel&&this.readAssociated(i,e,t),i},getFieldExtractorInfo:function(e){if(e){var t=this.$className,i=e[t];return void 0===i&&(e[t]=i=this.buildFieldExtractors()),i}},buildFieldExtractors:function(){for(var e,t,i=this.getFields(),n=i.length,r=[],o=[],s=null,a=0,l=0;l<n;++l)e=i[l],(t=this.createFieldAccessor(e))&&(e=e.name,r.push("val = extractors["+a+"](raw); if (val !== undefined) { data['"+e+"'] = val; }"),o.push(t),++a);return r.length&&(s={extractors:o,fn:new Function("raw","data","extractors","var val;"+r.join(""))}),s},defaultRecordCreator:function(e,t){e=new t(e);return e.phantom=!1,e},getModelData:function(e){return{}},extractModelData:function(e,t){var i=this.getModelData(e);return t&&(0,t.fn)(e,i,t.extractors),i},readAssociated:function(e,t,i){var n,r,o=e.associations;for(n in o)o.hasOwnProperty(n)&&(r=o[n]).cls&&r.read(e,t,this,i)},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(e){Ext.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(e){var t,i,n=e.fields;(this.metaData=e).root&&this.setRootProperty(e.root),e.totalProperty&&this.setTotalProperty(e.totalProperty),e.successProperty&&this.setSuccessProperty(e.successProperty),e.messageProperty&&this.setMessageProperty(e.messageProperty),i=e.clientIdProperty,n?(e=Ext.define(null,{extend:"Ext.data.Model",fields:n,clientIdProperty:i}),this.setModel(e),(n=this.getProxy())&&n.setModel(e)):i&&(t=this.getModel())&&(t.self.prototype.clientIdProperty=i)},buildExtractors:function(e){var t,i,n=this;if(e||!n.hasExtractors)return t=n.getTotalProperty(),i=n.getSuccessProperty(),e=n.getMessageProperty(),t&&(n.getTotal=n.getAccessor(t)),i&&(n.getSuccess=n.getAccessor(i)),e&&(n.getMessage=n.getAccessor(e)),n.hasExtractors=!0},getAccessor:function(e){var t,i,n=this.extractorCache;return"string"==typeof e?(i=this.getAccessorKey(e),(t=n.get(i))||(t=this.createAccessor(e),n.add(i,t))):t=this.createAccessor(e),t},getAccessorKey:function(e){return this.$className+e},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){this.model=this.getTotal=this.getSuccess=this.getMessage=this.rawData=null,this.onMetaChange=null,this.transform=null,this.callParent()},privates:{copyFrom:function(e){e.buildExtractors(),this.getTotal=e.getTotal,this.getSuccess=e.getSuccess,this.getMessage=e.getMessage,++this.duringInit,this.setConfig(e.getConfig()),--this.duringInit,this.hasExtractors=!0}}},function(e){e=e.prototype;Ext.apply(e,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:!0,message:""})}),e.extractorCache=new Ext.util.LruCache}),Ext.define("Ext.data.writer.Writer",{mixins:["Ext.mixin.Factoryable"],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:!0},partialDataOptions:{changes:!0,critical:!0},writeAllFields:!1,dateFormat:null,nameProperty:"name",writeRecordId:!0,transform:null},isWriter:!0,constructor:function(e){this.initConfig(e)},applyTransform:function(e){return e&&(Ext.isFunction(e)&&(e={fn:e}),e.fn.bind(e.scope||this))},write:function(e){for(var t=e.getOperation(),i=t.getRecords()||[],n=i.length,r=[],o=0;o<n;o++)r.push(this.getRecordData(i[o],t));return this.writeRecords(e,r)},writeRecords:Ext.emptyFn,getRecordData:function(e,t){var i,n,r,o,s,a=this.getNameProperty(),l="name"!==a,d=e.self.idField,c=d[a]||d.name,u=e.id,h=this.getWriteAllFields();if(d.serialize&&(u=d.serialize(u)),!h&&t&&t.isDestroyOperation)(i={})[c]=u;else for(c in n=this.getDateFormat(),h=(t=e.phantom)||h?this.getAllDataOptions():this.getPartialDataOptions(),t=t&&this.getClientIdProperty(),r=e.getFieldsMap(),h.serialize=!1,o=e.getData(h),i=l?{}:o,t?(i[t]=u,delete o[c]):this.getWriteRecordId()||delete o[c],o)u=o[c],(s=r[c])?(s.isDateField&&n&&Ext.isDate(u)?u=Ext.Date.format(u,n):s.serialize&&(u=s.serialize(u,e)),l&&(c=s[a]||c),i[c]=u):l&&(i[c]=u);return i}}),Ext.define("Ext.data.proxy.Proxy",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Observable"],$configPrefixed:!1,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],requires:["Ext.data.schema.Schema","Ext.data.reader.Reader","Ext.data.writer.Writer"],uses:["Ext.data.Batch","Ext.data.operation.*","Ext.data.Model"],config:{batchOrder:"create,update,destroy",batchActions:!0,model:void 0,reader:{type:"json"},writer:{type:"json"}},isProxy:!0,isSynchronous:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.pendingOperations={}},applyModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},updateModel:function(e){var t;!e||(t=this.getReader())&&!t.getModel()&&t.setModel(e)},applyReader:function(e){return this.isSynchronous&&((e=e||{}).keepRawData=!0),Ext.Factory.reader(e)},updateReader:function(e){var t;e&&((t=this.getModel())?e.setModel(t):(t=e.getModel())&&this.setModel(t))},applyWriter:function(e){var t=this.getReader();return(e=Ext.Factory.writer(e)).getRecord&&!e.getRecord()&&t&&t.getRecord&&(t=t.getRecord())&&e.setRecord(t),e},abort:Ext.emptyFn,onMetaChange:function(e){this.fireEvent("metachange",this,e)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(e,t){var i,n,r,o,s,a,l,d,c,u=this.getBatchActions();for(void 0===e.operations&&(e={operations:e,listeners:t}),e.batch?Ext.isDefined(e.batch.runOperation)&&(i=Ext.applyIf(e.batch,{proxy:this,listeners:{}})):e.batch={proxy:this,listeners:e.listeners||{}},(i=i||new Ext.data.Batch(e.batch)).on("complete",Ext.bind(this.onBatchComplete,this,[e],0)),o=(r=this.getBatchOrder().split(",")).length,a=0;a<o;a++)if(s=r[a],n=e.operations[s])if(u)i.add(this.createOperation(s,{records:n,params:e.params}));else for(d=n.length,l=0;l<d;l++)c=n[l],i.add(this.createOperation(s,{records:[c],params:e.params}));return i.start(),i},onBatchComplete:function(e,t){var i=e.scope||this;t.hasException()?Ext.isFunction(e.failure)&&Ext.callback(e.failure,i,[t,e]):Ext.isFunction(e.success)&&Ext.callback(e.success,i,[t,e]),Ext.isFunction(e.callback)&&Ext.callback(e.callback,i,[t,e])},createOperation:function(e,t){t=Ext.createByAlias("data.operation."+e,t);return t.setProxy(this),this.pendingOperations[t._internalId]=t},completeOperation:function(e){delete this.pendingOperations[e._internalId]},clone:function(){return new this.self(this.getInitialConfig())},destroy:function(){var e,t,i=this.pendingOperations;for(e in i)(t=i[e])&&t.isRunning()&&t.abort();this.pendingOperations=null,this.callParent()}}),Ext.define("Ext.data.proxy.Client",{extend:"Ext.data.proxy.Proxy",alternateClassName:"Ext.data.ClientProxy",isSynchronous:!0,clear:function(){Ext.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}}),Ext.define("Ext.data.proxy.Memory",{extend:"Ext.data.proxy.Client",alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:!0,config:{enablePaging:!1,data:{$value:null,merge:function(e,t,i,n){return(Ext.isArray(e)?Ext.Array:Ext).clone(e)}}},finishOperation:function(e){for(var t=0,i=e.getRecords(),n=i.length;t<n;t++)i[t].dropped=!!e.isDestroyOperation,i[t].commit();e.setSuccessful(!0)},create:function(e){this.finishOperation(e)},update:function(e){this.finishOperation(e)},erase:function(e){this.finishOperation(e)},read:function(e){var t=this.getReader().read(this.getData()),i=t.getRecords(),n=e.getSorters(),r=e.getGrouper(),o=e.getFilters(),s=e.getStart(),a=e.getLimit();!1!==e.process(t,null,null,!1)&&(o&&o.length&&(t.setRecords(i=Ext.Array.filter(i,Ext.util.Filter.createFilterFn(o))),t.setTotal(i.length)),r&&(n=n&&n.concat(r)),n&&n.length&&t.setRecords(i=Ext.Array.sort(i,Ext.util.Sortable.createComparator(n))),this.getEnablePaging()&&void 0!==s&&void 0!==a&&(s>=t.getTotal()?t.setConfig({success:!1,records:[],total:0}):t.setRecords(Ext.Array.slice(i,s,s+a))),e.setCompleted(),(t=t.getMetadata())&&this.onMetaChange(t))},clear:Ext.emptyFn}),Ext.define("Ext.data.ProxyStore",{extend:"Ext.data.AbstractStore",requires:["Ext.data.Model","Ext.data.proxy.Proxy","Ext.data.proxy.Memory","Ext.data.operation.*"],config:{model:void 0,fields:null,proxy:void 0,autoLoad:void 0,autoSync:!1,batchUpdateMode:"operation",sortOnLoad:!0,trackRemoved:!0,asynchronousLoad:void 0},onClassExtended:function(e,t,i){var n,r=t.model;"string"==typeof r&&(n=i.onBeforeCreated,i.onBeforeCreated=function(){var e=this,t=arguments;Ext.require(r,function(){n.apply(e,t)})})},implicitModel:"Ext.data.Model",autoSyncSuspended:0,constructor:function(e){var t,i=this.model;this.removed=[],this.callParent(arguments),!1===this.getAsynchronousLoad()&&this.flushLoad(),this.getModel()||!1===this.useModelWarning||"ext-empty-store"===this.getStoreId()||(t=[Ext.getClassName(this)||"Store"," created with no model."],"string"==typeof i&&t.push(" The name '",i,"'"," does not correspond to a valid model."),Ext.log.warn(t.join("")))},applyAsynchronousLoad:function(e){return null==e&&(e=!this.loadsSynchronously()),e},updateAutoLoad:function(e){this.getData(),e&&this.load(Ext.isObject(e)?e:void 0)},getTotalCount:function(){return this.totalCount||0},applyFields:function(e){e&&this.createImplicitModel(e)},applyModel:function(e){return e?e=Ext.data.schema.Schema.lookupEntity(e):this.destroying||(this.getFields(),e=this.getModel()||this.createImplicitModel()),e},applyProxy:function(e){var t=this.getModel();return null!==e&&(e?e.isProxy?e.setModel(t):(Ext.isString(e)?e={type:e,model:t}:e.model||(e=Ext.apply({model:t},e)),(e=Ext.createByAlias("proxy."+e.type,e)).autoCreated=!0):t&&(e=t.getProxy(),this.useModelProxy=!0),e||((e=Ext.createByAlias("proxy.memory")).autoCreated=!0)),e},applyState:function(e){this.callParent([e]),(this.getAutoLoad()||this.isLoaded())&&this.load()},updateProxy:function(e,t){this.proxyListeners=Ext.destroy(this.proxyListeners)},updateTrackRemoved:function(e){this.cleanRemoved(),this.removed=e?[]:null},onMetaChange:function(e,t){this.fireEvent("metachange",this,t)},create:function(e,t){e=new(this.getModel())(e);return(t=Ext.apply({},t)).records||(t.records=[e]),t.internalScope=this,t.internalCallback=this.onProxyWrite,this.createOperation("create",t).execute()},read:function(){return this.load.apply(this,arguments)},update:function(e){return(e=Ext.apply({},e)).records||(e.records=this.getUpdatedRecords()),e.internalScope=this,e.internalCallback=this.onProxyWrite,this.createOperation("update",e).execute()},onProxyWrite:function(e){var t=e.wasSuccessful(),i=e.getRecords();switch(e.getAction()){case"create":this.onCreateRecords(i,e,t);break;case"update":this.onUpdateRecords(i,e,t);break;case"destroy":this.onDestroyRecords(i,e,t)}t&&(this.fireEvent("write",this,e),this.fireEvent("datachanged",this))},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(e,t,i){i&&this.cleanRemoved()},erase:function(e){return(e=Ext.apply({},e)).records||(e.records=this.getRemovedRecords()),e.internalScope=this,e.internalCallback=this.onProxyWrite,this.createOperation("destroy",e).execute()},onBatchOperationComplete:function(e,t){return this.onProxyWrite(t)},onBatchComplete:function(e,t){var i,n=e.operations,r=n.length;if("operation"!==this.batchUpdateMode){for(this.suspendEvents(),i=0;i<r;i++)this.onProxyWrite(n[i]);this.resumeEvents()}this.isSyncing=!1,this.fireEvent("datachanged",this)},onBatchException:function(e,t){},filterNew:function(e){return!0===e.phantom&&e.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(e){return!0===e.dirty&&!0!==e.phantom&&e.isValid()},getRemovedRecords:function(){var e=this.getRawRemovedRecords();return e?Ext.Array.clone(e):[]},sync:function(e){var t=this,i={},n=t.getNewRecords(),r=t.getUpdatedRecords(),o=t.getRemovedRecords(),s=!1;return t.isSyncing&&Ext.log.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false."),t.needsSync=!1,0<n.length&&(i.create=n,s=!0),0<r.length&&(i.update=r,s=!0),0<o.length&&(i.destroy=o,s=!0),s&&!1!==t.fireEvent("beforesync",i)&&(t.isSyncing=!0,e=e||{},t.proxy.batch(Ext.apply(e,{operations:i,listeners:t.getBatchListeners()}))),t},getBatchListeners:function(){var e={scope:this,exception:this.onBatchException,complete:this.onBatchComplete};return"operation"===this.batchUpdateMode&&(e.operationcomplete=this.onBatchOperationComplete),e},save:function(){return this.sync.apply(this,arguments)},load:function(e){return e="function"==typeof e?{callback:e}:e?Ext.Object.chain(e):{},this.pendingLoadOptions=e,this.getAsynchronousLoad()?this.loadTimer||(this.loadTimer=Ext.asap(this.flushLoad,this)):this.flushLoad(),this},flushLoad:function(){var e=this,t=e.pendingLoadOptions;e.clearLoadTask(),t&&(e.setLoadOptions(t),e.getRemoteSort()&&t.sorters&&e.fireEvent("beforesort",e,t.sorters),t=Ext.apply({internalScope:e,internalCallback:e.onProxyLoad,scope:e},t),e.lastOptions=t,t=e.createOperation("read",t),!1!==e.fireEvent("beforeload",e,t)&&(e.onBeforeLoad(t),e.loading=!0,t.execute()))},reload:function(e){return this.load(Ext.apply({},e,this.lastOptions))},onEndUpdate:function(){this.needsSync&&this.autoSync&&!this.autoSyncSuspended&&this.sync()},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t=t||null,this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},afterErase:function(e){this.onErase(e)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,doDestroy:function(){var e=this.getProxy();this.clearLoadTask(),this.getData().destroy(),this.data=null,this.setProxy(null),e.autoCreated&&e.destroy(),this.setModel(null),this.callParent()},hasPendingLoad:function(){return!!this.pendingLoadOptions||this.isLoading()},isLoading:function(){return!!this.loading},isLoaded:function(){return 0<this.loadCount},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(e){this.autoSyncSuspended||Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended."),this.autoSyncSuspended&&!--this.autoSyncSuspended&&e&&this.sync()},removeAll:Ext.emptyFn,clearData:Ext.emptyFn,privates:{getRawRemovedRecords:function(){return this.removed},onExtraParamsChanged:function(){},clearLoadTask:function(){this.loadTimer&&Ext.asapCancel(this.loadTimer),this.pendingLoadOptions=this.loadTimer=null},cleanRemoved:function(){var e,t,i=this.getRawRemovedRecords();if(i){for(t=0,e=i.length;t<e;++t)i[t].unjoin(this);i.length=0}},createOperation:function(e,t){var i,n=this.getProxy();return this.proxyListeners||(i={scope:this,destroyable:!0,beginprocessresponse:this.beginUpdate,endprocessresponse:this.endUpdate},this.disableMetaChangeEvent||(i.metachange=this.onMetaChange),this.proxyListeners=n.on(i)),n.createOperation(e,t)},createImplicitModel:function(e){var t={extend:this.implicitModel,statics:{defaultProxy:"memory"}};e&&(t.fields=e),e=Ext.define(null,t),this.setModel(e),(t=this.getProxy())?e.setProxy(t):this.setProxy(e.getProxy())},loadsSynchronously:function(){return this.getProxy().isSynchronous},onBeforeLoad:Ext.privateFn,removeFromRemoved:function(e){var t=this.getRawRemovedRecords();t&&(Ext.Array.remove(t,e),e.unjoin(this))},setLoadOptions:function(e){var t,i;this.getRemoteFilter()&&(t=this.getFilters(!1))&&t.getCount()&&(e.filters=t.getRange()),this.getRemoteSort()&&(i=this.getSorters(!1))&&i.getCount()&&(e.sorters=i.getRange())}}}),Ext.define("Ext.data.LocalStore",{extend:"Ext.Mixin",mixinConfig:{id:"localstore"},config:{extraKeys:null},applyExtraKeys:function(e){var t,i=this.getData();for(t in i.setExtraKeys(e),e=i.getExtraKeys())this[t]=e[t]},add:function(e){return this.insert(this.getCount(),1===arguments.length?e:arguments)},constructDataCollection:function(){var e=new Ext.util.Collection({rootProperty:"data"});return e.addObserver(this),e},createModel:function(e){var t=this.getSession();return e.isModel||(e=new(this.getModel())(e,t)),e},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){var e=this.getData().getSorters();return e.setSorterConfigure(this.addFieldTransform,this),e},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(e){return-1<this.indexOf(e)},each:function(e,t,i){var n,r,o,s=this.getData();for("object"==typeof i&&(i=i.filtered),!0===i&&s.filtered&&(s=s.getSource()),n=(s=s.items.slice(0)).length,o=0;o<n&&(r=s[o],!1!==e.call(t||r,r,o,n));++o);},collect:function(e,t,i){var n=this.getData();return"object"==typeof t&&(i=t.filtered,t=t.allowNull),!0===i&&n.filtered&&(n=n.getSource()),n.collect(e,"data",t)},getById:function(e){var t=this.getData();return t.filtered&&(t=t.getSource()),t.get(e)||null},getByInternalId:function(e){var t,i=this.getData();return i.filtered&&(i.$hasExtraKeys||(t=this.makeInternalKeyCfg(),i.setExtraKeys(t),i.$hasExtraKeys=!0),i=i.getSource()),i.$hasExtraKeys||(i.setExtraKeys(t||this.makeInternalKeyCfg()),i.$hasExtraKeys=!0),i.byInternalId.get(e)||null},getDataSource:function(){var e=this.getData();return e.getSource()||e},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},insert:function(e,t){var i,n;if(t&&(i=(t=Ext.isIterable(t)?Ext.Array.clone(t):[t]).length),!i)return[];for(n=0;n<i;++n)t[n]=this.createModel(t[n]);return this.getData().insert(e,t),t},queryBy:function(e,t){var i=this.getData();return(i.getSource()||i).createFiltered(e,t)},query:function(e,t,i,n,r){var o=this.getData();return(o.getSource()||o).createFiltered(e,t,i,n,r)},first:function(e){return this.getData().first(e)||null},last:function(e){return this.getData().last(e)||null},sum:function(e,t){var i=this.getData();return t&&this.isGrouped()?i.sumByGroup(e):i.sum(e)},count:function(e){var t=this.getData();return e&&this.isGrouped()?t.countByGroup():t.count()},min:function(e,t){var i=this.getData();return t&&this.isGrouped()?i.minByGroup(e):i.min(e)},max:function(e,t){var i=this.getData();return t&&this.isGrouped()?i.maxByGroup(e):i.max(e)},average:function(e,t){var i=this.getData();return t&&this.isGrouped()?i.averageByGroup(e):i.average(e)},aggregate:function(e,t,i,n){var r,o,s,a,l;if(i&&this.isGrouped()){for(o=(r=this.getGroups().items).length,s={},l=0;l<o;++l)s[(a=r[l]).getGroupKey()]=this.getAggregate(e,t||this,a.items,n);return s}return this.getAggregate(e,t,this.getData().items,n)},getAggregate:function(e,t,i,n){for(var r=[],o=i.length,s=0;s<o;++s)r[s]=i[s].get(n);return e.call(t||this,i,r)},addObserver:function(e){var t=this.observers;t||(this.observers=t=new Ext.util.Collection),t.add(e)},removeObserver:function(e){var t=this.observers;t&&t.remove(e)},callObservers:function(e,t){var i,n,r,o,s,a=this.observers;if(a)for(n=a.items,t?t.unshift(this):t=[this],r=0,i=n.length;r<i;++r)(s=n[r])[o="onSource"+e]&&s[o].apply(s,t)},queryRecordsBy:function(e,t){var i,n,r,o=this.getData(),s=[];for(t=t||this,n=0,i=(o=(o.getSource()||o).items).length;n<i;++n)r=o[n],!0===e.call(t,r)&&s.push(r);return s},queryRecords:function(e,t){for(var i,n=this.getData(),r=[],o=0,s=(n=(n.getSource()||n).items).length;o<s;++o)(i=n[o]).get(e)===t&&r.push(i);return r},privates:{isLast:function(e){return e===this.last()},makeInternalKeyCfg:function(){return{byInternalId:{property:"internalId",rootProperty:""}}}}}),Ext.define("Ext.data.proxy.Server",{extend:"Ext.data.proxy.Proxy",alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",uses:["Ext.data.Request"],isRemote:!0,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:!1,simpleGroupMode:!1,noCache:!0,cacheString:"_dc",timeout:3e4,api:{create:void 0,read:void 0,update:void 0,destroy:void 0},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(e,t){var i=this.getExtraParams();i[e]=t,this.fireEvent("extraparamschanged",i)},updateExtraParams:function(e,t){this.fireEvent("extraparamschanged",e)},buildRequest:function(e){var t,i=Ext.apply({},e.getParams()),n=Ext.applyIf(i,this.getExtraParams()||{});return Ext.applyIf(n,this.getParams(e)),t=e.getId(),i=this.getIdParam(),void 0!==t&&void 0===n[i]&&(n[i]=t),(n=new Ext.data.Request({params:n,action:e.getAction(),records:e.getRecords(),url:e.getUrl(),operation:e,proxy:this})).setUrl(this.buildUrl(n)),e.setRequest(n),n},processResponse:function(e,t,i,n){var r,o=this;o.destroying||o.destroyed||(o.fireEvent("beginprocessresponse",o,n,t),(!0===e?(r=o.getReader(),r=204===n.status?r.getNullResultSet():r.read(o.extractResponseData(n),{recordCreator:t.getRecordCreator()}),t.process(r,i,n),!t.wasSuccessful()):(o.setException(t,n),!0))?o.fireEvent("exception",o,n,t):(r=r.getMetadata())&&o.onMetaChange(r),o.afterRequest(i,e),o.fireEvent("endprocessresponse",o,n,t))},setException:function(e,t){e.setException({status:t.status,statusText:t.statusText,response:t})},extractResponseData:Ext.identityFn,applyEncoding:function(e){return Ext.encode(e)},encodeSorters:function(e,t){for(var i=[],n=e.length,r=0;r<n;r++)i[r]=e[r].serialize();return this.applyEncoding(t?i[0]:i)},encodeFilters:function(e){for(var t,i=[],n=e.length,r=0;r<n;r++)(t=e[r]).getFilterFn(),t.generatedFilterFn&&i.push(t.serialize());return this.applyEncoding(i)},getParams:function(e){if(!e.isReadOperation)return{};var t=this,i={},n=e.getGrouper(),r=e.getSorters(),o=e.getFilters(),s=e.getPage(),a=e.getStart(),l=e.getLimit(),d=t.getSimpleSortMode(),c=t.getSimpleGroupMode(),u=t.getPageParam(),h=t.getStartParam(),f=t.getLimitParam(),g=t.getGroupParam(),p=t.getGroupDirectionParam(),m=t.getSortParam(),x=t.getFilterParam(),e=t.getDirectionParam();return u&&s&&(i[u]=s),h&&(a||0===a)&&(i[h]=a),f&&l&&(i[f]=l),(l=g&&n)&&(c?(i[g]=n.getProperty(),i[p]=n.getDirection()):i[g]=t.encodeSorters([n],!0)),m&&r&&0<r.length&&(d?(d=0,1<r.length&&l&&(d=1),i[m]=r[d].getProperty(),i[e]=r[d].getDirection()):i[m]=t.encodeSorters(r)),x&&o&&0<o.length&&(i[x]=t.encodeFilters(o)),i},buildUrl:function(e){e=this.getUrl(e);return e||Ext.raise("You are using a ServerProxy but have not supplied it with a url."),this.getNoCache()&&(e=Ext.urlAppend(e,Ext.String.format("{0}={1}",this.getCacheString(),Ext.Date.now()))),e},getUrl:function(e){var t;return e&&(t=e.getUrl()||this.getApi()[e.getAction()]),t||this.callParent()},doRequest:function(e){Ext.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,destroy:function(){this.destroying=!0,this.reader=this.writer=Ext.destroy(this.reader,this.writer),this.callParent(),this.destroying=!1,this.destroyed=!0}}),Ext.define("Ext.data.proxy.Ajax",{requires:["Ext.Ajax"],extend:"Ext.data.proxy.Server",alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],isAjaxProxy:!0,defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:!1,headers:void 0,paramsAsJson:!1,withCredentials:!1,useDefaultXhrHeader:!0,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(e){var t,i=this,n=i.getWriter(),r=i.buildRequest(e),o=i.getMethod(r);return n&&e.allowWrite()&&(r=n.write(r)),r.setConfig({binary:i.getBinary(),headers:i.getHeaders(),timeout:i.getTimeout(),scope:i,callback:i.createRequestCallback(r,e),method:o,useDefaultXhrHeader:i.getUseDefaultXhrHeader(),disableCaching:!1}),"GET"!==o.toUpperCase()&&i.getParamsAsJson()&&(t=r.getParams())&&(o=(o=r.getJsonData())?Ext.Object.merge({},o,t):t,r.setJsonData(o),r.setParams(void 0)),i.getWithCredentials()&&(r.setWithCredentials(!0),r.setUsername(i.getUsername()),r.setPassword(i.getPassword())),i.sendRequest(r)},sendRequest:function(e){return e.setRawRequest(Ext.Ajax.request(e.getCurrentConfig())),this.lastRequest=e},abort:function(e){(e=e||this.lastRequest)&&Ext.Ajax.abort(e.getRawRequest())},getMethod:function(e){var t,i=this.getActionMethods(),e=e.getAction();return i&&(t=i[e]),t||this.defaultActionMethods[e]},createRequestCallback:function(n,r){var o=this;return function(e,t,i){n===o.lastRequest&&(o.lastRequest=null),o.processResponse(t,r,n,i)}},destroy:function(){this.lastRequest=null,this.callParent()}}),Ext.define("Ext.data.reader.Json",{extend:"Ext.data.reader.Reader",requires:["Ext.JSON"],alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:!1,preserveRawData:!1},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},getResponseData:function(t){var i;try{return Ext.decode(t.responseText)}catch(e){return i=this.createReadError(e.message),Ext.Logger.warn("Unable to parse the JSON returned by the server"),this.fireEvent("exception",this,t,i),i}},buildExtractors:function(){var e,t;this.callParent(arguments)&&(e=this.getMetaProperty(),t=this.getRootProperty(),this.getRoot=t?this.getAccessor(t):Ext.identityFn,e&&(this.getMeta=this.getAccessor(e)))},extractData:function(e,t){var i,n,r=this.getRecord(),o=[];if(r)for(!(i=e.length)&&Ext.isObject(e)&&(i=1,e=[e]),n=0;n<i;n++)o[n]=e[n][r];else o=e;return this.callParent([o,t])},getModelData:function(e){return this.getPreserveRawData()?Ext.apply({},e):e},createAccessor:function(){var g=/[\[\.]/;return function(t){var e,i,n,r,o,s,a,l,d,c,u,h,f=this.getUseSimpleAccessors();if(t||0===t){if("function"==typeof t)return t;if(f||(e=String(t).search(g)),!0===f||e<0)i=function(e){return e[t]};else{for(n="raw",r=[],o="",s=0,h=t.length,c=0;c<=h;++c)a="["===(d=t[c]),l="]"===d,!(u="."===d||a||l||!d)||1<s||s&&!l?o+=d:u&&(u=!1,a?++s:l&&(--s,u=!0),o&&(n+=o=u?"["+o+"]":"."+o,r.push(""+n),o=""));i=r.join(" && "),i=Ext.functionFactory("raw","return "+i)}return i}}}(),createFieldAccessor:function(t){var i=this,e=t.mapping,n=e||0===e,e=n?e:t.name;if(n)return"function"==typeof e?function(e){return t.mapping(e,i)}:i.createAccessor(e)},getAccessorKey:function(e){var t=this.getUseSimpleAccessors()?"simple":"";return this.$className+t+e},privates:{copyFrom:function(e){this.callParent([e]),this.getRoot=e.getRoot}}}),Ext.define("Ext.data.writer.Json",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:void 0,encode:!1,allowSingle:!0,expandData:!1},constructor:function(e){e&&e.hasOwnProperty("root")&&((e=Ext.apply({},e)).rootProperty=e.root,delete e.root,Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.')),this.callParent([e])},getExpandedData:function(e){for(var t,i,n,r,o,s,a,l=e.length,d=0;d<l;d++)for(i in t=e[d])if(t.hasOwnProperty(i)&&0<(r=(n=i.split(".")).length-1)){for(o=t[i];0<r;r--)s=n[r],a=void 0,(a={})[s]=o,o=a;t[n[0]]=t[n[0]]||{},Ext.Object.merge(t[n[0]],o),delete t[i]}return e},writeRecords:function(e,t){var i,n,r=this.getRootProperty();return this.getExpandData()&&(t=this.getExpandedData(t)),this.getAllowSingle()&&1===t.length&&(t=t[0],i=!0),(n=this.getTransform())&&(t=n(t,e)),this.getEncode()?r?e.setParam(r,Ext.encode(t)):Ext.raise("Must specify a root when using encode"):(i||t&&t.length)&&(i=e.getJsonData()||{},r?i[r]=t:i=t,e.setJsonData(i)),e}}),Ext.define("Ext.util.Group",{extend:"Ext.util.Collection",config:{groupKey:null},$endUpdatePriority:2001,manageSorters:!1}),Ext.define("Ext.util.SorterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Sorter"],isSorterCollection:!0,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(e){this.sortFn=Ext.util.Sorter.createComparator(this),this.callParent([e]),this.setDecoder(this.decodeSorter)},addSort:function(e,t,i){var n,r,o,s,a,l=this;e?(r=l.getOptions(),e instanceof Array?(a=e,i=t,t=null):Ext.isString(e)?a=(s=l.get(e))?[s]:[{property:e,direction:t||r.getDefaultSortDirection()}]:Ext.isFunction(e)?a=[{sorterFn:e,direction:t||r.getDefaultSortDirection()}]:(Ext.isObject(e)||Ext.raise("Invalid sort descriptor: "+e),a=[e],i=t,t=null),i&&!l._sortModes[i]&&Ext.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+i+'"'),i=l._sortModes[i||"replace"],o=l.getAt(0),n=l.length,e=i.append?n:0,l.beginUpdate(),l.splice(e,i.replace?n:0,a),i.multi&&(n=l.length,(r=r.getMultiSortLimit())<n&&l.removeAt(r,n)),s&&t?s.setDirection(t):0===e&&o&&o===l.getAt(0)&&o.toggle()):l.beginUpdate(),l.endUpdate()},clear:function(){this.beginUpdate(),this.callParent(),this.endUpdate(this.items)},getSortFn:function(){return this.sortFn},getByProperty:function(e){for(var t,i=this.items,n=i.length,r=0;r<n;++r)if((t=i[r]).getProperty()===e)return t;return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(e,t){var i,n=this.getOptions(),r=n.getRootProperty(),o=this.getSorterOptionsFn();if(e.isSorter)e.getRoot()||e.setRoot(r);else{if(i={direction:n.getDefaultSortDirection(),root:r},"string"==(n=typeof e)){if(r=this.get(e))return r;i.property=e}else"function"==n?i.sorterFn=e:(Ext.isObject(e)||Ext.raise("Invalid sorter specified: "+e),(i=Ext.apply(i,e)).fn&&(i.sorterFn=i.fn,delete i.fn));e=Ext.create(t||"Ext.util.Sorter",i)}return o&&o.call(this.getSorterOptionsScope()||this,e),e},setSorterConfigure:function(e,t){this.setSorterOptionsFn(e),this.setSorterOptionsScope(t)},decodeRemoveItems:function(e,t){var i=void 0===t?e:e[t];if(!i||!i.$cloned){(e.length>t+1||!Ext.isIterable(i))&&(i=Ext.Array.slice(e,t));for(var n,r,o,s,a=this.items,l=i.length,d=[],c=0;c<l;c++)if((o=i[c])&&o.isSorter)d.push(o);else if("string"==(s=typeof o))(o=this.get(o))&&d.push(o);else if("function"==s)for(r=a.length;0<r--;)(n=a[r]).getSorterFn()===o&&d.push(n);else Ext.raise("Invalid sorter specification: "+o);(i=d).$cloned=!0}return i},getOptions:function(){return this.$sortable||this}}),Ext.define("Ext.util.FilterCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Filter"],isFilterCollection:!0,$filterable:null,filterFn:null,constructor:function(e){this.filterFn=Ext.util.Filter.createFilterFn(this),this.callParent([e]),this.setDecoder(this.decodeFilter)},filterData:function(e){return this.filtered?Ext.Array.filter(e,this.filterFn):e},getFilterFn:function(){return this.filterFn},isItemFiltered:function(e){return!this.filterFn(e)},decodeFilter:function(e){var t=this.getOptions().getRootProperty();if(e.isFilter)e.getRoot()||e.setRoot(t);else{if(t={root:t},Ext.isFunction(e))t.filterFn=e;else if(Ext.isObject(e)||Ext.raise("Invalid filter specified: "+e),(t=Ext.apply(t,e)).fn&&(t.filterFn=t.fn,delete t.fn),Ext.util.Filter.isInvalid(t))return!1;e=new Ext.util.Filter(t)}return e},decodeRemoveItems:function(e,t){var i=void 0===t?e:e[t];if(!i.$cloned){(e.length>t+1||!Ext.isIterable(i))&&(i=Ext.Array.slice(e,t));for(var n,r,o,s,a,l,d,c,u=this.items,h=i.length,f=[],g=0;g<h;g++)if((n=i[g])&&n.isFilter)f.push(n);else for(r="function"==(c=typeof n),o=void 0!==n.property&&void 0!==n.value,s="string"==c,r||o||s||Ext.raise("Invalid filter specification: "+n),d=u.length;0<d--;)a=u[d],l=!1,s?l=a.getProperty()===n:r?l=a.getFilterFn()===n:o&&(l=a.getProperty()===n.property&&a.getValue()===n.value),l&&f.push(a);(i=f).$cloned=!0}return i},getOptions:function(){return this.$filterable||this}}),Ext.define("Ext.util.GroupCollection",{extend:"Ext.util.Collection",requires:["Ext.util.Group","Ext.util.SorterCollection","Ext.util.FilterCollection"],isGroupCollection:!0,config:{grouper:null,itemRoot:null},observerPriority:-100,constructor:function(e){this.callParent([e]),this.on("remove","onGroupRemove",this)},onCollectionAdd:function(e,t){this.addItemsToGroups(e,t.items,t.at)},onCollectionBeforeItemChange:function(e,t){this.changeDetails=t},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(e,t){var i=t.item;t.indexChanged||this.syncItemGrouping(e,i,e.getKey(i),t.oldKey,t.oldIndex),this.changeDetails=null},onCollectionRefresh:function(e){this.removeAll(),this.addItemsToGroups(e,e.items)},onCollectionRemove:function(e,t){var i,n,r,o,s,a,l=this.changeDetails;for(l?(l=l.item,i=[],(r=this.findGroupForItem(l))&&i.push({group:r,items:[l]})):i=this.groupItems(e,t.items,!1),o=0,s=i.length;o<s;++o)(r=(n=i[o]).group)&&(r.remove(n.items),r.length||(a=a||[]).push(r));a&&this.remove(a)},onCollectionSort:function(e){var t,i,n,r,o=e.getSorters(!1);if(o)for(t=this.items,i=this.length,n=0;n<i;++n)(r=t[n]).getSorters()!==o&&r.setSorters(o)},onCollectionUpdateKey:function(e,t){var i=t.index,n=t.item;t.indexChanged||(i=e.indexOf(n),this.syncItemGrouping(e,n,t.newKey,t.oldKey,i))},addItemsToGroups:function(e,t,i){this.groupItems(e,t,!0,i)},groupItems:function(e,t,i,n){for(var r,o,s,a,l,d,c,u={},h=[],f=e.getGrouper(),g=this.itemGroupKeys,p=0,m=t.length;p<m;++p)a=f.getGroupString(l=t[p]),d=e.getKey(l),i?(g||(this.itemGroupKeys=g={}))[d]=a:g&&delete g[d],(o=u[a])||(!(s=this.getByKey(a))&&i&&(c=c||[]).push(s=this.createGroup(e,a)),h.push(u[a]=o={group:s,items:[]})),o.items.push(l);for(i&&1<this.length&&n&&(r=e.indexOf(h[0].group.getAt(0)),n=Math.max(n-r,0)),p=0,m=h.length;p<m;++p)(o=h[p]).group.insert(null!=n?n:s.items.length,o.items);return c&&this.add(c),h},syncItemGrouping:function(e,t,i,n,r){var o,s,a=this.itemGroupKeys||(this.itemGroupKeys={}),l=e.getGrouper().getGroupString(t),d=0,c=-1,u=i;n||0===n?(s=a[n],delete a[n],u=n):s=a[i],a[i]=l,(i=this.get(l))||(o=[i=this.createGroup(e,l)]),i.get(u)!==t?(0<i.getCount()&&0===e.getSorters().getCount()&&(c=r<(e=e.indexOf(i.items[0]))?0:r-e),-1===c?i.add(t):i.insert(c,t)):i.itemChanged(t,null,n),l===s||0!==s&&!s||(s=this.get(s))&&(s.remove(t),s.length||(d=[s])),o?this.splice(0,d,o):d&&this.splice(0,d)},createGroup:function(e,t){return new Ext.util.Group({groupKey:t,rootProperty:this.getItemRoot(),sorters:e.getSorters()})},getKey:function(e){return e.getGroupKey()},createSortFn:function(){var i=this.getGrouper(),n=this.getSorters().getSortFn();return i?function(e,t){return i.sort(e.items[0],t.items[0])||n(e,t)}:n},updateGrouper:function(e){this.grouped=!(!e||!this.$groupable.getAutoGroup()),this.onSorterChange(),this.onEndUpdateSorters(this.getSorters())},destroy:function(){this.$groupable=null,this.destroyGroups(this.items),this.callParent()},privates:{destroyGroups:function(e){for(var t=e.length,i=0;i<t;++i)e[i].destroy()},findGroupForItem:function(e){for(var t,i=this.items,n=i.length,r=0;r<n;++r)if((t=i[r]).contains(e))return t},onGroupRemove:function(e,t){this.destroyGroups(t.items)}}}),Ext.define("Ext.data.Store",{extend:"Ext.data.ProxyStore",alias:"store.store",mixins:["Ext.data.LocalStore"],requires:["Ext.data.Model","Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json","Ext.util.GroupCollection","Ext.util.DelayedTask"],uses:["Ext.data.StoreManager","Ext.util.Grouper"],config:{data:0,clearRemovedOnLoad:!0,clearOnPageLoad:!0,associatedEntity:null,role:null,session:null},addRecordsOptions:{addRecords:!0},loadCount:0,complete:!1,moveMapCount:0,constructor:function(e){if(e){if(e.buffered)return this.self!==Ext.data.Store&&Ext.raise("buffered config not supported on derived Store classes. Please derive from Ext.data.BufferedStore."),new Ext.data.BufferedStore(e);e.remoteGroup&&Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}this.callParent([e]),(e=this.inlineData)&&(delete this.inlineData,this.loadInlineData(e))},applyData:function(e,t){return this.getFields(),this.getModel(),e&&e.isCollection?t=e:(t=t||this.constructDataCollection(),e&&(this.isInitializing?this.inlineData=e:this.loadData(e))),t},loadInlineData:function(e){var t=this.getProxy();t&&t.isMemoryProxy?(t.setData(e),this.suspendEvents(),this.read()):(this.removeAll(!0),this.suspendEvents(),this.loadData(e)),this.resumeEvents()},onCollectionAdd:function(e,t){this.onCollectionAddItems(e,t.items,t)},onCollectionFilterAdd:function(e,t){this.onCollectionAddItems(e,t)},onCollectionAddItems:function(e,t,i){for(var n,r,o,s=this,a=t.length,l=!!i&&!i.next,d=s.removed,c=s.ignoreCollectionAdd,u=s.getSession(),h=i&&i.replaced,f=0;f<a;++f)r=t[f],u&&u.adopt(r),c||(r.join(s),d&&d.length&&Ext.Array.remove(d,r),n=n||r.phantom||r.dirty);if(!c){if(h){for(o=[];Ext.Array.push(o,h.items),h=h.next,h;);s.setMoving(o,!0)}i&&(i.replaced?l&&s.fireEvent("refresh",s):(s.fireEvent("add",s,t,i.at),l&&s.fireEvent("datachanged",s))),o&&s.setMoving(o,!1),s.needsSync=s.needsSync||n}},onCollectionBeforeItemChange:function(e,t){var i=t.item,n=t.modified||null,r=t.meta;this.fireEvent("beforeupdate",this,i,r,n,t)},onCollectionFilteredItemChange:function(){this.onCollectionItemChange.apply(this,arguments)},onCollectionItemChange:function(e,t){var i=t.item,n=t.modified||null,r=t.meta;this.fireChangeEvent(i)&&(this.onUpdate(i,r,n,t),this.fireEvent("update",this,i,r,n,t))},afterChange:function(e,t,i){this.getData().itemChanged(e,t||null,void 0,i)},afterCommit:function(e,t){this.afterChange(e,t,Ext.data.Model.COMMIT)},afterEdit:function(e,t){this.needsSync=this.needsSync||e.dirty,this.afterChange(e,t,Ext.data.Model.EDIT)},afterReject:function(e){this.afterChange(e,null,Ext.data.Model.REJECT)},afterDrop:function(e){this.getData().remove(e)},afterErase:function(e){this.removeFromRemoved(e)},addSorted:function(e){var t,i=this.getRemoteSort(),n=this.getData();return i&&n.setSorters(this.getSorters()),t=n.findInsertionIndex(e),i&&n.setSorters(null),this.insert(t,e)},remove:function(e,t,i){var n,r,o,s,a=this.getDataSource();if(e)if(e.isModel)n=-1<a.indexOf(e)?(o=[e],1):0;else{for(o=[],r=0,n=e.length;r<n;++r){if((s=e[r])&&s.isEntity){if(!a.contains(s))continue}else if(!(s=a.getAt(s)))continue;o.push(s)}n=o.length}return n?(this.removeIsMove=!0===t,this.removeIsSilent=i,a.remove(o),this.removeIsSilent=!1,o):[]},onCollectionRemove:function(e,t){var i,n,r=this,o=r.removed,s=t.items,a=s.length,l=t.at,d=t.replacement,c=r.removeIsMove||d&&Ext.Array.equals(s,d.items),u=r.removeIsSilent,t=!t.next,h=r.getDataSource();if(!r.ignoreCollectionRemove){for(d&&r.setMoving(d.items,!0),i=0;i<a;++i)n=s[i],h.contains(n)||(!o||c||n.phantom||n.erasing?n.unjoin(r):(n.removedFrom=l+i,o.push(n),r.needsSync=!0));u||d&&d.items.length||(r.fireEvent("remove",r,s,l,c),t&&r.fireEvent("datachanged",r)),d&&r.setMoving(d.items,!1)}},onFilterEndUpdate:function(){this.destroying||this.destroyed||(this.callParent(arguments),this.callObservers("Filter"))},removeAt:function(e,t){var i=this.getData();if((e=Math.max(e,0))<i.length){if(1===arguments.length)t=1;else if(!t)return;i.removeAt(e,t)}},removeAll:function(e){var t=this,i=t.getData(),n=(t.hasListeners.clear,i.getRange());return i.length&&(t.removeIsSilent=!0,t.callObservers("BeforeRemoveAll"),i.removeAll(),t.removeIsSilent=!1,e||(t.fireEvent("clear",t,n),t.fireEvent("datachanged",t)),t.callObservers("AfterRemoveAll",[!!e])),n},setRecords:function(e){var t=this.getCount();++this.loadCount,t?this.getData().splice(0,t,e):this.add(e)},splice:function(e,t,i){return this.getData().splice(e,t,i)},onProxyLoad:function(e){var t=e.getResultSet(),i=e.getRecords(),n=e.wasSuccessful();this.destroyed||(t&&(this.totalCount=t.getTotal()),n?(i=this.processAssociation(i),this.loadRecords(i,e.getAddRecords()?{addRecords:!0}:void 0)):this.loading=!1,this.hasListeners.load&&this.fireEvent("load",this,i,n,e),this.callObservers("AfterLoad",[i,n,e]))},filterDataSource:function(e){for(var t=this.getDataSource(),i=t.items,n=i.length,r=[],o=0;o<n;o++)e.call(t,i[o])&&r.push(i[o]);return r},getNewRecords:function(){return this.filterDataSource(this.filterNew)},getRejectRecords:function(){return this.filterDataSource(this.filterRejects)},getUpdatedRecords:function(){return this.filterDataSource(this.filterUpdated)},loadData:function(e,t){for(var i=e.length,n=[],r=0;r<i;r++)n.push(this.createModel(e[r]));n=this.processAssociation(n),this.loadRecords(n,t?this.addRecordsOptions:void 0)},loadRawData:function(e,t){var i=this.getSession(),n=this.getProxy().getReader().read(e,i?{recordCreator:i.recordCreator}:void 0),e=n.getRecords(),i=n.getSuccess();return i&&(this.totalCount=n.getTotal(),this.loadRecords(e,t?this.addRecordsOptions:void 0)),i},loadRecords:function(e,t){var i,n,r,o=this,s=e.length,a=o.getData();for(t&&(i=t.addRecords),o.getRemoteSort()||o.getSortOnLoad()||(r=!0,a.setAutoSort(!1)),i||o.clearData(!0),o.loading=!1,o.ignoreCollectionAdd=!0,o.callObservers("BeforePopulate"),a.add(e),o.ignoreCollectionAdd=!1,r&&a.setAutoSort(!0),n=0;n<s;n++)e[n].join(o);++o.loadCount,o.complete=!0,o.hasListeners.datachanged&&o.fireEvent("datachanged",o),o.hasListeners.refresh&&o.fireEvent("refresh",o),o.callObservers("AfterPopulate")},loadPage:function(e,t){var i=this.getPageSize();this.currentPage=e,t=Ext.apply({page:e,start:(e-1)*i,limit:i,addRecords:!this.getClearOnPageLoad()},t),this.read(t)},nextPage:function(e){this.loadPage(this.currentPage+1,e)},previousPage:function(e){this.loadPage(this.currentPage-1,e)},clearData:function(e){var t,i,n,r,o=this.removed,s=this.getDataSource(),a=this.getClearRemovedOnLoad(),l=o&&e&&!a;if(s){for(n=0,r=(t=s.items).length;n<r;++n)i=t[n],l&&Ext.Array.contains(o,i)||i.unjoin(this);this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear"),s.removeAll(),this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")}!o||e&&!a||(o.length=0)},onIdChanged:function(e,t,i){this.getData().updateKey(e,t),this.fireEvent("idchanged",this,e,t,i)},commitChanges:function(){var e=this.getModifiedRecords(),t=e.length,i=0;for(Ext.suspendLayouts(),this.beginUpdate();i<t;i++)e[i].commit();this.cleanRemoved(),this.endUpdate(),Ext.resumeLayouts(!0)},filterNewOnly:function(e){return!0===e.phantom},filterRejects:function(e){return e.phantom||e.dirty},rejectChanges:function(){var e,t,i,n,r,o,s=this,a=s.getRejectRecords(),l=a.length;for(Ext.suspendLayouts(),s.beginUpdate(),e=0;e<l;e++)(t=a[e]).phantom?(i=i||[]).push(t):t.reject();if(i)for(s.remove(i),e=0,l=i.length;e<l;++e)i[e].reject();if(a=s.getRawRemovedRecords()){for(l=a.length,(n=!s.getRemoteSort()&&s.isSorted())&&(o=(r=s.getData()).getAutoSort(),r.setAutoSort(!1)),e=l-1;0<=e;e--)(t=a[e]).reject(),n||s.insert(t.removedFrom||0,t);n&&(r.setAutoSort(o),s.add(a)),a.length=0}s.endUpdate(),Ext.resumeLayouts(!0)},doDestroy:function(){var e=this.loadTask,t=this.getData().getSource();this.clearData(),this.setSession(null),this.observers=null,e&&(e.cancel(),this.loadTask=null),t&&t.destroy(),this.callParent()},privates:{fetch:function(e){e=Ext.apply({},e),this.setLoadOptions(e),this.createOperation("read",e).execute()},fireChangeEvent:function(e){return this.getDataSource().contains(e)},onBeforeLoad:function(e){this.callObservers("BeforeLoad",[e])},onRemoteFilterSet:function(e,t){e&&this.getData().setFilters(t?null:e),this.callParent([e,t])},onRemoteSortSet:function(e,t){var i=this.getData();e&&i.setSorters(t?null:e),i.setAutoGroup(!t),this.callParent([e,t])},isMoving:function(e,t){var i,n,r=this.moveMap,o=0;if(r)if(e)if(Ext.isArray(e))for(n=0,i=e.length;n<i;++n)o+=r[e[n].id]?1:0;else r[e.id]&&++o;else o=t?r:this.moveMapCount;return o},setLoadOptions:function(e){var t,i=this.getPageSize();this.getRemoteSort()&&!e.grouper&&(t=this.getGrouper())&&(e.grouper=t),(i||"start"in e||"limit"in e||"page"in e)&&(e.page=null!=e.page?e.page:this.currentPage,e.start=void 0!==e.start?e.start:(e.page-1)*i,e.limit=null!=e.limit?e.limit:i,this.currentPage=e.page),e.addRecords=e.addRecords||!1,e.recordCreator||(i=this.getSession())&&(e.recordCreator=i.recordCreator),this.callParent([e])},setMoving:function(e,t){for(var i,n=this.moveMap||(this.moveMap={}),r=e.length,o=0;o<r;++o)i=e[o].id,t?n[i]?++n[i]:(n[i]=1,++this.moveMapCount):0==--n[i]&&(delete n[i],--this.moveMapCount);0===this.moveMapCount&&(this.moveMap=null)},processAssociation:function(e){var t=this.getAssociatedEntity();return t&&(e=this.getRole().processLoad(this,t,e,this.getSession())),e}}}),Ext.define("Ext.data.reader.Array",{extend:"Ext.data.reader.Json",alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:void 0,successProperty:void 0},createFieldAccessor:function(e){var t=e.mapping,i=e.hasMapping()?t:e.ordinal;return e.mapping=i,i=this.callParent(arguments),e.mapping=t,i},getModelData:function(e){return{}}}),Ext.define("Ext.data.ArrayStore",{extend:"Ext.data.Store",alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],requires:["Ext.data.proxy.Memory","Ext.data.reader.Array"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,t){if(this.expandData){for(var i=[],n=0,r=e.length;n<r;n++)i[i.length]=[e[n]];e=i}this.callParent([e,t])}}),Ext.define("Ext.data.StoreManager",{extend:"Ext.util.MixedCollection",alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:!0,requires:["Ext.data.ArrayStore"],register:function(){for(var e,t=0;e=arguments[t];t++)this.add(e)},unregister:function(){for(var e,t=0;e=arguments[t];t++)this.remove(this.lookup(e))},lookup:function(e,t){if(Ext.isArray(e)){var i,n,r=["field1"],o=!Ext.isArray(e[0]),s=e;if(o)for(s=[],i=0,n=e.length;i<n;++i)s.push([e[i]]);else for(i=2,n=e[0].length;i<=n;++i)r.push("field"+i);return new Ext.data.ArrayStore({data:s,fields:r,autoDestroy:!0,autoCreated:!0,expanded:o})}return Ext.isString(e)?this.get(e):Ext.Factory.store(e,t)},getKey:function(e){return e.storeId},addEmptyStore:function(){var e=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:!1});e.isEmptyStore=!0,e.add=e.remove=e.insert=e.loadData=function(){Ext.raise("Cannot modify ext-empty-store")},this.add(e)},clear:function(){this.callParent(),this.addEmptyStore()}},function(){Ext.regStore=function(e,t){if(Ext.isObject(e))t=e;else{if(Ext.data.StoreManager.containsKey(e))return Ext.data.StoreManager.lookup(e);t.storeId=e}return t=t instanceof Ext.data.Store?t:new Ext.data.Store(t),Ext.data.StoreManager.register(t),t},Ext.getStore=function(e){return Ext.data.StoreManager.lookup(e)},Ext.data.StoreManager.addEmptyStore()}),Ext.define("Ext.app.domain.Store",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.data.AbstractStore"],type:"store",prefix:"store.",idMatchRe:/^\#/,constructor:function(){this.callParent(),this.monitor(Ext.data.AbstractStore)},match:function(e,t){var i=!1,n=e.alias;return"*"===t?i=!0:this.idMatchRe.test(t)?i=e.getStoreId()===t.substring(1):n&&(i=-1<Ext.Array.indexOf(n,this.prefix+t)),i}}),Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(e){Ext.apply(this,e),this.queue=new Ext.util.MixedCollection},queueAction:function(e,t){this.queue.add({route:e,args:t})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var e=this.queue.removeAt(0);e&&(e&&e.route).execute(this.token,e.args,this.onActionExecute,this)},onActionExecute:function(e){e?this.clearQueue():this.runQueue()}}),Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:!1,url:null,before:null,caseInsensitive:!1,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(e){Ext.apply(this,e,{conditions:{}}),e=this.url,this.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g),this.paramsInMatchString=e.match(this.paramMatchingRegex)||[],this.matcherRegex=this.createMatcherRegex(e)},recognize:function(e){var t,i,n=this.controller;return!(!this.allowInactive&&!n.isActive()||!this.recognizes(e))&&(t=this.matchesFor(e),(i=e.match(this.matcherRegex)).shift(),Ext.applyIf(t,{controller:n,action:this.action,historyUrl:e,args:i}))},recognizes:function(e){return this.matcherRegex.test(e)},execute:function(e,t,i,n){var r=t.args||[],o=this.before,s=this.controller,n=this.createCallback(t,i,n);o?(r.push(n),Ext.isString(o)&&(o=this.before=s[o]),o?o.apply(s,r):Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")):n.resume()},matchesFor:function(e){var t={},i=this.paramsInMatchString,n=e.match(this.matcherRegex),r=0,o=i.length;for(n.shift();r<o;r++)t[i[r].replace(":","")]=n[r];return t},createMatcherRegex:function(e){for(var t,i,n=this.paramsInMatchString,r=this.conditions,o=0,s=n.length,a=Ext.util.Format.format,l=this.caseInsensitive?"i":"";o<s;o++)i=a("{0}",r[t=n[o]]||"([%a-zA-Z0-9\\-\\_\\s,]+)"),e=e.replace(new RegExp(t),i);return new RegExp("^"+e+"$",l)},createCallback:function(n,r,o){var s=this;return o=o||s,{resume:function(){var e,t=s.controller,i=s.action;Ext.isString(i)&&(i=t[i]),(e=(n=n&&n.args?n.args:[]).pop())&&!Ext.isObject(e)&&n.push(e),i?(s.action=i).apply(t,n):Ext.log.warn("The action: "+s.action+" was not found on the controller."),r&&r.call(o)},stop:function(e){r&&r.call(o,e)}}}}),Ext.define("Ext.util.History",{singleton:!0,alternateClassName:"Ext.History",mixins:{observable:"Ext.util.Observable"},useTopWindow:!1,constructor:function(){this.hiddenField=null,this.ready=!1,this.currentToken=null,this.mixins.observable.constructor.call(this)},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(e){try{this.win.location.hash=e,this.currentToken=e}catch(e){}},handleStateChange:function(e){this.currentToken=e,this.fireEvent("change",e)},startUp:function(){var e=this;e.currentToken=e.getHash(),Ext.supports.Hashchange?Ext.get(e.win).on("hashchange",e.onHashChange,e):Ext.TaskManager.start({fireIdleEvent:!1,run:e.onHashChange,interval:50,scope:e}),e.ready=!0,e.fireEvent("ready",e)},onHashChange:function(){var e=this.getHash();e!==this.hash&&(this.hash=e,this.handleStateChange(e))},init:function(e,t){var i=this;i.ready?Ext.callback(e,t,[i]):Ext.isReady?(i.win=i.useTopWindow?window.top:window,i.hash=i.getHash(),e&&i.on("ready",e,t,{single:!0}),i.startUp()):Ext.onInternalReady(function(){i.init(e,t)})},add:function(e,t){var i=!1;return!1!==t&&this.getToken()===e||(this.setHash(e),i=!0),i},back:function(){(this.useTopWindow?window.top:window).history.go(-1)},forward:function(){(this.useTopWindow?window.top:window).history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}}),Ext.define("Ext.app.route.Router",{singleton:!0,requires:["Ext.app.route.Queue","Ext.app.route.Route","Ext.util.History"],multipleToken:"|",queueRoutes:!0,constructor:function(){var e=Ext.util.History;e.ready||e.init(),e.on("change",this.onStateChange,this),this.clear()},onStateChange:function(e){for(var t,i,n,r,o,s=this.application,a=this.routes,l=a.length,d=this.queueRoutes,c=e.split(this.multipleToken),u=0,h=c.length;u<h;u++){for(e=c[u],o=!1,d&&(i=new Ext.app.route.Queue({token:e})),t=0;t<l;t++)(r=(n=a[t]).recognize(e))&&(o=!0,d?i.queueAction(n,r):n.execute(e,r));d&&i.runQueue(),!o&&s&&s.fireEvent("unmatchedroute",e)}},connect:function(e,t,i){i={url:e,action:t,controller:i};Ext.isObject(t)&&Ext.merge(i,t),this.routes.push(new Ext.app.route.Route(i))},disconnectAll:function(e){for(var t,i=this.routes,n=i.length,r=[],o=0;o<n;++o)(t=i[o]).controller!==e&&r.push(t);this.routes=r},recognize:function(e){for(var t,i,n=this.routes||[],r=0,o=n.length;r<o;r++)if(i=(t=n[r]).recognize(e))return{route:t,args:i};return!1},draw:function(e){e.call(this,this)},clear:function(){this.routes=[]}}),Ext.define("Ext.app.Controller",{extend:"Ext.app.BaseController",requires:["Ext.app.Util","Ext.data.StoreManager","Ext.ComponentManager","Ext.app.domain.Component","Ext.app.domain.Store","Ext.app.route.Router"],statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"},profile:{getter:"getProfile",upper:"Profiles"}},controllerRegex:/^(.*)\.controller\./,profileRegex:/^(.*)\.profile\./,createGetter:function(e,t){return function(){return this[e](t)}},getGetterName:function(e,t){for(var i="get",n=e.split("."),r=n.length,o=0;o<r;o++)i+=Ext.String.capitalize(n[o]);return i+=t},resolveNamespace:function(e,t){var i=Ext.app.Controller,i=e.prototype.isProfile?i.profileRegex:i.controllerRegex,e=Ext.getClassName(e),n=t.$namespace||t.namespace||Ext.app.getNamespace(e)||(n=i.exec(e))&&n[1];return n||Ext.log.warn("Missing namespace for "+e+", please define it in namespaces property of your Application class."),n},processDependencies:function(e,t,i,n,r,o){if(r&&r.length){var s,a,l,d,c,u,h=this.strings[n];for(Ext.isArray(r)||(r=[r]),l=0,d=r.length;l<d;l++)a=r[l],c=this.getFullName(a,n,i,o),r[l]=s=c.absoluteName,c=c.shortName,t.push(s),e[c=this.getGetterName(c,h.upper)]?"getMainView"===c&&Ext.log.warn("Cannot have a view named 'Main' - getter conflicts with mainView config."):e[c]=u=this.createGetter(h.getter,a),u&&"controller"!==n&&(u["Ext.app.getter"]=!0)}},getFullName:function(e,t,i,n){var r,o,s=e;return 0<(r=e.indexOf("@"))?(s=e.substring(0,r),o=e.substring(r+1)+"."+s):0<e.indexOf(".")&&(Ext.ClassManager.isCreated(e)||this.hasRegisteredPrefix(e))?s=(o=e).replace(i+"."+t+".",""):(i||Ext.log.warn("Cannot find namespace for "+t+" "+e+", assuming it is fully qualified class name"),i?(o=i+"."+t+"."+(n?n+"."+e:e),s=e):o=e),{absoluteName:o,shortName:s}},hasRegisteredPrefix:function(e){var t=Ext.ClassManager.getPrefix(e);return t&&t!==e}},models:null,views:null,stores:null,controllers:null,config:{application:null,refs:null,active:!0,moduleClassName:null},onClassExtended:function(e,t,i){var s=i.onBeforeCreated;i.onBeforeCreated=function(e,t){var i=Ext.app.Controller,n=[],r=e.prototype,o=i.resolveNamespace(e,t);o&&(r.$namespace=o),i.processDependencies(r,n,o,"model",t.models),i.processDependencies(r,n,o,"view",t.views),i.processDependencies(r,n,o,"store",t.stores),i.processDependencies(r,n,o,"controller",t.controllers),Ext.require(n,Ext.Function.pass(s,arguments,this))}},constructor:function(e){this.initAutoGetters(),this.callParent([e])},normalizeRefs:function(e){var i=[];return e&&(Ext.isObject(e)?Ext.Object.each(e,function(e,t){Ext.isString(t)&&(t={selector:t}),t.ref=e,i.push(t)}):Ext.isArray(e)&&(i=Ext.Array.merge(i,e))),(e=this.refs)&&(this.refs=null,(e=this.normalizeRefs(e))&&(i=Ext.Array.merge(i,e))),i},getRefMap:function(){var e,t,i,n,r=this._refMap;if(!r&&(e=this.getRefs(),r=this._refMap={},e))for(n=0,i=e.length;n<i;n++)r[(t=e[n]).ref]=t.selector;return r},applyId:function(e){return e||Ext.app.Controller.getFullName(this.$className,"controller",this.$namespace).shortName},applyRefs:function(e){return this.normalizeRefs(Ext.clone(e))},updateRefs:function(e){e&&this.ref(e)},initAutoGetters:function(){var e,t,i=this.self.prototype;for(e in i)(t=i[e])&&t["Ext.app.getter"]&&t.call(this)},doInit:function(e){this._initialized||(this.init(e),this._initialized=!0)},finishInit:function(e){var t,i,n=this.controllers;if(this._initialized&&n&&n.length)for(t=0,i=n.length;t<i;t++)this.getController(n[t]).finishInit(e)},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(!0)},deactivate:function(){this.setActive(!1)},isActive:function(){return this.getActive()},ref:function(e){var t,i,n,r=0,o=e.length;for(e=Ext.Array.from(e),this.references=this.references||[];r<o;r++)i=(t=e[r]).ref,this[n="get"+Ext.String.capitalize(i)]||(this[n]=Ext.Function.pass(this.getRef,[i,t],this)),this.references.push(i.toLowerCase())},addRef:function(e){this.ref(e)},getRef:function(e,t,i){var n=this.refCache||(this.refCache={}),r=n[e];return t=t||{},i=i||{},Ext.apply(t,i),t.forceCreate?Ext.ComponentManager.create(t,"component"):(r||(t.selector&&(n[e]=r=Ext.ComponentQuery.query(t.selector)[0]),!r&&t.autoCreate&&(n[e]=r=Ext.ComponentManager.create(t,"component")),r&&r.on("destroy",function(){n[e]=null})),r)},hasRef:function(e){var t=this.references;return t&&-1!==Ext.Array.indexOf(t,e.toLowerCase())},getController:function(e){var t=this.getApplication();return e===this.getId()?this:t&&t.getController(e)},getStore:function(e){var t=-1===e.indexOf("@")?e:e.split("@")[0],i=Ext.StoreManager.get(t);return i||(e=Ext.app.Controller.getFullName(e,"store",this.$namespace))&&(i=Ext.create(e.absoluteName,{id:t})),i},getModel:function(e){var t=Ext.app.Controller.getFullName(e,"model",this.$namespace);return Ext.ClassManager.get(t.absoluteName)||Ext.data.schema.Schema.lookupEntity(e)},getProfile:function(e){return e=Ext.app.Controller.getFullName(e,"profile",this.$namespace)},getView:function(e){e=Ext.app.Controller.getFullName(e,"view",this.$namespace);return e&&Ext.ClassManager.get(e.absoluteName)},destroy:function(e,t){var i,n,r=this.application;if(!t&&r&&r.unregister(this),this.application=null,e)for(n in i=this.refCache)i.hasOwnProperty(n)&&Ext.destroy(i[n]);this.callParent()}}),Ext.define("Ext.app.Application",{extend:"Ext.app.Controller",requires:["Ext.util.History","Ext.util.MixedCollection"],isApplication:!0,scope:void 0,namespaces:[],paths:null,config:{name:"",appProperty:"app",profiles:[],currentProfile:null,mainView:{$value:null,lazy:!0},defaultToken:null,glyphFontFamily:null,quickTips:!0},onClassExtended:function(e,t,i){var n,r=Ext.app.Controller,o=e.prototype,s=[],a=t.name||e.superclass.name;a&&(t.$namespace=a,Ext.app.addNamespaces(a)),t.namespaces&&Ext.app.addNamespaces(t.namespaces),t["paths processed"]?delete t["paths processed"]:Ext.app.setupPaths(a,("appFolder"in t?t:e.superclass).appFolder,t.paths),r.processDependencies(o,s,a,"profile",t.profiles),o.getDependencies(e,t,s),s.length&&(n=i.onBeforeCreated,i.onBeforeCreated=function(e,t){var i=Ext.Array.clone(arguments);t.__handleRequires?t.__handleRequires.call(this,s,Ext.bind(function(){return n.apply(this,i)},this)):Ext.require(s,function(){return n.apply(this,i)})})},getDependencies:Ext.emptyFn,constructor:function(e){(Ext.app.route.Router.application=this).callParent([e]),Ext.isEmpty(this.getName())&&Ext.raise("[Ext.app.Application] Name property is required"),this.doInit(this),this.initNamespace(),Ext.on("appupdate",this.onAppUpdate,this,{single:!0}),Ext.Loader.setConfig({enabled:!0}),this.onProfilesReady()},applyId:function(e){return e||this.$className},onAppUpdate:Ext.emptyFn,onProfilesReady:function(){for(var e,t,i=this.getProfiles(),n=i.length,r=0;r<n;r++)(t=Ext.create(i[r],{application:this})).isActive()&&!e&&(e=t,this.setCurrentProfile(e));e&&e.init(),this.initControllers(),this.onBeforeLaunch(),this.finishInitControllers()},initNamespace:function(){var e=this,t=e.getAppProperty(),i=Ext.namespace(e.getName());i&&(i.getApplication=function(){return e},t&&(i[t]?i[t]!==e&&Ext.log.warn("An existing reference is being overwritten for "+name+"."+t+". See the appProperty config."):i[t]=e))},initControllers:function(){var e,t,i=Ext.Array.from(this.controllers),n=this.getCurrentProfile();for(this.controllers=new Ext.util.MixedCollection,e=0,t=i.length;e<t;e++)this.getController(i[e]);if(n)for(e=0,t=(i=n.getControllers()).length;e<t;e++)this.getController(i[e])},finishInitControllers:function(){for(var e=this.controllers.getRange(),t=0,i=e.length;t<i;t++)e[t].finishInit(this)},launch:Ext.emptyFn,onBeforeLaunch:function(){var e,t,i,n=this,r=Ext.util.History,o=n.getDefaultToken(),s=n.getCurrentProfile();for(n.initMainView(),s&&s.launch(),n.launch.call(n.scope||n),n.launched=!0,n.fireEvent("launch",n),i=(e=n.controllers.items).length,t=0;t<i;t++)e[t].onLaunch(n);r.ready||r.init(),(s=r.getToken())||s===o?Ext.app.route.Router.onStateChange(s):o&&r.add(o),Ext.Microloader&&Ext.Microloader.appUpdate&&Ext.Microloader.appUpdate.updated&&Ext.Microloader.fireAppUpdate(),Ext.defer(Ext.ClassManager.clearNamespaceCache,2e3,Ext.ClassManager)},getModuleClassName:function(e,t){return Ext.app.Controller.getFullName(e,t,this.getName()).absoluteName},initMainView:function(){var e,t=this.getCurrentProfile();t&&(e=t.getMainView()),e?this.setMainView(e):this.getMainView()},applyMainView:function(e){return this.getView(e).create({$initParent:this.viewport})},createController:function(e){return this.getController(e)},destroyController:function(e){"string"==typeof e&&(e=this.getController(e,!0)),Ext.destroy(e)},getController:function(e,t){var i,n,r,o,s,a=this.controllers,l=a.get(e);if(!l)for(r=0,n=(s=a.items).length;r<n;++r)if((i=(o=s[r]).getModuleClassName())&&i===e){l=o;break}return l||t||(i=this.getModuleClassName(e,"controller"),l=Ext.create(i,{application:this,moduleClassName:i}),a.add(l),this._initialized&&l.doInit(this)),l},unregister:function(e){this.controllers.remove(e)},getApplication:function(){return this},destroy:function(t){var e=this,i=e.controllers,n=Ext.namespace(e.getName()),r=e.getAppProperty();Ext.un("appupdate",e.onAppUpdate,e),Ext.destroy(e.viewport),i&&i.each(function(e){e.destroy(t,!0)}),e.controllers=null,e.callParent([t,!0]),n&&n[r]===e&&delete n[r],Ext.app.route.Router.application===e&&(Ext.app.route.Router.application=null),Ext.app.Application.instance===e&&(Ext.app.Application.instance=null)},updateGlyphFontFamily:function(e){Ext.setGlyphFontFamily(e)},applyProfiles:function(e){var t=this;return Ext.Array.map(e,function(e){return t.getModuleClassName(e,"profile")})}}),Ext.application=function(e){function t(t){Ext.onReady(function(){var e=Ext.viewport;(e=e&&e.Viewport)&&e.setup&&e.setup(t.prototype.config.viewport),Ext.app.Application.instance=new t})}"string"==typeof e?Ext.require(e,function(){t(Ext.ClassManager.get(e))}):(e=Ext.apply({extend:"Ext.app.Application"},e),Ext.app.setupPaths(e.name,e.appFolder,e.paths),e["paths processed"]=!0,Ext.define(e.name+".$application",e,function(){t(this)}))},Ext.define("Ext.overrides.app.Application",{override:"Ext.app.Application",uses:["Ext.tip.QuickTipManager"],autoCreateViewport:!1,config:{enableQuickTips:null},quickTips:!0,updateEnableQuickTips:function(e){this.setQuickTips(e)},applyMainView:function(e){var t,i="string"==typeof e?this.getView(e):Ext.ClassManager.getByConfig(e),e=i.prototype;return e.isViewport||(t=e.plugins,t={plugins:t=["viewport"].concat(t?Ext.Array.from(t,!0):[])}),i.create(t)},getDependencies:function(e,t,i){var n=Ext.app.Controller,r=e.prototype,o=t.$namespace,e=t.autoCreateViewport;e&&(o||Ext.raise("[Ext.app.Application] Can't resolve namespace for "+t.$className+", did you forget to specify 'name' property?"),!0===e?e="Viewport":i.push("Ext.plugin.Viewport"),n.processDependencies(r,i,o,"view",e))},onBeforeLaunch:function(){var e=this.autoCreateViewport;this.getQuickTips()&&this.initQuickTips(),e&&this.initViewport(),this.callParent(arguments)},getViewportName:function(){var e=null,t=this.autoCreateViewport;return t&&(e=!0===t?"Viewport":t),e},initViewport:function(){this.setMainView(this.getViewportName())},initQuickTips:function(){Ext.tip.QuickTipManager.init()}}),Ext.define("Ext.app.Profile",{mixins:["Ext.mixin.Observable"],isProfile:!0,config:{mainView:{$value:null,lazy:!0},application:null,controllers:[],models:[],views:[],stores:[]},constructor:function(e){this.initConfig(e),this.mixins.observable.constructor.apply(this,arguments)},isActive:function(){return!1},init:function(){var e,t=this.getViews();if(t&&!(t instanceof Array))for(e in t)Ext.ClassManager.setXType(t[e],e)},launch:Ext.emptyFn,onClassExtended:function(e,t,i){var d=i.onBeforeCreated;i.onBeforeCreated=function(e,t){var i,n=Ext.app.Controller,r=e.$className,o=[],s=e.prototype,a=t.views,l=t.name;l?delete t.name:l=(l=r.split("."))[l.length-1],e._name=l,e._namespace=l=(t.namespace||l).toLowerCase(),delete t.namespace,i=n.resolveNamespace(e,t),n.processDependencies(s,o,i,"model",t.models,l),n.processDependencies(s,o,i,"store",t.stores,l),n.processDependencies(s,o,i,"controller",t.controllers,l),a&&(a instanceof Array?n.processDependencies(s,o,i,"view",a,l):Ext.app.Profile.processViews(r,a,o)),Ext.require(o,Ext.Function.pass(d,arguments,this))}},getName:function(){return this.self._name},getNamespace:function(){return this.self._namespace},privates:{statics:{processViews:function(e,t,i){var n,r,o,s;for(s in t)"string"!=typeof(r=t[s])&&((o=r.xclass)||Ext.raise("Views must specify an xclass"),delete(n=Ext.apply({extend:o},r)).xclass,Ext.define(t[s]=e+"$"+s,n),r=o),i.push(r)}}}}),Ext.define("Ext.app.domain.View",{extend:"Ext.app.EventDomain",requires:["Ext.Widget"],isInstance:!0,constructor:function(e){this.callParent([e]),this.controller=e,this.monitoredClasses=[Ext.Widget]},match:function(e,t,i){return"#"===t?i===e.getController():e.is(t)},destroy:function(){this.controller=null,this.callParent()}}),Ext.define("Ext.overrides.app.domain.View",{override:"Ext.app.domain.View",requires:["Ext.Component"],constructor:function(e){this.callParent([e]),this.monitoredClasses.push(Ext.Component)}}),Ext.define("Ext.app.ViewController",{extend:"Ext.app.BaseController",alias:"controller.controller",requires:["Ext.app.domain.View"],mixins:["Ext.mixin.Factoryable"],isViewController:!0,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},view:null,constructor:function(){this.compDomain=new Ext.app.domain.View(this),this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var e=this.compDomain;e&&(e.unlisten(this),e.destroy()),this.compDomain=this.view=null,this.callParent()},closeView:function(){var e=this.getView();e&&e[this.getCloseViewAction()]()},control:function(e,t){var i=e;Ext.isString(e)&&((i={})[e]=t),this.compDomain.listen(i,this)},listen:function(e,t){var i=e.component;i&&(delete(e=Ext.apply({},e)).component,this.control(i)),this.callParent([e,t])},applyId:function(e){return e=e||Ext.id(null,"controller-")},getReferences:function(){var e=this.view;return e&&e.getReferences()},getView:function(){return this.view},lookup:function(e){var t=this.view;return t&&t.lookup(e)},lookupReference:function(e){return this.lookup(e)},getSession:function(){var e=this.view;return e&&e.lookupSession()},getViewModel:function(){var e=this.view;return e&&e.lookupViewModel()},getStore:function(e){var t=this.getViewModel();return t?t.getStore(e):null},fireViewEvent:function(e,t){var i=this.view,n=!1,r=arguments;return i&&(i!==t&&(r=Ext.Array.slice(r)).splice(1,0,i),n=i.fireEvent.apply(i,r)),n},privates:{view:null,attachReference:function(e){var t=this.view;t&&t.attachReference(e)},clearReference:function(e){var t=this.view;t&&t.clearReference(e)},clearReferences:function(){var e=this.view;e&&e.clearReferences()},setView:function(e){this.view=e,this.beforeInit.$nullFn||this.beforeInit(e)}}}),Ext.define("Ext.util.Bag",{isBag:!0,constructor:function(){this.items=[],this.map={}},generation:0,length:0,beginUpdate:Ext.emptyFn,endUpdate:Ext.emptyFn,add:function(e){var t,i,n,r,o,s,a=this.items,l=this.map,d=1;for(Ext.isArray(e)&&(t=o=[],d=e.length),i=0;i<d;i++)void 0===(n=l[s=this.getKey(r=t?e[i]:e)])?(a.push(r),l[s]=this.length++,t?t.push(r):o=r):(s=a[n],t?t.push(s):o=s,a[n]=r);return++this.generation,o},clear:function(){var e=this.generation||this.length,t=e?this.items:[];return e&&(this.items=[],this.length=0,this.map={},++this.generation),t},clone:function(){var e=new this.self;return this.length&&(Ext.apply(e.map,this.map),e.items=this.items.slice(),e.length=this.length),e},contains:function(e){var t,i=!1,n=this.map;return null!=e&&(t=this.getKey(e))in n&&(i=this.items[n[t]]===e),i},containsKey:function(e){return e in this.map},destroy:function(){this.items=this.map=null,this.callParent()},each:function(e,t){var i,n,r=this.items,o=r.length;if(o)for(t=t||this,r=r.slice(0),i=0;i<o&&!1!==(n=e.call(t,r[i],i,o));i++);return n},getAt:function(e){var t=null;return e<this.length&&(t=this.items[e]),t},get:function(e){return this.getByKey(e)},getByKey:function(e){var t=this.map;return e in t?this.items[t[e]]:null},indexOfKey:function(e){var t=this.map;return e in t?t[e]:-1},last:function(){return this.items[this.length-1]},updateKey:function(e,t){var i,n=this.map;e&&t&&((i=this.getKey(e))!==t?this.getAt(n[t])!==e||i in n||(this.generation++,n[i]=n[t],delete n[t]):(i in n&&this.getAt(n[i])!==e&&Ext.raise('Duplicate newKey "'+i+'" for item with oldKey "'+t+'"'),t in n&&this.getAt(n[t])!==e&&Ext.raise('Incorrect oldKey "'+t+'" for item with newKey "'+i+'"')))},getCount:function(){return this.length},getKey:function(e){return e.id||e.getId()},getRange:function(e,t){var i=this.items,n=i.length,r=n?(r=Ext.Number.clipIndices(n,[e,t]),i.slice(r[0],r[1])):[];return r},remove:function(e){var t,i,n,r,o,s=this.map,a=this.items,l=null,d=1;if(Ext.isArray(e)&&(d=e.length,i=l=[]),this.length){for(n=0;n<d;n++)void 0!==(r=s[o=this.getKey(i?e[n]:e)])&&(delete s[o],o=a[r],i?i.push(o):l=o,o=a.pop(),r<--this.length&&(a[r]=o,s[this.getKey(o)]=r),t=!0);t&&++this.generation}return l},removeByKey:function(e){e=this.getByKey(e);return e&&this.remove(e),e||null},replace:function(e){return this.add(e),e},sort:function(e){var t,i=this.items,n=i.length;if(n){for(Ext.Array.sort(i,e),this.map={};0<n--;)t=i[n],this.map[this.getKey(t)]=n;++this.generation}}}),Ext.define("Ext.util.Scheduler",{mixins:["Ext.mixin.Observable"],requires:["Ext.util.Bag"],busyCounter:0,lastBusyCounter:0,destroyed:!1,firing:null,notifyIndex:-1,nextId:0,orderedItems:null,passes:0,scheduledCount:0,validIdRe:null,config:{cycleLimit:5,preSort:null,tickDelay:5},suspendOnNotify:!0,constructor:function(e){Ext.util.Scheduler.instances?Ext.util.Scheduler.instances.push(this):Ext.util.Scheduler.instances=[this],this.id=Ext.util.Scheduler.count=(Ext.util.Scheduler.count||0)+1,this.mixins.observable.constructor.call(this,e),this.items=new Ext.util.Bag},destroy:function(){var e=this.timer;e&&(window.clearTimeout(e),this.timer=null),this.items.destroy(),this.items=this.orderedItems=null,this.callParent(),Ext.Array.remove(Ext.util.Scheduler.instances,this)},add:function(e){var t=this.items;t===this.firing&&(this.items=t=t.clone()),e.id=e.id||++this.nextId,e.scheduler=this,t.add(e),this.sortMap||(this.orderedItems=null)},remove:function(e){var t=this.items;this.destroyed||(this.sortMap&&Ext.raise("Items cannot be removed during sort"),t===this.firing&&(this.items=t=t.clone()),e.scheduled&&(this.unscheduleItem(e),e.scheduled=!1),t.remove(e),this.orderedItems=null)},sort:function(){var e,t,i=this.items,n={},r=this.getPreSort();for(this.orderedItems=[],this.sortMap=n,this.sortStack=[],r&&i.sort(r),i=i.items,e=0;e<i.length;++e)n[(t=i[e]).id]||this.sortItem(t);this.sortMap=null,this.sortStack=null},sortItem:function(e){var t,i=this,n=i.sortMap,r=i.orderedItems;if(e.scheduler||i.add(e),t=e.id,e.scheduler!==i&&Ext.raise("Item "+t+" belongs to another Scheduler"),i.sortStack.push(e),0===n[t]){for(var o=[],s=0;s<i.sortStack.length;++s)o[s]=i.sortStack[s].getFullName();Ext.raise("Dependency cycle detected: "+o.join("\n --\x3e "))}return t in n||(n[t]=0,e.sort.$nullFn||e.sort(),n[t]=1,e.order=i.orderedItems.length,r.push(e)),i.sortStack.pop(),i},sortItems:function(e){var t=this.sortItem;return e&&(e instanceof Array?Ext.each(e,t,this):Ext.Object.eachValue(e,t,this)),this},applyPreSort:function(e){if("function"==typeof e)return e;for(var t,i,s=e.split(","),a=[],l=s.length,n=0;n<l;++n)a[n]=1,"-"===(t=(i=s[n]).charAt(0))?a[n]=-1:"+"!==t&&(t=0),t&&(s[n]=i.substring(1));return function(e,t){for(var i,n,r=0,o=0;!r&&o<l;++o)i=e[n=s[o]],n=t[n],r=a[o]*(i<n?-1:n<i?1:0);return r}},notify:function(){var e,t,i,n,r,o=this,s=o.timer,a=o.getCycleLimit(),l=Ext.GlobalEvents,d=o.suspendOnNotify;if(s&&(window.clearTimeout(s),o.timer=null),!o.firing&&o.scheduledCount){for(d&&Ext.suspendLayouts();o.scheduledCount;){if(!a){o.firing=null,o.onCycleLimitExceeded&&o.onCycleLimitExceeded();break}if(--a,r||(r=!0,l.hasListeners.beforebindnotify&&l.fireEvent("beforebindnotify",o)),++o.passes,(n=o.orderedItems)||(o.sort(),n=o.orderedItems),i=n.length)for(o.firing=o.items,e=0;e<i&&(!(t=n[e]).scheduled||(t.scheduled=!1,--o.scheduledCount,o.notifyIndex=e,t.react(),o.scheduledCount));++e);}o.firing=null,o.notifyIndex=-1,d&&Ext.resumeLayouts(!0)}(d=o.busyCounter)!==o.lastBusyCounter&&((o.lastBusyCounter=d)||o.fireEvent("idle",o))},onTick:function(){this.timer=null,this.notify()},scheduleItem:function(e){++this.scheduledCount,this.timer||this.firing||this.scheduleTick()},scheduleTick:function(){this.destroyed||this.timer||(this.timer=Ext.Function.defer(this.onTick,this.getTickDelay(),this))},unscheduleItem:function(e){this.scheduledCount&&--this.scheduledCount},adjustBusy:function(e){e=this.busyCounter+e;(this.busyCounter=e)?this.lastBusyCounter||(this.lastBusyCounter=e,this.fireEvent("busy",this)):this.lastBusyCounter&&!this.timer&&this.scheduleTick()},isBusy:function(){return!this.isIdle()},isIdle:function(){return!(this.busyCounter+this.lastBusyCounter)},debugHooks:{$enabled:!1,onCycleLimitExceeded:function(){Ext.raise("Exceeded cycleLimit "+this.getCycleLimit())},scheduleItem:function(e){e||Ext.raise("scheduleItem: Invalid argument"),Ext.log("Schedule item: "+e.getFullName()+" - "+(this.scheduledCount+1)),e.order<=this.notifyIndex&&Ext.log.warn("Suboptimal order: "+e.order+" < "+this.notifyIndex),this.callParent([e])},unscheduleItem:function(e){this.scheduledCount||Ext.raise("Invalid scheduleCount"),this.callParent([e]),Ext.log("Unschedule item: "+e.getFullName()+" - "+this.scheduledCount)}}}),Ext.define("Ext.data.Batch",{mixins:{observable:"Ext.mixin.Observable"},config:{pauseOnException:!1},current:-1,total:0,running:!1,complete:!1,exception:!1,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.operations=[],this.exceptions=[]},add:function(e){var t,i;if(Ext.isArray(e))for(t=0,i=e.length;t<i;++t)this.add(e[t]);else this.total++,e.setBatch(this),this.operations.push(e);return this},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(e,t){var i=e.order-t.order;if(i)return i;var n=e.entityType,i=t.entityType;return n&&i?((t=n.rank)||(n.schema.rankEntities(),t=n.rank),(t-i.rank)*e.foreignKeyDirection):0},start:function(e){return!this.operations.length||this.running?this:(this.exceptions.length=0,this.exception=!1,this.running=!0,this.runOperation(Ext.isDefined(e)?e:this.current+1))},retry:function(){return this.start(this.current)},runNextOperation:function(){return this.running&&this.runOperation(this.current+1),this},pause:function(){return this.running=!1,this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var e=null,t=this.current;return-1===t||this.complete||(e=this.operations[t]),e},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(e){var t=this.operations,i=t[e];return void 0===i?(this.running=!1,this.complete=!0,this.fireEvent("complete",this,t[t.length-1])):(this.current=e,i.setInternalCallback(this.onOperationComplete),i.setInternalScope(this),i.execute()),this},onOperationComplete:function(e){var t=e.hasException();t&&(this.exception=!0,this.exceptions.push(e),this.fireEvent("exception",this,e)),t&&this.getPauseOnException()?this.pause():(this.fireEvent("operationcomplete",this,e),this.runNextOperation())}}),Ext.define("Ext.data.matrix.Slice",{constructor:function(e,t){this.id=t,this.side=e,this.members={}},attach:function(e){Ext.Assert.falsey(this.store,"Store is already attached"),(this.store=e).matrix=this,e.on("load",this.onStoreLoad,this,{single:!0})},commit:function(){var e,t=this.members;for(e in t)t[e][2]=0},onStoreLoad:function(e){this.update(e.getData().items,0)},update:function(e,t){e instanceof Array||Ext.raise("Only array of records or record ids are supported");for(var i,n,r,o,s=Ext.data.matrix.Slice,a=this.side,l=a.index,d=e.length,c=this.id,u=this.members,h=a.inverse,f=h.slices,g=0;g<d;++g)i=null,n=u[r=(n=e[g]).isEntity?n.id:n],t<0&&n&&1===n[2]?(delete u[r],(o=f[r])&&delete o.members[c],i=1):n?t!==n[2]&&0!==t&&(n[2]=t,o=f[r],i=1):((n=[r,r,t])[l]=c,u[r]=n,(o=f[r])||(f[r]=o=new s(h,r)),o.members[c]=n,i=1),i&&(this.notify&&this.notify.call(this.scope,this,r,t),o&&o.notify&&o.notify.call(o.scope,o,c,t))},updateId:function(e){var t,i,n=this.id,r=this.side,o=r.slices,s=o[n],a=s.members,l=r.index,d=r.inverse.slices;for(t in o[this.id=e]=s,delete o[n],a)a[t][l]=e,(i=d[t].members)[e]=i[n],delete i[n]},destroy:function(){var e=this.store;e&&(e.matrix=null,e.un("load",this.onStoreLoad,this)),this.notify=this.scope=this.store=this.side=this.members=null,this.callParent()}}),Ext.define("Ext.data.matrix.Side",{requires:["Ext.data.matrix.Slice"],constructor:function(e,t,i){this.matrix=e,this.index=t,this.role=i,this.slices={}},commit:function(){var e,t=this.slices;for(e in t)t[e].commit()},get:function(e,t){var i=this.slices,e=i[e]||(i[e]=new Ext.data.matrix.Slice(this,e));return t||0===t?e.members[t]:e},update:function(e,t,i){return this.get(e).update(t,i)},updateId:function(e,t){e=this.get(e);e&&e.updateId(t)},destroy:function(){var e,t=this.slices;for(e in t)t[e].destroy();this.inverse=this.matrix=this.role=this.slices=null,this.callParent()}}),Ext.define("Ext.data.matrix.Matrix",{requires:["Ext.data.matrix.Side"],constructor:function(e,t){var i=t.isManyToMany?t:e.getSchema().getAssociation(t),n=Ext.data.matrix.Side,t=new n(this,0,i.left),n=new n(this,1,i.right);Ext.Assert.truthy(i.isManyToMany,"Association is not many-to-many"),this.association=i,this.session=e,this.left=t,this.right=n,(t.inverse=n).inverse=t},commit:function(){this.left.commit(),this.right.commit()},update:function(e,t,i){return this.left.update(e,t,i)},updateId:function(e,t,i){var n,r=e.self,o=this.left,e=this.right;r===o.role.cls&&(n=o),r===e.role.cls&&(n=e),n&&n.updateId(t,i)},destroy:function(){this.left.destroy(),this.right.destroy(),this.association=this.session=this.left=this.right=null,this.callParent()}}),Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(e){e=(this.session=e).getCrudProperties();this.result=null,this.writerOptions={},this.createKey=e.create,this.readKey=e.read,this.updateKey=e.update,this.dropKey=e.drop},onDirtyRecord:function(e){var t,i,n=this.crud,r=e.phantom,o=e.dropped,s=e.$className,a=r||o?"allDataOptions":"partialDataOptions",l=this.writerOptions,d=e.entityName;if(r&&o)return!1;n=r?this.createKey:o?this.dropKey:this.updateKey,l=l[s]||(l[s]={}),o&&((i=l.drop)||(l.drop=i={all:e.getProxy().getWriter().getWriteAllFields()}),i.all||(t=e.id)),t||((i=l[a])||(i=e.getProxy().getWriter().getConfig(a),l[a]=i=Ext.Object.chain(i),this.setupOptions(i)),t=e.getData(i)),(d=(d=(i=this.result||(this.result={}))[d]||(i[d]={}))[n]||(d[n]=[])).push(t)},setupOptions:function(e){e.serialize=!0},onMatrixChange:function(e,t,i,n){var r=e.left.type,o=e.right.role,e=n<0?this.dropKey:this.createKey,n=this.result||(this.result={}),r=n[r]||(n[r]={});(r=(r=(r=r[o]||(r[o]={}))[e]||(r[e]={}))[t]||(r[t]=[])).push(i)}}),Ext.define("Ext.data.session.ChildChangesVisitor",{extend:"Ext.data.session.ChangesVisitor",constructor:function(){this.seen={},this.callParent(arguments)},setupOptions:function(e){this.callParent([e]),e.serialize=!1},onDirtyRecord:function(e){!1!==this.callParent(arguments)&&(e.$source||!e.dropped&&e.phantom||this.readEntity(e))},readEntity:function(e){var t=this.readKey,i=e.entityName,n=e.id,r=this.seen,n=i+n;r[n]||(r[n]=!0,(i=(i=(n=this.result||(this.result={}))[i]||(n[i]={}))[t]||(i[t]=[])).push(Ext.apply({},e.modified,e.data)))}}),Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(e){this.batch=e},getBatch:function(e){var t,i,n,r,o,s=this.map,a=this.batch;if(s)for(n in a=a||new Ext.data.Batch,s)for(r in o=(i=(t=s[n]).entity).getProxy(),delete t.entity,t)(r=o.createOperation(r,{records:t[r]})).entityType=i,a.add(r);return a&&!1!==e&&a.sort(),a},onDirtyRecord:function(e){var t=e.phantom?"create":e.dropped?"destroy":"update",i=e.$className,n=this.map||(this.map={}),i=n[i]||(n[i]={entity:e.self});(i=i[t]||(i[t]=[])).push(e)}}),Ext.define("Ext.mixin.Dirty",{mixinId:"dirty",config:{dirty:null},dirty:!1,_dirtyRecordCount:0,ignoreDirty:!1,recordStateIsDirtyState:!0,isDirty:function(){return this.getDirty()},applyDirty:function(e){return!this.ignoreDirty&&e},updateDirty:function(e,t){this.dirty=e,!this.ignoreDirty&&this.fireEvent&&this.fireEvent("dirtychange",this,e)},clearRecordStates:function(){var e=this._crudCounters;e&&(e.C=e.U=e.D=0),this._dirtyRecordCount=0,this.recordStateIsDirtyState&&this.setDirty(!1)},trackRecordState:function(e,t){var i,n=this._crudCounters||(this._crudCounters={C:0,R:0,U:0,D:0}),r=this._dirtyRecordCount;return t||null===(i=e.crudStateWas)||--n[i],++n[e.crudState],this._dirtyRecordCount=n=n.C+n.U+n.D,(r=!n!=!r)&&this.recordStateIsDirtyState&&this.setDirty(0<n),r},untrackRecordState:function(e){var t,i=this._crudCounters,n=this._dirtyRecordCount;return i&&(--i[e.crudState],this._dirtyRecordCount=i=i.C+i.U+i.D,(t=!i!=!n)&&this.recordStateIsDirtyState&&this.setDirty(0<i)),t}}),Ext.define("Ext.data.Session",{requires:["Ext.data.schema.Schema","Ext.data.Batch","Ext.data.matrix.Matrix","Ext.data.session.ChangesVisitor","Ext.data.session.ChildChangesVisitor","Ext.data.session.BatchVisitor"],mixins:["Ext.mixin.Dirty","Ext.mixin.Observable"],isSession:!0,config:{schema:"default",parent:null,autoDestroy:!0,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},statics:{nextId:1},constructor:function(e){this.data={},this.matrices={},this.id=Ext.data.Session.nextId++,this.identifierCache={},this.recordCreator=this.recordCreator.bind(this),this.mixins.observable.constructor.call(this,e)},destroy:function(){var e,t,i,n,r=this.matrices,o=this.data;for(n in r)r[n].destroy();for(e in o)for(n in t=o[e])(i=t[n].record)&&(i.$source=null,i.unjoin(this));this.identifierCache=this.recordCreator=this.matrices=this.data=null,this.setSchema(null),this.callParent()},adopt:function(e){var t,i=e.associations;if(this.checkModelType(e.self),e.session&&e.session!==this&&Ext.raise("Record already belongs to an existing session"),e.session!==this&&((e.session=this).add(e),i))for(t in i)i[t].adoptAssociated(e,this)},commit:function(){var e,t,i,n,r=this.data,o=this.matrices;for(e in r)for(i in t=r[e])(n=t[i].record)&&n.commit();for(i in o)o[i].commit();this.clearRecordStates()},createRecord:function(e,t){this.checkModelType(e);var i=e.$isClass?e:this.getSchema().getEntity(e),n=this.getParent();return t&&n&&(e=i.getIdFromData(t),n.peekRecord(i,e)&&Ext.raise("A parent session already contains an entry for "+i.entityName+": "+e)),new i(t,this)},getChanges:function(){var e=new Ext.data.session.ChangesVisitor(this);return this.visitData(e),e.result},getChangesForParent:function(){var e=new Ext.data.session.ChildChangesVisitor(this);return this.visitData(e),e.result},getRecord:function(e,t,i){var n,r,o,s=e.isModel;return s&&(t=(s=e).id,e=e.self),(n=this.peekRecord(e,t))||(r=e.$isClass?e:this.getSchema().getEntity(e),(e=this.getParent())&&(o=e.peekRecord(r,t)),o&&(o.isLoading()?s=!1:(n=o.copy(void 0,this)).$source=o),n||(s?(n=s,this.adopt(n)):(n=r.createWithId(t,null,this),!1!==i&&n.load(Ext.isObject(i)?i:void 0)))),n},getSaveBatch:function(e){var t=new Ext.data.session.BatchVisitor;return this.visitData(t),t.getBatch(e)},onInvalidAssociationEntity:function(e,t){Ext.raise("Unable to read association entity: "+this.getModelIdentifier(e,t))},onInvalidEntityCreate:function(e,t){Ext.raise("Cannot create, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityDrop:function(e,t){Ext.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(e,t))},onInvalidEntityRead:function(e,t){Ext.raise("Cannot read, record already not exists: "+this.getModelIdentifier(e,t))},onInvalidEntityUpdate:function(e,t,i){i?Ext.raise("Cannot update, record dropped: "+this.getModelIdentifier(e,t)):Ext.raise("Cannot update, record does not exist: "+this.getModelIdentifier(e,t))},peekRecord:function(e,t,i){this.checkModelType(e);var n=(e.$isClass?e:this.getSchema().getEntity(e)).entityName,r=this.data[n],n=(r=r&&r[t])&&r.record;return!n&&i&&(n=(r=this.getParent())&&r.peekRecord(e,t,i)),n||null},save:function(){var e,t=this.getParent();t?(e=new Ext.data.session.ChildChangesVisitor(this),this.visitData(e),t.update(e.result),this.commit()):Ext.raise("Cannot commit session, no parent exists")},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(e){var t,i,n,r,o,s,a,l,d,c,u=this.getSchema(),h=this.crudOperations,f=h.length,g=this.crudKeys;for(t in this.getSchema().processKeyChecks(!0),e)for((i=u.getEntity(t))||Ext.raise("Invalid entity type: "+t),n=e[t],r=0;r<f;++r)(s=n[(o=h[r]).type])&&this[o.entityMethod](i,s);for(t in e)for(l in a=(i=u.getEntity(t)).associations,n=e[t])g[l]||((d=a[l])||Ext.raise("Invalid association key for "+t+', "'+l+'"'),c=n[d.role],d.processUpdate(this,c))},privates:{add:function(e){var t,i,n=e.id,n=this.getEntry(e.self,n);for(i in n.record&&Ext.raise("Duplicate id "+e.id+" for "+e.entityName),n.record=e,this.trackRecordState(e,!0),this.registerReferences(e),t=e.associations)t[i].checkMembership(this,e)},afterCommit:function(e){this.trackRecordState(e)},afterDrop:function(e){this.trackRecordState(e)},afterEdit:function(e){this.trackRecordState(e)},afterErase:function(e){this.evict(e)},applySchema:function(e){return Ext.data.schema.Schema.get(e)},checkModelType:function(e){e.$isClass&&(e=e.entityName),e?this.getSchema().getEntity(e)||Ext.raise("Unknown entity type "+e):Ext.raise("Unable to use anonymous models in a Session")},createEntities:function(e,t){for(var i,n,r,o=t.length,s=0;s<o;++s)i=t[s],r=e.getIdFromData(i),(n=this.peekRecord(e,r))?this.onInvalidEntityCreate(e,r):n=this.createRecord(e,i),n.phantom=!0},dropEntities:function(e,t){var i,n,r,o,s=t.length;for(s&&(o=Ext.isObject(t[0])),i=0;i<s;++i)r=t[i],o&&(r=e.getIdFromData(r)),(n=this.peekRecord(e,r))?n.drop():this.onInvalidEntityDrop(e,r)},evict:function(e){var t=e.entityName,i=this.data[t],t=e.id;i&&i[t]&&(this.untrackRecordState(e),e.unjoin(this),delete i[t])},getEntityList:function(e,t){for(var i,n,r,o=t.length,s=0;s<o;++s)i=t[s],(n=this.peekRecord(e,i))?t[s]=n:(r=!0,t[s]=null,this.onInvalidAssociationEntity(e,i));return r&&(t=Ext.Array.clean(t)),t},getEntry:function(e,t){e.isModel&&(t=e.getId(),e=e.self);var i=(e.$isClass?e:this.getSchema().getEntity(e)).entityName,e=this.data,i=e[i]||(e[i]={});return i=i[t]||(i[t]={})},getRefs:function(e,t,i){var n,r,o,s=this.getEntry(e),a=s&&s.refs&&s.refs[t.role],i=i&&this.getParent();if(i&&(n=i.getRefs(e,t))){for(r in n)o=n[r],a&&a[r]||this.getRecord(o.self,o.id);a=s&&s.refs&&s.refs[t.role]}return a||null},getIdentifier:function(e){var t,i,n=this.getParent();return n?i=n.getIdentifier(e):(i=(t=this.identifierCache)[e=(n=e.identifier).getId()||e.entityName])||(i=n.clone?n.clone({id:null}):n,t[e]=i),i},getMatrix:function(e,t){var i=e.isManyToMany?e.name:e,n=this.matrices,r=n[i];return r||t||(r=n[i]=new Ext.data.matrix.Matrix(this,e)),r||null},getMatrixSlice:function(e,t){return this.getMatrix(e.association)[e.side].get(t)},getModelIdentifier:function(e,t){return t+"@"+e.entityName},onIdChanged:function(e,t,i){var n,r,o,s,a,l,d=this.matrices,c=e.entityName,u=e.id,h=this.data[c],f=h[t],g=e.associations,p=f.refs,m=this._setNoRefs;for(l in h[i]&&Ext.raise("Cannot change "+c+" id from "+t+" to "+i+" id already exists"),delete h[t],h[i]=f,d)d[l].updateId(e,t,i);if(p)for(s in p)if(a=p[s],!(n=g[s].association).isManyToMany)for(o in r=n.field.name,a)a[o].set(r,u,m);this.registerReferences(e,t)},processManyBlock:function(e,t,i,n){var r,o,s,a;if(i)for(r in i)(o=this.peekRecord(e,r))?(s=this.getEntityList(t.cls,i[r]),a=t.getAssociatedItem(o),this[n](t,a,o,s)):this.onInvalidAssociationEntity(e,r)},processManyCreate:function(e,t,i,n){t?t.add(n):i[e.getterName](null,null,n)},processManyDrop:function(e,t,i,n){t&&t.remove(n)},processManyRead:function(e,t,i,n){t?t.setRecords(n):i[e.getterName](null,null,n)},readEntities:function(e,t){for(var i,n,r,o=t.length,s=0;s<o;++s)i=t[s],r=e.getIdFromData(i),(n=this.peekRecord(e,r))?this.onInvalidEntityRead(e,r):n=this.createRecord(e,i),n.phantom=!1},recordCreator:function(e,t){var i=t.getIdFromData(e),n=this.peekRecord(t,i,!0);return n=n?this.getRecord(t,i):new t(e,this)},registerReferences:function(e,t){e.entityName;for(var i,n,r,o,s=e.id,a=e.data,l=t||0===t,d=(n=e.references).length,c=0;c<d;++c)!(r=a[(i=n[c]).name])&&0!==r||((i=i.reference).type,o=i.inverse.role,(r=(r=(r=this.getEntry(i.cls,r)).refs||(r.refs={}))[o]||(r[o]={}))[s]=e,l&&delete r[t])},updateEntities:function(e,t){var i,n,r,o,s=t.length;if(Ext.isArray(t))for(i=0;i<s;++i)n=t[i],o=e.getIdFromData(n),(r=this.peekRecord(e,o))?r.set(n):this.onInvalidEntityUpdate(e,o);else for(o in t)n=t[o],(r=this.peekRecord(e,o))&&!r.dropped?r.set(n):this.onInvalidEntityUpdate(e,o,!!r)},updateReference:function(e,t,i,n){var r,o=t.reference,s=o.type,t=o.inverse.role,o=e.id;!n&&0!==n||delete(r=this.getEntry(s,n).refs[t])[o],!i&&0!==i||((r=(r=(i=this.getEntry(s,i)).refs||(i.refs={}))[t]||(r[t]={}))[o]=e)},visitData:function(e){var t,i,n,r,o,s,a,l,d,c,u=this.data,h=this.matrices;for(a in this.getSchema().processKeyChecks(!0),u)for(n in t=u[a])(l=t[n].record)&&(l.phantom||l.dirty||l.dropped?e.onDirtyRecord&&e.onDirtyRecord(l):e.onCleanRecord&&e.onCleanRecord(l));if(e.onMatrixChange)for(a in h)for(n in d=(o=h[a].left).slices,i=o.role.association,d)for(r in s=d[n].members)(c=(l=s[r])[2])&&e.onMatrixChange(i,l[0],l[1],c);return e},_setNoRefs:{refs:!1}}}),Ext.define("Ext.util.Schedulable",{abstract:!0,isSchedulable:!0,scheduled:!1,constructor:function(){this.getScheduler().add(this)},destroy:function(){var e=this.getScheduler();e&&e.remove(this),this.scheduler=null,this.schedule=this.react=Ext.emptyFn,this.callParent()},getFullName:function(){return this.name||this.id},privates:{getScheduler:function(){return this.scheduler},schedule:function(){var e;this.scheduled||(e=this.getScheduler())&&(this.scheduled=!0,this.onSchedule&&this.onSchedule(),e.scheduleItem(this))},unschedule:function(){var e;this.scheduled&&((e=this.getScheduler())&&e.unscheduleItem(this),this.scheduled=!1)},sort:function(){}}}),Ext.define("Ext.app.bind.BaseBinding",{extend:"Ext.util.Schedulable",calls:0,kind:20,defaultOptions:{},lastValue:void 0,constructor:function(e,t,i,n){this.options=n,this.owner=e,this.scope=i,(this.callback=t)||Ext.raise("Callback is required"),this.lateBound=Ext.isString(t),n&&n.deep&&(this.deep=!0),this.callParent()},destroy:function(){var e=this.owner;e&&e.onBindDestroy(this),this.callParent(),this.scope=this.callback=this.owner=null},isReadOnly:function(){return!0},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},notify:function(e){var t=this,i=t.options||t.defaultOptions,n=t.lastValue;t.calls&&!t.deep&&!t.valueChanged(e,n)||(++t.calls,t.lastValue=e,t.lateBound?t.scope[t.callback](e,n,t):t.callback.call(t.scope,e,n,t),i.single&&t.destroy())},valueChanged:function(e,t){var i=!0;return t!==e?e&&t&&e instanceof Date&&t instanceof Date&&(i=e.getTime()!==t.getTime()):i=Ext.isArray(e),i}}}),Ext.define("Ext.app.bind.Binding",{extend:"Ext.app.bind.BaseBinding",constructor:function(e,t,i,n){this.callParent([e.owner,t,i,n]),this.stub=e,this.depth=e.depth,e.isLoading()||e.scheduled||this.schedule()},destroy:function(e){var t=this.stub;t&&!e&&(t.unbind(this),this.stub=null),this.callParent()},bindValidation:function(e,t){var i=this.stub;return i&&i.bindValidation(e,t)},bindValidationField:function(e,t){var i=this.stub;return i&&i.bindValidationField(e,t)},getFullName:function(){return this.fullName||(this.fullName="@("+this.stub.getFullName()+")")},getValue:function(){var e=this.stub;return e&&e.getValue()},isLoading:function(){var e=this.stub;return e&&e.isLoading()},isReadOnly:function(){var e=this.stub,t=this.options,i=!0;return t&&!1===t.twoWay||e&&(i=e.isReadOnly()),i},refresh:function(){},setValue:function(e){this.isReadOnly()&&Ext.raise("Cannot setValue on a readonly binding"),this.stub.set(e)},privates:{getDataObject:function(){var e=this.stub;return e&&e.getDataObject()},getRawValue:function(){var e=this.stub;return e&&e.getRawValue()},isDescendantOf:function(e){var t=this.stub;return!!t&&(e===t||t.isDescendantOf(e))},react:function(){this.notify(this.getValue())},schedule:function(){this.stub.scheduled||this.callParent()},sort:function(){var e=this.stub;e.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.AbstractStub",{extend:"Ext.util.Schedulable",requires:["Ext.app.bind.Binding"],children:null,depth:0,generation:1,kind:10,parent:null,constructor:function(e,t){this.owner=e,this.name=t,this.callParent()},destroy:function(){var e,t,i,n=this.children,r=this.bindings;if(r)for(t=0,e=r.length;t<e;++t)r[t].destroy(!0);for(i in n)n[i].destroy();this.scheduled&&this.unschedule(),this.callParent()},add:function(e){((this.children||(this.children={}))[e.name]=e).depth=this.depth+1,e.parent=this},getChild:function(e){e=Ext.isString(e)?e.split("."):e;return e&&e.length?this.descend(e,0):this},getFullName:function(){var e,t=this.fullName,i=this.parent;return t||(t=this.name||this.id,i&&(e=i.getFullName())&&(t=(":"!==e.charAt(e.length-1)?e+".":e)+t),this.fullName=t),t},getSession:function(){var e=this.owner;return e.isSession?e:e.getSession()},bind:function(e,t,i){t=new Ext.app.bind.Binding(this,e,t,i),i=this.bindings||(this.bindings=[]);return t.depth=this.depth,i.push(t),t},getValue:function(){return this.isLoading()?null:this.getRawValue()},graft:function(e){var t,i=this.bindings,n=this.name;if(this.parent=this.bindings=null,this.destroy(),e.depth=this.depth,e.bindings=i,e.generation=this.generation+1,e.name=n,e.id=this.id,e.path=this.path,i)for(t=i.length;0<t--;)i[t].stub=e;return e},isDescendantOf:function(e){for(var t=this;t=t.parent;)if(t===e)return!0;return!1},onSchedule:function(){for(var e,t,i,n,r=this.parent;r;r=r.parent)if(n=r.bindings)for(e=0,t=n.length;e<t;++e)(i=n[e]).deep&&!i.scheduled&&i.schedule()},react:function(){var e,t,i,n=this.bindings;if(n)for(t=0,i=n.length;t<i;++t)(e=n[t]).scheduled||e.schedule()},unbind:function(e){var t=this.bindings;t&&t.length&&Ext.Array.remove(t,e)},privates:{collect:function(){var e,t,i,n=this.children,r=this.bindings,o=0;if(n)for(i in n)0===(e=(t=n[i]).collect())&&(t.destroy(),delete n[i]),o+=e;return r&&(o+=r.length),o},getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.parent;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.Stub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.Binding"],isStub:!0,dirty:!0,formula:null,validationKey:"validation",constructor:function(e,t,i){var n=t;this.callParent([e,t]),this.boundValue=null,i&&(i.add(this),i.isRootStub||(n=i.path+"."+t),this.checkHadValue()),this.path=n},destroy:function(){var e=this.formula,t=this.storeBinding;e&&e.destroy(),t&&t.destroy(),this.detachBound(),this.callParent()},bindValidation:function(e,t){var i=this.parent;return i&&i.descend([this.validationKey,this.name]).bind(e,t)},bindValidationField:function(i,n){var e,t=this.parent,r=this.name,o="string"==typeof i;return t&&(e=t.bind(function(e){var t=null;e&&e.isModel&&(t=e.getField(r)),o?n[i](t,e,this):i.call(n,t,e,this)})),e||null},descend:function(e,t){var i=this.children||(this.children={}),n=t||0,t=e[n++];return(i=i[t])||(i=new Ext.app.bind.Stub(this.owner,t,this)),n<e.length&&(i=i.descend(e,n)),i},getChildValue:function(e){var t=this.name,i=e||Ext.isString(e)?(i=this.inspectValue(e))||(e.isEntity?e.data:e)[t]:this.hadValue?null:void 0;return i},getDataObject:function(){var e,t=this.parent.getDataObject(),i=this.name,n=t?t[i]:null;return!n&&t&&t.isEntity&&(e=t.associations)&&i in e&&(n=t[e[i].getterName]()),n&&(n.$className||Ext.isObject(n))||(t[i]=n={},this.hadValue=!0,this.invalidate(!0,!0)),n},getRawValue:function(){return this.getChildValue(this.getParentValue())},graft:function(e){var t,i=this.parent,n=this.children,r=this.name;if(e.parent=i,e.children=n,i&&(i.children[r]=e),n)for(t in n)n[t].parent=e;return this.children=null,e.checkHadValue(),this.callParent([e])},isLoading:function(){var e,t,i=this.parent,n=!1;return i&&!(n=i.isLoading())&&(e=this.getParentValue(),(i=this.inspectValue(e))?n=i.isLoading():(e&&e.isModel&&((e=e.associations)&&this.name in e||(t=!(n=!1))),t||(n=!this.hadValue&&void 0===this.getRawValue()))),n},invalidate:function(e,t){var i,n=this.children;if(this.checkHadValue(),this.dirty=!0,t||this.isLoading()||this.scheduled||this.schedule(),e&&n)for(i in n)n[i].invalidate(e,t)},isReadOnly:function(){var e=this.formula;return!(!e||e.set)},set:function(e){var t,i=this.parent,n=this.name,r=this.formula;if(r&&!r.settingValue&&r.set)r.setValue(e);else{if(this.isLinkStub&&(r=(t=this.getLinkFormulaStub())?t.formula:null))return t.isReadOnly()&&Ext.raise("Cannot setValue on a readonly formula"),void r.setValue(e);(r=i.getDataObject()).isEntity?(i=r.associations)&&n in i?((i=i[n].setterName)&&r[i](e),this.invalidate(!0)):r.set(n,e):(e&&e.constructor===Object||e!==r[n])&&(this.setByLink(e)||(void 0===e?delete r[n]:r[n]=e,this.inspectValue(r),this.invalidate(!0)))}},onStoreLoad:function(){this.invalidate(!0)},afterLoad:function(e){this.invalidate(!0)},afterCommit:function(e){this.afterEdit(e,null)},afterEdit:function(e,t){var i,n,r,o=this.children,s=t&&t.length,a=e.associations;if(o)if(s)for(n=0;n<s;++n)(r=o[t[n]])&&r.invalidate();else for(i in o)a&&i in a||o[i].invalidate();this.invalidate()},afterReject:function(e){this.afterEdit(e,null)},afterAssociatedRecordSet:function(e,t,i){var n=this.children,i=i.role;n&&i in n&&n[i].invalidate(!0)},setByLink:function(e){for(var t,i,n,r=0,o=this;o;o=o.parent){if(o.isLinkStub){if(i=o,r)for(n=[],t=0,o=this;o!==i;o=o.parent)n[r-++t]=o.name;break}++r}return!(!i||!(o=i.getTargetStub()))&&(n&&(o=o.descend(n)),o.set(e),!0)},setFormula:function(e){var t=this.formula;t&&t.destroy(),this.formula=new Ext.app.bind.Formula(this,e)},react:function(){var e,t=this.boundValue,i=this.children;if(t)if(t.isValidation){if(t.refresh(),e=t.generation,this.lastValidationGeneration===e)return;this.lastValidationGeneration=e}else if(t.isModel)i&&i[this.validationKey]&&t.isValid();else if(t.isStore&&t.isLoading()&&!t.loadCount)return;this.callParent()},privates:{checkHadValue:function(){this.hadValue||(this.hadValue=void 0!==this.getRawValue())},collect:function(){return this.callParent()+(this.storeBinding?1:0)+(this.formula?1:0)},getLinkFormulaStub:function(){for(var e=this;e.isLinkStub;)e=e.binding.stub;return e.formula?e:null},getParentValue:function(){return this.dirty&&(this.parentValue=this.parent.getValue(),this.dirty=!1),this.parentValue},setStore:function(e){this.storeBinding=e},inspectValue:function(e){var t,i,n=this.name,r=this.boundValue,o=null;return e&&e.isEntity?(t=e.associations)&&n in t?(o=e[t[n].getterName]())&&o.isStore&&(o.$associatedStore=!0):n===this.validationKey&&(o=e.getValidation(),this.lastValidationGeneration=null):e&&(i=e[n])&&(i.isModel||i.isStore)&&(o=i),r!==o&&(r&&this.detachBound(),o&&(o.isModel?o.join(this):(!o.associatedEntity||!1===o.autoLoad||o.complete||o.hasPendingLoad()||o.load(),o.on({scope:this,load:{fn:"onStoreLoad",single:!0},destroy:"onDestroyBound"}))),this.boundValue=o),o},detachBound:function(){var e=this.boundValue;e&&(e.isModel?e.unjoin(this):e.un({scope:this,load:"onStoreLoad",destroy:"onDestroyBound"}))},onDestroyBound:function(){this.owner.destroying||this.set(null)},sort:function(){var e=this.formula,t=this.scheduler,i=this.storeBinding;this.callParent(),i&&t.sortItem(i),e&&t.sortItem(e)}}}),Ext.define("Ext.app.bind.LinkStub",{extend:"Ext.app.bind.Stub",isLinkStub:!0,binding:null,destroy:function(){var e=this.binding,t=this.owner;e&&(this.binding=null,e.destroy(),t&&delete t.linkData[this.name]),this.target=null,this.callParent()},getFullName:function(){return this.fullName||(this.fullName="("+this.callParent()+" -> "+this.binding.getFullName()+")")},getDataObject:function(){var e=this.binding;return e&&e.getDataObject()},getRawValue:function(){var e=this.binding;return e&&e.getRawValue()},getValue:function(){var e=this.binding;return e&&e.getValue()},getTargetStub:function(){var e=this.binding;return e&&e.stub},isLoading:function(){var e=this.binding;return!!e&&e.isLoading()},link:function(e,t){var i=this.binding;i&&i.destroy(),t=this.target=t||this.owner,this.linkDescriptor=e,this.binding=t.bind(e,this.onChange,this),this.binding.deep=!0},onChange:function(){this.invalidate(!0)},react:function(){this.owner.linkData[this.name]=this.getValue(),this.callParent()},privates:{collect:function(){return this.callParent()+(this.binding?1:0)},sort:function(){var e=this.binding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.app.bind.RootStub",{extend:"Ext.app.bind.AbstractStub",requires:["Ext.app.bind.LinkStub","Ext.app.bind.Stub"],isRootStub:!0,depth:0,createRootChild:function(e,t){var i,n,r=this.owner,o=r.getData(),s=this.children,a=s&&s[e],s=a?null:this;return t||o.hasOwnProperty(e)||!(i=r.getParent())?n=new Ext.app.bind.Stub(r,e,s):(n=new Ext.app.bind.LinkStub(r,e,a?null:s)).link("{"+e+"}",i),a&&a.graft(n),n},createStubChild:function(e){return this.createRootChild(e,!0)},descend:function(e,t){var i=this.children,n=t||0,t=e[n++],t=i&&i[t]||this.createRootChild(t);return n<e.length&&(t=t.descend(e,n)),t},getFullName:function(){return this.fullName||(this.fullName=this.owner.id+":")},getDataObject:function(){return this.owner.data},getRawValue:function(){return this.owner.data},getValue:function(){return this.owner.data},isDescendantOf:function(){return!1},isLoading:function(){return!1},set:function(e){e&&e.constructor===Object||Ext.raise("Only an object can be set at the root");var t,i,n,r,o=this.children||(this.children={}),s=this.owner,a=s.data,l=s.getParent();for(r in e)0<=r.indexOf(".")&&Ext.raise("Value names cannot contain dots"),void 0!==(n=e[r])?((i=o[r])?i.isLinkStub&&(i.getLinkFormulaStub()||(t=i,i=new Ext.app.bind.Stub(s,r),t.graft(i))):i=new Ext.app.bind.Stub(s,r,this),i.set(n)):a.hasOwnProperty(r)&&(delete a[r],(i=o[r])&&(!i.isLinkStub&&l&&(i=this.createRootChild(r)),i.invalidate(!0)))},schedule:Ext.emptyFn,unschedule:Ext.emptyFn}),Ext.define("Ext.app.bind.Multi",{extend:"Ext.app.bind.BaseBinding",isMultiBinding:!0,missing:1,deep:!0,constructor:function(e,t,i,n,r){var o=this,s=r&&r.trackStatics;o.callParent([t,i,n,r]),o.bindings=[],o.literal=e.$literal,e.constructor===Object?(s&&(o.staticKeys=[]),o.addObject(e,o.lastValue={},o.staticKeys)):o.addArray(e,o.lastValue=[]),--o.missing||o.scheduled||o.schedule()},destroy:function(){this.bindings=Ext.destroy(this.bindings),this.callParent()},add:function(e,t,i){var n,r=this,o=r.owner,s=r.bindings,a=r.literal?e.reference?"bindEntity":"bindExpression":"bind";return++r.missing,e=(n=o[a](e,function(e){t[i]=e,1===n.calls&&--r.missing,r.missing||r.scheduled||r.schedule()},r,null)).depth,(!s.length||e<r.depth)&&(r.depth=e),s.push(n),!this.isBindingStatic(n)},addArray:function(e,t){for(var i,n=e.length,r=!1,o=0;o<n;++o)i=(i=e[o])&&(i.reference||Ext.isString(i))?this.add(i,t,o):Ext.isArray(i)?this.addArray(i,t[o]=[]):i&&i.constructor===Object?this.addObject(i,t[o]={}):(t[o]=i,!1),r=r||i;return r},addObject:function(e,t,i){var n,r,o=!1;for(r in e)n=(n=e[r])&&(n.reference||Ext.isString(n))?this.add(n,t,r):Ext.isArray(n)?this.addArray(n,t[r]=[]):n&&n.constructor===Object?this.addObject(n,t[r]={}):(t[r]=n,!1),i&&!n&&i.push(r),o=o||n;return o},getFullName:function(){var e,t=this.fullName,i=this.bindings,n=i.length;if(!t){for(t="@[",e=0;e<n;++e)e&&(t+=","),t+=i[e].getFullName();t+="]",this.fullName=t}return t},getRawValue:function(){return this.lastValue},isDescendantOf:function(){return!1},isLoading:function(){for(var e=this.bindings,t=e.length;0<t--;)if(e[t].isLoading())return!0;return!1},isBindingStatic:function(e){return e.isTemplateBinding&&e.isStatic},isStatic:function(){for(var e,t=this.bindings,i=t.length,n=0;n<i;++n)if(e=t[n],!this.isBindingStatic(e))return!1;return!0},pruneStaticKeys:function(){for(var e=Ext.apply({},this.lastValue),t=this.staticKeys,i=t.length,n=0;n<i;++n)delete e[t[n]];return e},react:function(){this.notify(this.lastValue)},refresh:function(){},privates:{sort:function(){this.scheduler.sortItems(this.bindings)}}}),Ext.define("Ext.app.bind.Formula",{extend:"Ext.util.Schedulable",requires:["Ext.util.LruCache"],statics:{getFormulaParser:function(e){var t=this.formulaCache,i=(t=t||(this.formulaCache=new Ext.util.LruCache({maxSize:20}))).get(e);return i||(i=new RegExp("[^\\.a-z0-9_]"+e+"\\(\\s*(['\"])(.*?)\\1\\s*\\)","gi"),t.add(e,i)),i}},isFormula:!0,calculation:null,explicit:!1,set:null,single:!1,argumentNamesRe:/^function\s*\(\s*([^,\)\s]+)/,constructor:function(e,t){var i,n,r,o,s=this,a=e.owner;s.owner=a,s.stub=e,s.callParent(),t instanceof Function?s.get=r=t:(s.get=r=t.get,s.set=t.set,n=t.bind,t.single&&(s.single=t.single),n&&(i=n.bindTo)&&(delete(o=Ext.apply({},n)).bindTo,n=i)),r||Ext.raise("Must specify a getter method for a formula"),n?s.explicit=!0:n=r.$expressions||s.parseFormula(r),s.binding=a.bind(n,s.onChange,s,o)},destroy:function(){var e=this.binding,t=this.stub;e&&(e.destroy(),this.binding=null),t&&(t.formula=null),this.callParent(),this.getterFn=this.owner=null},getFullName:function(){return this.fullName||(this.fullName=this.stub.getFullName()+"="+this.callParent()+")")},getRawValue:function(){return this.calculation},onChange:function(){this.scheduled||this.schedule()},parseFormula:function(e){for(var t,i=e.toString(),n={$literal:!0},r=this.argumentNamesRe.exec(i),o=r?r[1]:"get",s=Ext.app.bind.Formula.getFormulaParser(o);r=s.exec(i);)n[t=r[2]]=t;return n.$literal=!0,e.$expressions=n},react:function(){var e=this,t=e.owner,i=e.binding.lastValue,i=(e.getterFn,e.explicit?i:t.getFormulaFn(i));e.settingValue=!0,e.stub.set(e.calculation=e.get.call(t,i)),e.settingValue=!1,e.single&&e.destroy()},setValue:function(e){this.set.call(this.stub.owner,e)},privates:{getScheduler:function(){var e=this.owner;return e&&e.getScheduler()},sort:function(){var e=this.binding;e.destroyed||this.scheduler.sortItem(e)}}}),Ext.define("Ext.util.Fly",{inheritableStatics:{flyPoolSize:2,fly:function(){var e=this.flyweights||(this.flyweights=[]),e=e.length?e.pop():new this;return e.reset.apply(e,arguments),e}},release:function(){var e=this.self,t=e.flyweights||(e.flyweights=[]);this.reset(),t.length<e.flyPoolSize&&t.push(this)},reset:Ext.emptyFn}),Ext.define("Ext.parse.Tokenizer",function(e){var t=e.flyweights=[],i={literal:!0,boolean:!0},n={error:!0},d={ident:!0},r={literal:!0,nil:!0},c={literal:!0,number:!0},l={literal:!0,string:!0};return{extend:"Ext.util.Fly",isTokenizer:!0,statics:{BOOLEAN:i,ERROR:n,IDENT:d,LITERAL:{literal:!0},NULL:r,NUMBER:c,STRING:l},config:{keywords:{null:{type:"literal",is:r,value:null},false:{type:"literal",is:i,value:!1},true:{type:"literal",is:i,value:!0}},operators:{"+":"plus","-":"minus","*":"multiply","/":"divide","!":"bang",",":"comma",":":"colon","[":"arrayOpen","]":"arrayClose","{":"curlyOpen","}":"curlyClose","(":"parenOpen",")":"parenClose"}},error:null,index:-1,constructor:function(e){this.operators={},this.initConfig(e)},next:function(){var e=this.peek();return this.head=void 0,e},peek:function(){var e=this.error,t=this.head;return e||(void 0===t&&(this.head=t=this.advance()),t)},release:function(){this.reset(),t.length<e.flyPoolSize&&t.push(this)},reset:function(e,t,i){return this.error=null,this.head=void 0,this.index=-1,this.text=e||null,this.pos=t||0,this.end=e&&null==i?e.length:i,this},privates:{digitRe:/[0-9]/,identFirstRe:/[a-z_$]/i,identRe:/[0-9a-z_$]/i,spaceRe:/[ \t]/,end:0,head:void 0,pos:0,text:null,applyOperators:function(e){var t,i,n,r,o,s,a,l=this.operators;for(a in e){for(t=l,s=e[a],o=a.length,r=0;r<o;++r)t=t[i=a.charAt(r)]||(t[i]={});s?(t.token=n={type:"operator",value:a,is:{operator:!0}},n.is[s]=!0):t.token=null}},advance:function(){for(var e,t=this.spaceRe,i=this.text,n=this.end;this.pos<n;){if(e=i.charAt(this.pos),!t.test(e))return this.index=this.pos,this.parse(e);++this.pos}return null},parse:function(e){var t,i=this,n=i.digitRe,r=i.text,o=i.end;return"."===e&&i.pos+1<o&&n.test(r.charAt(i.pos+1))&&(t=i.parseNumber()),!t&&i.operators[e]&&(t=i.parseOperator(e)),t=t||('"'===e||"'"===e?i.parseString():n.test(e)?i.parseNumber():i.identFirstRe.test(e)?i.parseIdent():i.syntaxError("Unexpected character"))},parseIdent:function(){for(var e,t=this.identRe,i=this.getKeywords(),n=!this.operators["."],r=this.text,o=this.pos,s=o,a=this.end,l=0;s<a;){if(e=r.charAt(s),n&&"."===e){if("."===l)return this.syntaxError(s,"Unexpected dot operator");++s}else{if(!t.test(e))break;++s}l=e}return"."===l?this.syntaxError(s-1,"Unexpected dot operator"):(o=r.substring(o,this.pos=s),i&&i[o]||{type:"ident",is:d,value:o})},parseNumber:function(){for(var e,t,i,n,r=this,o=r.digitRe,s=r.text,a=r.pos,l=r.end;r.pos<l;)if("-"===(e=s.charAt(r.pos))||"+"===e){if(r.pos!==a)return r.syntaxError(a,"Invalid number");++r.pos}else if("."===e){if(t)break;t=!0,++r.pos}else if("e"===e||"E"===e){if(i)break;t=i=!0,"-"!==(e=s.charAt(++r.pos))&&"+"!==e||++r.pos}else{if(!o.test(e))break;++r.pos}return n={type:"literal",is:c,value:+s.substring(a,r.pos)},isFinite(n.value)||(n=r.syntaxError(a,"Invalid number")),n},parseOperator:function(e){for(var t,i,n,r=this.operators,o=this.text,s=this.end,a=this.pos;r[e]&&(++a,(n=(r=r[e]).token)&&(t=n,i=a),a<s);)e=o.charAt(a);return t&&(this.pos=i),t},parseString:function(){for(var e,t,i=this.text,n=this.pos,r=n,o=this.end,s="",a=i.charAt(n++);n<o;){if((e=i.charAt(n++))===a){t=!0;break}"\\"===e&&n<o&&(e=i.charAt(n++)),s+=e}return this.pos=n,t?{type:"literal",is:l,value:s}:this.syntaxError(r,"Unterminated string")},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var i=null==e?"":" (at index "+e+")",t=new Error(t+i);return t.type="error",t.is=n,i&&(t.at=e),this.error=t}}}}),Ext.define("Ext.parse.Symbol",{priority:0,constructor:function(e,t){var i=this.defaultProperty;t&&"object"==typeof t?Ext.apply(this,t):void 0!==t&&i&&(this[i]=t),this.id=e},dump:function(){var e,t=this,i={at:t.at,arity:t.arity};if("value"in t&&(i.value=t.value),t.lhs&&(i.lhs=t.lhs.dump(),i.rhs=t.rhs.dump()),t.operand&&(i.operand=t.operand.dump()),t.args)for(i.args=[],e=0;e<t.args.length;++e)i.args.push(t.args[e].dump());return i},led:function(){this.parser.syntaxError(this.at,"Missing operator")},nud:function(){this.parser.syntaxError(this.at,"Undefined")},update:function(e){var t,i;e&&"object"==typeof e&&(t=e.priority,i=e.led,e=e.nud,this.priority<=t&&(this.priority=t),i&&(this.led=i),e&&(this.nud=e))}}),Ext.define("Ext.parse.symbol.Constant",{extend:"Ext.parse.Symbol",arity:"literal",isLiteral:!0,defaultProperty:"value",constructor:function(e,t){this.callParent([e,t]),this._value=this.value},nud:function(){return this.value=this._value,this.arity="literal",this.isLiteral=!0,this}}),Ext.define("Ext.parse.symbol.Infix",{extend:"Ext.parse.Symbol",arity:"binary",isBinary:!0,defaultProperty:"priority",led:function(e){return this.lhs=e,this.rhs=this.parser.parseExpression(this.priority),this.arity="binary",this.isBinary=!0,this}}),Ext.define("Ext.parse.symbol.InfixRight",{extend:"Ext.parse.symbol.Infix",led:function(e){return this.lhs=e,this.rhs=this.parser.parseExpression(this.priority-1),this.arity="binary",this.isBinary=!0,this}}),Ext.define("Ext.parse.symbol.Paren",{extend:"Ext.parse.Symbol",arity:"binary",isBinary:!0,priority:80,led:function(e){var t=[],i=this.parser,n=e.id,r=e.arity;for("."!==n&&"["!==n&&("unary"===r&&"function"===n||"ident"===r||"("===n||"&&"===n||"||"===n||"?"===n||i.syntaxError(e.at,"Expected a variable name.")),this.arity="invoke",this.isInvoke=!0,this.operand=e,this.args=t;")"!==i.token.id;)t.length&&i.advance(","),t.push(i.parseExpression());return i.advance(")"),this},nud:function(){var e=this.parser,t=e.parseExpression();return e.advance(")"),t}}),Ext.define("Ext.parse.symbol.Prefix",{extend:"Ext.parse.Symbol",arity:"unary",isUnary:!0,priority:70,nud:function(){return this.operand=this.parser.parseExpression(this.priority),this.arity="unary",this.isUnary=!0,this}}),Ext.define("Ext.parse.Parser",function(){function e(){return this}return{extend:"Ext.util.Fly",requires:["Ext.parse.Tokenizer","Ext.parse.symbol.Constant","Ext.parse.symbol.InfixRight","Ext.parse.symbol.Paren","Ext.parse.symbol.Prefix"],isParser:!0,config:{constants:{null:null,false:!1,true:!0},infix:{"+":50,"-":50,"*":60,"/":60},infixRight:{"&&":30,"||":30},prefix:{"!":0,"-":0,"+":0},symbols:{":":0,",":0,")":0,"[":0,"]":0,"{":0,"}":0,"(end)":0,"(ident)":{arity:"ident",isIdent:!0,nud:e},"(literal)":{arity:"literal",isLiteral:!0,nud:e},"(":{xclass:"Ext.parse.symbol.Paren"}},tokenizer:{keywords:null}},token:null,constructor:function(e){this.symbols={},this.initConfig(e)},advance:function(e){var t,i=this.tokenizer,n=i.peek(),r=this.symbols,o=i.index;if(this.error)throw this.error;return e&&this.expect(e),n?(i.next(),e=n.is,i=n.value,e.ident?t=r[i]||r["(ident)"]:e.operator?(t=r[i])||this.syntaxError(n.at,'Unknown operator "'+i+'"'):e.literal?t=r["(literal)"]:this.syntaxError(n.at,"Unexpected token"),this.token=t=Ext.Object.chain(t),t.at=o,t.value=i,t.arity||(t.arity=n.type),t):this.token=r["(end)"]},expect:function(e){var t=this.token;return e!==t.id&&this.syntaxError(t.at,'Expected "'+e+'"'),this},parseExpression:function(e){var t,i=this.token;for(e=e||0,this.advance(),t=i.nud();e<(i=this.token).priority;)this.advance(),t=i.led(t);return t},reset:function(e,t,i){return this.error=this.token=null,this.tokenizer.reset(e,t,i),this.advance(),this},syntaxError:function(e,t){"string"==typeof e&&(t=e,e=this.pos);var i=null==e?"":" (at index "+e+")",t=new Error(t+i);throw t.type="error",i&&(t.at=e),this.error=t},privates:{error:null,addSymbol:function(e,t,i,n){var r,o,s,a=this.symbols,l=a[e];if(l){if("object"==typeof t)r=t;else{if(!n||!i)return l;for(o=(n=Ext.Array.from(n)).length,r={},s=0;s<o;s++)r[n[s]]=i.prototype[n[s]]}l.update(r)}else i=t&&t.xclass?Ext.ClassManager.get(t.xclass):i||Ext.parse.Symbol,a[e]=l=new i(e,t),l.parser=this;return l},addSymbols:function(e,t,i){for(var n in e)this.addSymbol(n,e[n],t,i)},applyConstants:function(e){this.addSymbols(e,Ext.parse.symbol.Constant,"nud")},applyInfix:function(e){this.addSymbols(e,Ext.parse.symbol.Infix,"led")},applyInfixRight:function(e){this.addSymbols(e,Ext.parse.symbol.InfixRight,"led")},applyPrefix:function(e){this.addSymbols(e,Ext.parse.symbol.Prefix,"nud")},applySymbols:function(e){this.addSymbols(e)},applyTokenizer:function(e){var t=e;e&&!e.isTokenizer&&(t=new Ext.parse.Tokenizer(e)),this.tokenizer=t}}}}),Ext.define("Ext.app.bind.Parser",{extend:"Ext.parse.Parser",requires:["Ext.util.Format"],infix:{":":{priority:70,dump:function(){for(var e={at:this.at,arity:this.arity,value:this.value,operand:this.operand.dump(),fmt:[]},t=this.fmt,i=0;i<t.length;++i)e.fmt.push(t[i].dump());return e},led:function(e){return this.arity="formatter",this.operand=e,this.fmt=this.parser.parseFmt(),this}},"?":{priority:20,led:function(e){var t=this.parser,i=t.symbols[":"];return this.condition=e,e=i.priority,i.priority=0,this.tv=t.parseExpression(0),this.parser.advance(":"),i.priority=e,this.fv=t.parseExpression(0),this.arity="ternary",this}},"===":40,"!==":40,"==":40,"!=":40,"<":40,"<=":40,">":40,">=":40},symbols:{"(":{nud:function(){var e,t=this.parser,i=t.symbols[":"],n=i.priority;return i.priority=70,e=t.parseExpression(),t.advance(")"),i.priority=n,e}}},prefix:{"@":0},tokenizer:{operators:{"@":"at","?":"qmark","===":"feq","!==":"fneq","==":"eq","!=":"neq","<":"lt","<=":"lte",">":"gt",">=":"gte","&&":"and","||":"or"}},compileExpression:function(e,t){var i=this;return i.tokens=e,i.tokensMap=t,(t=(t="@"===i.token.value&&i.tokenizer.peek())&&"debugger"===t.value)&&(i.advance(),i.advance()),t=i.parseSlot(i.parseExpression(),t),i.tokens=i.tokensMap=null,t},compileFormat:function(){var e;try{e=this.parseSlot({arity:"formatter",fmt:this.parseFmt(),operand:{arity:"ident",value:"dummy"}}),this.expect("(end)")}catch(e){Ext.raise('Invalid format expression: "'+this.tokenizer.text+'"')}return e},privates:{useEval:Ext.isGecko,escapeRe:/("|'|\\)/g,parseFmt:function(){for(var e,t=[],i=this.symbols[":"].priority;t.length&&this.advance(),(e=this.parseExpression(i)).isIdent||e.isInvoke?t.push(e):this.syntaxError(e.at,"Expected formatter name"),":"===this.token.id;);return t},parseSlot:function(e,t){var i,n,r,o,s=[],a=[],l=this.tokens||[];if(this.definitions=s,(this.body=a).push("return "+this.compile(e)+";"),i="var fm = Ext.util.Format,\nme,",o="var a = Ext.Array.from(values);\nme = scope;\n",r=l.length)for(n=0;n<r;n++)i+="v"+n+(n==r-1?";":","),o+="v"+n+" = a["+n+"]; ";else i+="v0;",o+="v0 = a[0];";return s=Ext.Array.insert(s,0,[i]),a=(a=Ext.Array.insert(a,0,[o])).join("\n"),t&&(a="debugger;\n"+a),s.push((this.useEval?"$=":"return")+" function (values, scope) {",a,"}"),i=s.join("\n"),s=this.useEval?this.evalFn(i):new Function("Ext",i)(Ext),this.definitions=this.body=null,s},compile:function(e){var t;switch(e.arity){case"ident":return this.addToken(e.value);case"literal":return"string"==typeof(t=e.value)?'"'+String(t).replace(this.escapeRe,"\\$1")+'"':t;case"unary":return this.compileUnary(e);case"binary":return this.compileBinary(e);case"ternary":return this.compileTernary(e);case"formatter":return this.compileFormatter(e)}return this.syntaxError(e.at,"Compile error! Unknown symbol")},compileUnary:function(e){var t=e.value,i=e.operand;return"!"===t||"-"===t||"+"===t?t+"("+this.compile(i)+")":"@"===t?i.isIdent?i.value:this.syntaxError(e.at,"Compile error! Unexpected symbol"):""},compileBinary:function(e){return"("+this.compile(e.lhs)+" "+e.value+" "+this.compile(e.rhs)+")"},compileTernary:function(e){return"("+this.compile(e.condition)+" ? "+this.compile(e.tv)+" : "+this.compile(e.fv)+")"},compileFormatter:function(e){var t,i=e.fmt,n=i.length,r=["var ret;"];if(i.length)for(r.push("ret = "+this.compileFormatFn(i[0],this.compile(e.operand))+";"),t=1;t<n;t++)r.push("ret = "+this.compileFormatFn(i[t],"ret")+";");return r.push("return ret;"),this.addFn(r.join("\n"))},compileFormatFn:function(e,t){var i,n,r,o=[],s="";if(e.isIdent?i=e.value:e.isInvoke&&(i=e.operand.value,o=e.args),"this."===i.substring(0,5))i="me."+i.substring(5);else{if(!(i in Ext.util.Format))return this.syntaxError(e.at,'Compile error! Invalid format specified "'+i+'"');i="fm."+i}for(s+=t,n=o.length,r=0;r<n;r++)s+=", "+this.compile(o[r]);return i+"("+s+")"},addFn:function(e){var t=this.definitions,i="f"+t.length;return t.push("function "+i+"() {",e,"}"),i+"()"},evalFn:function($){return eval($),$},addToken:function(e){var t=this.tokensMap,i=this.tokens,n=0;return t&&i&&(e in t?n=t[e]:(t[e]=n=i.length,i.push(e))),"v"+n}}}),Ext.define("Ext.app.bind.Template",{requires:["Ext.util.Format","Ext.app.bind.Parser"],buffer:null,slots:null,tokens:null,constructor:function(e){var t,i=this._initters;for(t in this.text=e,i)this[t]=i[t]},_initters:{apply:function(e,t){return this.parse().apply(e,t)},getTokens:function(){return this.parse().getTokens()}},apply:function(e,t){for(var i,n=this.slots,r=this.buffer,o=n.length,s=0;s<o;++s)(i=n[s])&&(r[s]=i(e,t));return i&&this.single?r[0]:r.join("")},getTokens:function(){return this.tokens},isStatic:function(){var e=this.getTokens(),t=this.slots;return 0===e.length&&0===t.length},privates:{parse:function(){var e,t,i=this,n=i.text,r=Ext.app.bind.Parser.fly(),o=i.buffer=[],s=i.slots=[],a=n.length,l=0;for(t in i._initters)delete i[t];for(i.tokens=[],i.tokensMap={},t=0;t<a;){if(e=t,(t=n.indexOf("{",e))<0){o[l++]=n.substring(e);break}e<t&&(o[l++]=n.substring(e,t)),r.reset(n,t+1),s[l++]=r.compileExpression(i.tokens,i.tokensMap),t=r.token.at+1,r.expect("}")}return r.release(),i.single=0===o.length&&1===s.length,i}}}),Ext.define("Ext.app.bind.TemplateBinding",{extend:"Ext.app.bind.BaseBinding",requires:["Ext.app.bind.Multi","Ext.app.bind.Template"],isTemplateBinding:!0,lastValue:void 0,value:void 0,constructor:function(e,t,i,n,r){var o=new Ext.app.bind.Template(e),e=o.getTokens();this.callParent([t,i,n,r]),this.tpl=o,(this.tokens=e).$literal=!0,o.isStatic()?(this.isStatic=!0,this.onData(o.text)):this.multiBinding=new Ext.app.bind.Multi(e,t,this.onBindData,this)},destroy:function(){Ext.destroy(this.multiBinding),this.tpl=this.multiBinding=null,this.callParent()},getFullName:function(){var e=this.multiBinding;return this.fullName||(this.fullName="$"+(e?e.getFullName():this.callParent()))},getRawValue:function(){return this.value},getTemplateScope:function(){return null},isDescendantOf:function(){return!1},isLoading:function(){var e=this.multiBinding;return!!e&&e.isLoading()},onBindData:function(e){this.onData(this.tpl.apply(e,this.getTemplateScope()))},onData:function(e){var t=this.value;t!==(this.value=e)&&(this.lastValue=t,this.schedule())},react:function(){this.notify(this.value)},refresh:function(){var e=this.multiBinding;e&&e.refresh()},privates:{sort:function(){var e=this.multiBinding;e&&this.scheduler.sortItem(e)}}}),Ext.define("Ext.data.ChainedStore",{extend:"Ext.data.AbstractStore",alias:"store.chained",config:{source:null,remoteFilter:!1,remoteSort:!1},mixins:["Ext.data.LocalStore"],updateRemoteFilter:function(e,t){e&&Ext.raise("Remote filtering cannot be used with chained stores."),this.callParent([e,t])},updateRemoteSort:function(e,t){e&&Ext.raise("Remote sorting cannot be used with chained stores."),this.callParent([e,t])},remove:function(){var e=this.getSource();return e.remove.apply(e,arguments)},removeAll:function(){return this.getSource().removeAll()},getData:function(){var e=this.data;return e||(this.data=e=this.constructDataCollection()),e},getTotalCount:function(){return this.getCount()},getSession:function(){return this.getSource().getSession()},applySource:function(e){var t,i;return e&&(t=e,(e=Ext.data.StoreManager.lookup(e))||(i=Ext.String.format("Invalid source {0}specified for Ext.data.ChainedStore","string"==typeof t?'"'+t+'" ':""),Ext.raise(i))),e},updateSource:function(e,t){t&&!t.destroyed&&t.removeObserver(this),e&&(this.getData().setSource(e.getData()),this.isInitializing||(this.fireEvent("refresh",this),this.fireEvent("datachanged",this)),e.addObserver(this))},getModel:function(){return this.getSource().getModel()},getProxy:function(){return null},onCollectionAdd:function(e,t){var i=t.items,n=!t.next;this.ignoreCollectionAdd||(this.fireEvent("add",this,i,t.at),n&&this.fireEvent("datachanged",this))},onCollectionItemChange:function(e,t){var i=t.item,n=t.modified||null,r=t.meta;this.onUpdate(i,r,n,t),this.fireEvent("update",this,i,r,n,t)},onCollectionUpdateKey:function(e,t){this.fireEvent("idchanged",this,t.item,t.oldKey,t.newKey)},onUpdate:Ext.emptyFn,onCollectionRemove:function(e,t){var i=t.items,n=!t.next;this.ignoreCollectionRemove||(this.fireEvent("remove",this,i,t.at,!1),n&&this.fireEvent("datachanged",this))},onSourceBeforeLoad:function(e,t){this.fireEvent("beforeload",this,t)},onSourceAfterLoad:function(e,t,i,n){this.fireEvent("load",this,t,i,n)},onFilterEndUpdate:function(){this.callParent(arguments),this.callObservers("Filter")},onSourceBeforePopulate:function(){this.ignoreCollectionAdd=!0,this.callObservers("BeforePopulate")},onSourceAfterPopulate:function(){this.ignoreCollectionAdd=!1,this.fireEvent("datachanged",this),this.fireEvent("refresh",this),this.callObservers("AfterPopulate")},onSourceBeforeClear:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeClear")},onSourceAfterClear:function(){this.ignoreCollectionRemove=!1,this.callObservers("AfterClear")},onSourceBeforeRemoveAll:function(){this.ignoreCollectionRemove=!0,this.callObservers("BeforeRemoveAll")},onSourceAfterRemoveAll:function(e,t){this.ignoreCollectionRemove=!1,t||(this.fireEvent("clear",this),this.fireEvent("datachanged",this)),this.callObservers("AfterRemoveAll",[t])},onSourceFilter:function(){this.fireEvent("refresh",this),this.fireEvent("datachanged",this)},hasPendingLoad:function(){return this.getSource().hasPendingLoad()},isLoaded:function(){return this.getSource().isLoaded()},isLoading:function(){return this.getSource().isLoading()},doDestroy:function(){this.observers=null,this.setSource(null),this.getData().destroy(!0),this.data=null,this.callParent()},privates:{isMoving:function(){var e=this.getSource();return!!e.isMoving&&e.isMoving.apply(e,arguments)},loadsSynchronously:function(){return this.getSource().loadsSynchronously()}}}),Ext.define("Ext.app.ViewModel",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.Scheduler","Ext.data.Session","Ext.app.bind.RootStub","Ext.app.bind.LinkStub","Ext.app.bind.Multi","Ext.app.bind.Formula","Ext.app.bind.TemplateBinding","Ext.data.ChainedStore"],alias:"viewmodel.default",isViewModel:!0,factoryConfig:{name:"viewModel"},collectTimeout:100,expressionRe:/^(?:\{(?:(\d+)|([a-z_][\w\-\.]*))\})$/i,$configStrict:!1,config:{data:!0,formulas:{$value:null,merge:function(e,t,i,n){return this.mergeNew(e,t,i,n)}},links:null,parent:null,root:!0,scheduler:null,schema:"default",session:null,stores:null,view:null},constructor:function(e){this.bindings={},this.initConfig(e)},destroy:function(){var e,t,i,n=this,r=n._scheduler,o=n.storeInfo,s=n.getParent(),a=n.collectTask,l=n.children,d=n.bindings;if(n.destroying=!0,a&&(a.cancel(),n.collectTask=null),l)for(e in l)l[e].destroy();if(o)for(e in o)((i=(t=o[e]).autoDestroy)||!t.$wasInstance&&!1!==i)&&t.destroy(),Ext.destroy(t.$binding);for(e in s&&s.unregisterChild(n),n.getRoot().destroy(),d)d[e].destroy();r&&r.$owner===n&&(r.$owner=null,r.destroy()),n.children=n.storeInfo=n._session=n._view=n._scheduler=n.bindings=n._root=n._parent=n.formulaFn=n.$formulaData=null,n.destroying=!1,n.callParent()},bind:function(e,t,i,n){var r,o=!0;return i=i||this,n||void 0===e.bindTo||Ext.isString(e)||(e=(n=e).bindTo),Ext.isString(e)?this.expressionRe.test(e)?(e=e.substring(1,e.length-1),r=this.bindExpression(e,t,i,n),o=!1):r=new Ext.app.bind.TemplateBinding(e,this,t,i,n):r=new Ext.app.bind.Multi(e,this,t,i,n),o&&(this.bindings[r.id]=r),r},getSession:function(){var e,t=this._session;return!t&&(e=this.getParent())&&this.setSession(t=e.getSession()),t||null},getStore:function(e){var t,i=this.storeInfo;return i&&(t=i[e]),t||null},linkTo:function(e,t){var i,n,r;-1<e.indexOf(".")&&Ext.raise('Links can only be at the top-level: "'+e+'"'),t.isModel&&(t={type:t.entityName,id:t.id}),r=t.type||t.reference,i=t.create,r?(n=t.id,!t.create&&Ext.isEmpty(n)&&Ext.raise('No id specified. To create a phantom model, specify "create: true" as part of the reference.'),i&&(n=void 0),r=this.getRecord(r,n),Ext.isObject(i)&&(r.set(i),r.commit(),r.phantom=!0),(n=this.getRoot().createStubChild(e)).set(r)):((n=this.getStub(e)).isLinkStub||(e=new Ext.app.bind.LinkStub(this,n.name),n.graft(e),n=e),n.link(t))},notify:function(){var e=this.getScheduler();e.firing||e.notify()},get:function(e){return this.getStub(e).getValue()},set:function(e,t){var i,n;this.getData(),void 0===t&&e&&e.constructor===Object?(n=this.getRoot(),t=e):n=e&&e.indexOf(".")<0?((i={})[e]=t,t=i,this.getRoot()):this.getStub(e),n.set(t)},privates:{registerChild:function(e){var t=this.children;t||(this.children=t={}),t[e.getId()]=e},unregisterChild:function(e){var t=this.children;!this.destroying&&t&&delete t[e.getId()]},getRecord:function(e,t){var i,n=this.getSession(),r=e,o=void 0!==t;return n?i=o?n.getRecord(e,t):n.createRecord(e):(r.$isClass||(r=this.getSchema().getEntity(r))||Ext.raise("Invalid model name: "+e),o?(i=r.createWithId(t)).load():i=new r),i},bindExpression:function(e,t,i,n){return this.getStub(e).bind(t,i,n)},applyScheduler:function(e){return e&&!e.isInstance&&((e=new Ext.util.Scheduler(e)).$owner=this),e},getScheduler:function(){var e,t=this._scheduler;return t||((e=this.getParent())?t=e.getScheduler():(t=new Ext.util.Scheduler({preSort:"kind,-depth"})).$owner=this,this.setScheduler(t)),t},getStub:function(e){var t=this.getRoot();return e?t.getChild(e):t},collect:function(){var e=this.getParent(),t=this.collectTask;e?e.collect():(t=t||(this.collectTask=new Ext.util.DelayedTask(this.doCollect,this)),0===this.collectTimeout?this.doCollect():t.delay(this.collectTimeout))},doCollect:function(){var e,t=this.children;if(t)for(e in t)t[e].doCollect();this.getRoot().collect()},onBindDestroy:function(e,t){this.destroying||(t||delete this.bindings[e.id],(t=this.getParent())?t.onBindDestroy(e,!0):this.collect())},applyData:function(e,t){this.getSession(),t||(t=this.getParent(),this.linkData=t=t?Ext.Object.chain(t.getData()):{},this.data=this._data=Ext.Object.chain(t)),e&&e.constructor===Object&&this.getRoot().set(e)},applyParent:function(e){return e&&e.registerChild(this),e},applyStores:function(e){var t,i,n,r,o=this,s=o.getRoot();for(t in o.storeInfo={},o.listenerScopeFn=function(){return o.getView().getInheritedConfig("defaultListenerScope")},e)(i=e[t]).isStore?(i.$wasInstance=!0,o.setupStore(i,t)):(r=(i=Ext.isString(i)?{source:i}:Ext.apply({},i)).listeners,delete i.listeners,(n=o.bind(i,o.onStoreBind,o,{trackStatics:!0})).isStatic()?(n.destroy(),o.createStore(t,i,r)):(n.$storeKey=t,n.$listeners=r,s.createStubChild(t).setStore(n)))},onStoreBind:function(e,t,i){var n=this.storeInfo,r=i.$storeKey,o=n[r];o?(n=(e=Ext.merge({},i.pruneStaticKeys())).proxy,delete e.type,delete e.model,delete e.fields,delete e.proxy,delete e.listeners,n&&(delete n.reader,delete n.writer,o.getProxy().setConfig(n)),o.setConfig(e)):this.createStore(r,e,i.$listeners,i)},createStore:function(e,t,i,n){var r=this.getSession();(t=Ext.apply({},t)).session&&(t.session=r),t.source&&(t.type=t.type||"chained"),t.listeners=i,t.resolveListenerScope=this.listenerScopeFn,(t=Ext.Factory.store(t)).$binding=n,this.setupStore(t,e)},setupStore:function(e,t){e.resolveListenerScope=this.listenerScopeFn,this.storeInfo[t]=e,this.set(t,e)},applyFormulas:function(e){var t,i=this.getRoot();for(t in this.getData(),e)0<=t.indexOf(".")&&Ext.raise("Formula names cannot contain dots: "+t),i.createStubChild(t),this.getStub(t).setFormula(e[t]);return e},applyLinks:function(e){for(var t in e)this.linkTo(t,e[t])},applySchema:function(e){return Ext.data.schema.Schema.get(e)},applyRoot:function(){var e=new Ext.app.bind.RootStub(this),t=this.getParent();return t&&(e.depth=t.getRoot().depth-1e3),e},getFormulaFn:function(e){var t=this,i=(i=t.formulaFn)||(t.formulaFn=function(e){return t.$formulaData[e]});return t.$formulaData=e,i}}}),Ext.define("Ext.app.domain.Controller",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.app.Controller"],type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){this.callParent(),this.monitor(Ext.app.BaseController)},match:function(e,t){var i=!1,n=e.alias;return"*"===t?i=!0:"#"===t?i=!!e.isApplication:this.idMatchRe.test(t)?i=e.getId()===t.substring(1):n&&(i=-1<Ext.Array.indexOf(n,this.prefix+t)),i}}),Ext.define("Ext.direct.Manager",{singleton:!0,requires:["Ext.util.MixedCollection"],mixins:["Ext.mixin.Observable"],exceptions:{TRANSPORT:"xhr",PARSE:"parse",DATA:"data",LOGIN:"login",SERVER:"exception"},providerClasses:{},remotingMethods:{},config:{varName:"Ext.REMOTING_API"},apiNotFoundError:"Ext Direct API was not found at {0}",constructor:function(){this.mixins.observable.constructor.call(this),this.transactions=new Ext.util.MixedCollection,this.providers=new Ext.util.MixedCollection},addProvider:function(e){var t,i,n=arguments,r=this.relayers||(this.relayers={});if(!(1<n.length))return e.isProvider||(e=Ext.create("direct."+e.type+"provider",e)),this.providers.add(e),e.on("data",this.onProviderData,this),e.relayedEvents&&(r[e.id]=this.relayEvents(e,e.relayedEvents)),e.isConnected()||e.connect(),e;for(t=0,i=n.length;t<i;++t)this.addProvider(n[t])},loadProvider:function(e,t,i){var n,r,o,s,a,l=this.providerClasses;if(Ext.isArray(e))for(s=0,a=e.length;s<a;s++)this.loadProvider(e[s],t,i);else{if(o=e.type,n=e.url,l[o]&&l[o].checkConfig(e))return o=this.addProvider(e),this.fireEventArgs("providerload",[n,o]),void Ext.callback(t,i,[n,o]);r=e.varName||this.getVarName(),delete e.varName,n||Ext.raise("Need API discovery URL to load a Remoting provider!"),delete e.url,Ext.Loader.loadScript({url:n,scope:this,onLoad:function(){this.onApiLoadSuccess({url:n,varName:r,config:e,callback:t,scope:i})},onError:function(){this.onApiLoadFailure({url:n,callback:t,scope:i})}})}},getProvider:function(e){return e.isProvider?e:this.providers.get(e)},removeProvider:function(e){var t,i=this.providers,n=this.relayers;return(e=e.isProvider?e:i.get(e))?(e.un("data",this.onProviderData,this),n[t=e.id]&&(n[t].destroy(),delete n[t]),i.remove(e),e):null},addTransaction:function(e){return this.transactions.add(e),e},removeTransaction:function(e){return e=this.getTransaction(e),this.transactions.remove(e),e},getTransaction:function(e){return"object"==typeof e?e:this.transactions.get(e)},onProviderData:function(e,t){var i,n;if(Ext.isArray(t))for(i=0,n=t.length;i<n;++i)this.onProviderData(e,t[i]);else t.name&&"event"!==t.name&&"exception"!==t.name?this.fireEvent(t.name,t):!1===t.status&&this.fireEvent("exception",t),this.fireEvent("event",t,e)},parseMethod:function(e){var t,i,n,r=Ext.global,o=0;if(Ext.isFunction(e))t=e;else if(Ext.isString(e)&&!(t=this.remotingMethods[e])){for(n=(i=e.split(".")).length;r&&o<n;)r=r[i[o]],++o;t=Ext.isFunction(r)?r:null}return t||null},resolveApi:function(e,t){var i,n,r,o=e&&e.prefix;for(i in o&&"."!==o.substr(o.length-1)&&(o+="."),e)r=e[i],"prefix"!==i&&"function"!=typeof r&&(n=(o||"")+r,"function"==typeof(r=this.parseMethod(n))?e[i]=r:Ext.raise("Cannot resolve Direct API method '"+n+"' for "+i+" action in "+t.$className+" instance with id: "+(null!=t.id?t.id:"unknown")));return e},privates:{addProviderClass:function(e,t){this.providerClasses[e]=t},onApiLoadSuccess:function(options){var me=this,url=options.url,varName=options.varName,api,provider,error;try{api=Ext.apply(options.config,eval(varName)),provider=me.addProvider(api)}catch(e){error=e+""}error?(me.fireEventArgs("providerloaderror",[url,error]),Ext.callback(options.callback,options.scope,[url,error])):(me.fireEventArgs("providerload",[url,provider]),Ext.callback(options.callback,options.scope,[url,provider]))},onApiLoadFailure:function(e){var t=e.url,i=Ext.String.format(this.apiNotFoundError,t);this.fireEventArgs("providerloaderror",[t,i]),Ext.callback(e.callback,e.scope,[t,i])},registerMethod:function(e,t){this.remotingMethods[e]=t},clearAllMethods:function(){this.remotingMethods={}}}},function(){Ext.Direct=Ext.direct.Manager}),Ext.define("Ext.direct.Provider",{alias:"direct.provider",mixins:["Ext.mixin.Observable"],requires:["Ext.direct.Manager"],isProvider:!0,$configPrefixed:!1,$configStrict:!1,config:{headers:void 0},subscribers:0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.requests={},Ext.applyIf(this,{id:Ext.id(null,"provider-")})},destroy:function(){this.disconnect(!0),this.callParent()},isConnected:function(){return 0<this.subscribers},connect:function(){0===this.subscribers&&(this.doConnect(),this.fireEventArgs("connect",[this])),this.subscribers++},doConnect:Ext.emptyFn,disconnect:function(e){(0<this.subscribers||e)&&(e?this.subscribers=0:this.subscribers--,0===this.subscribers&&(this.doDisconnect(),this.fireEventArgs("disconnect",[this])))},doDisconnect:function(){var e,t=this.requests;for(e in t)t[e].abort();this.requests={}},sendAjaxRequest:function(e){e=Ext.Ajax.request(e);return e&&e.id&&(this.requests[e.id]=e),e},onData:function(e,t,i){i&&i.request&&delete this.requests[i.request.id]},inheritableStatics:{checkConfig:Ext.returnFalse},onClassExtended:function(e,t,i){t.type&&Ext.direct.Manager.addProviderClass(t.type,e)}}),Ext.define("Ext.app.domain.Direct",{extend:"Ext.app.EventDomain",singleton:!0,requires:["Ext.direct.Provider"],type:"direct",idProperty:"id",constructor:function(){this.callParent(),this.monitor(Ext.direct.Provider)}}),Ext.define("Ext.data.PageMap",{extend:"Ext.util.LruCache",config:{store:null,pageSize:0,rootProperty:""},clear:function(e){this.pageMapGeneration=(this.pageMapGeneration||0)+1,this.indexMap={},this.callParent([e])},updatePageSize:function(e,t){if(null!=t)throw"pageMap page size may not be changed"},forEach:function(e,t){for(var i,n,r,o,s=Ext.Object.getKeys(this.map),a=s.length,l=this.getPageSize(),d=0;d<a;d++)s[d]=+s[d];for(Ext.Array.sort(s,Ext.Array.numericSortFn),t=t||this,d=0;d<a;d++)for(n=s[d],o=(r=this.getPage(n)).length,i=0;i<o;i++)if(!1===e.call(t,r[i],(n-1)*l+i))return},findBy:function(i,n){var r=null;return n=n||this,this.forEach(function(e,t){if(i.call(n,e,t))return r=e,!1}),r},findIndexBy:function(i,n){var r=-1;return n=n||this,this.forEach(function(e,t){if(i.call(n,e))return r=t,!1}),r},find:function(t,e,i,n,r,o){if(Ext.isEmpty(e,!1))return null;var s=Ext.String.createRegex(e,n,r,o),a=this.getRootProperty();return this.findBy(function(e){return e&&s.test((a?e[a]:e)[t])},null,i)},findIndex:function(t,e,i,n,r,o){if(Ext.isEmpty(e,!1))return null;var s=Ext.String.createRegex(e,n,r,o),a=this.getRootProperty();return this.findIndexBy(function(e){return e&&s.test((a?e[a]:e)[t])},null,i)},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},addAll:function(e){this.getCount()&&Ext.raise("Cannot addAll to a non-empty PageMap"),this.addPage(1,e)},addPage:function(e,t){for(var i,n,r,o=this.getPageSize(),s=e+Math.floor((t.length-1)/o),a=(e-1)*o,l=this.indexMap,d=0;e<=s;e++,d+=o){for(n=0,r=(i=Ext.Array.slice(t,d,d+o)).length;n<r;n++)l[i[n].internalId]=a++;this.add(e,i),this.fireEvent("pageadd",this,e,i)}},getCount:function(){var e=this.callParent();return e=e&&(e-1)*this.getPageSize()+this.last.value.length},getByInternalId:function(e){e=this.indexMap[e];if(null!=e)return this.getAt(e)},indexOf:function(e){var t=-1;return e&&null==(t=this.indexMap[e.internalId])&&(t=-1),t},insert:function(){Ext.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(e){var t,i,n,r=this.getPage(e);if(r&&!1!==this.fireEvent("beforepageremove",this,e,r)){for(t=r.length,i=0;i<t;i++)delete this.indexMap[r[i].internalId];n=this.callParent(arguments),this.fireEvent("pageremove",this,e,r),r.length=0}return n},getPage:function(e){return this.get(e)},hasRange:function(e,t){for(var i=this.getPageFromRecordIndex(e),n=this.getPageFromRecordIndex(t);i<=n;i++)if(!this.hasPage(i))return!1;return(n-1)*this._pageSize+this.getPage(n).length>t},hasPage:function(e){return!!this.get(e)},peekPage:function(e){return this.map[e]},getAt:function(e){return this.getRange(e,e+1)[0]},getRange:function(e,t){t--,this.hasRange(e,t)||Ext.raise("PageMap asked for range which it does not have");for(var i,n,r,o=Ext.Array,s=this.getPageSize(),a=this.getPageFromRecordIndex(e),l=this.getPageFromRecordIndex(t),d=(a-1)*s,c=l*s-1,u=a,h=[];u<=l;u++)r=u===a?0<(i=e-d):(i=0,!1),u===l&&(n=s-(c-t),r=r||n<s),r?o.push(h,o.slice(this.getPage(u),i,n)):o.push(h,this.getPage(u));return h}}),Ext.define("Ext.data.BufferedStore",{extend:"Ext.data.ProxyStore",alias:"store.buffered",requires:["Ext.data.PageMap","Ext.util.Filter","Ext.util.Sorter","Ext.util.Grouper"],uses:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.util.GroupCollection"],isBufferedStore:!0,buffered:!0,config:{data:0,pageSize:25,remoteSort:!0,remoteFilter:!0,sortOnLoad:!1,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0,trackRemoved:!1},applyData:function(e){var t=this.data||(this.data=this.createDataCollection());return e&&!0!==e&&Ext.raise("Cannot load a buffered store with local data - the store is a map of remote data"),t},applyProxy:function(e){return(e=this.callParent([e]))&&e.setEnablePaging&&e.setEnablePaging(!0),e},applyAutoSort:function(){},createFiltersCollection:function(){return new Ext.util.FilterCollection},createSortersCollection:function(){return new Ext.util.SorterCollection},updateRemoteFilter:function(e,t){!1===e&&Ext.raise("Buffered stores are always remotely filtered."),this.callParent([e,t])},updateRemoteSort:function(e,t){!1===e&&Ext.raise("Buffered stores are always remotely sorted."),this.callParent([e,t])},updateTrackRemoved:function(e){!1!==e&&Ext.raise("Cannot use trackRemoved with a buffered store."),this.callParent(arguments)},updateGroupField:function(e){this.group(e)},getGrouper:function(){return this.grouper},isGrouped:function(){return!!this.grouper},createDataCollection:function(){var e=new Ext.data.PageMap({store:this,rootProperty:"data",pageSize:this.getPageSize(),maxSize:this.getPurgePageCount(),listeners:{clear:this.onPageMapClear,scope:this}});return this.relayEvents(e,["beforepageremove","pageadd","pageremove"]),this.pageRequests={},e},add:function(){Ext.raise("add method may not be called on a buffered store - the store is a map of remote data")},insert:function(){Ext.raise("insert method may not be called on a buffered store - the store is a map of remote data")},removeAll:function(e){var t=this.getData();t&&(e&&this.suspendEvent("clear"),t.clear(),e&&this.resumeEvent("clear"))},flushLoad:function(){var e=this.pendingLoadOptions;if(this.clearLoadTask(),e)return this.getData().clear(),e.page=1,e.start=0,e.limit=this.getViewSize()||this.getDefaultViewSize(),e.loadCallback=e.callback,e.callback=null,this.loadToPrefetch(e)},reload:function(e){var i,n,t,r,o,s,a,l=this,d=l.getData(),c=Number.MAX_VALUE;if(e=e||{},!l.loading&&!1!==l.fireEvent("beforeload",l,e))for(o=function(){var e=l.totalCount,t=n-i;e<=n&&(n=e-1,i=Math.max(n-t,0)),l.rangeCached(i,n,!1)&&(l.loadCount=(l.loadCount||0)+1,l.loading=!1,d.un("pageadd",o),a=d.getRange(i,n),l.fireEvent("load",l,a,!0),l.fireEvent("refresh",l))},s=Math.ceil((l.getLeadingBufferZone()+l.getTrailingBufferZone())/2),l.lastRequestStart&&l.preserveScrollOnReload?(i=l.lastRequestStart,n=l.lastRequestEnd,c=l.getTotalCount()):(i=e.start||0,n=i+(e.count||l.getPageSize())-1),d.clear(!0),delete l.totalCount,i=Math.max(i-s,0),n=Math.min(n+s,c),i=0===i?0:i-1,n=n===c?n:n+1,c=l.getPageFromRecordIndex(i),t=l.getPageFromRecordIndex(n),l.loading=!0,e.waitForReload=o,d.on("pageadd",o),r=c;r<=t;r++)l.prefetchPage(r,e)},filter:function(){this.getRemoteFilter()||Ext.raise("Local filtering may not be used on a buffered store - the store is a map of remote data"),this.callParent(arguments)},filterBy:function(e,t){Ext.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(e,t){Ext.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},loadPage:function(e,t){return(t=t||{}).page=this.currentPage=e,t.start=(e-1)*this.getPageSize(),t.limit=this.getViewSize()||this.getDefaultViewSize(),t.loadCallback=t.callback,t.callback=null,this.loadToPrefetch(t)},clearData:function(e){var t=this.getData();t&&t.clear()},getCount:function(){return this.totalCount||0},getRange:function(n,r,o){var s,e,a,l,d=this,t=d.totalCount-1,i=d.lastRequestStart,c=[],u=d.getData();return o=Ext.apply({prefetchStart:n,prefetchEnd:r},o),r=r>=d.totalCount?t:r,t=!1!==o.forRender?(e=0===n?0:n-1,r===t?r:r+1):(e=n,r),d.lastRequestStart=n,d.lastRequestEnd=r,d.rangeCached(n,r,o.forRender)?(d.onRangeAvailable(o),c=u.getRange(n,r+1)):(d.fireEvent("cachemiss",d,n,r),a=d.getPageFromRecordIndex(e),l=d.getPageFromRecordIndex(t),s=function(e,t,i){a<=t&&t<=l&&d.rangeCached(n,r)&&(d.fireEvent("cachefilled",d,n,r),u.un("pageadd",s),d.onRangeAvailable(o))},u.on("pageadd",s),d.prefetchRange(n,r)),d.primeCache(n,r,n<i?-1:1),c},getById:function(t){return this.data.findBy(function(e){return e.getId()===t})},getAt:function(e){var t=this.getData();if(t.hasRange(e,e))return t.getAt(e)},getByInternalId:function(e){return this.data.getByInternalId(e)},contains:function(e){return-1<this.indexOf(e)},indexOf:function(e){return this.getData().indexOf(e)},indexOfId:function(e){return this.indexOf(this.getById(e))},group:function(e,t){var i,n=this;e&&"string"==typeof e?(i=n.grouper)&&void 0!==t?i.setDirection(t):n.grouper=new Ext.util.Grouper({property:e,direction:t||"ASC",root:"data"}):n.grouper=e?n.getSorters().decodeSorter(e,"Ext.util.Grouper"):null,n.getData().clear(),n.loadPage(1,{callback:function(){n.fireEvent("groupchange",n,n.getGrouper())}})},getPageFromRecordIndex:function(e){return Math.floor(e/this.getPageSize())+1},calculatePageCacheSize:function(e){var t=this.getPurgePageCount();return t?Math.max(this.getData().getMaxSize()||0,2*Math.ceil((e+this.getTrailingBufferZone()+this.getLeadingBufferZone())/this.getPageSize())+t):0},loadToPrefetch:function(e){function r(){t=t||[],e.loadCallback&&e.loadCallback.call(e.scope||d,t,l,!0),e.callback&&e.callback.call(e.scope||d,t,i||0,n||0,e)}function o(){d.loadCount=(d.loadCount||0)+1,d.fireEvent("datachanged",d),d.fireEvent("refresh",d),d.fireEvent("load",d,t,!0)}var s,t,a,l,d=this,c=e,i=e.start,n=e.start+e.limit-1,u=d.getViewSize()||e.limit,h=Math.min(n,e.start+u-1),f=d.getPageFromRecordIndex(Math.max(i-d.getTrailingBufferZone(),0)),g=d.getPageFromRecordIndex(n+d.getLeadingBufferZone()),p=d.getData(),m=function(){d.rangeCached(i,h)&&(d.loading=!1,t=p.getRange(i,h+1),p.un("pageadd",m),d.hasListeners.guaranteedrange&&d.guaranteeRange(i,h,e.callback,e.scope),r(),o())};!isNaN(d.pageSize)&&d.pageSize||Ext.raise("Buffered store configured without a pageSize",d),p.setMaxSize(d.calculatePageCacheSize(u)),!1!==d.fireEvent("beforeload",d,e)&&(delete d.totalCount,d.loading=!0,e.callback&&delete(c=Ext.apply({},e)).callback,d.on("prefetch",function(e,t,i,n){if(l=n,i)if(a=d.getTotalCount())for(p.on("pageadd",m),h=Math.min(h,a-1),g=d.getPageFromRecordIndex(Math.min(h+d.getLeadingBufferZone(),a-1)),s=f+1;s<=g;++s)d.prefetchPage(s,c);else r(),o();else d.loading=!1,r(),d.fireEvent("load",d,t,!1)},null,{single:!0}),d.prefetchPage(f,c))},prefetch:function(e){var t=this,i=t.getPageSize(),n=t.getData();return i?(t.lastPageSize&&i!=t.lastPageSize&&Ext.raise("pageSize cannot be dynamically altered"),n.getPageSize()||n.setPageSize(i)):t.pageSize=n.setPageSize(i=e.limit),t.lastPageSize=i,e.page||(e.page=t.getPageFromRecordIndex(e.start),e.start=(e.page-1)*i,e.limit=Math.ceil(e.limit/i)*i),(i=t.pageRequests[e.page])&&i.getOperation().pageMapGeneration===n.pageMapGeneration||(e=Ext.apply({action:"read",filters:t.getFilters().items,sorters:t.getSorters().items,grouper:t.getGrouper(),internalCallback:t.onProxyPrefetch,internalScope:t},e),(i=t.createOperation("read",e)).pageMapGeneration=n.pageMapGeneration,!1!==t.fireEvent("beforeprefetch",t,i)&&(t.pageRequests[e.page]=i.execute(),t.getProxy().isSynchronous&&delete t.pageRequests[e.page])),t},onPageMapClear:function(){var e,t=this,i=t.wasLoading,n=t.pageRequests,r=t.getData();for(e in r.clearListeners(),r.on("clear",t.onPageMapClear,t),t.relayEvents(r,["beforepageremove","pageadd","pageremove"]),t.loading=!0,t.totalCount=0,n)n.hasOwnProperty(e)&&n[e].getOperation().abort();t.fireEvent("clear",t),t.loading=i},prefetchPage:function(e,t){var i=this.getPageSize(),n=(e-1)*i,r=this.totalCount;void 0!==r&&this.data.getCount()===r||this.prefetch(Ext.applyIf({page:e,start:n,limit:i},t))},onProxyPrefetch:function(e){if(!this.destroying&&!this.destroyed){var t,i,n=this,r=e.getResultSet(),o=e.getRecords(),s=e.wasSuccessful(),a=e.getPage(),l=e.waitForReload,d=n.totalCount,c=n.pageRequests;if(e.pageMapGeneration===n.getData().pageMapGeneration){if(r&&(n.totalCount=r.getTotal(),n.totalCount!==d&&n.fireEvent("totalcountchange",n.totalCount)),void 0!==a&&delete n.pageRequests[a],n.loading=!1,n.fireEvent("prefetch",n,o,s,e),s)if(0===n.totalCount){if(l){for(t in c)(i=c[t].getOperation()).waitForReload===l&&delete i.waitForReload;n.getData().un("pageadd",l),n.fireEvent("load",n,[],!0),n.fireEvent("refresh",n)}}else n.cachePage(o,e.getPage());Ext.callback(e.getCallback(),e.getScope()||n,[o,e,s])}}},cachePage:function(e,t){var i,n=e.length;for(Ext.isDefined(this.totalCount)||(this.totalCount=e.length,this.fireEvent("totalcountchange",this.totalCount)),i=0;i<n;i++)e[i].join(this);this.getData().addPage(t,e)},rangeCached:function(e,t,i){var n=e,r=t;return!1!==i&&(n=0===e?0:e-1,r=t===this.totalCount-1?t:t+1),this.getData().hasRange(n,r)},pageCached:function(e){return this.getData().hasPage(e)},pagePending:function(e){return!!this.pageRequests[e]},rangeSatisfied:function(e,t){return this.rangeCached(e,t)},onRangeAvailable:function(e){var t=this.getTotalCount(),i=e.prefetchStart,n=e.prefetchEnd>t-1?t-1:e.prefetchEnd;(n=Math.max(0,n))<i&&Ext.log({level:"warn",msg:"Start ("+i+") was greater than end ("+n+") for the range of records requested ("+i+"-"+e.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")}),t=this.getData().getRange(i,n+1),!1!==e.fireEvent&&this.fireEvent("guaranteedrange",t,i,n,e),e.callback&&e.callback.call(e.scope||this,t,i,n,e)},guaranteeRange:function(e,t,i,n,r){r=Ext.apply({callback:i,scope:n},r),this.getRange(e,t+1,r)},prefetchRange:function(e,t){var i,n,r,o=this.getData();if(!this.rangeCached(e,t))for(i=this.getPageFromRecordIndex(e),n=this.getPageFromRecordIndex(t),o.setMaxSize(this.calculatePageCacheSize(t-e+1)),r=i;r<=n;r++)this.pageCached(r)||this.prefetchPage(r)},primeCache:function(e,t,i){var n=this.getLeadingBufferZone(),r=this.getTrailingBufferZone(),o=this.getPageSize(),s=this.totalCount;t=-1===i?(e=Math.max(e-n,0),Math.min(t+r,s-1)):1===i?(e=Math.max(Math.min(e-r,s-o),0),Math.min(t+n,s-1)):(e=Math.min(Math.max(Math.floor(e-(n+r)/2),0),s-this.pageSize),Math.min(Math.max(Math.ceil(t+(n+r)/2),0),s-1)),this.prefetchRange(e,t)},sort:function(e,t,i){0===arguments.length?this.clearAndLoad():this.getSorters().addSort(e,t,i)},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange();t.length?(e.fireEvent("beforesort",e,t),e.clearAndLoad({callback:function(){e.fireEvent("sort",e,t)}})):e.fireEvent("sort",e,t)},clearAndLoad:function(e){this.clearing=!0,this.getData().clear(),this.clearing=!1,this.loadPage(1,e)},privates:{isLast:function(e){return this.indexOf(e)===this.getTotalCount()-1},isMoving:function(){return!1}}}),Ext.define("Ext.data.proxy.Direct",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.DirectProxy",alias:"proxy.direct",requires:["Ext.direct.Manager"],config:{paramOrder:void 0,paramsAsHash:!0,directFn:void 0,api:void 0,metadata:void 0},paramOrderRe:/[\s,|]/,constructor:function(e){this.callParent([e]),this.canceledOperations={}},applyParamOrder:function(e){return Ext.isString(e)&&(e=e.split(this.paramOrderRe)),e},updateApi:function(){this.methodsResolved=!1},updateDirectFn:function(){this.methodsResolved=!1},resolveMethods:function(){var e,t=this.getDirectFn(),i=this.getApi();t&&(this.setDirectFn(e=Ext.direct.Manager.parseMethod(t)),Ext.isFunction(e)||Ext.raise("Cannot resolve directFn "+t)),i&&(i=Ext.direct.Manager.resolveApi(i,this),this.setApi(i)),this.methodsResolved=!0},doRequest:function(e){var t,i,n,r,o=this;return o.methodsResolved||o.resolveMethods(),i=(t=o.buildRequest(e)).getAction(),(n=o.getApi())&&(r=n[i]),(r=r||o.getDirectFn())&&r.directCfg||Ext.raise({msg:'No Ext Direct function specified for Direct proxy "'+i+'" operation',proxy:o}),!o.paramOrder&&1<r.directCfg.method.len&&Ext.raise({msg:'Incorrect parameters for Direct proxy "'+i+'" operation',proxy:o}),(n=o.getWriter())&&e.allowWrite()&&(t=n.write(t)),i="read"===i?t.getParams():t.getJsonData(),o=r.directCfg.method.getArgs({params:i,allowSingle:n.getAllowSingle(),paramOrder:o.getParamOrder(),paramsAsHash:o.getParamsAsHash(),paramsAsArray:!0,metadata:o.getMetadata(),callback:o.createRequestCallback(t,e),scope:o}),t.setConfig({args:o,directFn:r}),r.apply(window,o),t},abort:function(e){var t;e&&e.isDataRequest&&(e=e.getOperation()),e&&e.isOperation&&(t=e.id),null!=t&&(this.canceledOperations[t]=!0)},applyEncoding:Ext.identityFn,createRequestCallback:function(i,n){var r=this;return function(e,t){r.canceledOperations[n.id]||r.processResponse(t.status,n,i,t),delete r.canceledOperations[n.id]}},extractResponseData:function(e){return Ext.isDefined(e.result)?e.result:e.data},setException:function(e,t){e.setException(t.message)},buildUrl:function(){return""}}),Ext.define("Ext.data.DirectStore",{extend:"Ext.data.Store",alias:"store.direct",requires:["Ext.data.proxy.Direct"],constructor:function(e){var t;(e=Ext.apply({},e)).proxy||(t={type:"direct",reader:{type:"json"}},Ext.copyTo(t,e,"paramOrder,paramsAsHash,directFn,api,simpleSortMode,extraParams"),Ext.copyTo(t.reader,e,"totalProperty,root,rootProperty,idProperty"),e.proxy=t),this.callParent([e])}}),Ext.define("Ext.data.JsonP",{singleton:!0,requestCount:0,requests:{},timeout:3e4,disableCaching:!0,disableCachingParam:"_dc",callbackKey:"callback",request:function(e){(e=Ext.apply({},e)).url||Ext.raise("A url must be specified for a JSONP request.");var t=this,i=(Ext.isDefined(e.disableCaching)?e:t).disableCaching,n=e.disableCachingParam||t.disableCachingParam,r=++t.requestCount,o=e.callbackName||"callback"+r,s=e.callbackKey||t.callbackKey,a=(Ext.isDefined(e.timeout)?e:t).timeout,l=Ext.apply({},e.params),d=e.url,c=Ext.name;return i&&!l[n]&&(l[n]=Ext.Date.now()),(e.params=l)[s]=c+".data.JsonP."+o,c=t.createScript(d,l,e),t.requests[r]=s={url:d,params:l,script:c,id:r,scope:e.scope,success:e.success,failure:e.failure,callback:e.callback,callbackKey:s,callbackName:o},0<a&&(s.timeout=Ext.defer(t.handleTimeout,a,t,[s])),t.setupErrorHandling(s),t[o]=Ext.bind(t.handleResponse,t,[s],!0),t.loadScript(s),s},abort:function(e){var t,i=this.requests;if(e)e.id||(e=i[e]),this.handleAbort(e);else for(t in i)i.hasOwnProperty(t)&&this.abort(i[t])},setupErrorHandling:function(e){e.script.onerror=Ext.bind(this.handleError,this,[e])},handleAbort:function(e){e.errorType="abort",this.handleResponse(null,e)},handleError:function(e){e.errorType="error",this.handleResponse(null,e)},cleanupErrorHandling:function(e){e.script.onerror=null},handleTimeout:function(e){e.errorType="timeout",this.handleResponse(null,e)},handleResponse:function(e,t){var i=!0,n=Ext.GlobalEvents;t.timeout&&clearTimeout(t.timeout),delete this[t.callbackName],delete this.requests[t.id],this.cleanupErrorHandling(t),Ext.fly(t.script).destroy(),t.errorType?(i=!1,Ext.callback(t.failure,t.scope,[t.errorType])):Ext.callback(t.success,t.scope,[e]),Ext.callback(t.callback,t.scope,[i,e,t.errorType]),n.hasListeners.idle&&n.fireEvent("idle")},createScript:function(e,t,i){var n=document.createElement("script");return n.setAttribute("src",Ext.urlAppend(e,Ext.Object.toQueryString(t))),n.setAttribute("async",!0),n.setAttribute("type","text/javascript"),n},loadScript:function(e){Ext.getHead().appendChild(e.script)}}),Ext.define("Ext.data.proxy.JsonP",{extend:"Ext.data.proxy.Server",alternateClassName:"Ext.data.ScriptTagProxy",alias:["proxy.jsonp","proxy.scripttag"],requires:["Ext.data.JsonP"],config:{callbackKey:"callback",recordParam:"records",autoAppendParams:!0},doRequest:function(e){var t=this.buildRequest(e),i=t.getParams();return t.setConfig({callbackKey:this.callbackKey,timeout:this.timeout,scope:this,disableCaching:!1,callback:this.createRequestCallback(t,e)}),this.getAutoAppendParams()&&t.setParams({}),t.setRawRequest(Ext.data.JsonP.request(t.getCurrentConfig())),t.setParams(i),this.lastRequest=t},createRequestCallback:function(n,r){var o=this;return function(e,t,i){n===o.lastRequest&&(o.lastRequest=null),o.processResponse(e,r,n,t)}},setException:function(e,t){e.setException(e.getRequest().getRawRequest().errorType)},buildUrl:function(e){var t,i,n,r,o,s=this.callParent(arguments),a=e.getRecords(),l=this.getWriter();if(l&&e.getOperation().allowWrite()&&(e=l.write(e)),i=(t=e.getParams()).filters,delete t.filters,i&&i.length)for(r=0;r<i.length;r++)(o=(n=i[r]).getValue())&&(t[n.getProperty()]=o);return!(Ext.isArray(a)&&0<a.length)||l&&l.getEncode()||(t[this.getRecordParam()]=this.encodeRecords(a)),this.getAutoAppendParams()&&(s=Ext.urlAppend(s,Ext.Object.toQueryString(t))),s},abort:function(e){(e=e||this.lastRequest)&&Ext.data.JsonP.abort(e.getRawRequest())},encodeRecords:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t.push(Ext.encode(e[i].getData()));return t}}),Ext.define("Ext.data.JsonPStore",{extend:"Ext.data.Store",alias:"store.jsonp",requires:["Ext.data.proxy.JsonP","Ext.data.reader.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"jsonp",reader:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.JsonStore",{extend:"Ext.data.Store",alias:"store.json",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Json","Ext.data.writer.Json"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"json",writer:"json"}},e),this.callParent([e])}}),Ext.define("Ext.data.ModelManager",{alternateClassName:"Ext.ModelMgr",requires:["Ext.data.schema.Schema"],singleton:!0,deprecated:{5:{methods:{clear:null,create:function(e,t,i){var n=t;return n.isEntity||(n=this.getModel(t||e.name)),n.createWithId(i,e)},each:function(e,t){Ext.data.Model.schema.eachEntity(e,t)},get:function(e){return this.getModel(e)},getCount:function(){return Ext.data.Model.schema.entityCount},getModel:function(e){return Ext.data.schema.Schema.lookupEntity(e)},isRegistered:function(e){return!!this.getModel(e)}}}}}),Ext.define("Ext.data.NodeInterface",{requires:["Ext.data.field.Boolean","Ext.data.field.Integer","Ext.data.field.String","Ext.data.writer.Json","Ext.mixin.Observable"],statics:{decorate:function(e){var t=Ext.data.schema.Schema.lookupEntity(e),i=t.prototype;t.prototype.isObservable||t.mixin(Ext.mixin.Observable.prototype.mixinId,Ext.mixin.Observable),i.isNode||(e=i.idProperty,e=(i=t.getField(e)).type,t.override(this.getPrototypeBody()),t.addFields([{name:"parentId",type:e,defaultValue:null,allowNull:i.allowNull},{name:"index",type:"int",defaultValue:-1,persist:!1,convert:null},{name:"depth",type:"int",defaultValue:0,persist:!1,convert:null},{name:"expanded",type:"bool",defaultValue:!1,persist:!1,convert:null},{name:"expandable",type:"bool",defaultValue:!0,persist:!1,convert:null},{name:"checked",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"leaf",type:"bool",defaultValue:!1},{name:"cls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"iconCls",type:"string",defaultValue:"",persist:!1,convert:null},{name:"icon",type:"string",defaultValue:"",persist:!1,convert:null},{name:"glyph",type:"string",defaultValue:"",persist:!1,convert:null},{name:"root",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isLast",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"isFirst",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"allowDrop",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"allowDrag",type:"boolean",defaultValue:!0,persist:!1,convert:null},{name:"loaded",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"loading",type:"boolean",defaultValue:!1,persist:!1,convert:null},{name:"href",type:"string",defaultValue:"",persist:!1,convert:null},{name:"hrefTarget",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtip",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qtitle",type:"string",defaultValue:"",persist:!1,convert:null},{name:"qshowDelay",type:"int",defaultValue:0,persist:!1,convert:null},{name:"children",type:"auto",defaultValue:null,persist:!1,convert:null},{name:"visible",type:"boolean",defaultValue:!0,persist:!1},{name:"text",type:"string",persist:!1}]))},getPrototypeBody:function(){var o={idchanged:!0,append:!0,remove:!0,move:!0,insert:!0,beforeappend:!0,beforeremove:!0,beforemove:!0,beforeinsert:!0,expand:!0,collapse:!0,beforeexpand:!0,beforecollapse:!0,sort:!0},h={silent:!0};return{isNode:!0,firstChild:null,lastChild:null,parentNode:null,previousSibling:null,nextSibling:null,constructor:function(){return this.mixins.observable.constructor.call(this),this.callParent(arguments),this.childNodes=[],this},createNode:function(e){var t,i,n=this.childType,r=this.self;return e.isModel||(n?r=this.schema.getEntity(n):(n=(t=this.getTreeStore())&&t.getProxy().getReader(),t=(t=this.getProxy())?t.getReader():null,(n=!n||t&&t.initialConfig.typeProperty?t:n)&&(i=n.getTypeProperty())&&(r=n.getChildType(this.schema,e,i))),e=new r(e)),e.childNodes||(e.firstChild=e.lastChild=e.parentNode=e.previousSibling=e.nextSibling=null,e.childNodes=[]),e},isLeaf:function(){return!0===this.get("leaf")},setFirstChild:function(e){this.firstChild=e},setLastChild:function(e){this.lastChild=e},updateInfo:function(e,t){var i=this.phantom;if(e={silent:!0,commit:e},t.depth!==this.data.depth)for(var n={depth:this.data.depth+1},r=this.childNodes,o=r.length,s=0;s<o;s++)r[s].set(n);return e=this.set(t,e),this.phantom=i,e},isLast:function(){return this.get("isLast")},isFirst:function(){return this.get("isFirst")},hasChildNodes:function(){return!this.isLeaf()&&0<this.childNodes.length},isExpandable:function(){return!!this.get("expandable")&&!(this.isLeaf()||this.isLoaded()&&!this.phantom&&!this.hasChildNodes())},triggerUIUpdate:function(){this.callJoined("afterEdit",[])},appendChild:function(e,t,i){var n,r,o,s,a,l,d=this,c={isLast:!0,parentId:d.getId(),depth:(d.data.depth||0)+1},u=d.getTreeStore(),h=(u&&u.triStateCheckbox,u&&u.bulkUpdate);if(Ext.suspendLayouts(),Ext.isArray(e)){for(r=e.length,l=new Array(r),d.callTreeStore("beginFill"),n=0;n<r;n++)l[n]=d.appendChild(e[n],t,i);d.callTreeStore("endFill",[l])}else{if(e=d.createNode(e),!0!==t&&!1===d.fireBubbledEvent("beforeappend",[d,e]))return Ext.resumeLayouts(!0),!1;if(o=d.childNodes.length,s=e.parentNode){if(!0!==t&&!1===e.fireBubbledEvent("beforemove",[e,s,d,o]))return Ext.resumeLayouts(!0),!1;if(!1===s.removeChild(e,!1,t,s.getTreeStore()===u))return Ext.resumeLayouts(!0),!1}u&&u.beginUpdate(),0===(o=d.childNodes.length)&&d.setFirstChild(e),(d.childNodes[o]=e).parentNode=d,e.nextSibling=null,d.setLastChild(e),(a=d.childNodes[o-1])?((e.previousSibling=a).nextSibling=e,a.updateInfo(i,{isLast:!1}),h||a.triggerUIUpdate()):e.previousSibling=null,c.isFirst=0===o,c.index=o,c=e.updateInfo(i,c),d.isLeaf()&&d.set("leaf",!1),d.isLoaded()?1!==d.childNodes.length||h||d.triggerUIUpdate():h?d.data.loaded=!0:d.set("loaded",!0),o&&d.childNodes[o-1].isExpanded()&&!h&&d.childNodes[o-1].cascade(d.triggerUIUpdate),u&&(u.registerNode(d,!h),h&&u.registerNode(e)),!0!==t&&(d.fireBubbledEvent("append",[d,e,o]),s&&e.fireBubbledEvent("move",[e,s,d,o])),d.callTreeStore("onNodeAppend",[e,o]),c&&e.callJoined("afterEdit",[c]),l=e,u&&u.endUpdate()}return Ext.resumeLayouts(!0),l},getOwnerTree:function(){var e=this.getTreeStore();if(e)return e.ownerTree},getTreeStore:function(){for(var e=this;e&&!e.treeStore;)e=e.parentNode;return e&&e.treeStore},removeChild:function(e,t,i,n){var r,o,s,a=this,l=a.indexOf(e),d=a.getTreeStore(),c=d&&d.bulkUpdate,u=[];if(-1===l||!0!==i&&!1===a.fireBubbledEvent("beforeremove",[a,e,!!n]))return!1;if(Ext.suspendLayouts(),d&&d.beginUpdate(),Ext.Array.erase(a.childNodes,l,1),a.firstChild===e&&a.setFirstChild(e.nextSibling),a.lastChild===e&&a.setLastChild(e.previousSibling),(s=e.previousSibling)&&(e.previousSibling.nextSibling=e.nextSibling),e.nextSibling)for(e.nextSibling.previousSibling=e.previousSibling,0===l&&e.nextSibling.updateInfo(!1,{isFirst:!0}),r=l,o=a.childNodes.length;r<o;r++)a.childNodes[r].updateInfo(!1,{index:r});else s&&(s.updateInfo(!1,{isLast:!0}),c||(s.isExpanded()?s.cascade(a.triggerUIUpdate):s.triggerUIUpdate()));return a.childNodes.length||c||a.triggerUIUpdate(),Ext.resumeLayouts(!0),!0!==i&&(i={parentNode:e.parentNode,previousSibling:e.previousSibling,nextSibling:e.nextSibling},a.callTreeStore("beforeNodeRemove",[[e],!!n,u]),e.previousSibling=e.nextSibling=e.parentNode=null,a.fireBubbledEvent("remove",[a,e,!!n,i]),a.callTreeStore("onNodeRemove",[[e],!!n,u])),t?e.erase(!0):e.clear(),n||e.set({parentId:null,lastParentId:a.getId()},h),d&&d.endUpdate(),e},copy:function(e,t,i){var n,r,o=[e],s=this.childNodes?this.childNodes.length:0;if(t&&t.isSession?o.push(t):arguments.length<3&&(i=t),n=this.callParent(o),i)for(r=0;r<s;r++)n.appendChild(this.childNodes[r].copy(void 0,!0));return n},clear:function(e,t){var i=this;i.parentNode=i.previousSibling=i.nextSibling=null,e&&(i.firstChild=i.lastChild=i.childNodes=null),t&&(i.firstChild=i.lastChild=null,i.childNodes.length=0,i.data&&(i.data.children=null))},drop:function(){var e,t,i,n=this.childNodes,r=this.parentNode,o=this.getTreeStore();for(this.callParent(),r?r.removeChild(this):this.get("root")&&o.setRoot(null),o&&o.beginUpdate(),t=0,e=n?n.length:0;t<e;t++)(i=n[t]).clear(),i.drop();o&&o.endUpdate()},erase:function(e){var t,i,n=this.childNodes,r=n&&n.length;for(this.remove(),this.clear(!0),this.callParent([e]),t=0;t<r;t++)(i=n[t]).parentNode=null,i.erase(e)},insertBefore:function(e,t,i){var n,r,o,s,a=this,l=a.indexOf(t),d=e.parentNode,c=l,u=a.getTreeStore(),h=u&&u.bulkUpdate;if(!t)return a.appendChild(e);if(e===t)return!1;if(e=a.createNode(e),!0!==i&&!1===a.fireBubbledEvent("beforeinsert",[a,e,t]))return!1;if(d===a&&a.indexOf(e)<l&&c--,d){if(!0!==i&&!1===e.fireBubbledEvent("beforemove",[e,d,a,l,t]))return!1;if(!1===d.removeChild(e,!1,i,d.getTreeStore()===u))return!1}for(u&&u.beginUpdate(),0===c&&a.setFirstChild(e),Ext.Array.splice(a.childNodes,c,0,e),e.parentNode=a,(e.nextSibling=t).previousSibling=e,(l=a.childNodes[c-1])?(e.previousSibling=l).nextSibling=e:e.previousSibling=null,l=e.updateInfo(!1,{parentId:a.getId(),index:c,isFirst:0===c,isLast:!1,depth:(a.data.depth||0)+1}),r=c+1,n=a.childNodes.length;r<n;r++)(s=(o=a.childNodes[r]).updateInfo(!1,{index:r}))&&o.callJoined("afterEdit",[s]);return a.isLoaded()?1!==a.childNodes.length||h||a.triggerUIUpdate():h?a.data.loaded=!0:a.set("loaded",!0),u&&u.registerNode(a,!h),!0!==i&&(a.fireBubbledEvent("insert",[a,e,t]),d&&e.fireBubbledEvent("move",[e,d,a,c,t])),a.callTreeStore("onNodeInsert",[e,c]),l&&e.callJoined("afterEdit",[l]),u&&u.endUpdate(),e},insertChild:function(e,t){e=this.childNodes[e];return e?this.insertBefore(t,e):this.appendChild(t)},isLastVisible:function(){var e=this.data.isLast,t=this.nextSibling;if(e||!this.getTreeStore().isFiltered())return e;for(;t;){if(t.data.visible)return!1;t=t.nextSibling}return!0},remove:function(e,t){var i=this.parentNode;return i?i.removeChild(this,e,t):e&&this.erase(!0),this},removeAll:function(e,t,i){var n,r,o,s=this,a=s.childNodes,l=a.length,d=[];if(l){for(i||(r=s.getTreeStore())&&(r.beginUpdate(),r.suspendEvent("remove"),s.callTreeStore("beforeNodeRemove",[a,!1,d])),o=0;o<l;++o)(n=a[o]).previousSibling=n.nextSibling=n.parentNode=null,s.fireBubbledEvent("remove",[s,n,!1]),e?n.erase(!0):n.removeAll(!1,t,!0);return!i&&r&&(r.resumeEvent("remove"),s.callTreeStore("onNodeRemove",[a,!1,d]),r.endUpdate()),s.firstChild=s.lastChild=null,a.length=0,i||s.triggerUIUpdate(),s}},getChildAt:function(e){return this.childNodes[e]},replaceChild:function(e,t,i){var n=t?t.nextSibling:null;return this.removeChild(t,!1,i),this.insertBefore(e,n,i),t},indexOf:function(e){return Ext.Array.indexOf(this.childNodes,e)},indexOfId:function(e){for(var t=this.childNodes,i=t.length,n=0;n<i;++n)if(t[n].getId()===e)return n;return-1},getPath:function(e,t){e=e||this.idProperty,t=t||"/";for(var i=[this.get(e)],n=this.parentNode;n;)i.unshift(n.get(e)),n=n.parentNode;return t+i.join(t)},getDepth:function(){return this.get("depth")},bubble:function(e,t,i){for(var n=this;n&&!1!==e.apply(t||n,i||[n]);)n=n.parentNode},cascade:function(e,t,i,n){if(1!==arguments.length||Ext.isFunction(e)||(n=e.after,t=e.scope,i=e.args,e=e.before),!e||!1!==e.apply(t||this,i||[this])){for(var r=this.childNodes,o=r.length,s=0;s<o;s++)r[s].cascade.call(r[s],e,t,i,n);n&&n.apply(t||this,i||[this])}},cascadeBy:function(){return this.cascade.apply(this,arguments)},eachChild:function(e,t,i){for(var n=this.childNodes,r=n.length,o=0;o<r&&!1!==e.apply(t||this,i||[n[o]]);o++);},findChild:function(e,t,i){return this.findChildBy(function(){return this.get(e)==t},null,i)},findChildBy:function(e,t,i){for(var n,r,o=this.childNodes,s=o.length,a=0;a<s;a++){if(n=o[a],!0===e.call(t||n,n))return n;if(i&&null!==(r=n.findChildBy(e,t,i)))return r}return null},contains:function(e){return e.isAncestor(this)},isAncestor:function(e){for(var t=this.parentNode;t;){if(t===e)return!0;t=t.parentNode}return!1},sort:function(e,t,i){var n,r,o=this.childNodes,s=o.length,a={isFirst:!0};if(0<s){for(e=e||this.getTreeStore().getSortFn(),Ext.Array.sort(o,e),this.setFirstChild(o[0]),this.setLastChild(o[s-1]),n=0;n<s;n++)(r=o[n]).previousSibling=o[n-1],r.nextSibling=o[n+1],a.isLast=n===s-1,a.index=n,r.updateInfo(!1,a),a.isFirst=!1,t&&!r.isLeaf()&&r.sort(e,!0,!0);!0!==i&&(this.fireBubbledEvent("sort",[this,o]),this.callTreeStore("onNodeSort",[o]))}},isExpanded:function(){return this.get("expanded")},isLoaded:function(){return this.get("loaded")},isBranchLoaded:function(){var t=!this.isLeaf()&&this.isLoaded();return t&&this.cascade(function(e){return e.isLeaf()||(t=t||e.isBranchLoaded()),t}),t},isLoading:function(){return this.get("loading")},isRoot:function(){return!this.parentNode},isVisible:function(){for(var e=this.parentNode;e;){if(!e.isExpanded())return!1;e=e.parentNode}return!0},expand:function(e,t,i){var n,r,o=this;o.isLeaf()?Ext.callback(t,i||o):o.isLoading()?o.on("expand",function(){o.expand(e,t,i)},o,{single:!0}):o.isExpanded()?e?o.expandChildren(!0,t,i):Ext.callback(t,i||o,[o.childNodes]):!1!==o.fireBubbledEvent("beforeexpand",[o])&&(e&&(o.parentNode&&o.parentNode.isSynchronousRecursiveExpand?o.isSynchronousRecursiveExpand=!0:((n=o.getTreeStore()).getProxy().isSynchronous||o.isBranchLoaded())&&(o.isSynchronousRecursiveExpand=!0,n.suspendEvent("add","datachanged"),r=!0)),o.callTreeStore("onBeforeNodeExpand",[o.onChildNodesAvailable,o,[e,t,i]]),r&&(n.resumeEvent("add","datachanged"),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)),o.isSynchronousRecursiveExpand=!1)},onChildNodesAvailable:function(e,t,i,n){var r,o,s,a=this,l=a.getTreeStore(),d=l&&l.bulkUpdate;for(Ext.suspendLayouts(),r=a.parentNode;r;r=r.parentNode)r.isExpanded()||(s=s||[]).unshift(r);if(d||!l.isVisible(a)?a.data.expanded=!0:a.set("expanded",!0),s){for(o=1;o<s.length;o++)r=s[o],d||!l.isVisible(r)?r.data.expanded=!0:r.set("expanded",!0);for(s[0].expand(),o=1;o<s.length;o++)(r=s[o]).fireBubbledEvent("expand",[r,r.childNodes])}else a.callTreeStore("onNodeExpand",[e,!1]);a.fireBubbledEvent("expand",[a,e]),t?a.expandChildren(!0,i,n):Ext.callback(i,n||a,[a.childNodes]),Ext.resumeLayouts(!0)},expandChildren:function(e,t,i,n){var r,o,s,a,l,d;for(Ext.isBoolean(t)&&(d=t,t=i,i=n,n=d),void 0===n&&(n=(d=this.getTreeStore())&&d.singleExpand),o=this.childNodes,s=[],a=n?Math.min(o.length,1):o.length,r=0;r<a;++r)(l=o[r]).isLeaf()||(s[s.length]=l);for(a=s.length,r=0;r<a;++r)s[r].expand(e);t&&Ext.callback(t,i||this,[this.childNodes])},collapse:function(e,t,i){var n,r=this,o=r.isExpanded(),s=r.getTreeStore(),a=s&&s.bulkUpdate,l=r.childNodes.length;if(!r.isLeaf()&&(!o&&e||!1!==r.fireBubbledEvent("beforecollapse",[r]))){if(Ext.suspendLayouts(),r.isExpanded())t=e?(o=function(){for(n=0;n<l;n++)r.childNodes[n].setCollapsed(!0)},t?Ext.Function.createSequence(o,Ext.Function.bind(t,i,[r.childNodes])):o):t&&Ext.Function.bind(t,i,[r.childNodes]),a||!s.contains(r)?r.data.expanded=!1:r.set("expanded",!1),r.callTreeStore("onNodeCollapse",[r.childNodes,t,i]),r.fireBubbledEvent("collapse",[r,r.childNodes]),t=null;else if(e)for(n=0;n<l;n++)r.childNodes[n].setCollapsed(!0);Ext.resumeLayouts(!0)}Ext.callback(t,i||r,[r.childNodes])},setCollapsed:function(e){var t,i=this.childNodes.length;if(!this.isLeaf()&&!1!==this.fireBubbledEvent("beforecollapse",[this])&&(this.data.expanded=!1,this.fireBubbledEvent("collapse",[this,this.childNodes]),e))for(t=0;t<i;t++)this.childNodes[t].setCollapsed(!0)},collapseChildren:function(e,t,i){for(var n,r=this.childNodes,o=r.length,s=[],a=0;a<o;++a)!(n=r[a]).isLeaf()&&n.isLoaded()&&n.isExpanded()&&s.push(n);if(o=s.length)for(a=0;a<o;++a)n=s[a],a===o-1?n.collapse(e,t,i):n.collapse(e);else Ext.callback(t,i)},fireEvent:function(e){return this.fireBubbledEvent(e,Ext.Array.slice(arguments,1))},fireBubbledEvent:function(e,t){var i,n,r;if(o[e]){for(n=this;!1!==i&&n;n=(r=n).parentNode)i=n.fireEventArgs.call(n,e,t);return!1!==i&&(n=r.getTreeStore())&&n.hasListeners&&n.hasListeners[e="node"+e]&&(i=n.fireEventArgs(e,t)),i}return this.fireEventArgs.apply(this,arguments)},serialize:function(e){var t,i,n=e||new Ext.data.writer.Json({writeAllFields:!0}),e=n.getRecordData(this),r=this.childNodes,o=r.length;if(0<o)for(e.children=t=[],i=0;i<o;i++)t.push(r[i].serialize(n));return e},callTreeStore:function(e,t){var i=this.getTreeStore(),e=i&&i[e];i&&e&&((t=t||[])[0]!==this&&t.unshift(this),e.apply(i,t))},addCls:function(e){this.replaceCls(null,e)},removeCls:function(e){this.replaceCls(e)},replaceCls:function(e,t){var i=this._parseCls(this.data.cls),e=this._parseCls(e);e.length&&(i=Ext.Array.difference(i,e)),(e=this._parseCls(t)).length&&(i=Ext.Array.unique(i.concat(e))),this.set("cls",i.join(" "))},toggleCls:function(e,t){if(void 0===t){for(var i,n=this._parseCls(this.data.cls),r=this._parseCls(e),o=r.length,s=0;s<o;++s)i=r[s],Ext.Array.contains(n,i)?Ext.Array.remove(n,i):n.push(i);this.set("cls",n.join(" "))}else t?this.addCls(e):this.removeCls(e)},privates:{_noCls:[],spacesRe:/\s+/,join:function(e){e.isTreeStore?this.isRoot()&&(this.treeStore=this.store=e):this.callParent([e])},callJoined:function(e,t){this.callParent([e,t]),this.callTreeStore(e,t)},_parseCls:function(e){return e?"string"==typeof e?e.split(this.spacesRe):e:this._noCls}}}}}}),Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:!0,query:function(e){return e=e||"*",Ext.ComponentQuery.query(e,this.getQueryRoot())},queryBy:function(e,t){for(var i,n=[],r=this.getQueryRoot().getRefItems(!0),o=0,s=r.length;o<s;++o)i=r[o],!1!==e.call(t||i,i)&&n.push(i);return n},queryById:function(e){return this.down(Ext.makeIdSelector(e))},child:function(e){var t=this.getQueryRoot().getRefItems();return e&&e.isComponent?this.matchById(t,e.getItemId()):(e&&(t=Ext.ComponentQuery.query(e,t)),t.length?t[0]:null)},down:function(e){return e&&e.isComponent?this.matchById(this.getRefItems(!0),e.getItemId()):(e=e||"",this.query(e)[0]||null)},visitPreOrder:function(e,t,i,n){Ext.ComponentQuery._visit(!0,e,this.getQueryRoot(),t,i,n)},visitPostOrder:function(e,t,i,n){Ext.ComponentQuery._visit(!1,e,this.getQueryRoot(),t,i,n)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(e,t){for(var i,n=e.length,r=0;r<n;++r)if((i=e[r]).getItemId()===t)return i;return null}}}),Ext.define("Ext.data.TreeModel",{extend:"Ext.data.Model",requires:["Ext.data.NodeInterface"],mixins:["Ext.mixin.Queryable"],getRefItems:function(){return this.childNodes},getRefOwner:function(){return this.parentNode},statics:{defaultProxy:"memory"}},function(){Ext.data.NodeInterface.decorate(this)}),Ext.define("Ext.data.NodeStore",{extend:"Ext.data.Store",alias:"store.node",requires:["Ext.data.TreeModel","Ext.data.NodeInterface"],isNodeStore:!0,config:{node:null,recursive:!1,rootVisible:!1,folderSort:!1},implicitModel:"Ext.data.TreeModel",getTotalCount:function(){return this.getCount()},updateFolderSort:function(e){var t=this.getData();t.setTrackGroups(!1),e?t.setGrouper({groupFn:this.folderSortFn}):t.setGrouper(null)},folderSortFn:function(e){return e.data.leaf?1:0},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t=t||null,this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},onNodeAppend:function(e,t){e===this.getNode()&&this.add([t].concat(this.retrieveChildNodes(t)))},onNodeInsert:function(e,t,i){e===this.getNode()&&(this.indexOf(i),this.insert(0,[t].concat(this.retrieveChildNodes(t))))},onNodeRemove:function(e,t){e===this.getNode()&&this.remove([t].concat(this.retrieveChildNodes(t)))},onNodeExpand:function(e,t){e===this.getNode()&&this.loadRecords(t)},applyNode:function(e){return e&&(e.isModel||(e=new(this.getModel())(e)),e.isNode||Ext.data.NodeInterface.decorate(e)),e},updateNode:function(e,t){var i=this;t&&!t.destroyed&&(t.un({append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove",scope:i}),t.unjoin(i)),e&&(e.on({scope:i,append:"onNodeAppend",insert:"onNodeInsert",remove:"onNodeRemove"}),e.join(i),t=[],e.childNodes.length&&(t=t.concat(i.retrieveChildNodes(e))),i.getRootVisible()?t.push(e):(e.isLoaded()||e.isLoading())&&e.set("expanded",!0),i.getData().clear(),i.fireEvent("clear",i),i.suspendEvents(),i.isInitializing?i.inlineData=t:i.add(t),i.resumeEvents(),0===t.length&&(i.loaded=e.loaded=!0),i.fireEvent("refresh",i,i.data))},isVisible:function(e){var t=e.parentNode;if(!this.getRecursive()&&t!==this.getNode())return!1;for(;t;){if(!t.isExpanded())return!1;if(t===this.getNode())break;t=t.parentNode}return!0},privates:{retrieveChildNodes:function(e){var t=this.getNode(),i=this.getRecursive(),n=[],r=e;if(!e.childNodes.length||!i&&e!==t)return n;if(!i)return e.childNodes;for(;r;)if(r._added){if(delete r._added,r===e)break;r=r.nextSibling||r.parentNode}else r!==e&&n.push(r),r=r.firstChild?(r._added=!0,r.firstChild):r.nextSibling||r.parentNode;return n}}}),Ext.define("Ext.data.Request",{isDataRequest:!0,config:{action:void 0,params:void 0,method:"GET",url:null,operation:null,proxy:null,disableCaching:!1,headers:{},callbackKey:null,rawRequest:null,jsonData:void 0,xmlData:void 0,withCredentials:!1,username:null,password:null,binary:!1,callback:null,scope:null,timeout:3e4,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(e){this.initConfig(e)},getParam:function(e){var t=this.getParams();if(t)return t[e]},setParam:function(e,t){var i=this.getParams()||{};i[e]=t,this.setParams(i)}}),Ext.define("Ext.data.TreeStore",{extend:"Ext.data.Store",alias:"store.tree",requires:["Ext.util.Sorter","Ext.data.TreeModel","Ext.data.NodeInterface"],isTreeStore:!0,config:{root:null,rootVisible:!1,defaultRootProperty:"children",parentIdProperty:null,clearOnLoad:!0,clearRemovedOnLoad:!0,nodeParam:"node",defaultRootId:"root",defaultRootText:"Root",folderSort:!1,pageSize:null},filterer:"topdown",lazyFill:!1,fillCount:0,bulkUpdate:0,nodesToUnregister:0,_silentOptions:{silent:!0},implicitModel:"Ext.data.TreeModel",constructor:function(e){this.byIdMap={},this.callParent([e]),Ext.isDefined(this.nodeParameter)&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.data.TreeStore: nodeParameter has been deprecated. Please use nodeParam instead."),this.nodeParam=this.nodeParameter,delete this.nodeParameter)},applyFields:function(e,t){e&&this.defaultRootProperty!==this.self.prototype.config.defaultRootProperty&&(e=e.concat({name:this.defaultRootProperty,type:"auto",defaultValue:null,persist:!1})),this.callParent([e,t])},onSorterEndUpdate:function(){var e=this,t=e.getSorters().getRange(),i=e.getRoot(),n=e.getFolderSort();e.fireEvent("beforesort",e,t),i&&(n||t.length)?e.getRemoteSort()?t.length&&e.load({callback:function(){e.fireEvent("sort",e,t)}}):(i.sort(this.getSortFn(),!0),e.fireEvent("datachanged",e),e.fireEvent("refresh",e),e.fireEvent("sort",e,t)):e.fireEvent("sort",e,t)},updateFolderSort:function(e){this.needsFolderSort=e,this.onSorterEndUpdate()},getSortFn:function(){return this._sortFn||(this._sortFn=this.createSortFn())},createSortFn:function(){var n=this,r=this.sorters.getSortFn();return function(e,t){var i=0;return n.needsFolderSort&&(i=(e.data.leaf?1:0)-(t.data.leaf?1:0)),n.needsIndexSort&&0===i&&(i=e.data.index-t.data.index),i||r(e,t)}},getTotalCount:function(){return this.getCount()},afterEdit:function(e,t){var i,n=this,r=e.parentNode,o=n.getRootVisible(),s=!r&&!o,o=e.get("visible");s||o===n.contains(e)?n.getRoot()&&n.needsLocalFilter()&&n.onFilterEndUpdate(n.getFilters()):o?r&&!n.isVisible(e)||(i=[e],e.isExpanded()&&n.handleNodeExpand(e,e.childNodes,i),r=e.previousSibling?n.indexOfPreviousVisibleNode(e.previousSibling):r?n.indexOf(r):-1,n.insert(r+1,i)):(i=n.indexOf(e),n.removeAt(i,n.indexOfNextVisibleNode(e)-i)),n.callParent([e,t])},afterReject:function(e){this.contains(e)&&(this.onUpdate(e,Ext.data.Model.REJECT,null),this.fireEvent("update",this,e,Ext.data.Model.REJECT,null))},afterCommit:function(e,t){t=t||null,this.contains(e)&&(this.onUpdate(e,Ext.data.Model.COMMIT,t),this.fireEvent("update",this,e,Ext.data.Model.COMMIT,t))},updateRootVisible:function(e){var t,i=this.getRoot();i&&(t=this.getData(),e?t.insert(0,i):t.remove(i))},updateTrackRemoved:function(e){this.callParent(arguments),this.removedNodes=this.removed,this.removed=null},onDestroyRecords:function(e,t,i){i&&(this.removedNodes.length=0)},updateProxy:function(e){e&&(e.setIdParam&&e.setIdParam(this.getNodeParam()),e=e.getReader(),Ext.isEmpty(e.getRootProperty())&&e.setRootProperty(this.getDefaultRootProperty()))},setProxy:function(e){this.changingProxy=!0,this.callParent([e]),this.changingProxy=!1},updateModel:function(e){var t;e&&(t=e.prototype.isNode,Ext.data.NodeInterface.decorate(e),t||this.changingProxy||this.getProxy().getReader().buildExtractors(!0))},onCollectionFilter:Ext.emptyFn,onFilterEndUpdate:function(e){var t,i,n,r,o=this,s=e.length,a=o.getRoot();if(o.getRemoteFilter())o.callParent([e]);else{if(s?o.doFilter(a):a.cascade({after:function(e){e.set("visible",!0,o._silentOptions)}}),s)for(n=[],r=0,s=(t=a.childNodes).length;r<s;r++)(i=t[r]).get("visible")&&n.push(i);else n=a.childNodes;o.onNodeFilter(a,n),a.fireEvent("filterchange",a,n),o.suppressNextFilter=!0,o.callParent([e]),o.suppressNextFilter=!1}},onNodeFilter:function(e,t){var i=this,n=i.getData(),r=[];i.getRootVisible()&&e.get("visible")&&r.push(e),i.handleNodeExpand(e,t,r),i.suspendEvents(),n.splice(0,n.getCount(),r),i.resumeEvents(),i.suppressNextFilter||(i.fireEvent("datachanged",i),i.fireEvent("refresh",i))},onBeforeNodeExpand:function(e,t,i,n){var r,o,s,a=this;e.isLoaded()?(s=[e.childNodes],n&&s.push.apply(s,n),Ext.callback(t,i||e,s)):e.isLoading()?a.on("load",function(){s=[e.childNodes],n&&s.push.apply(s,n),Ext.callback(t,i||e,s)},a,{single:!0,priority:1001}):(o=a.getProxy().getReader(),(o=(r=(r=(r=e.getProxy())?r.getReader():null)&&r.initialConfig.rootProperty?r:o).getRoot(e.raw||e.data))||e.phantom&&!e.isRoot()?(o&&a.fillNode(e,r.extractData(o,{model:e.childType,recordCreator:a.recordCreator})),s=[e.childNodes],n&&s.push.apply(s,n),Ext.callback(t,i||e,s)):(a.read({node:e,onChildNodesAvailable:function(){delete a.lastOptions.onChildNodesAvailable,s=[e.childNodes],n&&s.push.apply(s,n),Ext.callback(t,i||e,s)}}),a.flushLoad()))},onNodeExpand:function(e,t){var i=this.indexOf(e)+1,n=[];this.handleNodeExpand(e,t,n),this.refreshCounter||!e.isRoot()||e.get("visible")?this.insert(i,n):this.loadRecords(n)},handleNodeExpand:function(e,t,i){var n,r,o=t?t.length:0;if((e===this.getRoot()||this.isVisible(e))&&o)for(n=0;n<o;n++)(r=t[n]).get("visible")&&(i.push(r),r.isExpanded()&&(r.isLoaded()?this.handleNodeExpand(r,r.childNodes,i):(r.set("expanded",!1),r.expand())))},onNodeCollapse:function(e,t,i,n){var r=this.indexOf(e)+1;this.needsLocalFilter()&&(t=Ext.Array.filter(t,this.filterVisible)),t.length&&this.isVisible(e)&&(e=this.indexOfNextVisibleNode(e),this.removeAt(r,e-r)),Ext.callback(i,n)},indexOfNextVisibleNode:function(e){for(var t;e.parentNode;){for(t=e.nextSibling;t&&!t.get("visible");t=t.nextSibling);if(t)return this.indexOf(t);e=e.parentNode}return this.getCount()},indexOfPreviousVisibleNode:function(e){for(var t=e;t&&!t.get("visible");t=t.previousSibling);if(t){if(t.isExpanded()&&t.lastChild)return this.indexOfPreviousVisibleNode(t.lastChild)}else t=e.parentNode;return this.indexOf(t)},filterNew:function(e){return!e.get("root")&&this.callParent([e])},filterRejects:function(e){return!e.get("root")&&this.callParent([e])},getNewRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterNew,this)},getRejectRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterRejects,this)},getUpdatedRecords:function(){return Ext.Array.filter(Ext.Object.getValues(this.byIdMap),this.filterUpdated)},beforeNodeRemove:function(e,t,i,n){Ext.isArray(t)||(t=[t]);for(var r,o=this,s=t.length,a=o.removedNodes,l=0;!r&&l<s;l++)t[l].get("visible")&&(r=t[l]);for(r?(n[0]=o.indexOf(t[0]),n[1]=o.indexOfNextVisibleNode(t[t.length-1])-n[0]):(n[0]=-1,n[1]=0),l=0;l<s;l++)t[l].cascade(function(e){o.unregisterNode(e,!0),a&&!i&&(e.phantom||e.erasing||o.loading||(e.removedFrom=o.indexOf(e),a.push(e),o.needsSync=!0))})},afterDrop:Ext.emptyFn,onNodeRemove:function(e,t,i,n){this.suspendAutoSync(),-1!==n[0]&&(this.removeIsMove=i,this.removeAt.apply(this,n),this.removeIsMove=!1),this.resumeAutoSync()},onNodeAppend:function(e,t,i){this.onNodeInsert(e,t,i)},onNodeInsert:function(e,t,i){var n,r=this,o=t.raw||t.data,s=r.removedNodes;e&&r.needsLocalFilter()&&r.doFilter(e),r.beginUpdate(),r.isVisible(t)&&(n=0!==i&&t.previousSibling?r.indexOfPreviousVisibleNode(t.previousSibling):r.indexOf(e),r.insert(n+1,t),!t.isLeaf()&&t.isExpanded()&&(t.isLoaded()?r.onNodeExpand(t,t.childNodes):r.fillCount||(t.set("expanded",!1),t.expand()))),Ext.Array.remove(s,t),r.needsSync=r.needsSync||t.phantom||t.dirty,t.isLeaf()||t.isLoaded()||r.lazyFill||(n=r.getProxy().getReader(),(o=(n=(s=(s=t.getProxy())?s.getReader():null)&&s.initialConfig.rootProperty?s:n).getRoot(o))&&r.fillNode(t,n.extractData(o,{model:t.childType,recordCreator:r.recordCreator}))),r.endUpdate()},registerNode:function(e,t){var i,n,r,o=this.byIdMap[e.id];if((this.byIdMap[e.id]=e).onRegisterTreeNode&&e!==o&&e.onRegisterTreeNode(this),e.onUnregisterTreeNode&&this.nodesToUnregister++,!0===t)for(n=(i=e.childNodes).length,r=0;r<n;r++)this.registerNode(i[r],!0)},unregisterNode:function(e,t){var i,n,r,o=this.byIdMap[e.id];if(delete this.byIdMap[e.id],!0===t)for(n=(i=e.childNodes).length,r=0;r<n;r++)this.unregisterNode(i[r],!0);e.onUnregisterTreeNode&&e===o&&(e.onUnregisterTreeNode(this),this.nodesToUnregister--)},onNodeSort:function(e,t){this.suspendAutoSync(),(-1!==this.indexOf(e)&&e.isExpanded()||e===this.getRoot()&&!this.getRootVisible())&&(Ext.suspendLayouts(),this.onNodeCollapse(e,t),this.onNodeExpand(e,t),Ext.resumeLayouts(!0)),this.resumeAutoSync(this.autoSync)},applyRoot:function(e){var t=this.getModel(),i=t.prototype.idProperty,n=this.getDefaultRootId();return e&&!e.isNode&&(e=Ext.apply({text:this.getDefaultRootText(),root:!0,isFirst:!0,isLast:!0,depth:0,index:0,parentId:null,allowDrag:!1},e),n&&void 0===e[i]&&(e[i]=n),e=new t(e)),e},updateRoot:function(e,t){var i,n=this,r=!t,o=[];if(n.getTrackRemoved(),n.suspendEvent("add","remove"),t&&t.isModel&&(i=n.getRootVisible()?[t]:t.childNodes,n.beforeNodeRemove(null,i,!1,o),t.set("root",!1),n.onNodeRemove(null,i,!1,o),t.fireEvent("remove",null,t,!1),t.fireEvent("rootchange",null),t.clearListeners(),t.store=t.treeStore=null,n.unregisterNode(t)),n.getData().clear(),e)if(!1===e.fireEventArgs("beforeappend",[null,e]))e=null;else{if(o=e.parentNode){if(!o.removeChild(e,!1,!1,o.getTreeStore()===n))return}else(o=e.getTreeStore())&&o!==n&&e===o.getRoot()&&o.setRoot(null);e.store=e.treeStore=n,e.set("root",!0),e.updateInfo(!0,{isFirst:!0,isLast:!0,depth:0,index:0,parentId:null}),n.registerNode(e,!0),e.fireEvent("append",null,e,!1),e.fireEvent("rootchange",e),n.onNodeAppend(null,e,0),e.phantom=!0}n.fireEvent("rootchange",e,t),e&&(n.getAutoLoad()||e.isExpanded())?e.isLoaded()?(n.onNodeExpand(e,e.childNodes),n.fireEvent("datachanged",n),n.fireEvent("refresh",n)):(e.data.expanded=!1,e.expand(!1),e.isLoaded&&!n.getProxy().isSynchronous&&(n.fireEvent("datachanged",n),n.fireEvent("refresh",n))):r||(n.fireEvent("datachanged",n),n.fireEvent("refresh",n)),n.resumeEvent("add","remove")},doDestroy:function(){var t=this,e=t.getRoot();e&&t.nodesToUnregister&&e.cascade(function(e){e.onUnregisterTreeNode&&e.onUnregisterTreeNode(t)}),t.callParent()},each:function(t,i,n){var e,r=0;if(n&&"object"==typeof n&&(e=n.collapsed,n=n.filtered),!e)return this.callParent([t,i,n]);this.getRoot().cascade(function(e){if(!0===n||e.get("visible"))return t.call(i||e,e,r++)})},collect:function(t,i,n){var r,o,s,a={},l=[];return i&&"object"==typeof i&&(r=i.collapsed,n=i.filtered,i=i.allowNull),r||n?this.getRoot().cascade(function(e){if(!0!==n&&!e.get("visible")||(s=e.get(t),o=String(s),!i&&Ext.isEmpty(s)||a[o]||(a[o]=1,l.push(s))),!r&&!e.isExpanded())return!1}):l=this.callParent([t,i,n]),l},getNodeById:function(e){return this.byIdMap[e]||null},findNode:function(t,e,i,n,r){if(Ext.isEmpty(e,!1))return null;if(t===this.model.idProperty&&arguments.length<3)return this.byIdMap[e];var o=Ext.String.createRegex(e,i,n,r),s=null;return Ext.Object.eachValue(this.byIdMap,function(e){if(e&&o.test(e.get(t)))return s=e,!1}),s},load:function(e){var t=e&&e.node;if(!t&!(t=this.getRoot()))t=this.setRoot({expanded:!0});else if(!t.isLoading())return this.callParent([e])},reload:function(e){e=Ext.apply({},e,this.lastOptions);return e.node=this.getRoot(),this.load(e)},flushLoad:function(){var n,r,o,e,t,i=this,s=i.pendingLoadOptions,a=i.getClearOnLoad();if(i.clearLoadTask(),s)return e=(n=s.node||i.getRoot())&&n.isRoot(),r=s.callback,o=s.scope,s.params=s.params||{},n.data.expanded&&!e&&(n.data.loaded=!1,a&&(n.data.expanded=!1),s.callback=function(e,t,i){a||n.collapse(),n.expand(),Ext.callback(r,o,[e,t,i])}),s.id=n.getId(),i.setLoadOptions(s),i.getRemoteSort()&&s.sorters&&i.fireEvent("beforesort",i,s.sorters),s=Ext.apply({node:s.node||n,internalScope:i,internalCallback:i.onProxyLoad},s),i.lastOptions=Ext.apply({},s),s.isRootLoad=e,s=i.createOperation("read",s),!1!==i.fireEvent("beforeload",i,s)&&(i.loading=!0,e?(i.getClearRemovedOnLoad()&&(i.removedNodes.length=0),a&&(i.unregisterNode(n,!0),n.clear(!1,!0),i.registerNode(n),t=!0)):(i.getTrackRemoved()&&i.getClearRemovedOnLoad()&&i.clearRemoved(n),a&&n.removeAll(!1)),i.loading&&n&&n.set("loading",!0),t&&(i.clearData(!0),i.getRootVisible()&&(i.suspendEvents(),i.add(n),i.resumeEvents())),s.execute()),i},onProxyLoad:function(e){var t=this,i=e.initialConfig,n=e.wasSuccessful(),r=e.getRecords(),o=i.node,s=i.isRootLoad,a=e.getScope()||t,l=[r,e,n];t.destroyed||(t.loading=!1,o.set("loading",!1),n&&(++t.loadCount,t.getClearOnLoad()||(r=t.cleanRecords(o,r)),t.getParentIdProperty()&&(r=t.treeify(o,r)),s&&t.suspendEvent("add","update"),r=t.fillNode(o,r)),Ext.callback(i.onChildNodesAvailable,a,l),s&&(t.resumeEvent("add","update"),t.callObservers("BeforePopulate"),t.fireEvent("datachanged",t),t.fireEvent("refresh",t),t.callObservers("AfterPopulate")),t.fireEvent("load",t,r,n,e,o))},clearRemoved:function(e){var t,i,n,r=this.removedNodes,o=e.getId(),s=r.length,a=s,l={},d=[],c={};if(e!==this.getRoot()){for(;a--;)c[(t=r[a]).getId()]=t;for(a=s;a--;){for(i=t=r[a];i&&i.getId()!==o;)n=i.get("parentId")||i.get("lastParentId"),i=i.parentNode||this.getNodeById(n)||c[n];i&&(l[t.getId()]=t)}for(a=0;a<s;a++)l[(t=r[a]).getId()]||d.push(t);this.removedNodes=d}else this.removedNodes.length=0},fillNode:function(e,t){var i=t?t.length:0;return 1==++this.bulkUpdate&&this.suspendEvent("datachanged"),i&&this.setupNodes(t),1===this.bulkUpdate?e.set("loaded",!0):e.data.loaded=!0,t.length&&e.appendChild(t,void 0,!0),--this.bulkUpdate||this.resumeEvent("datachanged"),t},setupNodes:function(e){var t,i,n,r=this,o=r.getSorters(),s=!1,a=e.length,o=r.sortOnLoad&&1<a&&!r.getRemoteSort()&&r.getFolderSort()||o.length,l=r.needsLocalFilter();for(l&&r.doFilter(e[0]),n=1;n<a;n++)t=e[n],i=e[n-1],l&&r.doFilter(t),s=t.data.index!==i.data.index;o?(r.needsIndexSort=!0,Ext.Array.sort(e,r.getSortFn()),r.needsIndexSort=!1):s&&Ext.Array.sort(e,r.sortByIndex)},beginFill:function(){this.fillCount++||(this.beginUpdate(),this.suspendEvent("add","update"),this.suspendAutoSync(),this.fillArray=[])},endFill:function(e,t){var i,n,r,o=this.fillArray;if(o.push(t),!--this.fillCount){for(this.resumeAutoSync(),this.resumeEvent("add","update"),i=0,n=o.length;i<n;i++)-1!==(r=this.indexOf(o[i][0]))&&this.fireEvent("add",this,o[i],r);this.fillArray=null,this.endUpdate()}},sortByIndex:function(e,t){return e.data.index-t.data.index},onIdChanged:function(e,t,i){var n,r=e.childNodes,o=r&&r.length;for(this.callParent(arguments),delete this.byIdMap[t],this.byIdMap[i]=e,n=0;n<o;n++)r[n].set("parentId",i)},treeify:function(e,t){for(var i,n,r,o,s=e.getId(),a=this.getParentIdProperty(),l=t.length,d=[],c={},u=0;u<l;u++)(i=t[u]).data.depth=1,c[i.id]=i;for(u=0;u<l;u++)!(n=(i=t[u]).data[a])&&0!==n||n===s?d.push(i):(c[n]||Ext.raise('Ext.data.TreeStore, Invalid parentId "'+n+'"'),(n=c[n]).$children=n.$children||[],n.$children.push(i),i.data.depth=n.data.depth+1);for(r in c)(o=(i=c[r]).$children)&&(delete i.$children,this.setupNodes(o),i.appendChild(o)),this.registerNode(i);return this.setupNodes(d),d},cleanRecords:function(e,t){for(var i,n={},r=e.childNodes,o=0,s=r.length,a=[];o<s;++o)n[r[o].getId()]=!0;for(o=0,s=t.length;o<s;++o)n[(i=t[o]).getId()]||a.push(i);return a},removeAll:function(){this.suspendEvents(),this.setRoot(null),this.resumeEvents(),this.callParent()},doSort:function(e){var t=this;t.getRemoteSort()?t.load():(t.tree.sort(e,!0),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)),t.fireEvent("sort",t,t.sorters.getRange())},filterVisible:function(e){return e.get("visible")},isVisible:function(e){for(var t=e.parentNode,i=e.data.visible,n=this.getRoot();i&&t;)i=t.data.expanded&&t.data.visible,t=t.parentNode;return i&&!(e===n&&!this.getRootVisible())},commitChanges:function(){var e=this.removedNodes;e&&(e.length=0),this.callParent()},getRootNode:function(){return this.getRoot()},setRootNode:function(e){return this.setRoot(e),this.getRoot()},privates:{fireChangeEvent:function(e){return!!this.byIdMap[e.id]},getRawRemovedRecords:function(){return this.removedNodes},createOperation:function(e,t){var i,n=t.node;return this.useModelProxy&&n&&n!==this.getRootNode()&&(i=n.getProxy()),i&&i!==this.getProxy()?i.createOperation(e,t):this.callParent([e,t])},recordCreator:function(e,t){return new t(e)},doFilter:function(e){this.filterNodes(e,this.getFilters().getFilterFn(),!0)},filterNodes:function(e,t,i){var n,r,o="bottomup"===this.filterer,s=t(e)&&i||e.isRoot()&&!this.getRootVisible(),a=e.childNodes,l=a&&a.length;if(l){for(n=0;n<l;++n)r=this.filterNodes(a[n],t,s||o)||r;o&&(s=r||s)}return e.set("visible",s,this._silentOptions),s},needsLocalFilter:function(){return!this.getRemoteFilter()&&this.getFilters().length},onRemoteFilterSet:function(e,t){this.getData().setFilters(null),e&&e.on("endupdate",this.onFilterEndUpdate,this)},onRemoteSortSet:function(e,t){this.getData().setSorters(null),e&&e.on("endupdate",this.onSorterEndUpdate,this)}},deprecated:{5:{properties:{tree:null}}}}),Ext.define("Ext.data.Types",{singleton:!0,requires:["Ext.data.SortTypes"]},function(t){var e=Ext.data.SortTypes;Ext.apply(t,{stripRe:/[\$,%]/g,AUTO:{sortType:e.none,type:"auto"},STRING:{convert:function(e){var t=this.getAllowNull()?null:"";return null==e?t:String(e)},sortType:e.asUCString,type:"string"},INT:{convert:function(e){return"number"==typeof e?parseInt(e,10):null!=e&&""!==e?parseInt(String(e).replace(t.stripRe,""),10):this.getAllowNull()?null:0},sortType:e.none,type:"int"},FLOAT:{convert:function(e){return"number"==typeof e?e:null!=e&&""!==e?parseFloat(String(e).replace(t.stripRe,""),10):this.getAllowNull()?null:0},sortType:e.none,type:"float"},BOOL:{convert:function(e){return"boolean"==typeof e?e:!this.getAllowNull()||null!=e&&""!==e?"true"===e||1==e:null},sortType:e.none,type:"bool"},DATE:{convert:function(e){var t=this.getDateReadFormat()||this.getDateFormat();return e?e instanceof Date?e:t?Ext.Date.parse(e,t):(e=Date.parse(e))?new Date(e):null:null},sortType:e.asDate,type:"date"}}),t.BOOLEAN=t.BOOL,t.INTEGER=t.INT,t.NUMBER=t.FLOAT}),Ext.define("Ext.data.Validation",{extend:"Ext.data.Model",isValidation:!0,syncGeneration:0,attach:function(e){this.record=e,this.isBase=e.self===Ext.data.Model,delete this.data.id},getValidation:function(){return null},isValid:function(){return this.syncGeneration!==this.record.generation&&this.refresh(),!this.dirty},refresh:function(e){if(!this.isBase){var t,i,n,r,o,s,a,l,d,c=this.data,u=this.record,h=u.fields,f=u.generation,g=u.data,p=u.validationSeparator,m=null;if(e||this.syncGeneration!==f){for(this.syncGeneration=f,o=0,s=h.length;o<s;++o)l=g[d=(r=h[o]).name],t=r.defaultInvalidMessage,n=0,d in c?i=c[d]:c[d]=i=!0,r.validate!==Ext.emptyFn&&!0!==(a=r.validate(l,p,null,u))&&(n=a||t),(n=n||!0)!==i&&((m=m||{})[d]=n);m&&this.set(m)}}}}),Ext.define("Ext.dom.Helper",function(){var t,i,l="afterbegin",d="afterend",c="beforebegin",u="beforeend",e=["BeforeBegin","previousSibling"],n=["AfterEnd","nextSibling"],h={beforebegin:e,afterend:n},f={beforebegin:e,afterend:n,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:!0,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:(t=/([a-z])([A-Z])/g,i={},function(e){return i[e]||(i[e]=e.replace(t,r))}),generateMarkup:function(e,t){var i,n,r,o,s=typeof e;if("string"==s||"number"==s)t.push(e);else if(Ext.isArray(e))for(o=0;o<e.length;o++)e[o]&&this.generateMarkup(e[o],t);else{for(i in r=e.tag||"div",t.push("<",r),e)e.hasOwnProperty(i)&&(void 0===(n=e[i])||this.confRe.test(i)||(n&&n.join&&(n=n.join(" ")),"object"==typeof n?(t.push(" ",i,'="'),this.generateStyles(n,t,!0).push('"')):t.push(" ",this.attributeTransform[i]||i,'="',n,'"')));this.emptyTags.test(r)?t.push("/>"):(t.push(">"),(n=e.tpl)&&n.applyOut(e.tplData,t),(n=e.html)&&t.push(n),(n=e.cn||e.children)&&this.generateMarkup(n,t),s=this.closeTags,t.push(s[r]||(s[r]="</"+r+">")))}return t},generateStyles:function(e,t,i){var n,r,o=t||[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],n=this.decamelizeName(n),i&&Ext.String.hasHtmlCharacters(r)&&(r=Ext.String.htmlEncode(r)),o.push(n,":",r,";"));return t||o.join("")},markup:function(e){return"string"==typeof e?e:this.generateMarkup(e,[]).join("")},applyStyles:function(e,t){Ext.fly(e).applyStyles(t)},createContextualFragment:function(e){var t,i,n=this.detachedDiv,r=document.createDocumentFragment();for(n.innerHTML=e,t=(i=n.childNodes).length;t--;)r.appendChild(i[0]);return r},createDom:function(e,t){var i=this.markup(e),e=this.detachedDiv;return e.innerHTML=i,e=e.firstChild,Ext.supports.ChildContentClearedWhenSettingInnerHTML?e.cloneNode(!0):e},insertHtml:function(e,t,i){var n,r,o,s,a;if(e=e.toLowerCase(),t.insertAdjacentHTML)return this.ieInsertHtml&&(a=this.ieInsertHtml(e,t,i))?a:(n=f[e])?(t.insertAdjacentHTML(n[0],i),t[n[1]]):void Ext.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:i,targetElement:t,msg:'Illegal insertion point reached: "'+e+'"'});if(3===t.nodeType&&(e=(e=e===l?c:e)===u?d:e),r=Ext.supports.CreateContextualFragment?t.ownerDocument.createRange():void 0,s="setStart"+(this.endRe.test(e)?"After":"Before"),h[e])return a=r?(r[s](t),r.createContextualFragment(i)):this.createContextualFragment(i),t.parentNode.insertBefore(a,e===c?t:t.nextSibling),t[(e===c?"previous":"next")+"Sibling"];if(o=(e===l?"first":"last")+"Child",t.firstChild){if(r)try{r[s](t[o]),a=r.createContextualFragment(i)}catch(e){a=this.createContextualFragment(i)}else a=this.createContextualFragment(i);e===l?t.insertBefore(a,t.firstChild):t.appendChild(a)}else t.innerHTML=i;return t[o]},insertBefore:function(e,t,i){return this.doInsert(e,t,i,c)},insertAfter:function(e,t,i){return this.doInsert(e,t,i,d)},insertFirst:function(e,t,i){return this.doInsert(e,t,i,l)},append:function(e,t,i){return this.doInsert(e,t,i,u)},overwrite:function(e,t,i){var n;return e=Ext.getDom(e),t=this.markup(t),this.ieOverwrite&&(n=this.ieOverwrite(e,t)),n||(e.innerHTML=t,n=e.firstChild),i?Ext.get(n):n},doInsert:function(e,t,i,n){var r;return"innerHTML"in(e=e.dom||Ext.getDom(e))?r=this.insertHtml(n,e,this.markup(t)):(r=this.createDom(t,null),3===e.nodeType&&(n=(n=n===l?c:n)===u?d:n),h[n]?e.parentNode.insertBefore(r,n===c?e:e.nextSibling):e.firstChild&&n===l?e.insertBefore(r,e.firstChild):e.appendChild(r)),i?Ext.get(r):r},createTemplate:function(e){e=this.markup(e);return new Ext.Template(e)},createHtml:function(e){return this.markup(e)}};function r(e,t,i){return t+"-"+i.toLowerCase()}}),Ext.define("Ext.overrides.dom.Helper",function(){var r=/^(?:table|thead|tbody|tr|td)$/i,l=/td|tr|tbody|thead/i,d="<table><tbody>",c="</tbody></table>";return{override:"Ext.dom.Helper",ieInsertHtml:function(e,t,i){var n=null;return Ext.isIE9m&&r.test(t.tagName)&&(n=this.insertIntoTable(t.tagName.toLowerCase(),e,t,i)),n},ieOverwrite:function(e,t){if(Ext.isIE9m&&r.test(e.tagName)){for(;e.firstChild;)e.removeChild(e.firstChild);if(t)return this.insertHtml("afterbegin",e,t)}},ieTable:function(e,t,i,n){var r,o,s=-1,a=this.detachedDiv;for(a.innerHTML=[t,i,n].join("");++s<e;)a=a.firstChild;if(r=a.nextSibling)for(r=a,a=document.createDocumentFragment();r;)o=r.nextSibling,a.appendChild(r),r=o;return a},insertIntoTable:function(e,t,i,n){var r="beforebegin"===t,o="afterbegin"===t,s="beforeend"===t,a="afterend"===t;return"td"===e&&(o||s)||!l.test(e)&&(r||a)?null:(t=r?i:a?i.nextSibling:o?i.firstChild:null,(r||a)&&(i=i.parentNode),n="td"===e||"tr"===e&&(s||o)?this.ieTable(4,"<table><tbody><tr>",n,"</tr></tbody></table>"):("tbody"===e||"thead"===e)&&(s||o)||"tr"===e&&(r||a)?this.ieTable(3,d,n,c):this.ieTable(2,"<table>",n,"</table>"),i.insertBefore(n,t),n)}}}()),Ext.define("Ext.dom.Query",function(){var DQ,doc=document,cache,simpleCache,valueCache,useClassList=!!doc.documentElement.classList,useElementPointer=!!doc.documentElement.firstElementChild,useChildrenCollection=(LHd=doc.createElement("div"),LHd.innerHTML="\x3c!-- --\x3etext\x3c!-- --\x3e",LHd.children&&0===LHd.children.length),nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*\|\\]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,startIdRe=/^\s*#/,isIE=!!window.ActiveXObject,key=30803,longHex=/\\([0-9a-fA-F]{6})/g,shortHex=/\\([0-9a-fA-F]{1,6})\s{0,1}/g,nonHex=/\\([^0-9a-fA-F]{1})/g,escapes=/\\/g,num,hasEscapes,supportsColonNsSeparator=(NHd='<r><a:b xmlns:a="n"></a:b></r>',window.DOMParser?MHd=(new DOMParser).parseFromString(NHd,"application/xml"):(MHd=new ActiveXObject("Microsoft.XMLDOM")).loadXML(NHd),!!MHd.getElementsByTagName("a:b").length),longHexToChar=function(e,t){return String.fromCharCode(parseInt(t,16))},shortToLongHex=function(e,t){for(;t.length<6;)t="0"+t;return"\\"+t},charToLongHex=function(e,t){return 1===(num=t.charCodeAt(0).toString(16)).length&&(num="0"+num),"\\0000"+num},unescapeCssSelector=function(e){return hasEscapes?e.replace(longHex,longHexToChar):e},setupEscapes=function(e){return(hasEscapes=-1<e.indexOf("\\"))&&(e=e.replace(shortHex,shortToLongHex).replace(nonHex,charToLongHex).replace(escapes,"\\\\")),e},MHd,NHd,LHd;function children(e){for(var t,i=e.firstChild,n=-1;i;)t=i.nextSibling,3!=i.nodeType||nonSpace.test(i.nodeValue)?i.nodeIndex=++n:e.removeChild(i),i=t;return this}function attrValue(e,t){return e.tagName||void 0===e.length||(e=e[0]),e&&("for"==t?e.htmlFor:"class"==t||"className"==t?e.className:e.getAttribute(t)||e[t])}function getNodes(e,t,i){var n,r,o,s,a,l,d,c,u,h=[],f=-1;if(!e)return h;if(i=i.replace("|",":")||"*",void 0!==e.getElementsByTagName&&(e=[e]),t){if("/"==t||">"==t)for(d=i.toUpperCase(),r=0;o=e[r];r++)for(l=o.childNodes,s=0;u=l[s];s++)u.nodeName!=d&&u.nodeName!=i&&"*"!=i||(h[++f]=u);else if("+"==t)for(d=i.toUpperCase(),r=0;c=e[r];r++){for(;(c=c.nextSibling)&&1!=c.nodeType;);!c||c.nodeName!=d&&c.nodeName!=i&&"*"!=i||(h[++f]=c)}else if("~"==t)for(d=i.toUpperCase(),r=0;c=e[r];r++)for(;c=c.nextSibling;)c.nodeName!=d&&c.nodeName!=i&&"*"!=i||(h[++f]=c)}else if(i=unescapeCssSelector(i),!supportsColonNsSeparator&&DQ.isXml(e[0])&&-1!==i.indexOf(":"))for(r=0;o=e[r];r++)for(n=o.getElementsByTagName(i.split(":").pop()),s=0;a=n[s];s++)a.tagName===i&&(h[++f]=a);else for(r=0;o=e[r];r++)for(n=o.getElementsByTagName(i),s=0;a=n[s];s++)h[++f]=a;return h}function concat(e,t){return e.push.apply(e,t),e}function byTag(e,t){if(!e.tagName&&e!==doc||(e=[e]),!t)return e;var i,n,r=[],o=-1;for(t=t.toLowerCase(),i=0;n=e[i];i++)1==n.nodeType&&n.tagName.toLowerCase()==t&&(r[++o]=n);return r}function byId(e,t){if(t=unescapeCssSelector(t),!e.tagName&&e!==doc||(e=[e]),!t)return e;for(var i,n=[],r=-1,o=0;i=e[o];o++)if(i&&i.id==t)return n[++r]=i,n;return n}function byAttribute(e,t,i,n,r){var o,s,a,l,d,c=[],u=-1,h="{"==r,f=DQ.operators[n];for(i=unescapeCssSelector(i),l=0;d=e[l];l++)1===d.nodeType&&(a||(s=DQ.isXml(d),a=!0),o=s?d.getAttribute(t):h?DQ.getStyle(d,t):"class"==t||"className"==t?d.className:"for"==t?d.htmlFor:"href"==t?d.getAttribute("href",2):d.getAttribute(t),(f&&f(o,i)||!f&&o)&&(c[++u]=d));return c}function byPseudo(e,t,i){return i=unescapeCssSelector(i),DQ.pseudos[t](e,i)}function nodupIEXml(e){var t,i,n,r,o=++key;for(e[0].setAttribute("_nodup",o),t=[e[0]],i=1,n=e.length;i<n;i++)!(r=e[i]).getAttribute("_nodup")!=o&&(r.setAttribute("_nodup",o),t[t.length]=r);for(i=0,n=e.length;i<n;i++)e[i].removeAttribute("_nodup");return t}function nodup(e){if(!e)return[];var t,i,n,r,o,s=e.length,a=e,l=-1;if(!s||void 0!==e.nodeType||1==s)return e;if(isIE&&void 0!==e[0].selectSingleNode)return nodupIEXml(e);for(r=++key,e[0]._nodup=r,i=1;t=e[i];i++){if(t._nodup==r){for(a=[],o=0;o<i;o++)a[++l]=e[o];for(o=i+1;n=e[o];o++)n._nodup!=r&&(n._nodup=r,a[++l]=n);return a}t._nodup=r}return a}function quickDiffIEXml(e,t){for(var i=++key,n=[],r=0,o=e.length;r<o;r++)e[r].setAttribute("_qdiff",i);for(r=0,o=t.length;r<o;r++)t[r].getAttribute("_qdiff")!=i&&(n[n.length]=t[r]);for(r=0,o=e.length;r<o;r++)e[r].removeAttribute("_qdiff");return n}function quickDiff(e,t){var i,n,r=e.length,o=++key,s=[];if(!r)return t;if(isIE&&void 0!==e[0].selectSingleNode)return quickDiffIEXml(e,t);for(i=0;i<r;i++)e[i]._qdiff=o;for(i=0,n=t.length;i<n;i++)t[i]._qdiff!=o&&(s[s.length]=t[i]);return s}function quickId(e,t,i,n){return e==i?(n=unescapeCssSelector(n),(i.ownerDocument||i).getElementById(n)):byId(e=getNodes(e,t,"*"),n)}return eval("var batch = 30803, child, next, prev, byClassName;"),child=useChildrenCollection?function(e,t){return e.children[t]}:function(e,t){for(var i=0,n=e.firstChild;n;){if(1==n.nodeType&&++i==t)return n;n=n.nextSibling}return null},next=useElementPointer?function(e){return e.nextElementSibling}:function(e){for(;(e=e.nextSibling)&&1!=e.nodeType;);return e},prev=useElementPointer?function(e){return e.previousElementSibling}:function(e){for(;(e=e.previousSibling)&&1!=e.nodeType;);return e},byClassName=useClassList?function(e,t){if(!(t=unescapeCssSelector(t)))return e;for(var i,n,r=[],o=-1,s=0;i=e[s];s++)(n=i.classList)?n.contains(t)&&(r[++o]=i):-1!==(" "+i.className+" ").indexOf(t)&&(r[++o]=i);return r}:function(e,t){if(!(t=unescapeCssSelector(t)))return e;for(var i,n=[],r=-1,o=0;i=e[o];o++)-1!==(" "+i.className+" ").indexOf(t)&&(n[++r]=i);return n},{singleton:!0,alternateClassName:["Ext.core.DomQuery","Ext.DomQuery"],requires:["Ext.dom.Helper","Ext.util.Operators"],_init:function(){(DQ=this).operators=Ext.Object.chain(Ext.util.Operators),DQ._cache=cache=new Ext.util.LruCache({maxSize:200}),DQ._valueCache=valueCache=new Ext.util.LruCache({maxSize:200}),DQ._simpleCache=simpleCache=new Ext.util.LruCache({maxSize:200})},clearCache:function(){cache.clear(),valueCache.clear(),simpleCache.clear()},getStyle:function(e,t){return Ext.fly(e,"_DomQuery").getStyle(t)},compile:function(path,type){type=type||"select";var fn=["var f = function(root) {\n var mode; ++batch; var n = root || document;\n"],lastPath,matchers=DQ.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe),tokenMatch,matched,j,t,m;for(path=setupEscapes(path),lmode&&lmode[1]&&(fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";',path=path.replace(lmode[1],""));"/"==path.substr(0,1);)path=path.substr(1);for(;path&&lastPath!=path;){for(lastPath=path,tokenMatch=path.match(tagTokenRe),"select"==type?tokenMatch?("#"==tokenMatch[1]?fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");':fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],"")):"@"!=path.substr(0,1)&&(fn[fn.length]='n = getNodes(n, mode, "*");'):tokenMatch&&("#"==tokenMatch[1]?fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");':fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");',path=path.replace(tokenMatch[0],""));!(modeMatch=path.match(modeRe));){for(matched=!1,j=0;j<matchersLn;j++)if(t=matchers[j],m=path.match(t.re),m){fn[fn.length]=t.select.replace(tplRe,function(e,t){return m[t]}),path=path.replace(m[0],""),matched=!0;break}matched||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"compile",msg:'Error parsing selector. Parsing failed at "'+path+'"'})}modeMatch[1]&&(fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";',path=path.replace(modeMatch[1],""))}return fn[fn.length]="return nodup(n);\n}",eval(fn.join("")),f},jsSelect:function(e,t,i){"string"==typeof(t=t||doc)&&(t=doc.getElementById(t));for(var n,r,o=Ext.splitAndUnescape(e,","),s=[],a=0,l=o.length;a<l;a++)n=o[a].replace(trimRe,""),(r=cache.get(n))?setupEscapes(n):((r=DQ.compile(n,i))||Ext.raise({sourceClass:"Ext.DomQuery",sourceMethod:"jsSelect",msg:n+" is not a valid selector"}),cache.add(n,r)),(r=r(t))&&r!==doc&&(s=s.concat(r));return 1<o.length?nodup(s):s},isXml:function(e){e=(e?e.ownerDocument||e:0).documentElement;return!!e&&"HTML"!==e.nodeName},select:doc.querySelectorAll?function(e,t,i,n){if(t=t||doc,!DQ.isXml(t))try{return t.parentNode&&9!==t.nodeType&&-1===e.indexOf(",")&&!startIdRe.test(e)&&(e=Ext.makeIdSelector(Ext.id(t))+" "+e,t=t.parentNode),n?[t.querySelector(e)]:Ext.Array.toArray(t.querySelectorAll(e))}catch(e){}return DQ.jsSelect.call(this,e,t,i)}:function(e,t,i){return DQ.jsSelect.call(this,e,t,i)},selectNode:function(e,t){return Ext.DomQuery.select(e,t,null,!0)[0]},selectValue:function(e,t,i){e=e.replace(trimRe,"");var n=valueCache.get(e);return n?setupEscapes(e):(n=DQ.compile(e,"select"),valueCache.add(e,n)),t=n(t),DQ.getNodeValue(t[0]||t,i)},getNodeValue:function(e,t){"function"==typeof e.normalize&&e.normalize();e=e&&e.firstChild,e=e?e.nodeValue:null;return void 0===t||null!=e&&""!==e||(e=t),e},selectNumber:function(e,t,i){i=DQ.selectValue(e,t,i||0);return parseFloat(i)},is:function(e,t){"string"==typeof e&&(e=doc.getElementById(e));var i=Ext.isArray(e),t=DQ.filter(i?e:[e],t);return i?t.length==e.length:0<t.length},filter:function(e,t,i){t=t.replace(trimRe,"");var n=simpleCache.get(t);return n?setupEscapes(t):(n=DQ.compile(t,"simple"),simpleCache.add(t,n)),n=n(e),i?quickDiff(n,e):n},matchers:[{re:/^\.([\w\-\\]+)/,select:useClassList?'n = byClassName(n, "{1}");':'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w\-\\]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-\.]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],pseudos:{"first-child":function(e){for(var t,i,n=[],r=-1,o=0;i=t=e[o];o++){for(;(t=t.previousSibling)&&1!=t.nodeType;);t||(n[++r]=i)}return n},"last-child":function(e){for(var t,i,n=[],r=-1,o=0;i=t=e[o];o++){for(;(t=t.nextSibling)&&1!=t.nodeType;);t||(n[++r]=i)}return n},"nth-child":function(e,t){for(var i,n,r,o,s=[],a=-1,t=nthRe.exec(("even"==t?"2n":"odd"==t&&"2n+1")||!nthRe2.test(t)&&"n+"+t||t),l=+(t[1]||1),d=+t[2],c=0;i=e[c];c++){if(o=i.parentNode,batch!=o._batch){for(n=0,r=o.firstChild;r;r=r.nextSibling)1==r.nodeType&&(r.nodeIndex=++n);o._batch=batch}1==l?0!=d&&i.nodeIndex!=d||(s[++a]=i):(i.nodeIndex+d)%l==0&&(s[++a]=i)}return s},"only-child":function(e){for(var t,i=[],n=-1,r=0;t=e[r];r++)prev(t)||next(t)||(i[++n]=t);return i},empty:function(e){for(var t,i,n,r,o,s=[],a=-1,l=0;t=e[l];l++){for(i=t.childNodes,o=!(n=0);r=i[n];)if(++n,1==r.nodeType||3==r.nodeType){o=!1;break}o&&(s[++a]=t)}return s},contains:function(e,t){for(var i,n=[],r=-1,o=0;i=e[o];o++)-1!=(i.textContent||i.innerText||i.text||"").indexOf(t)&&(n[++r]=i);return n},nodeValue:function(e,t){for(var i,n=[],r=-1,o=0;i=e[o];o++)i.firstChild&&i.firstChild.nodeValue==t&&(n[++r]=i);return n},checked:function(e){for(var t,i=[],n=-1,r=0;t=e[r];r++)!0===t.checked&&(i[++n]=t);return i},not:function(e,t){return DQ.filter(e,t,!0)},any:function(e,t){for(var i,n,r,o=t.split("|"),s=[],a=-1,l=0;n=e[l];l++)for(r=0;i=o[r];r++)if(DQ.is(n,i)){s[++a]=n;break}return s},odd:function(e){return this["nth-child"](e,"odd")},even:function(e){return this["nth-child"](e,"even")},nth:function(e,t){return e[t-1]||[]},first:function(e){return e[0]||[]},last:function(e){return e[e.length-1]||[]},has:function(e,t){for(var i,n=DQ.select,r=[],o=-1,s=0;i=e[s];s++)0<n(t,i).length&&(r[++o]=i);return r},next:function(e,t){for(var i,n,r=DQ.is,o=[],s=-1,a=0;i=e[a];a++)(n=next(i))&&r(n,t)&&(o[++s]=i);return o},prev:function(e,t){for(var i,n,r=DQ.is,o=[],s=-1,a=0;i=e[a];a++)(n=prev(i))&&r(n,t)&&(o[++s]=i);return o},focusable:function(e){for(var t,i=e.length,n=[],r=0;r<i;r++)t=e[r],Ext.fly(t,"_DomQuery").isFocusable()&&n.push(t);return n},visible:function(e,t){for(var i,n=e.length,r=[],o=0;o<n;o++)i=e[o],Ext.fly(i,"_DomQuery").isVisible(t)&&r.push(i);return r},isScrolled:function(e){for(var t,i,n=[],r=-1,o=0;t=e[o];o++)(0<(i=Ext.fly(t,"_DomQuery").getScroll()).top||0<i.left)&&(n[++r]=t);return n}}}},function(){this._init()}),Ext.define("Ext.data.reader.Xml",{extend:"Ext.data.reader.Reader",requires:["Ext.dom.Query"],alternateClassName:"Ext.data.XmlReader",alias:"reader.xml",config:{record:"",namespace:""},createAccessor:function(t){return Ext.isEmpty(t)?Ext.emptyFn:Ext.isFunction(t)?t:function(e){return this.getNodeValue(Ext.DomQuery.selectNode(t,e))}},getNodeValue:function(e){if(e&&("function"==typeof e.normalize&&e.normalize(),e=e.firstChild))return e.nodeValue},getResponseData:function(e){var t=e.responseXML,e="XML data not found in the response";return t||(Ext.Logger.warn(e),this.createReadError(e))},getData:function(e){return e.documentElement||e},getRoot:function(e){var t=e.nodeName,i=this.getRootProperty();return!i||t&&t==i?e:Ext.DomQuery.isXml(e)?Ext.DomQuery.selectNode(i,e):void 0},extractData:function(e,t){var i=this.getRecord();return i||Ext.raise("Record is a required parameter"),e=i!==e.nodeName?Ext.DomQuery.select(i,e):[e],this.callParent([e,t])},readRecords:function(e,t,i){return Ext.isArray(e)&&(e=e[0]),this.callParent([e,t,i])},createFieldAccessor:function(t){var i=this,e=i.getNamespace(),n=t.mapping||(e?e+"|":"")+t.name,e="function"==typeof n?function(e){return t.mapping(e,i)}:function(e){return i.getNodeValue(Ext.DomQuery.selectNode(n,e))};return e},deprecated:{"5.1.1":{properties:{xmlData:null}}}}),Ext.define("Ext.data.writer.Xml",{extend:"Ext.data.writer.Writer",alternateClassName:"Ext.data.XmlWriter",alias:"writer.xml",config:{documentRoot:"xmlData",defaultDocumentRoot:"xmlData",header:"",record:"record"},selectorRe:/[^>\s]+/g,writeRecords:function(e,t){var i=[],n=0,r=t.length,o=this.getDocumentRoot(),s=this.getRecord(),a=s.match(this.selectorRe),l=a.length,d=1!==t.length&&1===l,c=this.getTransform();for(c&&(t=c(t,e)),i.push(this.getHeader()||""),!o&&d&&(o=this.getDefaultDocumentRoot()),o&&i.push("<",o,">"),n=0;n<l-1;n++)i.push("<",a[n],">");for(s=a[n],n=0;n<r;++n)this.objectToElement(s,t[n],i);for(n=l-2;-1<n;n--)i.push("</",a[n],">");return o&&i.push("</",o,">"),e.setXmlData(i.join("")),e},objectToElement:function(e,t,i){var n,r,o,s,a,l,d,c,u,h=[];for(n in(i=i||[]).push("<",e),t)if(r=t[n],"@"===n[0])i.push(" ",n.substr(1),'="',r,'"');else if("object"==typeof r)this.objectToElement(n,r,h);else if(1<(s=(o=n.match(this.selectorRe)).length)){for(l=d=d||{},a=0;a<s;a++)l=(c=l)[u=o[a]]||(l[u]={});c[u]=r}else h.push("<",n,">",r,"</",n,">");if(i.push(">"),i.push.apply(i,h),d)for(n in d)r=d[n],this.objectToElement(n,r,i);return i.push("</",e,">"),i}}),Ext.define("Ext.data.XmlStore",{extend:"Ext.data.Store",alias:"store.xml",requires:["Ext.data.proxy.Ajax","Ext.data.reader.Xml","Ext.data.writer.Xml"],constructor:function(e){e=Ext.apply({proxy:{type:"ajax",reader:"xml",writer:"xml"}},e),this.callParent([e])}}),Ext.define("Ext.data.identifier.Negative",{extend:"Ext.data.identifier.Sequential",alias:"data.identifier.negative",config:{increment:-1,seed:-1}}),Ext.define("Ext.data.identifier.Uuid",{extend:"Ext.data.identifier.Generator",alias:"data.identifier.uuid",isUnique:!0,config:{id:null},constructor:function(e){this.callParent([e]),this.reconfigure(e)},reconfigure:function(e){var t=this.self;this.generate=e&&1===e.version?t.createSequential(e.salt,e.timestamp,e.clockSeq):t.createRandom()},clone:null,statics:{createRandom:function(){var n="xxxxxxxx-xxxx-4xxx-Rxxx-xMxxxxxxxxxx".split(""),r="0123456789abcdef".split(""),o=n.length,s=[];return function(){for(var e,t,i=0;i<o;++i)"-"!==(t=n[i])&&"4"!==t&&(e=16*Math.random(),t=r[e="R"===t?3&e|8:e|("M"===t?1:0)]),s[i]=t;return s.join("")}},createSequential:function(e,t,i){function n(e,t){return(e=e.toString(16).toLowerCase()).length>t?e=e.substring(e.length-t):e.length<t&&(e=Ext.String.leftPad(e,t,"0")),e}var r=[],o=Math.pow(2,32),s=e.lo,a=e.hi,l=t.lo,d=t.hi;return"number"==typeof e&&(a=Math.floor(e/o),s=Math.floor(e-a*o)),"number"==typeof t&&(d=Math.floor(t/o),l=Math.floor(t-d*o)),a|=256,r[3]=n(128|i>>>8&63,2)+n(255&i,2),r[4]=n(a,4)+n(s,8),function(){return r[0]=n(l,8),r[1]=n(65535&d,4),r[2]=n(d>>>16&4095|4096,4),o<=++l&&(l=0,++d),r.join("-")}}}},function(){this.Global=new this({id:"uuid"})}),Ext.define("Ext.data.proxy.WebStorage",{extend:"Ext.data.proxy.Client",alternateClassName:"Ext.data.WebStorageProxy",requires:["Ext.data.identifier.Sequential"],config:{id:void 0},constructor:function(e){this.callParent(arguments),this.cache={},void 0===this.getStorageObject()&&Ext.raise("Local Storage is not supported in this browser, please use another type of data proxy"),void 0===this.getId()&&Ext.raise("No unique id was provided to the local storage proxy. See Ext.data.proxy.LocalStorage documentation for details"),this.initialize()},create:function(e){var t,i,n,r=e.getRecords(),o=r.length,s=this.getIds();for(void 0===this.isHierarchical&&(this.isHierarchical=!!r[0].isNode,this.isHierarchical&&this.getStorageObject().setItem(this.getTreeKey(),!0)),i=0;i<o;i++)n=(t=r[i]).phantom?(t.phantom=!1,(n=t.identifier)&&n.isUnique?t.getId():this.getNextId()):t.getId(),this.setRecord(t,n),t.commit(),s.push(n);this.setIds(s),e.setSuccessful(!0)},read:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f=[],g=!0,p=this.getModel(),m=0,x=e.getRecordCreator();if(this.isHierarchical)f=this.getTreeData();else if(l=(a=this.getIds()).length,c=e.getId())null!==(d=this.getRecord(c))&&(s=x?x(d,p):new p(d)),s?f.push(s):g=!1;else{for(c=e.getSorters(),i=e.getFilters(),n=e.getLimit(),t=[],u=0;u<l;u++)d=this.getRecord(a[u]),s=x?x(d,p):new p(d),t.push(s);for(c&&Ext.Array.sort(t,Ext.util.Sorter.createComparator(c)),u=e.getStart()||0;u<l;u++){if(s=t[u],o=!0,i)for(h=0,r=i.length;h<r;h++)o=i[h].filter(s);if(o&&(f.push(s),m++),n&&m===n)break}}g?(e.setResultSet(new Ext.data.ResultSet({records:f,total:f.length,loaded:!0})),e.setSuccessful(!0)):e.setException("Unable to load records")},update:function(e){for(var t,i=e.getRecords(),n=i.length,r=this.getIds(),o=0;o<n;o++)t=i[o],this.setRecord(t),t.commit(),void 0!==(t=t.getId())&&-1===Ext.Array.indexOf(r,t)&&r.push(t);this.setIds(r),e.setSuccessful(!0)},erase:function(e){for(var t,i=e.getRecords(),n=this.getIds(),r=n.length,o=[],s={},a=i.length;a--;)Ext.apply(s,this.removeRecord(i[a]));for(a=0;a<r;a++)s[t=n[a]]||o.push(t);this.setIds(o),e.setSuccessful(!0)},getRecord:function(e){var t=this.cache,i=t[e]||Ext.decode(this.getStorageObject().getItem(this.getRecordKey(e)));return i?((t[e]=i)[this.getModel().prototype.idProperty]=e,Ext.merge({},i)):null},setRecord:function(e,t){t?e.set("id",t,{commit:!0}):t=e.getId();for(var i,n,r,o,s=e.getData(),a={},l=this.getModel(),d=l.getFields(),c=d.length,u=0;u<c;u++)n=(i=d[u]).name,i.persist&&(o=s[n],i.isDateField&&i.dateFormat&&Ext.isDate(o)?o=Ext.Date.format(o,i.dateFormat):i.serialize&&(o=i.serialize(o,e)),a[n]=o);delete a[l.prototype.idProperty],e.isNode&&1===e.get("depth")&&delete a.parentId,r=this.getStorageObject(),l=this.getRecordKey(t),this.cache[t]=a,r.removeItem(l),r.setItem(l,Ext.encode(a))},removeRecord:function(e){var t,i,n=e.getId(),r={};if(r[n]=e,this.getStorageObject().removeItem(this.getRecordKey(n)),delete this.cache[n],e.childNodes)for(t=(i=e.childNodes).length;t--;)Ext.apply(r,this.removeRecord(i[t]));return r},getRecordKey:function(e){return e.isModel&&(e=e.getId()),Ext.String.format("{0}-{1}",this.getId(),e)},getRecordCounterKey:function(){return Ext.String.format("{0}-counter",this.getId())},getTreeKey:function(){return Ext.String.format("{0}-tree",this.getId())},getIds:function(){var e,t=(this.getStorageObject().getItem(this.getId())||"").split(","),i=t.length,n=this.getIdField().isStringField;if(1===i&&""===t[0])t=[];else for(e=0;e<i;e++)t[e]=n?t[e]:+t[e];return t},getIdField:function(){return this.getModel().prototype.idField},setIds:function(e){var t=this.getStorageObject(),i=e.join(","),e=this.getId();t.removeItem(e),Ext.isEmpty(i)||t.setItem(e,i)},getNextId:function(){var e=this.getStorageObject(),t=this.getRecordCounterKey(),i=this.getIdField().isStringField,n=this.idGenerator.generate();return e.setItem(t,n),i&&(n+=""),n},getTreeData:function(){for(var e,t,i,n,r,o,s=this.getIds(),a=s.length,l=[],d={},c=[],u=0,h=this.getModel(),f=h.prototype.idProperty;u<a;u++)o=s[u],t=this.getRecord(o),l.push(t),(d[o]=t).parentId||c.push(t);for(e=c.length,Ext.Array.sort(l,this.sortByParentId),u=e;u<a;u++)n=(t=l[u]).parentId,i&&i[f]===n||((i=d[n]).children=r=[]),r.push(t);for(u=a;u--;)(t=l[u]).children||t.leaf||(t.loaded=!0);for(u=e;u--;)t=c[u],c[u]=new h(t);return c},sortByParentId:function(e,t){return(e.parentId||0)-(t.parentId||0)},initialize:function(){var e=this.getStorageObject(),t=+e.getItem(this.getRecordCounterKey()),i=this.getId();e.setItem(i,e.getItem(i)||""),e.getItem(this.getTreeKey())&&(this.isHierarchical=!0),this.idGenerator=new Ext.data.identifier.Sequential({seed:t?1+t:1})},clear:function(){for(var e=this.getStorageObject(),t=this.getIds(),i=t.length,n=0;n<i;n++)e.removeItem(this.getRecordKey(t[n]));e.removeItem(this.getRecordCounterKey()),e.removeItem(this.getTreeKey()),e.removeItem(this.getId()),this.cache={}},getStorageObject:function(){Ext.raise("The getStorageObject function has not been defined in your Ext.data.proxy.WebStorage subclass")}}),Ext.define("Ext.data.proxy.LocalStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.localstorage",alternateClassName:"Ext.data.LocalStorageProxy",getStorageObject:function(){return window.localStorage}}),Ext.define("Ext.data.proxy.Rest",{extend:"Ext.data.proxy.Ajax",alternateClassName:"Ext.data.RestProxy",alias:"proxy.rest",defaultActionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},slashRe:/\/$/,periodRe:/\.$/,config:{appendId:!0,format:null,batchActions:!1,actionMethods:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"}},buildUrl:function(e){var t=e.getOperation(),i=t.getRecords(),n=i?i[0]:null,r=this.getFormat(),i=this.getUrl(e),t=(n&&!n.phantom?n:t).getId();return this.getAppendId()&&this.isValidId(t)&&(i.match(this.slashRe)||(i+="/"),i+=encodeURIComponent(t),(t=e.getParams())&&delete t[this.getIdParam()]),r&&(i.match(this.periodRe)||(i+="."),i+=r),e.setUrl(i),this.callParent([e])},isValidId:function(e){return e||0===e}}),Ext.define("Ext.data.proxy.SessionStorage",{extend:"Ext.data.proxy.WebStorage",alias:"proxy.sessionstorage",alternateClassName:"Ext.data.SessionStorageProxy",getStorageObject:function(){return window.sessionStorage}}),Ext.define("Ext.data.validator.Bound",{extend:"Ext.data.validator.Validator",alias:"data.validator.bound",type:"bound",config:{min:void 0,max:void 0,emptyMessage:"Must be present",minOnlyMessage:null,maxOnlyMessage:null,bothOnlyMessage:null},constructor:function(){this.preventConfigure=!0,this.callParent(arguments),delete this.preventConfigure,this.configure()},setConfig:function(){this.preventConfigure=!0,this.callParent(arguments),delete this.preventConfigure,this.configure()},configure:function(){var e,t,i,n,r=this;r.preventConfigure||(i=r.getMin(),n=r.getMax(),e=r.hasMin=void 0!==i,t=r.hasMax=void 0!==n,e&&t?r._bothMsg=Ext.String.format(r.getBothMessage(),i,n):e?r._minMsg=Ext.String.format(r.getMinOnlyMessage(),i):t&&(r._maxMsg=Ext.String.format(r.getMaxOnlyMessage(),n)))},updateMin:function(){this.configure()},updateMax:function(){this.configure()},updateMinOnlyMessage:function(e){this.configure()},updateMaxOnlyMessage:function(){this.configure()},updateBothMessage:function(){this.configure()},validate:function(e){var t=this.hasMin,i=this.hasMax,n=this.getMin(),r=this.getMax(),o=this.validateValue(e);return!0!==o||(e=this.getValue(e),t&&i?(e<n||r<e)&&(o=this._bothMsg):t?e<n&&(o=this._minMsg):i&&r<e&&(o=this._maxMsg)),o},validateValue:function(e){return null!=e||this.getEmptyMessage()},getValue:Ext.identityFn}),Ext.define("Ext.data.validator.Format",{extend:"Ext.data.validator.Validator",alias:"data.validator.format",type:"format",config:{message:"Is in the wrong format",matcher:void 0},constructor:function(){this.callParent(arguments),this.getMatcher()||Ext.raise("validator.Format must be configured with a matcher")},validate:function(e){var t=this.getMatcher(),e=t&&t.test(e);return e||this.getMessage()}}),Ext.define("Ext.data.validator.Email",{extend:"Ext.data.validator.Format",alias:"data.validator.email",type:"email",config:{message:"Is not a valid email address",matcher:/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+\/=?\^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/}}),Ext.define("Ext.data.validator.List",{extend:"Ext.data.validator.Validator",alias:"data.validator.list",type:"list",config:{list:null},inclusion:null,validate:function(e){var t=Ext.Array.contains(this.getList(),e),e=this.inclusion;return e&&t||!e&&!t||this.getMessage()}}),Ext.define("Ext.data.validator.Exclusion",{extend:"Ext.data.validator.List",alias:"data.validator.exclusion",type:"exclusion",config:{message:"Is a value that has been excluded"},constructor:function(){this.callParent(arguments),this.getList()||Ext.raise("validator.Exclusion requires a list")},inclusion:!1}),Ext.define("Ext.data.validator.Inclusion",{extend:"Ext.data.validator.List",alias:"data.validator.inclusion",type:"inclusion",config:{message:"Is not in the list of acceptable values"},constructor:function(){this.callParent(arguments),this.getList()||Ext.raise("validator.Inclusion requires a list")},inclusion:!0}),Ext.define("Ext.data.validator.Length",{extend:"Ext.data.validator.Bound",alias:"data.validator.length",type:"length",config:{minOnlyMessage:"Length must be at least {0}",maxOnlyMessage:"Length must be no more than {0}",bothMessage:"Length must be between {0} and {1}"},getValue:function(e){return String(e).length}}),Ext.define("Ext.data.validator.Presence",{extend:"Ext.data.validator.Validator",alias:"data.validator.presence",type:"presence",config:{message:"Must be present",allowEmpty:!1},validate:function(e){var t=!(null==e);return t&&!this.getAllowEmpty()&&(t=!(""===e)),!!t||this.getMessage()}}),Ext.define("Ext.data.validator.Range",{extend:"Ext.data.validator.Bound",alias:"data.validator.range",type:"range",config:{minOnlyMessage:"Must be must be at least {0}",maxOnlyMessage:"Must be no more than than {0}",bothMessage:"Must be between {0} and {1}",nanMessage:"Must be numeric"},validateValue:function(e){var t=this.callParent([e]);return!0===t&&isNaN(e)&&(t=this.getNanMessage()),t}}),Ext.define("Ext.direct.Event",{alias:"direct.event",status:!0,constructor:function(e){Ext.apply(this,e)},getName:function(){return this.name},getData:function(){return this.data}}),Ext.define("Ext.direct.RemotingEvent",{extend:"Ext.direct.Event",alias:"direct.rpc",getTransaction:function(){return this.transaction||Ext.direct.Manager.getTransaction(this.tid)}}),Ext.define("Ext.direct.ExceptionEvent",{extend:"Ext.direct.RemotingEvent",alias:"direct.exception",status:!1}),Ext.define("Ext.direct.JsonProvider",{extend:"Ext.direct.Provider",alias:"direct.jsonprovider",uses:["Ext.direct.ExceptionEvent","Ext.direct.Manager"],parseResponse:function(e){e=e&&e.responseText;return null!=e?Ext.isObject(e)||Ext.isArray(e)?e:Ext.decode(e):null},createEvents:function(t){var e,i,n=null,r=[];try{n=this.parseResponse(t)}catch(e){return[new Ext.direct.ExceptionEvent({parsingError:!0,data:e,xhr:t,code:Ext.direct.Manager.exceptions.PARSE,message:"Error parsing json response: \n\n "+e})]}if(Ext.isArray(n))for(e=0,i=n.length;e<i;++e)r.push(this.createEvent(n[e]));else Ext.isObject(n)&&r.push(this.createEvent(n));return r},createEvent:function(e){return"object"==typeof e&&"type"in e?Ext.create("direct."+e.type,e):new Ext.direct.ExceptionEvent({data:e,code:Ext.direct.Manager.exceptions.DATA,message:"Invalid data: event type is not specified"})}}),Ext.define("Ext.direct.PollingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.pollingprovider",requires:["Ext.Ajax","Ext.util.TaskRunner","Ext.direct.ExceptionEvent"],type:"polling",interval:3e3,constructor:function(e){this.callParent([e]),this.pollTask=Ext.TaskManager.newTask({run:this.runPoll,interval:this.interval,scope:this})},destroy:function(){this.pollTask=null,this.callParent()},doConnect:function(){var e,t=this.url,i=this.pollFn;i&&Ext.isString(i)?(e=i,this.pollFn=i=Ext.direct.Manager.parseMethod(i),Ext.isFunction(i)||Ext.raise("Cannot resolve Ext Direct API method "+e+" for PollingProvider")):Ext.isFunction(t)&&(Ext.log.warn("Using a function for url is deprecated, use pollFn instead."),this.pollFn=i=t,this.url=t=null),(t||i)&&(this.setInterval(this.interval),this.pollTask.start())},doDisconnect:function(){this.pollTask&&this.pollTask.stop()},getInterval:function(){return this.pollTask&&this.pollTask.interval},setInterval:function(e){var t=this.pollTask;e<100&&Ext.raise("Attempting to configure PollProvider "+this.id+" with interval that is less than 100ms."),this.interval=t.interval=e,this.isConnected()&&t.restart(e)},runPoll:function(){var e,t=this,i=t.url,n=t.pollFn,r=t.baseParams;!1!==t.fireEvent("beforepoll",t)&&(n?(e=n.directCfg.method.getArgs({params:void 0!==r?r:{},callback:t.onPollFn,scope:t}),n.apply(window,e)):(r={url:i,callback:t.onData,scope:t,params:r,headers:t.getHeaders()},null!=t.timeout&&(r.timeout=t.timeout),t.sendAjaxRequest(r)),t.fireEvent("poll",t))},onData:function(e,t,i){var n,r,o,s,a=this;if(t)for(n=0,r=(o=a.createEvents(i)).length;n<r;++n)s=o[n],a.fireEvent("data",a,s),s.status||a.fireEvent("exception",a,s);else s=new Ext.direct.ExceptionEvent({data:null,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),a.fireEvent("data",a,s),a.fireEvent("exception",a,s);a.callParent([e,t,i])},onPollFn:function(e,t,i,n){this.onData(null,i,{responseText:e})},inheritableStatics:{checkConfig:function(e){return e&&"polling"===e.type&&(e.url||e.pollFn)}}}),Ext.define("Ext.direct.RemotingMethod",{constructor:function(e){var t,i,n,r,o=this,s=e.params,a=e.len,l=e.metadata,d={};if(o.name=e.name,o.disableBatching=null!=e.batched&&!e.batched,e.formHandler)o.formHandler=e.formHandler;else if(Ext.isNumeric(a))o.len=a,o.ordered=!0;else for(o.named=!0,o.strict=void 0===e.strict||e.strict,o.params={},i=s&&s.length,n=0;n<i;n++)r=s[n],t=Ext.isObject(r)?r.name:r,o.params[t]=!0;if(l){if(s=l.params,a=l.len,Ext.isNumeric(a))0===a&&Ext.raise("metadata.len cannot be 0 for Ext Direct method "+o.name),d.ordered=!0,d.len=a;else if(Ext.isArray(s)){for(d.named=!0,d.params={},n=0,i=s.length;n<i;n++)r=s[n],d.params[r]=!0;d.strict=void 0===l.strict||l.strict}else Ext.raise("metadata is neither named nor ordered for Ext Direct method "+o.name);o.metadata=d}},getArgs:function(e){var t,i,n=e.params,r=e.paramOrder,o=(e.paramsAsArray,e.metadata),s=e.options,a=[];if(this.ordered){if(0<this.len)if(r)if(e.paramsAsArray&&1===this.len&&(1<r.length||Ext.isArray(n))){if(Ext.isArray(n))for(t=0,i=n.length;t<i;t++)a.push(this.convertParams(n[t],r,r.length,!0));else a=this.convertParams(n,r,r.length,!0);(!n.allowSingle||1<a.length)&&(a=[a])}else a=this.convertParams(n,r,this.len,!1);else a.push(n)}else a.push(n);return a.push(e.callback,e.scope||window),(s||o)&&(s=Ext.apply({},s),o&&(s.metadata=o),a.push(s)),a},convertParams:function(e,t,i,n){for(var r,o=[],s=0,a=i;s<a;s++)r=t[s],o.push(e[r]);return n?0===o.length?void 0:1===o.length?o[0]:o:o},getCallData:function(e){var t,i,n,r,o,s,a=this,l=null,d=a.len,c=a.params,u=a.strict;if(a.ordered)i=e[d],n=e[d+1],o=e[d+2],0!==d&&(l=e.slice(0,d));else if(a.formHandler)t=e[0],i=e[1],n=e[2],o=e[3];else if(l=Ext.apply({},e[0]),i=e[1],n=e[2],o=e[3],u)for(r in l)l.hasOwnProperty(r)&&!c[r]&&delete l[r];if(a.metadata&&o&&o.metadata){if(a.metadata.ordered)Ext.isArray(o.metadata)?o.metadata.length<a.metadata.len&&Ext.raise("Not enough parameters in options.metadata for Ext Direct method "+a.name):Ext.raise("options.metadata is not an Array for Ext Direct method "+a.name),s=o.metadata.slice(0,a.metadata.len);else{if(Ext.isObject(o.metadata)||Ext.raise("options.metadata is not an Object for Ext Direct method "+a.name),s=Ext.apply({},o.metadata),a.metadata.strict)for(r in s)s.hasOwnProperty(r)&&!a.metadata.params[r]&&delete s[r];for(r in a.metadata.params)s.hasOwnProperty(r)||Ext.raise("Named parameter "+r+" is missing in options.metadata for Ext Direct method "+a.name)}delete o.metadata}return{form:t,data:l,metadata:s,callback:i,scope:n,options:o}}}),Ext.define("Ext.direct.Transaction",{alias:"direct.transaction",statics:{TRANSACTION_ID:0},constructor:function(e){Ext.apply(this,e),this.id=this.tid=++this.self.TRANSACTION_ID,this.retryCount=0},send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++,this.send()},getProvider:function(){return this.provider}}),Ext.define("Ext.direct.RemotingProvider",{extend:"Ext.direct.JsonProvider",alias:"direct.remotingprovider",requires:["Ext.util.MixedCollection","Ext.util.DelayedTask","Ext.direct.Transaction","Ext.direct.RemotingMethod","Ext.direct.Manager"],type:"remoting",enableBuffer:10,bufferLimit:Number.MAX_VALUE,maxRetries:1,constructor:function(e){this.callParent([e]),this.namespace=Ext.isString(this.namespace)?Ext.ns(this.namespace):this.namespace||Ext.global,this.callBuffer=[]},connect:function(){this.url||Ext.raise('Error initializing RemotingProvider "'+this.id+'", no url configured.'),this.callParent()},doConnect:function(){this.apiCreated||(this.initAPI(),this.apiCreated=!0)},getNamespace:function(e,t){var i,n,r;for(e=e||Ext.global,n=0,r=(i=t.toString().split(".")).length;n<r;n++)if(void 0===(e=e[i[n]]))return e;return e},createNamespaces:function(e,t){var i,n,r,o;for(e=e||Ext.global,r=0,o=(i=t.toString().split(".")).length;r<o;r++)e[n=i[r]]=e[n]||{},e=e[n];return e},initAPI:function(){var e,t,i,n,r,o,s=this.actions,a=this.namespace,l=Ext.direct.Manager;for(e in s)if(s.hasOwnProperty(e))for(t=this.disableNestedActions?(t=a[e])||(a[e]={}):(t=this.getNamespace(a,e))||this.createNamespaces(a,e),n=0,r=(i=s[e]).length;n<r;++n)t[(o=new Ext.direct.RemotingMethod(i[n])).name]=o=this.createHandler(e,o),l.registerMethod(o.$name,o)},createHandler:function(e,t){var i=this,n=function(){i.invokeFunction(e,t,Array.prototype.slice.call(arguments,0))};return n.name=n.$name=e+"."+t.name,n.$directFn=!0,n.directCfg=n.$directCfg={action:e,method:t},n},invokeFunction:function(e,t,i){var n,r=this.configureTransaction(e,t,i);!1!==this.fireEvent("beforecall",this,r,t)&&(Ext.direct.Manager.addTransaction(r),r.isForm&&(n=r.form,i="multipart/form-data"===String(n.getAttribute("enctype")).toLowerCase(),e={extTID:r.id,extAction:e,extMethod:t.name,extType:"rpc",extUpload:String(i)},r.metadata&&(e.extMetadata=Ext.JSON.encode(r.metadata)),Ext.apply(r,{form:n,isUpload:i,params:e})),this.queueTransaction(r),this.fireEvent("call",this,r,t))},configureTransaction:function(e,t,i){var n=t.getCallData(i),r=n.callback,o=n.scope,s=n.options;return r&&!Ext.isFunction(r)&&Ext.raise("Callback argument is not a function for Ext Direct method "+e+"."+t.name),r=r&&o?Ext.Function.bind(r,o):r,t=Ext.apply({},{provider:this,args:i,action:e,method:t.name,form:n.form,data:n.data,metadata:n.metadata,callbackOptions:s,callback:r,isForm:!!t.formHandler,disableBatching:t.disableBatching}),s&&null!=s.timeout&&(t.timeout=s.timeout),new Ext.direct.Transaction(t)},queueTransaction:function(e){var t=this,i=t.callBuffer,n=t.enableBuffer;e.isForm||!1===n||e.disableBatching||null!=e.timeout?t.sendTransaction(e):(i.push(e),n&&i.length<t.bufferLimit?(t.callTask||(t.callTask=new Ext.util.DelayedTask(t.combineAndSend,t)),t.callTask.delay(Ext.isNumber(n)?n:10)):t.combineAndSend())},combineAndSend:function(){var e=this.callBuffer,t=e.length;0<t&&(this.sendTransaction(1===t?e[0]:e),this.callBuffer=[])},sendTransaction:function(e){var t,i,n,r,o,s=this,a=s.enableUrlEncode,l={url:s.url,callback:s.onData,scope:s,transaction:e,headers:s.getHeaders()};if(null!=e.timeout?l.timeout=e.timeout:null!=s.timeout&&(l.timeout=s.timeout),e.isForm)Ext.apply(l,{params:e.params,form:e.form,isUpload:e.isUpload});else{if(Ext.isArray(e))for(t=[],r=0,o=e.length;r<o;++r)n=s.getPayload(e[r]),t.push(n);else t=s.getPayload(e);a?((i={})[Ext.isString(a)?a:"data"]=Ext.encode(t),l.params=i):l.jsonData=t}return s.sendAjaxRequest(l)},getPayload:function(e){var t={action:e.action,method:e.method,data:e.data,type:"rpc",tid:e.id};return e.metadata&&(t.metadata=e.metadata),t},onData:function(e,t,i){var n,r,o,s,a,l=this,d=t&&l.createEvents(i);if(t=d&&d.length&&!d[0].parsingError)for(n=0,r=d.length;n<r;++n)o=d[n],l.fireEvent("data",l,o),(s=l.getTransaction(o))&&(!1!==l.fireEvent("beforecallback",l,o,s)&&l.runCallback(s,o,!0),Ext.direct.Manager.removeTransaction(s));else for(a=[].concat(e.transaction),o=d[0]||new Ext.direct.ExceptionEvent({data:null,transaction:s,code:Ext.direct.Manager.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i}),n=0,r=a.length;n<r;++n)(s=l.getTransaction(a[n]))&&s.retryCount<l.maxRetries?s.retry():(l.fireEvent("data",l,o),l.fireEvent("exception",l,o),s&&!1!==l.fireEvent("beforecallback",l,o,s)&&l.runCallback(s,o,!1),Ext.direct.Manager.removeTransaction(s));l.callParent([e,t,i])},getTransaction:function(e){return e&&e.tid?Ext.direct.Manager.getTransaction(e.tid):null},runCallback:function(e,t){var i,n,r=!!t.status,o=r?"success":"failure";e&&e.callback&&(i=e.callback,n=e.callbackOptions,e=void 0!==t.result?t.result:t.data,Ext.isFunction(i)?i(e,t,r,n):(Ext.callback(i[o],i.scope,[e,t,r,n]),Ext.callback(i.callback,i.scope,[e,t,r,n])))},inheritableStatics:{checkConfig:function(e){return e&&"remoting"===e.type&&e.url&&Ext.isArray(e.actions)}}}),Ext.define("Ext.dom.GarbageCollector",{singleton:!0,interval:3e4,constructor:function(){this.lastTime=Ext.now(),this.onTick=this.onTick.bind(this),this.resume()},collect:function(){var t,e,i,n,r,o,s=Ext.cache,a=[];for(t in s)if(s.hasOwnProperty(t)&&!(i=s[t]).skipGarbageCollection){(e=i.dom)||Ext.raise("Missing DOM node in element garbage collection: "+t);try{r=Ext.isGarbage(e)}catch(e){delete s[t],a.push("#"+i.id);continue}r&&i&&i.dom&&(o=i.dom.tagName,i.collect(),a.push((o||"")+"#"+i.id))}if(Ext.isIE9m){for(t in n={},s)s.hasOwnProperty(t)&&(n[t]=s[t]);Ext.cache=Ext.dom.Element.cache=n}return this.lastTime=Ext.now(),a},onTick:function(){this.timerId=null,Ext.enableGarbageCollector&&this.collect(),this.resume()},pause:function(){var e=this.timerId;e&&(this.timerId=null,clearTimeout(e))},resume:function(){var e=this.lastTime;Ext.enableGarbageCollector&&Ext.now()-e>this.interval&&this.collect(),this.timerId||(this.timerId=Ext.defer(this.onTick,this.interval))}}),Ext.define("Ext.dom.TouchAction",{singleton:!0,requires:["Ext.dom.Element","Ext.util.Point"],lastTouchStartTime:0,minMoveDistance:8,spaceRe:/\s+/,preventSingle:null,preventMulti:null,disabledOverflowDom:null,panXCls:Ext.baseCSSPrefix+"touch-action-pan-x",panYCls:Ext.baseCSSPrefix+"touch-action-pan-y",cssValues:["none","pan-x","pan-y","pan-x pan-y","pinch-zoom","pan-x pinch-zoom","pan-y pinch-zoom","manipulation","double-tap-zoom","pan-x double-tap-zoom","pan-y double-tap-zoom","pan-x pan-y double-tap-zoom","pinch-zoom double-tap-zoom","pan-x pinch-zoom double-tap-zoom","pan-y pinch-zoom double-tap-zoom",""],objectValues:[{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!1},{panX:!1,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!1,doubleTapZoom:!0},{panX:!1,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!1,pinchZoom:!0,doubleTapZoom:!0},{panX:!1,panY:!0,pinchZoom:!0,doubleTapZoom:!0},{panX:!0,panY:!0,pinchZoom:!0,doubleTapZoom:!0}],attributeName:"data-extTouchAction",constructor:function(){var e=Ext.supports;if(e.PointerEvents?this.cssProp="touch-action":e.MSPointerEvents?this.cssProp="-ms-touch-action":e.TouchEvents&&(Ext.getWin().on({touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",scope:this,translate:!1,capture:!0,priority:5e3}),Ext.on({scroll:"onScroll",scope:this,destroyable:!0})),Ext.isFunction(Object.freeze))for(var t=this.objectValues,i=0,n=t.length;i<n;i++)Object.freeze(t[i])},containsTargets:function(e,t){for(var i=!0,n="touchend"===t.type?t.changedTouches:t.touches,r=0,o=n.length;r<o;r++)if(!e.contains(n[r].target)){i=!1;break}return i},disableOverflow:function(e,t){var i,n,r=t?"overflow-y":"overflow-x";if(!this.disabledOverflowDom&&!Ext.isiOS&&!Ext.getScrollbarSize().width)for(this.disabledOverflowDom=e,n=t?this.panXCls:this.panYCls;e;)"auto"!==(i=Ext.fly(e).getStyle(r))&&"scroll"!==i||Ext.fly(e).addCls(n),e=e.parentNode},get:function(e){var t=e.getAttribute(this.attributeName),e=null;return null!=t&&(e=this.objectValues[t]),e},getFlags:function(e){var t;return"number"==typeof e?t=e:(t=0,!1!==e.panX&&(t|=1),!1!==e.panY&&(t|=2),!1!==e.pinchZoom&&(t|=4),!1!==e.doubleTapZoom&&(t|=8)),t},lookupFlags:function(e){return e.getAttribute&&e.getAttribute(this.attributeName)},onScroll:function(){this.scrollOccurred=!0,this.isDoubleTap=!1},onTouchEnd:function(e){var t,i=e.target;if(0===e.touches.length){if(this.isDoubleTap)for(;i;)null!=(t=this.lookupFlags(i))&&(8&t||e.preventDefault()),i=i.parentNode;this.isDoubleTap=!1,this.preventSingle=null,this.preventMulti=null,this.resetOverflow()}},onTouchMove:function(e){var t,i,n,r,o,s,a=null,l=e.target,d=this.preventSingle,c=this.preventMulti,u=e.touches.length;if((1!==u||!1!==d)&&!1!==c){if(1<u&&!0===c||1===u&&!0===d)a=!0;else for(;l&&(null==(t=this.lookupFlags(l))||(t?1===u?(n=!!(2&t),(i=!!(1&t))&&n?a=!1:i||n?(r=e.getPoint(),s=this.startPoint,o=Ext.Element.getViewportScale(),Math.abs(r.getDistanceTo(this.startPoint)*o)>=this.minMoveDistance&&(o=Math.abs(r.x-s.x),s=Math.abs(r.y-s.y),a=!!(i&&o<s||n&&s<o))):a=!0):a=!!this.containsTargets(l,e)&&!(4&t):a=!0,!a));)l=l.parentNode;1===u?this.preventSingle=a:1<u&&(this.preventMulti=a),a&&e.preventDefault()}},onTouchStart:function(e){var t,i,n,r;if(1===e.touches.length)for(t=e.time,!this.scrollOccurred&&t-this.lastTouchStartTime<=500&&(this.isDoubleTap=!0),this.lastTouchStartTime=t,this.scrollOccurred=!1,this.startPoint=e.getPoint(),n=e.target;n;){if(i=this.lookupFlags(n),null!=i&&(r=!!(1&i))!=!!(2&i)){this.disableOverflow(n,r);break}n=n.parentNode}else this.isDoubleTap=!1},resetOverflow:function(){for(var e=this.disabledOverflowDom;e;)Ext.fly(e).removeCls([this.panXCls,this.panYCls]),e=e.parentNode;this.disabledOverflowDom=null},set:function(e,t){var i=this.cssProp,n=this.getFlags(t),t=this.attributeName;i&&Ext.fly(e).setStyle(i,this.cssValues[n]),15===n?e.removeAttribute(t):e.setAttribute(t,n)}}),Ext.define("Ext.drag.Constraint",{alias:"drag.constraint.base",mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"base",type:"drag.constraint"},config:{element:null,horizontal:!1,region:null,snap:null,source:null,vertical:!1,x:null,y:null},constructor:function(e){this.initConfig(e)},applyElement:function(e){return(e=e&&("boolean"==typeof e?this.getSource().getElement().parent():Ext.get(e)))||null},applySnap:function(e){return"number"==typeof e&&(e={x:e,y:e}),e},constrain:function(e,t){var i,n,r=e[0],o=e[1],s=this.constrainInfo,a=s.initial,l=s.x,d=s.y,e=s.snap;return s.vertical?r=a.x:(e&&e.x&&(r=e.xFn?e.x.call(this,t,r):this.doSnap(r,a.x,e.x)),l&&(null!==(i=l[0])&&r<i&&(r=i),null!==(n=l[1])&&n<r&&(r=n))),s.horizontal?o=a.y:(e&&e.y&&(o=e.yFn?e.y.call(this,t,o):this.doSnap(o,a.y,e.y)),d&&(null!==(i=d[0])&&o<i&&(o=i),null!==(n=d[1])&&n<o&&(o=n))),[r,o]},destroy:function(){this.setSource(null),this.setElement(null),this.callParent()},privates:{constrainValue:function(e,t,i){var n=null,r=null===e,o=null===t;return r&&o||(n=r?t:o?e:i(e,t)),n},doSnap:function(e,t,i){if(!i)return e;var n=(e-t)/i,e=Math.floor(n);return t+i*(n=n-e<=.5?e:e+1)},onDragStart:function(e){var t=this,i=t.getSnap(),n=t.getVertical(),r=t.getHorizontal(),o=t.getElement(),s=t.getRegion(),a=e.proxy,l=a.element,d=t.getX(),c=t.getY(),u=null,h=null,f=null,g=null,p=null,m=null,x=null,E=null;o&&(s=o.getRegion(!0)),s&&(n||(p=s.left,m=s.right-(l?a.width:0)),r||(x=s.top,E=s.bottom-(l?a.height:0))),n||!s&&!d||(d&&(u=d[0],h=d[1]),null===u&&null===h&&null===p&&null===m||(d=[u=t.constrainValue(u,p,Math.max),h=t.constrainValue(h,m,Math.min)])),r||!s&&!c||(c&&(f=c[0],g=c[1]),null===f&&null===g&&null===x&&null===E||(c=[f=t.constrainValue(f,x,Math.max),g=t.constrainValue(g,E,Math.min)])),i=i&&{x:i.x,xFn:"function"==typeof i.x,y:i.y,yFn:"function"==typeof i.y},t.constrainInfo={initial:e.element.initial,vertical:t.getVertical(),horizontal:t.getHorizontal(),x:d,y:c,snap:i}}}}),Ext.define("Ext.drag.Info",{requires:["Ext.Promise"],constructor:function(e,t){var i,n,r,o,s,a;e&&(i=this,n=(a=t.getXY())[0],r=a[1],s=(a=(o=(i.source=e).getElement()).getXY())[0],a=a[1],i.eventTarget=t.target,i.cursor={current:{x:n,y:r},delta:{x:0,y:0},initial:{x:n,y:r},offset:{x:n-s,y:r-a}},i.element={current:{x:s,y:a},delta:{x:0,y:0},initial:{x:s,y:a}},i.proxy={current:{x:s,y:a},delta:{x:0,y:0},initial:{x:s,y:a},element:o,isUnderCursor:!1,isElement:!0},i.types=[],i.data={},e.describe(i),s=e.getProxy().getElement(i),(a=i.proxy).isElement=s===e.getElement(),(a.element=s)&&(a.width=s.getWidth(),a.height=s.getHeight()),a.isElement&&((o=i.element).current=a.current,o.delta=a.delta),i.needsCursorCheck=a.element&&e.manager&&e.manager.pointerBug)},cursor:null,element:null,eventTarget:null,files:null,isNative:!1,proxy:null,source:null,target:null,types:null,valid:!1,clearData:function(e){Ext.Array.remove(this.types,e),delete this.data[e]},clone:function(){var e=new Ext.drag.Info;return e.cursor=Ext.merge({},this.cursor),e.data=Ext.apply({},this.data),e.element=Ext.merge({},this.element),e.eventTarget=this.eventTarget,e.proxy=Ext.merge({},this.proxy),e.source=this.source,e.target=this.target,e.types=Ext.Array.clone(this.types),e.valid=this.valid,e},getData:function(e){var t,i=this.data,n=this.dataTransfer;return n?t=n.getData(e):(this.finalized||Ext.raise("Unable to call getData until the drop is complete"),"function"==typeof(t=i[e])&&(i[e]=t=t.call(this.source,this)),t||0===t||(t="")),Ext.Promise.resolve(t)},setData:function(e,t){Ext.Array.include(this.types,e),this.data[e]=t},destroy:function(){var e=this;e.eventTarget=e.data=e.proxy=e.targetMap=e.targetMap=e.types=e.elementMap=e.possibleTargets=e.target=null,e.callParent()},privates:{data:null,dataTransfer:null,elementMap:null,possibleTargets:null,targetMap:null,copyNativeData:function(e,t){t=t.browserEvent.dataTransfer;this.target=e,this.dataTransfer=t,this.files=t.files},finalize:function(){var e=this.target;this.source;this.finalized=!0,e&&(e.info=null,e.handleDrop(this))},getAlignXY:function(e,t){var i=this.source,n=this.cursor.offset,r=i.getProxy(),o=this.proxy.element,i=i.getConstrain(),t=[e,t];return o&&(this.proxy.isElement?(t[0]-=n.x,t[1]-=n.y):t=r.adjustCursorOffset(this,t),i&&(t=i.constrain(t,this))),t},onNativeDragEnter:function(e,t){this.valid=e.accepts(this),(e.info=this).copyNativeData(e,t)},onNativeDragLeave:function(e,t){this.target===e&&(e.info=null,this.valid=!1,this.target=this.dataTransfer=this.files=null)},onNativeDragMove:function(e,t){this.copyNativeData(e,t)},onNativeDrop:function(e,t){this.copyNativeData(e,t),e.info=null},setActive:function(e){var t=this,i=t.source,n=t.target,r=n!==e;n&&r&&(n.handleDragLeave(t),n.info=null),(t.target=e)?(r&&(t.valid=!!t.possibleTargets[e.getId()]&&!1!==e.accepts(t),e.handleDragEnter(t),e.info=t),e.handleDragMove(t)):t.valid=!1,r&&i.getProxy().update(t)},update:function(e,t){var i=e.getXY(),n=i[0],r=i[1],o=this.getAlignXY(n,r),s=o[0],a=o[1],l=this.proxy,d=this.cursor,c=d.current,e=d.delta,i=d.initial,d=l.element;c.x=n,c.y=r,e.x=n-i.x,e.y=r-i.y,c=l.current,e=l.delta,i=l.initial,c.x=s,c.y=a,e.x=s-i.x,e.y=a-i.y,this.needsCursorCheck&&(l.isUnderCursor=!(n<s||r<a||n>l.width+s||r>l.height+a)),!t&&d&&d.setXY(o)}}}),Ext.define("Ext.drag.Item",{mixins:["Ext.mixin.Observable","Ext.mixin.Identifiable"],config:{autoDestroy:!0,element:null,groups:null},constructor:function(e){this.mixins.observable.constructor.call(this,e)},isDisabled:function(){return this.disabled},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},applyElement:function(e){return e?Ext.get(e):null},updateElement:function(e){this.setupListeners()},applyGroups:function(e){return"string"==typeof e&&(e=[e]),e},destroy:function(){var e=this.getElement();this.destroying=!0,this.setElement(null),e&&this.getAutoDestroy()&&e.destroy(),this.callParent(),this.destroying=!1},privates:{disabled:!1,getElListeners:Ext.privateFn,setupListeners:function(e){var t=this.elListeners;e=e||this.getElement(),t&&(t.destroy(),this.elListeners=null),e&&(this.elListeners=e.on(Ext.apply({scope:this,destroyable:!0},this.getElListeners())))}}}),Ext.define("Ext.drag.Manager",{singleton:!0,dragCls:Ext.baseCSSPrefix+"drag-body",pointerBug:Ext.isTouch||!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera,constructor:function(){this.targets={},this.nativeTargets=[],Ext.onReady(this.init,this)},init:function(){Ext.getDoc().on({scope:this,dragenter:{capture:!0,fn:"onNativeDragEnter"},dragleave:"onNativeDragLeave",dragover:"onNativeDragOver",drop:"onNativeDrop"})},destroy:function(){var e,t=this.targets;for(e in this.destroying=!0,t)t[e].destroy();this.targets=null,this.callParent(),this.destroying=!1},privates:{elementFromPoint:function(e,t){return Ext.rootInheritedState.rtl&&(e=Ext.Element.getViewportWidth()-e),Ext.dom.Element.fromPagePoint(e,t,!0)},getAtPoint:function(e){var t,i,n=e.cursor.current,r=e.elementMap,o=e.proxy.isUnderCursor,e=this.pointerBug&&o?e.proxy.element.dom:null;for(e&&(e.style.visibility="hidden"),i=this.elementFromPoint(n.x,n.y),e&&(e.style.visibility="visible");i;){if(t=r[i.id])return t;i=i.parentNode}return null},getNativeDragInfo:function(e){var t=this.nativeDragInfo;return t||(this.nativeDragInfo=t=new Ext.drag.Info,t.isNative=!0),t},onDragCancel:function(){Ext.getBody().removeCls(this.dragCls)},onDragEnd:function(e,t){e.finalize(),Ext.getBody().removeCls(this.dragCls)},onDragMove:function(e,t){this.processDrag(e)},onDragStart:function(e,t){var i,n,r,o,s,a,l,d=e.source,c=this.targets,d=d.getGroups(),u={},h={},f={},f={},h={};for(i in d&&(o=Ext.Array.toMap(d)),c){if(!(n=c[i]).isDisabled()){if(s=!1,r=n.getGroups(),o||r){if(o&&r)for(l=0,a=r.length;l<a;++l)if(o[r[l]]){s=!0;break}}else s=!0;s&&(h[i]=n)}f[(u[i]=n).getElement().id]=n}e.possibleTargets=h,e.targetMap=u,e.elementMap=f,Ext.getBody().addCls(this.dragCls),this.processDrag(e)},onNativeDragEnter:function(e){var t=this.nativeTargets,i=e.target;e.preventDefault(),t[t.length-1]!==i&&t.push(i)},onNativeDragLeave:function(e){var t=this.nativeTargets;Ext.Array.remove(t,e.target),0===t.length&&(this.nativeDragInfo=null)},onNativeDragOver:function(e){e.preventDefault()},onNativeDrop:function(e){e.preventDefault(),this.nativeTargets.length=0,this.nativeDragInfo=null},processDrag:function(e){e.setActive(this.getAtPoint(e))},register:function(e){this.targets[e.getId()]=e},unregister:function(e){this.destroying||delete this.targets[e.getId()]}}}),Ext.define("Ext.drag.Source",{extend:"Ext.drag.Item",defaultIdPrefix:"source-",requires:["Ext.GlobalEvents","Ext.drag.Constraint"],config:{activateOnLongPress:!1,activeCls:null,constrain:null,handle:null,proxy:"original",revert:!1},dragging:!1,constructor:function(e){var t=e&&e.describe;t&&(this.describe=t,delete(e=Ext.apply({},e)).describe),this.callParent([e]),this.manager=Ext.drag.Manager},describe:Ext.emptyFn,isDragging:function(){return this.dragging},beforeDragStart:Ext.emptyFn,onDragCancel:Ext.emptyFn,onDragEnd:Ext.emptyFn,onDragMove:Ext.emptyFn,onDragStart:Ext.emptyFn,applyActivateOnLongPress:function(e){return"string"==typeof e&&(e=[e]),e},updateActivateOnLongPress:function(e){this.isConfiguring||this.setupListeners()},updateActiveCls:function(e,t){this.dragging&&(t&&this.getElement().removeCls(t),e&&this.getElement().addCls(e))},applyConstrain:function(e){return e&&!e.$isClass&&(e.isRegion?e={region:e}:!e.isElement&&Ext.isObject(e)||(e={element:e}),e=Ext.apply({source:this},e),e=Ext.Factory.dragConstraint(e)),e},updateElement:function(e,t){e&&!this.getHandle()&&e.setTouchAction({panX:!1,panY:!1}),this.callParent([e,t])},updateHandle:function(){this.isConfiguring||this.setupListeners()},applyProxy:function(e){return e=e&&Ext.Factory.dragproxy(e)},updateProxy:function(e,t){t&&t.destroy(),e&&e.setSource(this)},destroy:function(){this.manager=this.initialEvent=null,this.setConstrain(null),this.setProxy(null),this.callParent()},privates:{draggingCls:Ext.baseCSSPrefix+"drag-dragging",info:null,revertCls:Ext.baseCSSPrefix+"drag-revert",canActivateOnLongPress:function(e){var t=this.getActivateOnLongPress();return!(!t||!0!==t&&!Ext.Array.contains(t,e.pointerType))},dragCleanup:function(e){var t=this.getActiveCls(),i=this.getProxy(),n=this.getElement(),r=e?e.proxy.element:null;t&&n.removeCls(t),r&&r.removeCls(this.draggingCls),i.cleanup(e),this.dragging=!1,this.initialEvent=this.info=null},getElListeners:function(){var e={touchstart:"handleTouchStart",dragstart:"handleDragStart",drag:"handleDragMove",dragend:"handleDragEnd",dragcancel:"handleDragCancel"},t=this.getHandle();return t&&(e.delegate=t),this.getActivateOnLongPress()&&(e.longpress="handleLongPress"),e},handleDragCancel:function(e){var t=this.info,i=this.manager;i&&i.onDragCancel(t,e),this.onDragCancel(t),this.hasListeners.dragcancel&&this.fireEvent("dragcancel",this,t,e),Ext.fireEvent("dragcancel",this,t,e),this.dragCleanup(t)},handleDragEnd:function(e){var t,i,n,r,o,s;this.dragging&&(i=(t=this).manager,n=t.getRevert(),o=(r=t.info).proxy.initial,s=t.info.proxy.element,r.update(e),i&&i.onDragEnd(r,e),t.onDragEnd(r),t.hasListeners.dragend&&t.fireEvent("dragend",t,r,e),Ext.fireEvent("dragend",t,r,e),n&&s?(s.addCls(t.revertCls),s.setXY([o.x,o.y],Ext.apply({callback:function(){s.removeCls(t.revertCls),t.dragCleanup(r)}},n))):t.dragCleanup(r))},handleDragMove:function(e){var t=this.info,i=this.manager;this.dragging&&(e.stopPropagation(),e.claimGesture(),t.update(e),i&&i.onDragMove(t,e),this.onDragMove(t),this.hasListeners.dragmove&&this.fireEvent("dragmove",this,t,e))},handleDragStart:function(e){var t,i=this,n=i.hasListeners,r=i.manager,o=i.getConstrain(),s=i.initialEvent;return!i.preventStart(e)&&(i.info=t=new Ext.drag.Info(i,s),i.setup(t),o&&o.onDragStart(t),t.update(e,!0),!(s=!1===i.beforeDragStart(t))&&n.beforedragstart&&(s=!1===i.fireEvent("beforedragstart",i,t,e)),s?(i.dragCleanup(),!1):(e.claimGesture(),i.dragging=!0,o=i.getActiveCls(),s=i.getElement(),o&&s.addCls(o),(o=t.proxy.element)&&o.addCls(i.draggingCls),t.update(e),r&&r.onDragStart(t,e),i.onDragStart(t),n.dragstart&&i.fireEvent("dragstart",i,t,e),void Ext.fireEvent("dragstart",i,t,e)))},handleLongPress:function(e){!this.isDisabled()&&this.canActivateOnLongPress(e)&&(this.initialEvent=e).startDrag()},handleTouchStart:function(e){this.isDisabled()||(this.initialEvent=e)},preventStart:function(e){return this.isDisabled()||!e.longpress&&this.canActivateOnLongPress(e)},setup:Ext.privateFn}}),Ext.define("Ext.drag.Target",{extend:"Ext.drag.Item",requires:["Ext.drag.Manager"],defaultIdPrefix:"target-",config:{invalidCls:"",validCls:""},constructor:function(e){var t=e&&e.accepts;t&&(this.accepts=t,delete(e=Ext.apply({},e)).accepts),this.callParent([e]),Ext.drag.Manager.register(this)},accepts:function(e){return!0},disable:function(){this.callParent(),this.setupListeners(null)},enable:function(){this.callParent(),this.setupListeners()},beforeDrop:Ext.emptyFn,onDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragLeave:Ext.emptyFn,onDragMove:Ext.emptyFn,updateInvalidCls:function(e,t){var i=this.info;this.doUpdateCls(i&&!i.valid,e,t)},updateValidCls:function(e,t){var i=this.info;this.doUpdateCls(i&&i.valid,e,t)},destroy:function(){Ext.drag.Manager.unregister(this),this.callParent()},privates:{doUpdateCls:function(e,t,i){var n=this.getElement();i&&n.removeCls(i),t&&e&&n.addCls(t)},getElListeners:function(){return{dragenter:"handleNativeDragEnter",dragleave:"handleNativeDragLeave",dragover:"handleNativeDragMove",drop:"handleNativeDrop"}},handleDrop:function(e){var t=this,i=t.hasListeners,n=e.valid;return t.getElement().removeCls([t.getInvalidCls(),t.getValidCls()]),!(!n||!1===t.beforeDrop(e))&&((!i.beforedrop||!1!==t.fireEvent("beforedrop",t,e))&&(t.onDrop(e),void(i.drop&&t.fireEvent("drop",t,e))))},handleDragEnter:function(e){var t=e.valid?this.getValidCls():this.getInvalidCls();t&&this.getElement().addCls(t),this.onDragEnter(e),this.hasListeners.dragenter&&this.fireEvent("dragenter",this,e)},handleDragLeave:function(e){this.getElement().removeCls([this.getInvalidCls(),this.getValidCls()]),this.onDragLeave(e),this.hasListeners.dragleave&&this.fireEvent("dragleave",this,e)},handleDragMove:function(e){this.onDragMove(e),this.hasListeners.dragmove&&this.fireEvent("dragmove",this,e)},handleNativeDragEnter:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragEnter(this,e),this.hasListeners.dragenter&&this.fireEvent("dragenter",this,t)},handleNativeDragLeave:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragLeave(this,e),this.hasListeners.dragleave&&this.fireEvent("dragleave",this,t)},handleNativeDragMove:function(e){var t=Ext.drag.Manager.getNativeDragInfo(e);t.onNativeDragMove(this,e),this.hasListeners.dragmove&&this.fireEvent("dragmove",this,t)},handleNativeDrop:function(e){var t=this.hasListeners,i=Ext.drag.Manager.getNativeDragInfo(e),n=i.valid;i.onNativeDrop(this,e),n&&(t.beforedrop&&!1===this.fireEvent("beforedrop",this,i)||t.drop&&this.fireEvent("drop",this,i))}}}),Ext.define("Ext.drag.proxy.None",{mixins:["Ext.mixin.Factoryable"],alias:"drag.proxy.none",factoryConfig:{aliasPrefix:"drag.proxy.",type:"dragproxy"},config:{source:null},constructor:function(e){var t=e&&e.getElement;t&&(this.getElement=t,delete(e=Ext.apply({},e)).getElement),this.initConfig(e)},cleanup:Ext.emptyFn,getElement:function(){return null},update:Ext.emptyFn,privates:{adjustCursorOffset:function(e,t){return t}}}),Ext.define("Ext.drag.proxy.Original",{extend:"Ext.drag.proxy.None",alias:"drag.proxy.original",getElement:function(e){return e.source.getElement()}}),Ext.define("Ext.drag.proxy.Placeholder",{extend:"Ext.drag.proxy.None",alias:"drag.proxy.placeholder",config:{cls:"",cursorOffset:[12,20],html:null,invalidCls:"",validCls:""},placeholderCls:Ext.baseCSSPrefix+"drag-proxy-placeholder",cleanup:function(){var e=this.element;e&&e.hide()},getElement:function(e){var t=this.element;return t||(this.element=t=Ext.getBody().createChild({cls:this.getCls(),html:this.getHtml()}),t.addCls(this.placeholderCls),t.setTouchAction({panX:!1,panY:!1})),t.show(),t},update:function(e){var t=this.element,i=this.getInvalidCls(),n=this.getValidCls(),r=e.valid;e.target?t.replaceCls(r?i:n,r?n:i):t.removeCls([i,n])},updateCls:function(e,t){var i=this.element;i&&(t&&i.removeCls(t),e&&i.addCls(e))},updateHtml:function(e){var t=this.element;t&&t.setHtml(e||"")},updateInvalidCls:function(e,t){this.doUpdateCls(e,t)},updateValidCls:function(e,t){this.doUpdateCls(e,t)},destroy:function(){this.element=Ext.destroy(this.element),this.callParent()},privates:{adjustCursorOffset:function(e,t){var i=this.getCursorOffset();return i&&(t[0]+=i[0]||0,t[1]+=i[1]||0),t},doUpdateCls:function(e,t){var i,n=this.element;n&&(t&&(i=e&&n.hasCls(t),n.removeCls(t)),e&&i&&n.addCls(e))}}}),Ext.define("Ext.event.gesture.Recognizer",{requires:["Ext.event.publisher.Gesture"],mixins:["Ext.mixin.Identifiable"],priority:0,handledEvents:[],isStarted:!1,config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(e){this.initConfig(e),Ext.event.publisher.Gesture.instance.registerRecognizer(this)},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:function(){return this.reset()},onTouchCancel:function(e){return this.cancel(e)},fire:function(e,t,i,n){this.getOnRecognized().call(this.getCallbackScope(),this,e,t,i,n)},cancel:function(e){return this.isStarted&&this.onCancel(e),this.reset()},onCancel:Ext.emptyFn,reset:function(){return this.isStarted=!1}}),Ext.define("Ext.event.gesture.SingleTouch",{extend:"Ext.event.gesture.Recognizer",isSingleTouch:!0,onTouchStart:function(e){if(1<e.touches.length)return this.cancel(e)}}),Ext.define("Ext.event.gesture.DoubleTap",{extend:"Ext.event.gesture.SingleTouch",priority:300,config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(e){var t,i=this.callParent([e]);return!1!==i&&(this.isStarted=!0,t=this.lastStartPoint=e.changedTouches[0].point,this.startPoint=this.startPoint||t,this.startTime=e.time,clearTimeout(this.singleTapTimer)),i},onTouchMove:function(e){var t=e.changedTouches[0].point,i=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.lastStartPoint)*i))>=this.getMoveDistance())return this.cancel(e)},onTouchEnd:function(e){var t,i=this,n=i.getMaxDuration(),r=e.time,o=e.target,s=i.lastTapTime,a=i.lastTarget,l=e.changedTouches[0].point;if(i.lastTapTime=r,i.lastTarget=o,s&&(t=r-s,t<=n&&(s=Ext.Element.getViewportScale(),Math.round(Math.abs(l.getDistanceTo(i.startPoint)*s))<=i.getTapDistance())))return o!==a?i.cancel(e):(i.lastTarget=null,i.lastTapTime=0,i.fire("doubletap",e,{touch:e.changedTouches[0],duration:t}),i.callParent([e]));r-i.startTime>n?(i.fire("singletap",e),i.reset()):i.setSingleTapTimer(e)},setSingleTapTimer:function(e){var t=this;t.singleTapTimer=Ext.defer(function(){t.fire("singletap",e),t.reset()},t.getMaxDuration())},reset:function(){return clearTimeout(this.singleTapTimer),this.startTime=this.lastTapTime=0,this.lastStartPoint=this.startPoint=this.singleTapTimer=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.doubleTap)}),Ext.define("Ext.event.gesture.Drag",{extend:"Ext.event.gesture.SingleTouch",priority:100,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callParent(arguments),this.initInfo()},initInfo:function(){this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0},longpress:!1}},onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.startTime=e.time,this.startPoint=e.changedTouches[0].point),t},tryDragStart:function(e){var t=e.changedTouches[0].point,i=this.getMinDistance(),n=Ext.Element.getViewportScale();i<=Math.round(Math.abs(t.getDistanceTo(this.startPoint)*n))&&this.doDragStart(e)},doDragStart:function(e,t){var i,n=e.changedTouches[0],r=n.point,o=this.info;t?(i=Ext.now(),this.startTime=i,this.startPoint=r,o.longpress=!0):i=e.time,this.isStarted=!0,this.previousPoint=this.lastPoint=r,this.resetInfo("x",e,n),this.resetInfo("y",e,n),o.time=i,this.fire("dragstart",e,o)},onTouchMove:function(e){var t,i,n=this;n.startPoint&&(n.isStarted||n.tryDragStart(e),n.isStarted&&(i=(t=e.changedTouches[0]).point,n.lastPoint&&(n.previousPoint=n.lastPoint),n.lastPoint=i,n.lastMoveEvent=e,n.updateInfo("x",e,t),n.updateInfo("y",e,t),n.info.time=e.time,n.fire("drag",e,n.info)))},onAxisDragEnd:function(e,t){var i=t.time-t.previousTime[e];0<i&&(t.flick.velocity[e]=(t[e]-t.previous[e])/i)},resetInfo:function(e,t,i){var n=this.lastPoint[e],r=this.startPoint[e],o=n-r,s=e.toUpperCase(),a=this.info;a.touch=i,a.delta[e]=o,a.absDelta[e]=Math.abs(o),a.previousTime[e]=this.startTime,a.previous[e]=r,a[e]=n,a.direction[e]=0,a["start"+s]=this.startPoint[e],a["previous"+s]=a.previous[e],a["page"+s]=a[e],a["delta"+s]=a.delta[e],a["absDelta"+s]=a.absDelta[e],a["previousDelta"+s]=0,a.startTime=this.startTime},updateInfo:function(e,t,i){var n=this.lastPoint[e],r=this.previousPoint[e],o=this.startPoint[e],s=n-o,a=this.info,l=a.direction,d=e.toUpperCase(),c=a.previous[e];a.touch=i,a.delta[e]=s,a.absDelta[e]=Math.abs(s),n!==c&&n!==a[e]&&(a.previous[e]=a[e],a.previousTime[e]=a.time),r<(a[e]=n)?l[e]=1:n<r&&(l[e]=-1),a["start"+d]=o,a["previous"+d]=a.previous[e],a["page"+d]=a[e],a["delta"+d]=a.delta[e],a["absDelta"+d]=a.absDelta[e],a["previousDelta"+d]=a.previous[e]-o,a.startTime=this.startTime},onTouchEnd:function(e){var t,i,n;return this.isStarted&&(i=(t=e.changedTouches[0]).point,n=this.info,this.lastPoint=i,this.updateInfo("x",e,t),this.updateInfo("y",e,t),n.time=e.time,this.onAxisDragEnd("x",n),this.onAxisDragEnd("y",n),this.fire("dragend",e,n)),this.callParent([e])},onCancel:function(e){var t=e.changedTouches[0],i=this.info;e.touches.length||(this.lastPoint=t.point),this.updateInfo("x",e,t),this.updateInfo("y",e,t),i.time=e.time,this.fire("dragcancel",e,i,!0)},reset:function(){return this.lastPoint=this.startPoint=this.previousPoint=this.lastPoint=this.lastMoveEvent=null,this.initInfo(),this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.drag)}),Ext.define("Ext.event.gesture.Swipe",{extend:"Ext.event.gesture.SingleTouch",priority:600,handledEvents:["swipestart","swipe","swipecancel"],config:{minDistance:80,maxOffset:35,maxDuration:1e3},onTouchStart:function(e){var t,i=this.callParent([e]);return!1!==i&&(t=e.changedTouches[0],this.startTime=e.time,this.isHorizontal=!0,this.isVertical=!0,this.startX=t.pageX,this.startY=t.pageY),i},onTouchMove:function(e){var t,i,n=this,r=e.changedTouches[0],o=r.pageX,s=r.pageY,a=o-n.startX,l=s-n.startY,d=Math.abs(o-n.startX),c=Math.abs(s-n.startY),o=e.time-n.startTime;return 0===d&&0===c||o>n.getMaxDuration()?n.cancel(e):(n.isHorizontal&&c>n.getMaxOffset()&&(n.isHorizontal=!1),n.isVertical&&d>n.getMaxOffset()&&(n.isVertical=!1),n.isVertical&&n.isHorizontal||(s=n.getMinDistance(),n.isHorizontal&&d<s?(t=a<0?"left":"right",i=d):n.isVertical&&c<s&&(t=l<0?"up":"down",i=c)),n.isHorizontal||n.isVertical?void(t&&!n.isStarted&&(n.isStarted=!0,n.fire("swipestart",e,{touch:r,direction:t,distance:i,duration:o}))):n.cancel(e))},onTouchEnd:function(e){var t,i,n,r,o,s,a,l,d,c=this;return!1!==c.onTouchMove(e)&&(s=(t=e.changedTouches[0]).pageX,a=t.pageY,i=s-c.startX,n=a-c.startY,r=Math.abs(i),o=Math.abs(n),s=c.getMinDistance(),a=e.time-c.startTime,c.isVertical&&o<s&&(c.isVertical=!1),c.isHorizontal&&r<s&&(c.isHorizontal=!1),c.isHorizontal?(l=i<0?"left":"right",d=r):c.isVertical&&(l=n<0?"up":"down",d=o),c.fire("swipe",e,{touch:t,direction:l,distance:d,duration:a})),this.callParent([e])},onCancel:function(e){this.fire("swipecancel",e,null,!0)},reset:function(){return this.startTime=this.isHorizontal=this.isVertical=this.startX=this.startY=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.swipe)}),Ext.define("Ext.event.gesture.EdgeSwipe",{extend:"Ext.event.gesture.Swipe",priority:500,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],config:{minDistance:60},onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(e=e.changedTouches[0],this.direction=null,this.isHorizontal=!0,this.isVertical=!0,this.startX=e.pageX,this.startY=e.pageY),t},onTouchMove:function(e){var t,i,n=this,r=e.changedTouches[0],o=r.pageX,s=r.pageY,a=o-n.startX,l=s-n.startY,d=Math.abs(s-n.startY),c=Math.abs(o-n.startX),u=n.getMinDistance(),h=n.getMaxOffset(),f=e.time-n.startTime,s=Ext.Viewport&&Ext.Element.getViewportWidth(),o=Ext.Viewport&&Ext.Element.getViewportHeight();if(n.isVertical&&h<c&&(n.isVertical=!1),n.isHorizontal&&h<d&&(n.isHorizontal=!1),n.isVertical&&n.isHorizontal&&(c<d?n.isHorizontal=!1:n.isVertical=!1),n.isHorizontal?(t=a<0?"left":"right",i=a):n.isVertical&&(t=l<0?"up":"down",i=l),"up"===(t=n.direction||(n.direction=t))?i=-1*l:"left"===t&&(i=-1*a),!(n.distance=i))return n.cancel(e);if(n.isStarted)n.fire("edgeswipe",e,{touch:r,direction:t,distance:i,duration:f});else{if("right"===t&&n.startX>u||"down"===t&&n.startY>u||"left"===t&&s-n.startX>u||"up"===t&&o-n.startY>u)return n.cancel(e);n.isStarted=!0,n.startTime=e.time,n.fire("edgeswipestart",e,{touch:r,direction:t,distance:i,duration:f})}},onTouchEnd:function(e){var t;return!1!==this.onTouchMove(e)&&(t=e.time-this.startTime,this.fire("edgeswipeend",e,{touch:e.changedTouches[0],direction:this.direction,distance:this.distance,duration:t})),this.reset()},onCancel:function(e){this.fire("edgeswipecancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){return this.direction=this.isHorizontal=this.isVertical=this.startX=this.startY=this.startTime=this.distance=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.edgeSwipe)}),Ext.define("Ext.event.gesture.LongPress",{extend:"Ext.event.gesture.SingleTouch",priority:400,config:{moveDistance:8,minDuration:1e3},handledEvents:["longpress","taphold"],onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.startPoint=e.changedTouches[0].point,this.setLongPressTimer(e)),t},setLongPressTimer:function(e){this.timer=Ext.defer(this.fireLongPress,this.getMinDuration(),this,[e])},onTouchMove:function(e){var t=e.changedTouches[0].point,i=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.startPoint)*i))>=this.getMoveDistance())return this.cancel(e)},reset:function(){return clearTimeout(this.timer),this.timer=this.startPoint=null,this.callParent()},fireLongPress:function(e){var t={touch:e.changedTouches[0],duration:this.getMinDuration(),startDrag:this.startDrag};this.fire("taphold",e,t),this.fire("longpress",e,t),this.reset()},startDrag:function(){var e=Ext.event.gesture.Drag.instance,t=this.parentEvent;e.doDragStart(t,!0),Ext.event.publisher.Gesture.instance.claimRecognizer(e,t)}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.longPress)}),Ext.define("Ext.event.gesture.MultiTouch",{extend:"Ext.event.gesture.Recognizer",requiredTouchesCount:2,isTracking:!1,isMultiTouch:!0,onTouchStart:function(e){var t=this.requiredTouchesCount,i=e.touches.length;if(i===t)this.isTracking=!0;else if(t<i)return this.cancel(e)},reset:function(){return this.isTracking=!1,this.callParent()}}),Ext.define("Ext.event.gesture.Pinch",{extend:"Ext.event.gesture.MultiTouch",priority:700,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(e){var t,i,n;this.isTracking&&(i=(t=e.touches)[0].point,n=t[1].point,0!==(n=i.getDistanceTo(n))&&(this.isStarted?this.fire("pinch",e,{touches:t,distance:n,scale:n/this.startDistance}):(this.isStarted=!0,this.startDistance=n,this.fire("pinchstart",e,{touches:t,distance:n,scale:1}))))},onTouchEnd:function(e){return this.isStarted&&this.fire("pinchend",e),this.callParent([e])},onCancel:function(e){this.fire("pinchcancel",e,null,!0)},reset:function(){return this.lastTouches=null,this.startDistance=0,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.pinch)}),Ext.define("Ext.event.gesture.Rotate",{extend:"Ext.event.gesture.MultiTouch",priority:800,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(e){var t,i,n,r,o,s,a=this;a.isTracking&&(t=e.touches,i=a.lastAngle,r=t[0].point,o=t[1].point,n=r.getAngleTo(o),null!==i&&(s=Math.abs(i-n),r=n+360,o=n-360,Math.abs(r-i)<s?n=r:Math.abs(o-i)<s&&(n=o)),a.lastAngle=n,a.isStarted?a.fire("rotate",e,{touches:t,angle:n,rotation:n-a.startAngle}):(a.isStarted=!0,a.startAngle=n,a.fire("rotatestart",e,{touches:t,angle:n,rotation:0})),a.lastTouches=Ext.Array.clone(t))},onTouchEnd:function(e){return this.isStarted&&this.fire("rotateend",e),this.callParent([e])},onCancel:function(e){this.fire("rotatecancel",e,null,!0)},reset:function(){return this.lastTouches=this.lastAngle=this.startAngle=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.rotate)}),Ext.define("Ext.event.gesture.Tap",{extend:"Ext.event.gesture.SingleTouch",priority:200,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(e){var t=this.callParent([e]);return!1!==t&&(this.isStarted=!0,this.startPoint=e.changedTouches[0].point),t},onTouchMove:function(e){var t=e.changedTouches[0].point,i=Ext.Element.getViewportScale();if(Math.round(Math.abs(t.getDistanceTo(this.startPoint)*i))>=this.getMoveDistance())return this.cancel(e)},onTouchEnd:function(e){return this.fire("tap",e,{touch:e.changedTouches[0]}),this.callParent([e])},onCancel:function(e){this.fire("tapcancel",e,{touch:e.changedTouches[0]},!0)},reset:function(){return this.startPoint=null,this.callParent()}},function(e){var t=Ext.manifest.gestures;e.instance=new e(t&&t.tap)}),Ext.define("Ext.event.publisher.Focus",{extend:"Ext.event.publisher.Dom",requires:["Ext.dom.Element","Ext.GlobalEvents"],type:"focus",handledEvents:["focusenter","focusleave","focusmove"],handledDomEvents:["focusin","focusout"],publishDelegatedDomEvent:function(e){var t=e.relatedTarget;"focusout"===e.type?null==t&&this.processFocusIn(e,e.target,document.body):(null!=t&&t.tagName||(t=document.body),this.processFocusIn(e,t,e.target))},processFocusIn:function(e,t,i){var n,r,o,s=[],a=Ext.fly(t),l=Ext.fly(i);if(!(a&&a.isFocusSuspended()||l&&l.isFocusSuspended())){for(r=t,n=Ext.dom.Element.getCommonAncestor(i,t,!0);r&&r!==n;r=r.parentNode)s.push(r);if(!s.length||(o=this.createSyntheticEvent("focusleave",e,t,i),this.publish(o,s),!o.stopped)){for(s.length=0,r=i;r&&r!==n;r=r.parentNode)s.push(r);l=this.createSyntheticEvent("focusenter",e,i,t),s.length&&(this.publish(l,s),l.stopped)||(s=this.getPropagatingTargets(n)).length&&(o=this.createSyntheticEvent("focusmove",e,i,t),this.publish(o,s),o.stopped)||Ext.GlobalEvents.fireEvent("focus",{event:l,toElement:i,fromElement:t})}}},createSyntheticEvent:function(e,t,i,n){t=new Ext.event.Event(t);return t.type=e,t.relatedTarget=n,t.target=i,t}},function(n){var r;n.instance=new n,Ext.supports.FocusinFocusoutEvents||this.override({handledDomEvents:["focus","blur"],publishDelegatedDomEvent:function(e){var t,i=this;i.callSuper([e]),t=e.target!==window&&e.target!==document,"blur"===e.type?(t?r=setTimeout(function(){r=0,i.processFocusIn(e,e.target,document.body),n.previousActiveElement=null},0):e.explicitOriginalTarget===n.previousActiveElement&&e.target===window&&(clearTimeout(r),r=0,i.processFocusIn(e,n.previousActiveElement,document.body),n.previousActiveElement=null),n.previousActiveElement=t?e.target:null):(clearTimeout(r),r=0,i.processFocusIn(e,n.previousActiveElement||document.body,t?e.target:document.body))}})}),Ext.define("Ext.fx.State",{isAnimatable:{"background-color":!0,"background-image":!0,"background-position":!0,"border-bottom-color":!0,"border-bottom-width":!0,"border-color":!0,"border-left-color":!0,"border-left-width":!0,"border-right-color":!0,"border-right-width":!0,"border-spacing":!0,"border-top-color":!0,"border-top-width":!0,"border-width":!0,bottom:!0,color:!0,crop:!0,"font-size":!0,"font-weight":!0,height:!0,left:!0,"letter-spacing":!0,"line-height":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,opacity:!0,"outline-color":!0,"outline-offset":!0,"outline-width":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,right:!0,"text-indent":!0,"text-shadow":!0,top:!0,"vertical-align":!0,visibility:!0,width:!0,"word-spacing":!0,"z-index":!0,zoom:!0,transform:!0},constructor:function(e){this.data={},this.set(e)},setConfig:function(e){return this.set(e),this},setRaw:function(e){return this.data=e,this},clear:function(){return this.setRaw({})},setTransform:function(e,t){var i,n,r=this.data,o=Ext.isArray(t),s=(s=r.transform)||(r.transform={translateX:0,translateY:0,translateZ:0,scaleX:1,scaleY:1,scaleZ:1,rotate:0,rotateX:0,rotateY:0,rotateZ:0,skewX:0,skewY:0});if("string"==typeof e)switch(e){case"translate":if(o){if(0==(i=t.length))break;if(s.translateX=t[0],1==i)break;if(s.translateY=t[1],2==i)break;s.translateZ=t[2]}else s.translateX=t;break;case"rotate":if(o){if(0==(i=t.length))break;if(s.rotateX=t[0],1==i)break;if(s.rotateY=t[1],2==i)break;s.rotateZ=t[2]}else s.rotate=t;break;case"scale":if(o){if(0==(i=t.length))break;if(s.scaleX=t[0],1==i)break;if(s.scaleY=t[1],2==i)break;s.scaleZ=t[2]}else s.scaleX=t,s.scaleY=t;break;case"skew":if(o){if(0==(i=t.length))break;if(s.skewX=t[0],1==i)break;s.skewY=t[1]}else s.skewX=t;break;default:s[e]=t}else for(n in e)e.hasOwnProperty(n)&&(t=e[n],this.setTransform(n,t))},set:function(e,t){var i,n=this.data;if("string"!=typeof e)for(i in e)t=e[i],"transform"===i?this.setTransform(t):n[i]=t;else"transform"===e?this.setTransform(t):n[e]=t;return this},unset:function(e){var t=this.data;return t.hasOwnProperty(e)&&delete t[e],this},getData:function(){return this.data}}),Ext.define("Ext.fx.animation.Abstract",{extend:"Ext.Evented",isAnimation:!0,requires:["Ext.fx.State"],config:{name:"",element:null,before:null,from:{},to:{},after:null,states:{},duration:300,easing:"linear",iteration:1,direction:"normal",delay:0,onBeforeStart:null,callback:null,onEnd:null,onBeforeEnd:null,scope:null,reverse:null,preserveEndState:!1,replacePrevious:!0},STATE_FROM:"0%",STATE_TO:"100%",DIRECTION_UP:"up",DIRECTION_DOWN:"down",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",stateNameRegex:/^(?:[\d\.]+)%$/,constructor:function(){return this.states={},this.callParent(arguments),this},applyElement:function(e){return Ext.get(e)},applyBefore:function(e,t){if(e)return Ext.factory(e,Ext.fx.State,t)},applyAfter:function(e,t){if(e)return Ext.factory(e,Ext.fx.State,t)},setFrom:function(e){return this.setState(this.STATE_FROM,e)},setTo:function(e){return this.setState(this.STATE_TO,e)},getFrom:function(){return this.getState(this.STATE_FROM)},getTo:function(){return this.getState(this.STATE_TO)},setStates:function(e){var t,i=this.stateNameRegex;for(t in e)i.test(t)&&this.setState(t,e[t]);return this},getStates:function(){return this.states},updateCallback:function(e){e&&this.setOnEnd(e)},end:function(){this.stop()},stop:function(){this.fireEvent("stop",this)},destroy:function(){this.stop(),this.callParent()},setState:function(e,t){var i=this.getStates(),n=Ext.factory(t,Ext.fx.State,i[e]);return n?i[e]=n:e===this.STATE_TO&&Ext.Logger.error("Setting and invalid '100%' / 'to' state of: "+t),this},getState:function(e){return this.getStates()[e]},getData:function(){var e,t,i=this,n=i.getStates(),r={},o=i.getBefore(),s=i.getAfter(),a=n[i.STATE_FROM],l=n[i.STATE_TO],a=a.getData(),l=l.getData();for(t in n)n.hasOwnProperty(t)&&(e=n[t].getData(),r[t]=e);return{before:o?o.getData():{},after:s?s.getData():{},states:r,from:a,to:l,duration:i.getDuration(),iteration:i.getIteration(),direction:i.getDirection(),easing:i.getEasing(),delay:i.getDelay(),onEnd:i.getOnEnd(),onBeforeEnd:i.getOnBeforeEnd(),onBeforeStart:i.getOnBeforeStart(),scope:i.getScope(),preserveEndState:i.getPreserveEndState(),replacePrevious:i.getReplacePrevious()}}}),Ext.define("Ext.fx.animation.Slide",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.SlideIn",alias:["animation.slide","animation.slideIn"],config:{direction:"left",out:!1,offset:0,easing:"auto",containerBox:"auto",elementBox:"auto",isElementBoxFit:!0,useCssTransform:!0},reverseDirectionMap:{up:"down",down:"up",left:"right",right:"left"},applyEasing:function(e){return"auto"===e?"ease-"+(this.getOut()?"in":"out"):e},getContainerBox:function(){var e=this._containerBox;return"auto"===e&&(e=this.getElement().getParent().getBox()),e},getElementBox:function(){var e=this._elementBox;return this.getIsElementBoxFit()?this.getContainerBox():("auto"===e&&(e=this.getElement().getBox()),e)},getData:function(){var e=this.getElementBox(),t=this.getContainerBox(),i=e||t,n=this.getFrom(),r=this.getTo(),o=this.getOut(),s=this.getOffset(),a=this.getDirection(),l=this.getUseCssTransform(),d=0,c=0;switch(this.getReverse()&&(a=this.reverseDirectionMap[a]),a){case this.DIRECTION_UP:c=o?t.top-i.top-i.height-s:t.bottom-i.bottom+i.height+s;break;case this.DIRECTION_DOWN:c=o?t.bottom-i.bottom+i.height+s:t.top-i.height-i.top-s;break;case this.DIRECTION_RIGHT:d=o?t.right-i.right+i.width+s:t.left-i.left-i.width-s;break;case this.DIRECTION_LEFT:d=o?t.left-i.left-i.width-s:t.right-i.right+i.width+s}return e=o?0:d,a=o?0:c,l?n.setTransform({translateX:e,translateY:a}):(n.set("left",e),n.set("top",a)),n=o?d:0,a=o?c:0,l?r.setTransform({translateX:n,translateY:a}):(r.set("left",n),r.set("top",a)),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.SlideOut",{extend:"Ext.fx.animation.Slide",alias:["animation.slideOut"],config:{out:!0}}),Ext.define("Ext.fx.animation.Fade",{extend:"Ext.fx.animation.Abstract",alternateClassName:"Ext.fx.animation.FadeIn",alias:["animation.fade","animation.fadeIn"],config:{out:!1,before:{display:null,opacity:0},after:{opacity:null},reverse:null},updateOut:function(e){var t=this.getTo(),i=this.getFrom();e?(i.set("opacity",1),t.set("opacity",0)):(i.set("opacity",0),t.set("opacity",1))}}),Ext.define("Ext.fx.animation.FadeOut",{extend:"Ext.fx.animation.Fade",alias:"animation.fadeOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.animation.Flip",{extend:"Ext.fx.animation.Abstract",alias:"animation.flip",config:{easing:"ease-in",direction:"right",half:!1,out:null},getData:function(){var e=this.getFrom(),t=this.getTo(),i=this.getDirection(),n=this.getOut(),r=this.getHalf()?90:180,o=1,s=1,a=0,l=0,d=0,c=0;switch(n?s=.8:o=.8,i){case this.DIRECTION_UP:n?d=r:a=-r;break;case this.DIRECTION_DOWN:n?d=-r:a=r;break;case this.DIRECTION_RIGHT:n?c=r:l=-r;break;case this.DIRECTION_LEFT:n?c=-r:l=r}return e.setTransform({rotateX:a,rotateY:l,scale:o}),t.setTransform({rotateX:d,rotateY:c,scale:s}),this.callParent()}}),Ext.define("Ext.fx.animation.Pop",{extend:"Ext.fx.animation.Abstract",alias:["animation.pop","animation.popIn"],alternateClassName:"Ext.fx.animation.PopIn",config:{out:!1,before:{display:null,opacity:0},after:{opacity:null}},getData:function(){var e=this.getTo(),t=this.getFrom();return this.getOut()?(t.set("opacity",1),t.setTransform({scale:1}),e.set("opacity",0),e.setTransform({scale:0})):(t.set("opacity",0),t.setTransform({scale:0}),e.set("opacity",1),e.setTransform({scale:1})),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.PopOut",{extend:"Ext.fx.animation.Pop",alias:"animation.popOut",config:{out:!0,before:{}}}),Ext.define("Ext.fx.Animation",{requires:["Ext.fx.animation.Slide","Ext.fx.animation.SlideOut","Ext.fx.animation.Fade","Ext.fx.animation.FadeOut","Ext.fx.animation.Flip","Ext.fx.animation.Pop","Ext.fx.animation.PopOut"],constructor:function(e){var t,i=Ext.fx.animation.Abstract;return"string"==typeof e?(t=e,e={}):e&&e.type&&(t=e.type),t&&((i=Ext.ClassManager.getByAlias("animation."+t))||Ext.Logger.error("Invalid animation type of: '"+t+"'")),Ext.factory(e,i)}}),Ext.define("Ext.fx.runner.Css",{extend:"Ext.Evented",requires:["Ext.fx.Animation"],prefixedProperties:{transform:!0,"transform-origin":!0,perspective:!0,"transform-style":!0,transition:!0,"transition-property":!0,"transition-duration":!0,"transition-timing-function":!0,"transition-delay":!0,animation:!0,"animation-name":!0,"animation-duration":!0,"animation-iteration-count":!0,"animation-direction":!0,"animation-timing-function":!0,"animation-delay":!0},lengthProperties:{top:!0,right:!0,bottom:!0,left:!0,width:!0,height:!0,"max-height":!0,"max-width":!0,"min-height":!0,"min-width":!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,"border-bottom-width":!0,"border-left-width":!0,"border-right-width":!0,"border-spacing":!0,"border-top-width":!0,"border-width":!0,"outline-width":!0,"letter-spacing":!0,"line-height":!0,"text-indent":!0,"word-spacing":!0,"font-size":!0,translate:!0,translateX:!0,translateY:!0,translateZ:!0,translate3d:!0,x:!0,y:!0},durationProperties:{"transition-duration":!0,"transition-delay":!0,"animation-duration":!0,"animation-delay":!0},angleProperties:{rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,skew:!0,skewX:!0,skewY:!0},lengthUnitRegex:/([a-z%]*)$/,DEFAULT_UNIT_LENGTH:"px",DEFAULT_UNIT_ANGLE:"deg",DEFAULT_UNIT_DURATION:"ms",customProperties:{x:!0,y:!0},formattedNameCache:{x:"left",y:"top"},transformMethods3d:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","scaleX","scaleY","scaleZ"],transformMethodsNo3d:["translateX","translateY","rotate","skewX","skewY","scaleX","scaleY"],constructor:function(){this.transformMethods=Ext.feature.has.Css3dTransforms?this.transformMethods3d:this.transformMethodsNo3d,this.vendorPrefix=Ext.browser.getStyleDashPrefix(),this.ruleStylesCache={},this.callParent()},getStyleSheet:function(){var e,t=this.styleSheet;return t||((e=document.createElement("style")).type="text/css",(document.head||document.getElementsByTagName("head")[0]).appendChild(e),e=document.styleSheets,this.styleSheet=t=e[e.length-1]),t},applyRules:function(e){var t,i,n,r,o,s,a,l=this.getStyleSheet(),d=this.ruleStylesCache,c=l.cssRules;for(t in e)for(s in i=e[t],void 0===(n=d[t])&&(o=c.length,l.insertRule(t+"{}",o),n=d[t]=c.item(o).style),r=(r=n.$cache)||(n.$cache={}),i)a=this.formatValue(i[s],s),r[s=this.formatName(s)]!==a&&(null===(r[s]=a)?n.removeProperty(s):n.setProperty(s,a,"important"));return this},applyStyles:function(e){var t,i,n,r,o,s;for(t in e)if(e.hasOwnProperty(t)&&(this.activeElement=i=document.getElementById(t),i))for(o in n=i.style,r=e[t])r.hasOwnProperty(o)&&(s=this.formatValue(r[o],o),o=this.formatName(o),null===s?n.removeProperty(o):n.setProperty(o,s,"important"));return this.activeElement=null,this},formatName:function(e){var t=this.formattedNameCache,i=t[e];return i||(i=!Ext.os.is.Tizen&&Ext.feature.has.CssTransformNoPrefix||!this.prefixedProperties[e]?e:this.vendorPrefix+e,t[e]=i),i},formatValue:function(e,t){var i,n,r,o,s,a,l,d=typeof e,c=this.DEFAULT_UNIT_LENGTH,u=this.customProperties[t];if(null===e)return"";if("string"==d){if(this.lengthProperties[t]){if(!(0<(l=e.match(this.lengthUnitRegex)[1]).length))return e+=c,u&&(e=this.getCustomValue(e,t)),e;l!==c&&Ext.Logger.error("Length unit: '"+l+"' in value: '"+e+"' of property: '"+t+"' is not valid for animation. Only 'px' is allowed")}return e}if("number"==d){if(0==e)return"0";if(this.lengthProperties[t])return e+=c,u&&(e=this.getCustomValue(e,t)),e;if(this.angleProperties[t])return e+this.DEFAULT_UNIT_ANGLE;if(this.durationProperties[t])return e+this.DEFAULT_UNIT_DURATION}else{if("transform"===t){for(s=[],r=0,o=(i=this.transformMethods).length;r<o;r++)n=i[r],s.push(n+"("+this.formatValue(e[n],n)+")");return s.join(" ")}if(Ext.isArray(e)){for(a=[],r=0,o=e.length;r<o;r++)a.push(this.formatValue(e[r],t));return 0<a.length?a.join(", "):"none"}}return e},getCustomValue:function(e,t){var i=Ext.fly(this.activeElement),n=e.match(this.lengthUnitRegex)[1];return"x"===t?e=i.translateXY(parseInt(e,10)).x:"y"===t&&(e=i.translateXY(null,parseInt(e,10)).y),e+n}}),Ext.define("Ext.fx.runner.CssTransition",{extend:"Ext.fx.runner.Css",requires:["Ext.AnimationQueue"],alternateClassName:"Ext.Animator",singleton:!0,listenersAttached:!1,constructor:function(){return this.runningAnimationsData={},this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on("transitionend","onTransitionEnd",this)},onTransitionEnd:function(e){var t=e.target,i=t.id;i&&this.runningAnimationsData.hasOwnProperty(i)&&this.refreshRunningAnimationsData(Ext.get(t),[e.browserEvent.propertyName])},getElementId:function(e){return e.getId?e.getId():e.id},onAnimationEnd:function(e,t,i,n,r){var o,s,a,l,d,c=this.getElementId(e),u=this.runningAnimationsData[c],h={},f={};if(i.un("stop","onAnimationStop",this),u&&(o=u.nameMap),h[c]=f,t.onBeforeEnd&&t.onBeforeEnd.call(t.scope||this,e,n),i.fireEvent("animationbeforeend",i,e,n),this.fireEvent("animationbeforeend",this,i,e,n),r||!n&&!t.preserveEndState)for(a=0,l=(s=t.toPropertyNames).length;a<l;a++)d=s[a],o&&!o.hasOwnProperty(d)&&(f[d]=null);t.after&&Ext.merge(f,t.after),this.applyStyles(h),t.onEnd&&t.onEnd.call(t.scope||this,e,n),i.fireEvent("animationend",i,e,n),this.fireEvent("animationend",this,i,e,n),Ext.AnimationQueue.stop(Ext.emptyFn,i)},onAllAnimationsEnd:function(e){var t=this.getElementId(e),i={};delete this.runningAnimationsData[t],i[t]={"transition-property":null,"transition-duration":null,"transition-timing-function":null,"transition-delay":null},this.applyStyles(i),this.fireEvent("animationallend",this,e)},hasRunningAnimations:function(e){var t=this.getElementId(e),e=this.runningAnimationsData;return e.hasOwnProperty(t)&&0<e[t].sessions.length},refreshRunningAnimationsData:function(e,t,i,n){var r=this.getElementId(e),r=this.runningAnimationsData[r];if(r){var o,s,a,l,d,c,u,h,f=r.nameMap,g=r.nameList,p=r.sessions,m=!1;if(i=Boolean(i),n=Boolean(n),!p)return this;if(0===(o=p.length))return this;if(n){for(r.nameMap={},d=g.length=0;d<o;d++)c=p[d],this.onAnimationEnd(e,c.data,c.animation,i,n);p.length=0}else for(d=0;d<o;d++){for(u=(c=p[d]).map,h=c.list,s=0,a=t.length;s<a;s++)u[l=t[s]]&&(delete u[l],Ext.Array.remove(h,l),c.length--,0==--f[l]&&(delete f[l],Ext.Array.remove(g,l)));0==c.length&&(p.splice(d,1),d--,o--,m=!0,this.onAnimationEnd(e,c.data,c.animation,i))}n||i||0!=p.length||!m||this.onAllAnimationsEnd(e)}},getRunningData:function(e){var t=this.runningAnimationsData;return t.hasOwnProperty(e)||(t[e]={nameMap:{},nameList:[],sessions:[]}),t[e]},getTestElement:function(){var e,t,i=this.testElement,n=this.iframe;return i?i.ownerDocument.defaultView!==n.contentWindow&&(n.contentDocument.body.appendChild(i),this.testElementComputedStyle=e.defaultView.getComputedStyle(i)):((n=this.iframe=document.createElement("iframe")).setAttribute("data-sticky",!0),n.setAttribute("tabIndex",-1),(t=n.style).setProperty("visibility","hidden","important"),t.setProperty("width","0px","important"),t.setProperty("height","0px","important"),t.setProperty("position","absolute","important"),t.setProperty("border","0px","important"),t.setProperty("zIndex","-1000","important"),document.body.appendChild(n),(e=n.contentDocument).open(),e.writeln("</body>"),e.close(),this.testElement=i=e.createElement("div"),i.style.setProperty("position","absolute","important"),e.body.appendChild(i),this.testElementComputedStyle=e.defaultView.getComputedStyle(i)),i},getCssStyleValue:function(e,t){var i=this.getTestElement(),n=this.testElementComputedStyle,r=i.style;return r.setProperty(e,t),Ext.browser.is.Firefox&&i.offsetHeight,t=n.getPropertyValue(e),r.removeProperty(e),t},run:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f,g,p,m,x,E,y,v,b,C,S,w,P,T=this,I=Ext.Function,k=T.lengthProperties,R={},M={},A={},D={};for(T.listenersAttached||T.attachListeners(),c=0,h=(e=Ext.Array.from(e)).length;c<h;c++){for(E in f=e[c],f=Ext.factory(f,Ext.fx.Animation),T.activeElement=t=f.getElement(),Ext.AnimationQueue.start(Ext.emptyFn,f),m=window.getComputedStyle(t.dom),A[i=T.getElementId(t)]=A=Ext.merge({},f.getData()),f.onBeforeStart&&f.onBeforeStart.call(f.scope||T,t),f.fireEvent("animationstart",f,A),T.fireEvent("animationstart",T,f,A),d=A.before,n=A.from,r=A.to,A.fromPropertyNames=o=[],A.toPropertyNames=s=[],r)r.hasOwnProperty(E)&&(r[E]=y=T.formatValue(r[E],E),x=T.formatName(E),(b=k.hasOwnProperty(E))||(y=T.getCssStyleValue(x,y)),n.hasOwnProperty(E)?(n[E]=v=T.formatValue(n[E],E),b||(v=T.getCssStyleValue(x,v)),y!==v&&(o.push(x),s.push(x))):y!==m.getPropertyValue(x)&&s.push(x));if(0!==(g=s.length)){for(0<(w=(P=T.getRunningData(i)).sessions).length&&T.refreshRunningAnimationsData(t,Ext.Array.merge(o,s),!0,A.replacePrevious),C=P.nameMap,S=P.nameList,p={},u=0;u<g;u++)p[E=s[u]]=!0,C.hasOwnProperty(E)?C[E]++:(C[E]=1,S.push(E));P={element:t,map:p,list:s.slice(),length:g,data:A,animation:f},w.push(P),f.on("stop","onAnimationStop",T),d=Ext.apply({},d),Ext.apply(d,n),0<S.length&&(o=Ext.Array.difference(S,o),s=Ext.Array.merge(o,s),d["transition-property"]=o),R[i]=d,M[i]=Ext.apply({},r),D[i]={"transition-property":s,"transition-duration":A.duration,"transition-timing-function":A.easing,"transition-delay":A.delay},f.startTime=Date.now()}else T.onAnimationEnd(t,A,f)}T.activeElement=null,l=T.$className,T.applyStyles(R),a=function(e){e.data===l&&e.source===window&&(window.removeEventListener("message",a,!1),T.applyStyles(M))},I.requestAnimationFrame(function(){Ext.isIE?(T.applyStyles(D),I.requestAnimationFrame(function(){window.addEventListener("message",a,!1),window.postMessage(l,"*")})):(Ext.merge(M,D),window.addEventListener("message",a,!1),window.postMessage(l,"*"))})},onAnimationStop:function(e){var t,i,n,r,o,s=this.runningAnimationsData;for(t in s)if(s.hasOwnProperty(t))for(n=0,r=(i=s[t].sessions).length;n<r;n++)(o=i[n]).animation===e&&this.refreshRunningAnimationsData(o.element,o.list.slice(),!1)}}),Ext.define("Ext.fx.Runner",{requires:["Ext.fx.runner.CssTransition"],constructor:function(){return new Ext.fx.runner.CssTransition}}),Ext.define("Ext.fx.animation.Cube",{extend:"Ext.fx.animation.Abstract",alias:"animation.cube",config:{before:{},after:{},direction:"right",out:!1},getData:function(){var e=this.getTo(),t=this.getFrom(),i=this.getBefore(),n=this.getAfter(),r=this.getOut(),o=this.getDirection(),s=this.getElement(),a=s.getWidth(),l=(s.getHeight(),r?"100% 100%":"0% 0%"),d=1,c=1,u={rotateY:0,translateZ:0},s={rotateY:0,translateZ:0};return"left"!=o&&"right"!=o||(r?(c=.5,s.translateZ=a,s.rotateY=-90):(d=.5,u.translateZ=a,u.rotateY=90)),i["transform-origin"]=l,n["transform-origin"]=null,e.set("transform",s),t.set("transform",u),t.set("opacity",d),e.set("opacity",c),this.callParent(arguments)}}),Ext.define("Ext.fx.animation.Wipe",{extend:"Ext.fx.Animation",alternateClassName:"Ext.fx.animation.WipeIn",config:{easing:"ease-out",direction:"right",out:!1},refresh:function(){var e,t=this.getElement().dom.getBoundingClientRect(),i=t.width,n=t.height,r=this.getFrom(),o=this.getTo(),s=this.getOut(),a=0,l=0,d=0,c=0;switch(this.getDirection()){case"up":c=s?(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",l=3*n+"px",n+"px"):(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",l=2*-n+"px",0);break;case"down":c=s?(e="-webkit-gradient(linear, left top, left bottom, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",l=2*-n+"px",0):(e="-webkit-gradient(linear, left top, left bottom, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",l=3*n+"px",n+"px");break;case"right":d=s?(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",a=2*-i+"px",0):(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",2*-i+"px");break;case"left":d=s?(e="-webkit-gradient(linear, right top, left top, from(transparent), to(#000), color-stop(66%, #000), color-stop(33%, transparent))",2*-i+"px"):(e="-webkit-gradient(linear, right top, left top, from(#000), to(transparent), color-stop(33%, #000), color-stop(66%, transparent))",a=2*-i+"px",0)}s||(t=l,l=c,c=t,t=a,a=d,d=t),r.set("mask-image",e),r.set("mask-size",3*i+"px "+3*n+"px"),r.set("mask-position-x",a),r.set("mask-position-y",l),o.set("mask-position-x",d),o.set("mask-position-y",c)}}),Ext.define("Ext.fx.animation.WipeOut",{extend:"Ext.fx.animation.Wipe",config:{out:!0}}),Ext.define("Ext.fx.easing.Bounce",{extend:"Ext.fx.easing.Abstract",config:{springTension:.3,acceleration:30,startVelocity:0},getValue:function(){var e=(Ext.Date.now()-this.getStartTime())/this.getAcceleration(),e=e*Math.pow(Math.E,-this.getSpringTension()*e);return this.getStartValue()+this.getStartVelocity()*e}}),Ext.define("Ext.fx.easing.Momentum",{extend:"Ext.fx.easing.Abstract",config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(e){e=Math.log(1-e/10);this.theta=e,this.alpha=e/this.getAcceleration()},updateStartVelocity:function(e){this.velocity=e*this.getAcceleration()},updateAcceleration:function(e){this.velocity=this.getStartVelocity()*e,this.alpha=this.theta/e},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var e=Ext.Date.now()-this.getStartTime();return Math.exp(e*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}}),Ext.define("Ext.fx.easing.BoundMomentum",{extend:"Ext.fx.easing.Abstract",requires:["Ext.fx.easing.Momentum","Ext.fx.easing.Bounce"],config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:.01,startVelocity:0},applyMomentum:function(e,t){return Ext.factory(e,Ext.fx.easing.Momentum,t)},applyBounce:function(e,t){return Ext.factory(e,Ext.fx.easing.Bounce,t)},updateStartTime:function(e){this.getMomentum().setStartTime(e),this.callParent(arguments)},updateStartVelocity:function(e){this.getMomentum().setStartVelocity(e)},updateStartValue:function(e){this.getMomentum().setStartValue(e)},reset:function(){return this.lastValue=null,this.isBouncingBack=!1,this.isOutOfBound=!1,this.callParent(arguments)},getValue:function(){var e,t=this.getMomentum(),i=this.getBounce(),n=t.getStartVelocity(),r=0<n?1:-1,o=this.getMinMomentumValue(),s=this.getMaxMomentumValue(),a=1==r?s:o,l=this.lastValue;if(0===n)return this.getStartValue();if(!this.isOutOfBound){if(e=t.getValue(),t=t.getVelocity(),Math.abs(t)<this.getMinVelocity()&&(this.isEnded=!0),o<=e&&e<=s)return e;this.isOutOfBound=!0,i.setStartTime(Ext.Date.now()).setStartVelocity(t).setStartValue(a)}return e=i.getValue(),this.isEnded||(this.isBouncingBack?Math.round(e)==a&&(this.isEnded=!0):null!==l&&(1==r&&e<l||-1==r&&l<e)&&(this.isBouncingBack=!0)),this.lastValue=e}}),Ext.define("Ext.fx.easing.EaseIn",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-in",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),i=this.getStartValue(),n=this.getEndValue(),r=this.distance,o=e/t,r=i+Math.pow(o,this.getExponent())*r;return t<=e?(this.isEnded=!0,n):r}}),Ext.define("Ext.fx.easing.EaseOut",{extend:"Ext.fx.easing.Linear",alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var e=Ext.Date.now()-this.getStartTime(),t=this.getDuration(),i=this.getStartValue(),n=this.getEndValue(),r=this.distance,o=1-e/t,r=i+(1-Math.pow(o,this.getExponent()))*r;return t<=e?(this.isEnded=!0,n):r}}),Ext.define("Ext.fx.easing.Easing",{requires:["Ext.fx.easing.Linear"],constructor:function(e){return Ext.factory(e,Ext.fx.easing.Linear,null,"easing")}}),Ext.define("Ext.fx.layout.card.Abstract",{extend:"Ext.Evented",isAnimation:!0,config:{direction:"left",duration:null,reverse:null,layout:null},updateLayout:function(e){e&&this.enable()},enable:function(){var e=this.getLayout();e&&e.on("beforeactiveitemchange","onActiveItemChange",this)},disable:function(){var e=this.getLayout();this.isAnimating&&this.stopAnimation(),e&&e.un("beforeactiveitemchange","onActiveItemChange",this)},onActiveItemChange:Ext.emptyFn,destroy:function(){var e=this.getLayout();this.isAnimating&&this.stopAnimation(),e&&e.un("beforeactiveitemchange","onActiveItemChange",this),this.setLayout(null),this.observableId&&this.fireEvent("destroy",this),this.callParent()}}),Ext.define("Ext.fx.layout.card.Style",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.Animation"],config:{inAnimation:{before:{visibility:null},preserveEndState:!1,replacePrevious:!0},outAnimation:{preserveEndState:!1,replacePrevious:!0}},constructor:function(e){var t;this.callParent([e]),this.endAnimationCounter=0,t=this.getInAnimation(),e=this.getOutAnimation(),t.on("animationend","incrementEnd",this),e.on("animationend","incrementEnd",this)},updateDirection:function(e){this.getInAnimation().setDirection(e),this.getOutAnimation().setDirection(e)},updateDuration:function(e){this.getInAnimation().setDuration(e),this.getOutAnimation().setDuration(e)},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)},incrementEnd:function(){this.endAnimationCounter++,1<this.endAnimationCounter&&(this.endAnimationCounter=0,this.fireEvent("animationend",this))},applyInAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},applyOutAnimation:function(e,t){return Ext.factory(e,Ext.fx.Animation,t)},updateInAnimation:function(e){e.setScope(this)},updateOutAnimation:function(e){e.setScope(this)},onActiveItemChange:function(e,t,i,n){var r,o,s;t&&i&&i.isPainted()&&(o=this.getInAnimation(),s=this.getOutAnimation(),r=t.renderElement,i=i.renderElement,o.setElement(r),s.setElement(i),s.setOnEnd(function(){n.resume()}),r.dom.style.setProperty("visibility","hidden","important"),t.show(),Ext.Animator.run([s,o]),n.pause())},destroy:function(){Ext.destroy(this.getInAnimation(),this.getOutAnimation()),this.callParent()}}),Ext.define("Ext.fx.layout.card.Slide",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.slide",config:{inAnimation:{type:"slide",easing:"ease-out"},outAnimation:{type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Cover",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cover",config:{reverse:null,inAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out"},outAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1},out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Reveal",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.reveal",config:{inAnimation:{easing:"ease-out",from:{opacity:.99},to:{opacity:1}},outAnimation:{before:{"z-index":100},after:{"z-index":0},type:"slide",easing:"ease-out",out:!0}},updateReverse:function(e){this.getInAnimation().setReverse(e),this.getOutAnimation().setReverse(e)}}),Ext.define("Ext.fx.layout.card.Fade",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.fade",config:{reverse:null,inAnimation:{type:"fade",easing:"ease-out"},outAnimation:{type:"fade",easing:"ease-out",out:!0}}}),Ext.define("Ext.fx.layout.card.Flip",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.flip",config:{duration:500,inAnimation:{type:"flip",half:!0,easing:"ease-out",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null}},outAnimation:{type:"flip",half:!0,easing:"ease-in",before:{"backface-visibility":"hidden"},after:{"backface-visibility":null},out:!0}},onActiveItemChange:function(e,t,i,n){var r=t.element.getParent();r.addCls(Ext.baseCSSPrefix+"layout-card-perspective"),this.on("animationend",function(){r.removeCls(Ext.baseCSSPrefix+"layout-card-perspective")},this,{single:!0}),this.callParent(arguments)},updateDuration:function(e){var t=e/2,i=this.getInAnimation(),e=this.getOutAnimation();i.setDelay(t),i.setDuration(t),e.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Pop",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.pop",config:{duration:500,inAnimation:{type:"pop",easing:"ease-out"},outAnimation:{type:"pop",easing:"ease-in",out:!0}},updateDuration:function(e){var t=e/2,i=this.getInAnimation(),e=this.getOutAnimation();i.setDelay(t),i.setDuration(t),e.setDuration(t)}}),Ext.define("Ext.fx.layout.card.Scroll",{extend:"Ext.fx.layout.card.Abstract",requires:["Ext.fx.easing.Linear"],alias:"fx.layout.card.scroll",config:{duration:150},constructor:function(e){this.initConfig(e)},getEasing:function(){var e=this.easing;return e||(this.easing=e=new Ext.fx.easing.Linear),e},updateDuration:function(e){this.getEasing().setDuration(e)},onActiveItemChange:function(e,t,i,n){var r,o,s,a,l,d=this.getDirection(),c=this.getEasing();t&&i&&(this.isAnimating&&this.stopAnimation(),t.setWidth("100%"),t.setHeight("100%"),a=(r=this.getLayout().container.innerElement).getWidth(),l=r.getHeight(),o=t.renderElement,s=i.renderElement,this.oldItem=i,this.newItem=t,this.containerElement=r,this.currentEventController=n,this.isReverse=i=this.getReverse(),t.show(),"right"==d?(d="left",this.isReverse=i=!i):"down"==d&&(d="up",this.isReverse=i=!i),"left"==d?i?(c.setConfig({startValue:a,endValue:0}),r.dom.scrollLeft=a,s.setLeft(a)):(c.setConfig({startValue:0,endValue:a}),o.setLeft(a)):i?(c.setConfig({startValue:l,endValue:0}),r.dom.scrollTop=l,s.setTop(l)):(c.setConfig({startValue:0,endValue:l}),o.setTop(l)),this.startAnimation(),n.pause())},startAnimation:function(){this.isAnimating=!0,this.getEasing().setStartTime(Date.now()),Ext.AnimationQueue.start(this.doAnimationFrame,this)},doAnimationFrame:function(){var e=this.getEasing(),t=this.getDirection(),t="left"!=t&&"right"!=t?"scrollTop":"scrollLeft";e.isEnded?this.stopAnimation():(e=e.getValue(),this.containerElement.dom[t]=e)},stopAnimation:function(){var e=this.getDirection(),t="setTop",i=this.oldItem,n=this.newItem;"left"!=e&&"right"!=e||(t="setLeft"),this.currentEventController.resume(),this.isReverse&&i&&i.renderElement&&i.renderElement.dom?i.renderElement[t](null):n&&n.renderElement&&n.renderElement.dom&&n.renderElement[t](null),Ext.AnimationQueue.stop(this.doAnimationFrame,this),this.isAnimating=!1,this.fireEvent("animationend",this)}}),Ext.define("Ext.fx.layout.Card",{requires:["Ext.fx.layout.card.Slide","Ext.fx.layout.card.Cover","Ext.fx.layout.card.Reveal","Ext.fx.layout.card.Fade","Ext.fx.layout.card.Flip","Ext.fx.layout.card.Pop","Ext.fx.layout.card.Scroll"],constructor:function(e){var t,i=Ext.fx.layout.card.Abstract;return e?("string"==typeof e?(t=e,e={}):e.type&&(t=e.type),e.elementBox=!1,t&&((i=Ext.ClassManager.getByAlias("fx.layout.card."+t))||Ext.Logger.error("Unknown card animation type: '"+t+"'")),Ext.factory(e,i)):null}}),Ext.define("Ext.fx.layout.card.Cube",{extend:"Ext.fx.layout.card.Style",alias:"fx.layout.card.cube",config:{reverse:null,inAnimation:{type:"cube"},outAnimation:{type:"cube",out:!0}}}),Ext.define("Ext.fx.layout.card.ScrollCover",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollcover",onActiveItemChange:function(e,t,i,n){var r,o,s;this.currentEventController=n,(this.inItem=t)&&i&&(s=this.getLayout().container.innerElement.getSize(),r=this.calculateXY(s),o={easing:this.getEasing(),duration:this.getDuration()},t.renderElement.dom.style.setProperty("visibility","hidden","important"),s=t.setTranslatable(!0).getTranslatable(),i.setTranslatable(!0).getTranslatable().translate({x:0,y:0}),s.translate({x:r.left,y:r.top}),s.getWrapper().dom.style.setProperty("z-index","100","important"),t.show(),s.on({animationstart:"onInAnimationStart",animationend:"onInAnimationEnd",scope:this}),s.translateAnimated({x:0,y:0},o),n.pause())},onInAnimationStart:function(){this.inItem.renderElement.dom.style.removeProperty("visibility")},onInAnimationEnd:function(){this.inItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}}),Ext.define("Ext.fx.layout.card.ScrollReveal",{extend:"Ext.fx.layout.card.Scroll",alias:"fx.layout.card.scrollreveal",onActiveItemChange:function(e,t,i,n){var r,o,s;this.currentEventController=n,this.outItem=i,(this.inItem=t)&&i&&(s=this.getLayout().container.innerElement.getSize(),r=this.calculateXY(s),o={easing:this.getEasing(),duration:this.getDuration()},s=i.setTranslatable(!0).getTranslatable(),i=t.setTranslatable(!0).getTranslatable(),s.getWrapper().dom.style.setProperty("z-index","100","important"),s.translate({x:0,y:0}),i.translate({x:0,y:0}),t.show(),s.on({animationend:"onOutAnimationEnd",scope:this}),s.translateAnimated({x:r.x,y:r.y},o),n.pause())},onOutAnimationEnd:function(){this.outItem.getTranslatable().getWrapper().dom.style.removeProperty("z-index"),this.currentEventController.resume()}}),Ext.define("Ext.fx.runner.CssAnimation",{extend:"Ext.fx.runner.Css",constructor:function(){return this.runningAnimationsMap={},this.elementEndStates={},this.animationElementMap={},this.keyframesRulesCache={},this.uniqueId=0,this.callParent(arguments)},attachListeners:function(){this.listenersAttached=!0,Ext.getWin().on({animationstart:"onAnimationStart",animationend:"onAnimationEnd",scope:this})},onAnimationStart:function(e){var t=e.browserEvent.animationName,i=this.animationElementMap[t],n=this.runningAnimationsMap[i][t],r=this.elementEndStates,e=r[i],t={};e&&(delete r[i],t[i]=e,this.applyStyles(t)),n.before&&(t[i]=n.before,this.applyStyles(t))},onAnimationEnd:function(e){var t=e.target,i=e.browserEvent.animationName,n=this.animationElementMap,r=n[i],e=this.runningAnimationsMap[r],r=e[i];r.onBeforeEnd&&r.onBeforeEnd.call(r.scope||this,t),r.onEnd&&r.onEnd.call(r.scope||this,t),delete n[i],delete e[i],this.removeKeyframesRule(i)},generateAnimationId:function(){return"animation-"+ ++this.uniqueId},run:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f,g,p,m={},x=this.elementEndStates,E=this.animationElementMap,y=this.runningAnimationsMap;for(this.listenersAttached||this.attachListeners(),o=0,s=(e=Ext.Array.from(e)).length;o<s;o++){for(l in a=e[o],n=(a=Ext.factory(a,Ext.fx.Animation)).getElement().getId(),E[r=a.getName()||this.generateAnimationId()]=n,i=(a=a.getData()).states,this.addKeyframesRule(r,i),(t=(t=y[n])||(y[n]={}))[r]=a,c=[],u=[],h=[],f=[],g=[],p=[],t)t.hasOwnProperty(l)&&(d=t[l],c.push(l),u.push(d.duration),h.push(d.easing),f.push(d.delay),g.push(d.direction),p.push(d.iteration));m[n]={"animation-name":c,"animation-duration":u,"animation-timing-function":h,"animation-delay":f,"animation-direction":g,"animation-iteration-count":p},a.preserveEndState&&(x[n]=i["100%"])}this.applyStyles(m)},addKeyframesRule:function(e,t){var i,n,r,o,s,a,l=this.getStyleSheet(),d=l.cssRules,c=d.length;for(i in l.insertRule("@"+this.vendorPrefix+"keyframes "+e+"{}",c),r=d[c],t){for(s in n=t[i],c=r.cssRules.length,o=[],n)a=this.formatValue(n[s],s),s=this.formatName(s),o.push(s+":"+a);r.insertRule(i+"{"+o.join(";")+"}",c)}return this},removeKeyframesRule:function(e){for(var t=this.getStyleSheet(),i=t.cssRules,n=0,r=i.length;n<r;n++)if(i[n].name===e){t.removeRule(n);break}return this}}),Ext.define("Ext.list.AbstractTreeItem",{extend:"Ext.Widget",isTreeListItem:!0,cachedConfig:{expandable:!1,expanded:!1,iconCls:"",leaf:!0,loading:!1,selected:!1,selectedParent:!1},config:{iconClsProperty:"iconCls",indent:null,owner:null,node:null,over:null,parentItem:null,text:{lazy:!0,$value:""},textProperty:"text"},updateNode:function(e){if(e){var t,i,n,r,o,s,a=this.itemMap;if(this.element.dom.setAttribute("data-recordId",e.internalId),!a)for(t=e.childNodes,i=this.getOwner(),this.itemMap=a={},r=0,n=t.length;r<n;++r)(s=t[r]).data.visible&&(o=i.createItem(s,this),a[s.internalId]=o,this.insertItem(o,null));this.setExpanded(e.isExpanded()),this.doNodeUpdate(e)}},updateSelected:function(e){if(!this.isConfiguring)for(var t=this.getParentItem();t&&!t.isRootListItem;)t.setSelectedParent(e),t=t.getParentItem()},collapse:function(){this.getNode().collapse()},expand:function(){this.getNode().expand()},getToolElement:Ext.emptyFn,insertItem:Ext.emptyFn,isExpanded:function(){return this.getExpanded()},isSelectionEvent:Ext.emptyFn,isToggleEvent:Ext.emptyFn,nodeCollapse:function(e,t){var i=this.getOwner(),i=this.preventAnimation?null:i.getAnimation();this.nodeCollapseBegin(i,t),i||this.nodeCollapseEnd(t)},nodeCollapseBegin:function(e,t){var i=this.getOwner();this.setExpanded(!1),i.fireEvent("itemcollapse",i,this)},nodeCollapseEnd:function(e){e||this.getOwner().updateLayout()},nodeExpand:function(e){var t=this.getOwner(),t=!this.getFloated()&&t.getAnimation();this.nodeExpandBegin(t),t||this.nodeExpandEnd()},nodeExpandBegin:function(e){var t=this.getOwner();this.setExpanded(!0),t.fireEvent("itemexpand",t,this)},nodeExpandEnd:function(){this.getOwner().updateLayout()},nodeInsert:function(e,t){var i,n=this.getOwner(),r=this.itemMap,o=e.internalId,s=n.getItem(e),a=null;s?((i=s.getParentItem()).removeItem(s),i!==this&&(i.doUpdateExpandable(),s.setParentItem(this))):s=this.getOwner().createItem(e,this),r[o]=s,t&&(a=r[t.internalId]),this.insertItem(s,a),this.doUpdateExpandable(),n.fireEvent("iteminsert",n,this,s,a),n.updateLayout()},nodeRemove:function(e){var t=this.itemMap,i=this.getOwner(),n=e.internalId,e=t[n];e&&(delete t[n],this.removeItem(e),e.destroy(),this.doUpdateExpandable(),i.fireEvent("itemremove",i,this,e),i.updateLayout())},nodeUpdate:function(e,t){this.doNodeUpdate(e)},removeItem:Ext.emptyFn,destroy:function(){var e,t=this.itemMap,i=this.getOwner();if(t){for(e in t)t[e].destroy();this.itemMap=null}i&&i.removeItem(this.getNode()),this.setNode(null),this.setParentItem(null),this.setOwner(null),this.callParent()},privates:{doNodeUpdate:function(e){var t=this.getTextProperty(),i=this.getIconClsProperty();t&&this.setText(e.data[t]),i&&this.setIconCls(e.data[i]),this.setLoading(e.isLoading()),this.setLeaf(e.isLeaf()),this.doUpdateExpandable()},doUpdateExpandable:function(){var e=this.getNode();this.setExpandable(e.isExpandable())},onClick:function(e){var t=this.getOwner(),i=this.getNode(),i={event:e,item:this,node:i,tree:t,select:!1!==i.get("selectable")&&this.isSelectionEvent(e),toggle:this.isToggleEvent(e)};!1!==t.fireEvent("itemclick",t,i)&&(i.toggle&&(this.toggleExpanded(),e.preventDefault()),i.select&&t.setSelection(this.getNode()))},toggleExpanded:function(){this.isExpanded()?this.collapse():this.expand()},updateIndent:function(e){var t,i=this.itemMap;for(t in i)i[t].setIndent(e)},updateOwner:function(e){this.parent=e}}}),Ext.define("Ext.list.RootTreeItem",{extend:"Ext.list.AbstractTreeItem",isRootListItem:!0,element:{reference:"element",tag:"ul",cls:Ext.baseCSSPrefix+"treelist-root-container"},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.element.appendChild(e.element)},isToggleEvent:function(e){return!1}}),Ext.define("Ext.list.TreeItem",{extend:"Ext.list.AbstractTreeItem",xtype:"treelistitem",collapsedCls:Ext.baseCSSPrefix+"treelist-item-collapsed",expandedCls:Ext.baseCSSPrefix+"treelist-item-expanded",floatedCls:[Ext.Widget.prototype.floatedCls,Ext.baseCSSPrefix+"treelist-item-floated"],floatedToolCls:Ext.baseCSSPrefix+"treelist-item-tool-floated",leafCls:Ext.baseCSSPrefix+"treelist-item-leaf",expandableCls:Ext.baseCSSPrefix+"treelist-item-expandable",hideIconCls:Ext.baseCSSPrefix+"treelist-item-hide-icon",loadingCls:Ext.baseCSSPrefix+"treelist-item-loading",selectedCls:Ext.baseCSSPrefix+"treelist-item-selected",selectedParentCls:Ext.baseCSSPrefix+"treelist-item-selected-parent",withIconCls:Ext.baseCSSPrefix+"treelist-item-with-icon",hoverCls:Ext.baseCSSPrefix+"treelist-item-over",rowHoverCls:Ext.baseCSSPrefix+"treelist-row-over",isTreeListItem:!0,config:{rowCls:null},rowClsProperty:"rowCls",element:{reference:"element",tag:"li",cls:Ext.baseCSSPrefix+"treelist-item",children:[{reference:"rowElement",cls:Ext.baseCSSPrefix+"treelist-row",children:[{reference:"wrapElement",cls:Ext.baseCSSPrefix+"treelist-item-wrap",children:[{reference:"iconElement",cls:Ext.baseCSSPrefix+"treelist-item-icon"},{reference:"textElement",cls:Ext.baseCSSPrefix+"treelist-item-text"},{reference:"expanderElement",cls:Ext.baseCSSPrefix+"treelist-item-expander"}]}]},{reference:"itemContainer",tag:"ul",cls:Ext.baseCSSPrefix+"treelist-container"},{reference:"toolElement",cls:Ext.baseCSSPrefix+"treelist-item-tool"}]},constructor:function(e){this.callParent([e]);e=this.toolElement.dom;e.parentNode.removeChild(e)},getToolElement:function(){return this.toolElement},insertItem:function(e,t){t?e.element.insertBefore(t.element):this.itemContainer.appendChild(e.element)},isSelectionEvent:function(e){var t=this.getOwner();return!this.isToggleEvent(e)||!t.getExpanderOnly()||t.getSelectOnExpander()},isToggleEvent:function(e){return this.getOwner().getExpanderOnly()?e.target===this.expanderElement.dom:!this.itemContainer.contains(e.target)},nodeCollapseBegin:function(e,t){var i,n=this.itemContainer;this.expanding&&this.stopAnimation(this.expanding),i=e&&n.getHeight(),this.callParent([e,t]),e&&(n.dom.style.display="block",this.collapsingForExpand=t,this.collapsing=this.runAnimation(Ext.merge({from:{height:i},to:{height:0},callback:this.nodeCollapseDone,scope:this},e)))},nodeCollapseDone:function(e){var t=this.itemContainer;this.collapsing=null,t.dom.style.display="",t.setHeight(null),this.nodeCollapseEnd(this.collapsingForExpand)},nodeExpandBegin:function(e){var t,i=this.itemContainer;this.collapsing&&this.stopAnimation(this.collapsing),this.callParent([e]),e&&(t=i.getHeight(),i.setHeight(0),this.expanding=this.runAnimation(Ext.merge({to:{height:t},callback:this.nodeExpandDone,scope:this},e)))},nodeExpandDone:function(){this.expanding=null,this.itemContainer.setHeight(null),this.nodeExpandEnd()},removeItem:function(e){this.itemContainer.removeChild(e.element)},updateNode:function(e,t){this.syncIndent(),this.callParent([e,t])},updateExpandable:function(){this.updateExpandCls()},updateExpanded:function(){this.updateExpandCls()},updateIconCls:function(e,t){var i=this.element;this.doIconCls(this.iconElement,e,t),this.doIconCls(this.toolElement,e,t),i.toggleCls(this.withIconCls,!!e),i.toggleCls(this.hideIconCls,null===e)},updateLeaf:function(e){this.element.toggleCls(this.leafCls,e)},updateLoading:function(e){this.element.toggleCls(this.loadingCls,e)},updateOver:function(e){this.element.toggleCls(this.hoverCls,!!e),this.rowElement.toggleCls(this.rowHoverCls,1<e)},updateRowCls:function(e,t){this.rowElement.replaceCls(t,e)},updateSelected:function(e,t){var i=this.selectedCls,n=this.getToolElement();this.callParent([e,t]),this.element.toggleCls(i,e),n&&n.toggleCls(i,e)},updateSelectedParent:function(e){this.element.toggleCls(this.selectedParentCls,e);var t=this.getToolElement();t&&t.toggleCls(this.selectedCls,e)},updateText:function(e){this.textElement.update(e)},privates:{doNodeUpdate:function(e){this.callParent([e]),this.setRowCls(e&&e.data[this.rowClsProperty])},doIconCls:function(e,t,i){i&&e.removeCls(i),t&&e.addCls(t)},syncIndent:function(){var e=this.getIndent(),t=this.getNode();t&&(t=t.data.depth-1,this.wrapElement.dom.style.marginLeft=t*e+"px")},updateExpandCls:function(){var e,t,i,n,r;this.updatingExpandCls||(e=this.getExpandable(),t=this.element,i=this.getExpanded(),n=this.expandedCls,r=this.collapsedCls,this.updatingExpandCls=!0,t.toggleCls(this.expandableCls,e),e?(t.toggleCls(n,i),t.toggleCls(r,!i)):t.removeCls([n,r]),this.updatingExpandCls=!1)},updateIndent:function(e,t){this.syncIndent(),this.callParent([e,t])}}}),Ext.define("Ext.overrides.list.TreeItem",{override:"Ext.list.TreeItem",config:{floated:null},setFloated:function(e){var t,i,n=this,r=n.element,o=n.placeholder;n.treeItemFloated!==e&&(e?((o=r.clone(!1,!0)).id+="-placeholder",n.placeholder=Ext.get(o),n.wasExpanded=n.getExpanded(),n.setExpanded(!0),r.addCls(n.floatedCls),r.dom.parentNode.insertBefore(o,r.dom),n.floater=n.createFloater()):o&&(i=n.wasExpanded,t=n.getNode(),n.setExpanded(i),!i&&t.isExpanded()&&(n.preventAnimation=!0,t.collapse(),n.preventAnimation=!1),n.floater.remove(n,!1),r.removeCls(n.floatedCls),o.dom.parentNode.insertBefore(r.dom,o.dom),o.destroy(),n.floater.destroy(),n.placeholder=n.floater=null),n.treeItemFloated=e)},getFloated:function(){return this.treeItemFloated},runAnimation:function(e){return this.itemContainer.addAnimation(e)},stopAnimation:function(e){e.jumpToEnd()},privates:{createFloater:function(){var t=this.getOwner(),e=this.up("treelist"),i=this.getToolElement();return this.floater=e=new Ext.container.Container({cls:e.self.prototype.element.cls+" "+e.uiPrefix+e.getUi()+" "+Ext.baseCSSPrefix+"treelist-floater",floating:!0,width:Ext.isIE8?200:e.expandedWidth-i.getWidth(),shadow:!1,renderTo:Ext.getBody(),listeners:{element:"el",click:function(e){return t.onClick(e)}}}),e.add(this),e.show(),e.el.alignTo(i,"tr?"),e}}}),Ext.define("Ext.list.Tree",{extend:"Ext.Widget",xtype:"treelist",requires:["Ext.list.RootTreeItem"],expanderFirstCls:Ext.baseCSSPrefix+"treelist-expander-first",expanderOnlyCls:Ext.baseCSSPrefix+"treelist-expander-only",highlightPathCls:Ext.baseCSSPrefix+"treelist-highlight-path",microCls:Ext.baseCSSPrefix+"treelist-micro",uiPrefix:Ext.baseCSSPrefix+"treelist-",element:{reference:"element",cls:Ext.baseCSSPrefix+"treelist "+Ext.baseCSSPrefix+"unselectable",listeners:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseover:"onMouseOver"},children:[{reference:"toolsElement",cls:Ext.baseCSSPrefix+"treelist-toolstrip",listeners:{click:"onToolStripClick",mouseover:"onToolStripMouseOver"}}]},cachedConfig:{animation:{duration:500,easing:"ease"},expanderFirst:!0,expanderOnly:!0},config:{defaults:{xtype:"treelistitem"},highlightPath:null,iconSize:null,indent:null,micro:!1,overItem:null,selection:null,selectOnExpander:!1,singleExpand:null,store:null,ui:null},twoWayBindable:{selection:1},publishes:{selection:1},defaultBindProperty:"store",constructor:function(e){this.callParent([e]),this.publishState("selection",this.getSelection()),Ext.isIE8||this.el.on({resize:this.onElResize,buffer:300,scope:this})},beforeLayout:function(){this.syncIconSize()},destroy:function(){this.destroying=!0,this.unfloatAll(),this.activeFloater=null,this.setSelection(null),this.setStore(null),this.callParent()},updateOverItem:function(e,t){for(var i,n={},r=2,o=e;o;o=this.getItem(i.parentNode))n[(i=o.getNode()).internalId]=!0,o.setOver(r),r=1;if(t)for(o=t;o&&!n[(i=o.getNode()).internalId];o=this.getItem(i.parentNode))o.setOver(0)},applyMicro:function(e){return Boolean(e)},applySelection:function(e,t){return this.getStore()||(e=null),e&&!1===e.get("selectable")&&(e=t),e},updateSelection:function(e,t){this.destroying||((t=this.getItem(t))&&t.setSelected(!1),(t=this.getItem(e))&&t.setSelected(!0),this.fireEvent("selectionchange",this,e))},applyStore:function(e){return e&&Ext.StoreManager.lookup(e,"tree")},updateStore:function(e,t){t&&(t.destroyed||(t.getAutoDestroy()?t:this.storeListeners).destroy(),this.removeRoot(),this.storeListeners=null),e&&(this.storeListeners=e.on({destroyable:!0,scope:this,filterchange:"onFilterChange",nodeappend:"onNodeAppend",nodecollapse:"onNodeCollapse",nodeexpand:"onNodeExpand",nodeinsert:"onNodeInsert",noderemove:"onNodeRemove",rootchange:"onRootChange",update:"onNodeUpdate"}),(e=e.getRoot())&&this.createRootItem(e)),this.destroying||this.updateLayout()},updateExpanderFirst:function(e){this.element.toggleCls(this.expanderFirstCls,e)},updateExpanderOnly:function(e){this.element.toggleCls(this.expanderOnlyCls,!e)},updateHighlightPath:function(e){this.element.toggleCls(this.highlightPathCls,e)},onElResize:function(e,t){this.getMicro()||(this.expandedWidth=t.width)},updateMicro:function(e){e||(this.unfloatAll(),this.activeFloater=null),this.element.toggleCls(this.microCls,e)},updateUi:function(e,t){var i=this.element,n=this.uiPrefix;t&&i.removeCls(n+t),e&&i.addCls(n+e),delete this.iconSize,this.syncIconSize()},getItem:function(e){var t,i=this.itemMap;return e&&i&&(t=i[e.internalId]),t||null},getItemConfig:function(e,t){return Ext.apply({parentItem:t.isRootListItem?null:t,owner:this,node:e,indent:this.getIndent()},this.getDefaults())},privates:{checkForOutsideClick:function(e){this.activeFloater.element.contains(e.target)||this.unfloatAll()},collapsingForExpand:!1,createItem:function(e,t){var i,n=Ext.create(this.getItemConfig(e,t)),r=this.toolsElement;return t.isRootListItem&&(i=n.getToolElement())&&((t=this.findVisiblePreviousSibling(e))?(t=this.getItem(t),i.insertAfter(t.getToolElement())):r.insertFirst(i),i.dom.setAttribute("data-recordId",e.internalId),i.isTool=!0),this.itemMap[e.internalId]=n},createRootItem:function(e){var t;this.itemMap={},this.rootItem=t=new Ext.list.RootTreeItem({indent:this.getIndent(),node:e,owner:this}),this.element.appendChild(t.element),this.itemMap[e.internalId]=t},findVisiblePreviousSibling:function(e){for(var t=e.previousSibling;t;){if(t.data.visible)return t;t=t.previousSibling}return null},floatItem:function(e,t){var i=this;e.getFloated()||(i.toolMouseListeners&&(i.toolMouseListeners.destroy(),i.floaterMouseListeners.destroy()),i.unfloatAll(),i.activeFloater=e,i.floatedByHover=t,e.setFloated(!0),t?(i.toolMouseListeners=e.getToolElement().monitorMouseLeave(300,i.checkForMouseLeave,i),i.floaterMouseListeners=(e.floater||e).el.monitorMouseLeave(300,i.checkForMouseLeave,i)):Ext.on("mousedown","checkForOutsideClick",i))},onClick:function(e){var t,i=e.getTarget("[data-recordId]");i&&(t=i.getAttribute("data-recordId"),(i=this.itemMap[t])&&i.onClick(e))},onMouseEnter:function(e){this.onMouseOver(e)},onMouseLeave:function(){this.setOverItem(null)},onMouseOver:function(e){e=Ext.Component.fromElement(e.getTarget());this.setOverItem(e&&e.isTreeListItem&&e)},checkForMouseLeave:function(e){var t=this.activeFloater,e=e.getRelatedTarget();t&&(e===t.getToolElement().dom||t.element.contains(e)||this.unfloatAll())},onFilterChange:function(e){this.onRootChange(e.getRoot())},onNodeAppend:function(e,t){!e||(e=this.itemMap[e.internalId])&&e.nodeInsert(t,null)},onNodeCollapse:function(e){var t=this.itemMap[e.internalId];t&&t.nodeCollapse(e,this.collapsingForExpand)},onNodeExpand:function(e){var t,i,n,r,o=this.itemMap[e.internalId];if(o){if(!o.isRootItem&&this.getSingleExpand()){for(this.collapsingForExpand=!0,n=0,i=(t=(o.getParentItem()||this.rootItem).getNode().childNodes).length;n<i;++n)(r=t[n])!==e&&r.collapse();this.collapsing=!1}o.nodeExpand(e)}},onNodeInsert:function(e,t,i){e=this.itemMap[e.internalId];e&&e.nodeInsert(t,i)},onNodeRemove:function(e,t,i){!e||i||(e=this.itemMap[e.internalId])&&e.nodeRemove(t)},onNodeUpdate:function(e,t,i,n){var r=this.itemMap[t.internalId];r&&r.nodeUpdate(t,n)},onRootChange:function(e){this.removeRoot(),e&&this.createRootItem(e),this.updateLayout(),this.fireEvent("refresh",this)},removeItem:function(e){var t,i=this.itemMap,n=e.internalId;i&&(null===(e=i[n]).getParentItem()&&(t=e.getToolElement())&&this.toolsElement.removeChild(t),delete i[n])},removeRoot:function(){var e=this.rootItem;e&&(this.element.removeChild(e.element),this.rootItem=this.itemMap=Ext.destroy(e))},onToolStripClick:function(e){var t=e.getTarget("[data-recordId]");t&&(e=t.getAttribute("data-recordId"),(t=this.itemMap[e])&&(t===this.activeFloater?this.unfloatAll():this.floatItem(t,!1)))},onToolStripMouseOver:function(e){var t=e.getTarget("[data-recordId]");t&&(e=t.getAttribute("data-recordId"),(t=this.itemMap[e])&&this.floatItem(t,!0))},syncIconSize:function(){var e=this.iconSize||(this.iconSize=parseInt(this.element.getStyle("background-position"),10));this.setIconSize(e)},unfloatAll:function(){var e=this.activeFloater;e&&(e.setFloated(!1),this.activeFloater=null,this.floatedByHover?(e.getToolElement().un("mouseleave","checkForMouseLeave",this),e.element.un({scope:this,mouseleave:"checkForMouseLeave",mouseover:"onMouseOver"})):Ext.un("mousedown","checkForOutsideClick",this))},defaultIconSize:22,updateIconSize:function(e){this.setIndent(e||this.defaultIconSize)},updateIndent:function(e){var t=this.rootItem;t&&t.setIndent(e)}}}),Ext.define("Ext.mixin.ConfigState",{extend:"Ext.Mixin",mixinConfig:{id:"configstate"},alternateStateConfig:"",toggleConfigState:function(e){var t,i=this.capturedConfigState,n=this.getConfig(this.alternateStateConfig);if(n)if(e){for(t in i={},n)i[t]=this.getConfig(t);this.capturedConfigState=i,this.setConfig(n)}else!this.isConfiguring&&i&&(this.setConfig(i),delete this.capturedConfigState)}}),Ext.define("Ext.mixin.Container",{extend:"Ext.Mixin",mixinConfig:{id:"container"},isContainer:!0,config:{referenceHolder:!1},getReferences:function(){return Ext.ComponentManager.fixReferences(),this.refs||null},lookup:function(e){var t=this.getReferences();return t&&t[e]||null},lookupReference:function(e){return this.lookup(e)},privates:{attachReference:function(e){var t,i;this.destroying||this.destroyed||((i=this.refs||(this.refs={}))[t=e.referenceKey]&&i[t]!==e&&Ext.log.warn('Duplicate reference: "'+t+'" on '+this.id),i[t]=e)},clearReference:function(e){var t=this.refs,i=e.referenceKey;t&&i&&(e.viewModelKey=e.referenceKey=t[i]=null)},containerOnAdded:function(e,t){t&&Ext.ComponentManager.markReferencesDirty()},containerOnRemoved:function(e){e||(e=this.lookupReferenceHolder())&&(Ext.ComponentManager.markReferencesDirty(),e.clearReferences())},clearReferences:function(){this.refs=null},initContainerInheritedState:function(e,t){var i=this,n=i.getController(),r=i.getSession(),o=i.getConfig("viewModel",!0),s=i.getReference(),a=i.getReferenceHolder();n?(e.referenceHolder=n,a=!0):a&&(e.referenceHolder=i),a?e.referencePath="":s&&i.isParentReference&&(e.referencePath=i.referenceKey+"."),r&&(e.session=r),o?e.viewModelPath="":s&&i.isParentReference&&(e.viewModelPath=i.viewModelKey+".")},setupReference:function(e){var t;return e&&">"===e.charAt(t=e.length-1)&&(this.isParentReference=!0,e=e.substring(0,t)),e&&!Ext.validIdRe.test(e)&&Ext.Error.raise('Invalid reference "'+e+'" for '+this.getId()+" - not a valid identifier"),e}}}),Ext.define("Ext.mixin.Hookable",{extend:"Ext.Mixin",mixinConfig:{id:"hookable"},bindHook:function(e,t,i,n,r){i=i||t;var o,s,a=e[t];return a&&a.hasOwnProperty("$binding")&&(s=a.$binding).bindingMethod===i&&s.bindingScope===this||(e[t]=o=function(){var e=o.$binding,t=e.bindingScope,i=Array.prototype.slice.call(arguments);if(i.push(arguments),r&&i.push.apply(i,r),!e.preventDefault&&!1!==t[e.bindingMethod].apply(t,i))return e.boundFn.apply(this,arguments)},o.$binding={preventDefault:!!n,boundFn:a,bindingMethod:i,bindingScope:this}),this},unbindHook:function(e,t,i){i=i||t;for(var n,r,o=e[t].$binding;o;){if(n=o.boundFn,o.bindingMethod===i&&o.bindingScope===this)return r?r.boundFn=n:e[t]=n,this;r=o,o=n.$binding}return this}}),Ext.define("Ext.mixin.Mashup",function(i){return{extend:"Ext.Mixin",mixinConfig:{id:"mashup",extended:function(e,t){i.process(t)}},statics:{process:function(e){var t=e.prototype,i=t.requiredScripts,n=e._classHooks,r=n.onCreated;i&&(delete t.requiredScripts,n.onCreated=function(){var e=this,t=Ext.Array.slice(arguments);Ext.Loader.loadScripts({url:i,cache:!0,onLoad:function(){n.onCreated=r,n.onCreated.call(e,t)}})})}},onClassMixedIn:function(e){i.process(e)}}}),Ext.define("Ext.mixin.Responsive",function(o){return{extend:"Ext.Mixin",requires:["Ext.GlobalEvents"],mixinConfig:{id:"responsive",after:{destroy:"destroy"}},config:{responsiveConfig:{$value:void 0,merge:function(e,t,i,n){if(!e)return t;var r,o=t?Ext.Object.chain(t):{};for(r in e)n&&r in o||(o[r]={fn:null,config:e[r]});return o}},responsiveFormulas:{$value:0,merge:function(e,t,i,n){return this.mergeNew(e,t,i,n)}}},destroy:function(){o.unregister(this)},privates:{statics:{active:!1,all:{},context:Ext.Object.chain(Ext.platformTags),count:0,nextId:0,activate:function(){o.active=!0,o.updateContext(),Ext.on("resize",o.onResize,o)},deactivate:function(){o.active=!1,Ext.un("resize",o.onResize,o)},notify:function(){var e,t=o.all,i=o.context,n=Ext.GlobalEvents,r=o.timer;for(e in r&&(o.timer=null,Ext.asapCancel(r)),o.updateContext(),Ext.suspendLayouts(),n.fireEvent("beforeresponsiveupdate",i),t)t[e].setupResponsiveContext();for(e in n.fireEvent("beginresponsiveupdate",i),t)t[e].updateResponsiveState();n.fireEvent("responsiveupdate",i),Ext.resumeLayouts(!0)},onResize:function(){o.timer||(o.timer=Ext.asap(o.onTimer))},onTimer:function(){o.timer=null,o.notify()},processConfig:function(e,t,i){var n=t&&t[i],r=e.config;n&&(t=e.self.getConfigurator().configs[i],r[i]=t.merge(n,r[i],e))},register:function(e){var t=e.$responsiveId;t||(e.$responsiveId=t=++o.nextId,o.all[t]=e,1==++o.count&&o.activate())},unregister:function(e){var t=e.$responsiveId;t in o.all&&(e.$responsiveId=null,delete o.all[t],0==--o.count&&o.deactivate())},updateContext:function(){var e=Ext.Element,t=e.getViewportWidth(),i=e.getViewportHeight(),e=o.context;e.width=t,e.height=i,e.tall=t<i,e.wide=!e.tall,e.landscape=e.portrait=!1,e.platform||(e.platform=Ext.platformTags),e[Ext.dom.Element.getOrientation()]=!0}},afterClassMixedIn:function(e){var t,i=e.prototype,n=i.responsiveConfig,r=i.responsiveFormulas;(n||r)&&(t={},n&&(delete i.responsiveConfig,t.responsiveConfig=n),r&&(delete i.responsiveFormulas,t.responsiveFormulas=r),e.getConfigurator().add(t))},applyResponsiveConfig:function(e){for(var t in e)e[t].fn=Ext.createRuleFn(t);return e},applyResponsiveFormulas:function(e){var t,i,n={};if(e)for(i in e)Ext.isString(t=e[i])&&(t=Ext.createRuleFn(t)),n[i]=t;return n},getResponsiveState:function(){var e,t,i=o.context,n=this.getResponsiveConfig(),r={};if(n)for(t in n)(e=n[t]).fn.call(this,i)&&Ext.merge(r,e.config);return r},setupResponsiveContext:function(){var e,t=this.getResponsiveFormulas(),i=o.context;if(t)for(e in t)i[e]=t[e].call(this,i)},transformInstanceConfig:function(e){var t;return o.register(this),e&&(o.processConfig(this,e,"responsiveConfig"),o.processConfig(this,e,"responsiveFormulas")),this.setupResponsiveContext(),t=this.getResponsiveState(),e&&(delete(t=Ext.merge({},e,t)).responsiveConfig,delete t.responsiveFormulas),t},updateResponsiveState:function(){var e=this.getResponsiveState();this.setConfig(e)}}}}),Ext.define("Ext.mixin.Selectable",{extend:"Ext.Mixin",mixinConfig:{id:"selectable",after:{updateStore:"updateStore"}},config:{disableSelection:null,mode:"SINGLE",allowDeselect:!1,lastSelected:null,lastFocused:null,deselectOnContainerClick:!0,selection:null,twoWayBindable:{selection:1},publishes:{selection:1}},modes:{SINGLE:!0,SIMPLE:!0,MULTI:!0},selectableEventHooks:{add:"onSelectionStoreAdd",remove:"onSelectionStoreRemove",update:"onSelectionStoreUpdate",clear:{fn:"onSelectionStoreClear",priority:1e3},load:"refreshSelection",refresh:"refreshSelection"},constructor:function(){this.selected=new Ext.util.MixedCollection,this.callParent(arguments)},initSelectable:function(){this.publishState("selection",this.getSelection())},applyMode:function(e){return e=e?e.toUpperCase():"SINGLE",this.modes[e]?e:"SINGLE"},updateStore:function(e,t){var i=Ext.apply({},this.selectableEventHooks,{scope:this});t&&Ext.isObject(t)&&t.isStore&&(t.autoDestroy?t.destroy():t.un(i)),e&&(e.on(i),this.refreshSelection())},selectAll:function(e){var t=this.getStore().getRange();this.select(t,!0,e)},deselectAll:function(e){var t=this.getStore().getRange();this.deselect(t,e),this.selected.clear(),this.setLastSelected(null),this.setLastFocused(null)},updateSelection:function(e){this.changingSelection||(e?this.select(e):this.deselectAll())},selectWithEvent:function(e){var t=this.isSelected(e);switch(this.getMode()){case"MULTI":case"SIMPLE":t?this.deselect(e):this.select(e,!0);break;case"SINGLE":this.getAllowDeselect()&&t?this.deselect(e):this.select(e,!1)}},selectRange:function(e,t,i){var n,r,o=this.getStore(),s=[];if(!this.getDisableSelection()){for(t<e&&(n=t,t=e,e=n),r=e;r<=t;r++)s.push(o.getAt(r));this.doMultiSelect(s,i)}},select:function(e,t,i){var n;this.getDisableSelection()||("number"==typeof e&&(e=[this.getStore().getAt(e)]),e&&("SINGLE"==this.getMode()&&e?(n=e.length?e[0]:e,this.doSingleSelect(n,i)):this.doMultiSelect(e,t,i)))},doSingleSelect:function(e,t){var i=this.selected;this.getDisableSelection()||this.isSelected(e)||(0<i.getCount()&&this.deselect(this.getLastSelected(),t),i.add(e),this.setLastSelected(e),this.onItemSelect(e,t),this.setLastFocused(e),t||this.fireSelectionChange([e]))},doMultiSelect:function(e,t,i){if(null!==e&&!this.getDisableSelection()){e=Ext.isArray(e)?e:[e];var n,r=this.selected,o=e.length,s=!1,a=0;for(!t&&0<r.getCount()&&(s=!0,this.deselect(this.getSelections(),!0));a<o;a++)n=e[a],t&&this.isSelected(n)||(s=!0,this.setLastSelected(n),r.add(n),i||this.setLastFocused(n),this.onItemSelect(n,i));s&&!i&&this.fireSelectionChange(e)}},deselect:function(e,t){if(!this.getDisableSelection()){e=Ext.isArray(e)?e:[e];for(var i,n=this.selected,r=!1,o=0,s=this.getStore(),a=e.length;o<a;o++)"number"==typeof(i=e[o])&&(i=s.getAt(i)),n.remove(i)&&(this.getLastSelected()==i&&this.setLastSelected(n.last()),r=!0),i&&this.onItemDeselect(i,t);r&&!t&&this.fireSelectionChange(e)}},updateLastFocused:function(e,t){this.onLastFocusChanged(t,e)},fireSelectionChange:function(e){this.changingSelection=!0,this.setSelection(this.getLastSelected()||null),this.changingSelection=!1,this.fireAction("selectionchange",[this,e],"getSelections")},getSelections:function(){return this.selected.getRange()},isSelected:function(e){return e=Ext.isNumber(e)?this.getStore().getAt(e):e,-1!==this.selected.indexOf(e)},hasSelection:function(){return 0<this.selected.getCount()},refreshSelection:function(){var e=this.getSelections();this.deselectAll(!0),e.length&&this.select(e,!1,!0)},onSelectionStoreRemove:function(e,t){var i,n,r,o=this.selected,s=t.length;if(!this.getDisableSelection()){for(r=0;r<s;r++)n=t[r],o.remove(n)&&(this.getLastSelected()==n&&this.setLastSelected(null),this.getLastFocused()==n&&this.setLastFocused(null),(i=i||[]).push(n));i&&this.fireSelectionChange([i])}},onSelectionStoreClear:function(e){var t=e.getData().items;this.onSelectionStoreRemove(e,t)},getSelectionCount:function(){return this.selected.getCount()},onSelectionStoreAdd:Ext.emptyFn,onSelectionStoreUpdate:Ext.emptyFn,onItemSelect:Ext.emptyFn,onItemDeselect:Ext.emptyFn,onLastFocusChanged:Ext.emptyFn,onEditorKey:Ext.emptyFn},function(){}),Ext.define("Ext.mixin.StyleCacher",{extend:"Ext.Mixin",mixinConfig:{id:"stylecacher"},getCachedStyle:function(e,t){var i=this.$styleCache;return t in(i=i||(this.$styleCache={}))||(i[t]=Ext.fly(e).getStyle(t)),i[t]}}),Ext.define("Ext.mixin.Traversable",{extend:"Ext.Mixin",mixinConfig:{id:"traversable"},setParent:function(e){return this.parent=e,this},hasParent:function(){return Boolean(this.parent||this.$initParent)},getParent:function(){return this.parent||this.$initParent},getAncestors:function(){for(var e=[],t=this.getParent();t;)e.push(t),t=t.getParent();return e},getAncestorIds:function(){for(var e=[],t=this.getParent();t;)e.push(t.getId()),t=t.getParent();return e}}),Ext.define("Ext.perf.Accumulator",function(){var t,i=null,n=Ext.global.chrome,r=function(){var e,t;if(r=Ext.now,Ext.isChrome&&n&&n.Interval)(e=new n.Interval).start(),r=function(){return e.microseconds()/1e3};else if(window.ActiveXObject)try{t=new ActiveXObject("SenchaToolbox.Toolbox"),Ext.senchaToolbox=t,r=function(){return t.milliseconds}}catch(e){}return(Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=r)()};function o(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function s(e){var t=e||r()-this.time,e=this.accum;++e.count,--e.depth||o(e.total,t),o(e.pure,t-this.childTime),(i=this.parent)&&(++i.accum.childCount,i.childTime+=t)}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function l(e,t,i,n){var r={avg:0,min:n.min,max:n.max,sum:0};return e&&(i=i||0,r.sum=n.sum-t*i,r.avg=r.sum/e),r}return{requires:["Ext.XTemplate","Ext.ClassManager"],constructor:function(e){this.count=this.childCount=this.depth=this.maxDepth=0,this.pure=a(),this.total=a(),this.name=e},statics:{getTimestamp:r},format:function(e){t=t||new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(e){return Math.round(100*e)/100}});e=this.getData(e);return e.name=this.name,e.pure.type="Pure",e.total.type="Total",e.times=[e.pure,e.total],t.apply(e)},getData:function(e){return{count:this.count,childCount:this.childCount,depth:this.maxDepth,pure:l(this.count,this.childCount,e,this.pure),total:l(this.count,this.childCount,e,this.total)}},enter:function(){var e={accum:this,leave:s,childTime:0,parent:i};return++this.depth,this.maxDepth<this.depth&&(this.maxDepth=this.depth),(i=e).time=r(),e},monitor:function(e,t,i){var n=this.enter();i?e.apply(t,i):e.call(t),n.leave()},report:function(){Ext.log(this.format())},tap:function(e,t){var i,n,r,o,s,a,l=this,d="string"==typeof t?[t]:t,t=function(){if("string"==typeof e)for(i=Ext.global,r=e.split("."),n=0,o=r.length;n<o;++n)i=i[r[n]];else i=e;for(n=0,o=d.length;n<o;++n)s=d[n],(a="!"===s.charAt(0))?s=s.substring(1):a=!(s in i.prototype),(a=a?i:i.prototype)[s]=function(i,n){return function(){var e=i.enter(),t=n.apply(this,arguments);return e.leave(),t}}(l,a[s])};return Ext.ClassManager.onCreated(t,l,e),l}}},function(){Ext.perf.getTimestamp=this.getTimestamp}),Ext.define("Ext.perf.Monitor",{singleton:!0,alternateClassName:"Ext.Perf",requires:["Ext.perf.Accumulator"],constructor:function(){this.accumulators=[],this.accumulatorsByName={}},calibrate:function(){for(var e=new Ext.perf.Accumulator("$"),t=e.total,i=Ext.perf.Accumulator.getTimestamp,n=0,r=i();e.enter().leave(),++n,t.sum<100;);return(i()-r)/n},get:function(e){var t=this.accumulatorsByName[e];return t||(this.accumulatorsByName[e]=t=new Ext.perf.Accumulator(e),this.accumulators.push(t)),t},enter:function(e){return this.get(e).enter()},monitor:function(e,t,i){this.get(e).monitor(t,i)},report:function(){var e=this.accumulators,t=this.calibrate();e.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),this.updateGC(),Ext.log("Calibration: "+Math.round(100*t)/100+" msec/sample"),Ext.each(e,function(e){Ext.log(e.format(t))})},getData:function(t){var i={},e=this.accumulators;return Ext.each(e,function(e){(t||e.count)&&(i[e.name]=e.getData())}),i},reset:function(){Ext.each(this.accumulators,function(e){e.count=e.childCount=e.depth=e.maxDepth=0,e.pure={min:Number.MAX_VALUE,max:0,sum:0},e.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var e,t=this.accumulatorsByName.GC,i=Ext.senchaToolbox;t&&(t.count=i.garbageCollectionCounter||0,t.count&&(e=t.pure,t.total.sum=e.sum=i.garbageCollectionMilliseconds,e.min=e.max=e.sum/t.count,(e=t.total).min=e.max=e.sum/t.count))},watchGC:function(){Ext.perf.getTimestamp();var e=Ext.senchaToolbox;e&&(this.get("GC"),e.watchGarbageCollector(!1))},setup:function(e){var t,i,n,r,o;for(t in e=e||{render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}},this.currentConfig=e)if(e.hasOwnProperty(t))for(r in i=e[t],n=Ext.Perf.get(t),i)i.hasOwnProperty(r)&&(o=i[r],n.tap(r,o));this.watchGC()},setupLog:function(e){var t,i,n,r,o;for(t in e)if(e.hasOwnProperty(t)&&(i=Ext.ClassManager.get(t))){for(r in o={},n=e[t])o[r]=function(r,o){return function(){var e,t=+Date.now(),i=this.callParent(arguments),n=+Date.now()-t;return window.console&&0<n&&((t="this"===o?this:"string"==typeof o?this[o]:"number"==typeof o?arguments[o]:null)&&(e=t.id),null!=e?console.log(r+" for "+e+": "+n+"ms"):console.log(r+" for unknown: "+n+"ms"),console.trace&&console.trace()),i}}(r,n[r]);Ext.override(i,o)}}}),Ext.define("Ext.plugin.Abstract",{alternateClassName:"Ext.AbstractPlugin",isPlugin:!0,constructor:function(e){e&&(this.pluginConfig=e,this.initConfig(e))},clonePlugin:function(e){return new this.self(Ext.apply({},e,this.pluginConfig))},getCmp:function(){return this.cmp},setCmp:function(e){this.cmp=e},init:Ext.emptyFn,destroy:function(){this.cmp=this.pluginConfig=null,this.callParent()},onClassExtended:function(e,t,i){var n=t.alias,e=e.prototype;n&&!t.ptype&&(Ext.isArray(n)&&(n=n[0]),e.ptype=n.split("plugin.")[1])},resolveListenerScope:function(e){var t,i=this.getCmp();return i&&(t=i.resolveSatelliteListenerScope(this,e)),t||this.mixins.observable.resolveListenerScope.call(this,e)}}),Ext.define("Ext.overrides.plugin.Abstract",{override:"Ext.plugin.Abstract",$configStrict:!1,$configPrefixed:!1,disabled:!1,getState:null,applyState:null,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.plugin.LazyItems",{extend:"Ext.plugin.Abstract",alias:"plugin.lazyitems",init:function(e){this.callParent(arguments),this.items&&this.eagerInstantiation&&(this.items=e.prepareItems(this.items)),e.beforeRender=Ext.Function.createInterceptor(e.beforeRender,this.beforeComponentRender,this)},beforeComponentRender:function(){this.cmp.add(this.items),this.cmp.beforeComponentRender=null}}),Ext.define("Ext.plugin.MouseEnter",{extend:"Ext.plugin.Abstract",alias:"plugin.mouseenter",element:"el",init:function(e){this.delegate||Ext.raise("mouseenter plugin must be configured with a delegate selector"),this.handler||Ext.raise("mouseenter plugin must be configured with handler callback");var t={mouseover:this.onMouseOver,scope:this,destroyable:!0};this.leaveHandler&&(t.mouseout=this.onMouseOut),"string"==typeof this.element?(t.element=this.element,this.mouseListener=e.on(t)):this.mouseListener=this.element.on(t)},onMouseOver:function(e){var t=e.getTarget(this.delegate);t&&t!==e.getRelatedTarget(this.delegate)&&Ext.callback(this.handler,null,[e,t],0,this.cmp,this.scope)},onMouseOut:function(e){var t=e.getRelatedTarget(this.delegate);t&&t!==e.getTarget(this.delegate)&&Ext.callback(this.leaveHandler,null,[e,t],0,this.cmp,this.scope)},destroy:function(){this.callParent(),Ext.destroy(this.mouseListener)}}),Ext.define("Ext.sparkline.Shape",{constructor:function(e,t,i,n){this.target=e,this.id=t,this.type=i,this.args=n},append:function(){return this.target.appendShape(this),this}}),Ext.define("Ext.sparkline.CanvasBase",{requires:["Ext.sparkline.Shape"],shapeCount:0,_pxregex:/(\d+)(px)?\s*$/i,constructor:function(e){this.owner=e,this.rtl=this.owner.getInherited().rtl},setWidth:function(e){this.pixelWidth=e},setHeight:function(e){this.pixelHeight=e},drawLine:function(e,t,i,n,r,o){return this.drawShape([[e,t],[i,n]],r,o)},drawShape:function(e,t,i,n){return this._genShape("Shape",[e,t,i,n])},drawCircle:function(e,t,i,n,r,o){return this._genShape("Circle",[e,t,i,n,r,o])},drawPieSlice:function(e,t,i,n,r,o,s){return this._genShape("PieSlice",[e,t,i,n,r,o,s])},drawRect:function(e,t,i,n,r,o){return this._genShape("Rect",[e,t,i,n,r,o])},getElement:function(){return this.el},getLastShapeId:function(){return this.lastShapeId},reset:function(){Ext.raise("reset not implemented")},_genShape:function(e,t){var i=this.shapeCount++;return t.unshift(i),new Ext.sparkline.Shape(this,i,e,t)},appendShape:function(e){Ext.raise("appendShape not implemented")},replaceWithShape:function(e,t){Ext.raise("replaceWithShape not implemented")},insertAfterShape:function(e,t){Ext.raise("insertAfterShape not implemented")},removeShapeId:function(e){Ext.raise("removeShapeId not implemented")},getShapeAt:function(e,t){Ext.raise("getShapeAt not implemented")},render:function(){Ext.raise("render not implemented")}}),Ext.define("Ext.sparkline.CanvasCanvas",{extend:"Ext.sparkline.CanvasBase",statics:{contextOverrides:function(){var s=window.devicePixelRatio||1;return{moveTo:function(e,t){this.rtl&&(e=this.canvas.width-e-1),this.$moveTo(e*s,t*s)},lineTo:function(e,t){this.rtl&&(e=this.canvas.width-e-1),this.$lineTo(e*s,t*s)},arc:function(e,t,i,n,r,o){this.rtl&&(e=this.canvas.width-e-1),this.$arc(e*s,t*s,i*s,n,r,o)},clearRect:function(e,t,i,n){this.rtl&&(e=this.canvas.width-e-i),this.$clearRect(e*s,t*s,i*s,n*s)}}}()},setWidth:function(e){this.callParent(arguments),this.owner.element.dom.width=e*(window.devicePixelRatio||1)},setHeight:function(e){this.callParent(arguments),this.owner.element.dom.height=e*(window.devicePixelRatio||1)},onOwnerUpdate:function(){this.el=this.owner.element,this.interact=!this.owner.initialConfig.disableInteraction,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=this.lastShapeId=null},_getContext:function(e,t,i){var n,r=this.el.dom.getContext("2d"),o=Ext.sparkline.CanvasCanvas.contextOverrides;if(!this.context){for(n in o)r["$"+n]=r[n];Ext.apply(r,o),r.rtl=this.rtl,this.context=r}return null!=e&&(r.strokeStyle=e),r.lineWidth=i||1,null!=t&&(r.fillStyle=t),r},reset:function(){this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=this.lastShapeId=null},_drawShape:function(e,t,i,n,r){var o,s,a=this._getContext(i,n,r),l=this.rtl?-.5:.5;for(a.beginPath(),a.moveTo(t[0][0]+l,t[0][1]+.5),o=1,s=t.length;o<s;o++)a.lineTo(t[o][0]+l,t[o][1]+.5);null!=i&&a.stroke(),null!=n&&a.fill(),null!=this.targetX&&null!=this.targetY&&a.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawCircle:function(e,t,i,n,r,o,s){s=this._getContext(r,o,s);s.beginPath(),s.arc(t,i,n,0,2*Math.PI,!1),null!=this.targetX&&null!=this.targetY&&s.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e),null!=r&&s.stroke(),null!=o&&s.fill()},_drawPieSlice:function(e,t,i,n,r,o,s,a){var l=this._getContext(s,a);l.beginPath(),l.moveTo(t,i),l.arc(t,i,n,r,o,!1),l.lineTo(t,i),l.closePath(),null!=s&&l.stroke(),a&&l.fill(),void 0!==this.targetX&&void 0!==this.targetY&&l.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=e)},_drawRect:function(e,t,i,n,r,o,s){return this._drawShape(e,[[t,i],[t+n,i],[t+n,i+r],[t,i+r],[t,i]],o,s)},appendShape:function(e){return this.shapes[e.id]=e,this.shapeseq.push(e.id),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){var i,n=this.shapeseq;for(this.shapes[t.id]=t,i=n.length;i--;)n[i]===e&&(n[i]=t.id);delete this.shapes[e]},replaceWithShapes:function(e,t){for(var i,n,r=this.shapeseq,o={},s=e.length;s--;)o[e[s]]=!0;for(s=r.length;s--;)o[i=r[s]]&&(r.splice(s,1),delete this.shapes[i],n=s);for(s=t.length;s--;)r.splice(n,0,t[s].id),this.shapes[t[s].id]=t[s]},insertAfterShape:function(e,t){for(var i=this.shapeseq,n=i.length;n--;)if(i[n]===e)return i.splice(n+1,0,t.id),void(this.shapes[t.id]=t)},removeShapeId:function(e){for(var t=this.shapeseq,i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}delete this.shapes[e]},getShapeAt:function(e,t){return this.rtl&&(e=this.el.dom.width-e-1),this.targetX=e,this.targetY=t,this.render(),this.currentTargetShapeId},render:function(){var e,t,i=this.shapeseq,n=this.shapes,r=i.length;for(this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight),t=0;t<r;t++)this["_draw"+(e=n[i[t]]).type].apply(this,e.args);this.interact||(this.shapes={},this.shapeseq=[])}}),Ext.define("Ext.sparkline.VmlCanvas",{extend:"Ext.sparkline.CanvasBase",setWidth:function(e){this.callParent(arguments),this.owner.groupEl.dom.coordsize=this.width+" "+(this.height||0),this.owner.groupEl.dom.style.width=e+"px"},setHeight:function(e){this.callParent(arguments),this.owner.groupEl.dom.coordsize=(this.width||0)+" "+this.height,this.owner.groupEl.dom.style.height=e+"px"},onOwnerUpdate:function(){this.group=this.owner.groupEl,this.el=this.owner.element,this.prerender=[]},_drawShape:function(e,t,i,n,r){for(var o,s=[],a=0,l=t.length;a<l;a++)s[a]=t[a][0]+","+t[a][1];return o=s.splice(0,1),r=null==r?1:r,r=null==i?' stroked="false" ':' strokeWeight="'+r+'px" strokeColor="'+i+'" ',i=null==n?' filled="false"':' fillColor="'+n+'" filled="true" ',n=s[0]===s[s.length-1]?"x ":"",['<svml:shape coordorigin="0 0" coordsize="',this.pixelWidth," ",this.pixelHeight,'" id="jqsshape',e,'" ',r,i,' style="position:absolute;height:',this.pixelHeight,"px;width:",this.pixelWidth,'px" ',' path="m ',o," l ",s.join(", ")," ",n,'e"></svml:shape>'].join("")},_drawCircle:function(e,t,i,n,r,o,s){var a=2*n;return['<svml:oval id="jqsshape',e,'" ',null==r?' stroked="false" ':' strokeWeight="'+s+'px" strokeColor="'+r+'" ',null==o?' filled="false"':' fillColor="'+o+'" filled="true" ',' style="position:absolute;top:',i-=n,"px; left:",t-=n,"px;width:",a,"px;height:",a,'px"></svml:oval>'].join("")},_drawPieSlice:function(e,t,i,n,r,o,s,a){var l,d,c=this.pixelWidth,u=this.pixelHeight,h=null==s?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',f=null==a?' filled="false"':' fillColor="'+a+'" filled="true" ';if(r===o)return"";if(o-r==2*Math.PI&&(r=0,o=2*Math.PI),l=t+Math.round(Math.cos(r)*n),d=i+Math.round(Math.sin(r)*n),s=t+Math.round(Math.cos(o)*n),a=i+Math.round(Math.sin(o)*n),l===s&&d===a){if(o-r<Math.PI)return"";l=s=t+n,d=a=i}return l===s&&d===a&&o-r<Math.PI?"":['<svml:shape coordorigin="0 0" coordsize="',c," ",u,'" id="jqsshape',e,'" ',h,f,' style="position:absolute;height:',u,"px;width:",c,'px" path="m ',t,",",i," wa ",[t-n,i-n,t+n,i+n,l,d,s,a].join(", "),' x e"></svml:shape>'].join("")},_drawRect:function(e,t,i,n,r,o,s){return this._drawShape(e,[[t,i],[t,i+r],[t+n,i+r],[t+n,i],[t,i]],o,s)},reset:function(){Ext.fly(this.group).empty()},appendShape:function(e){return this.prerender.push(this["_draw"+e.type].apply(this,e.args)),this.lastShapeId=e.id,e.id},replaceWithShape:function(e,t){e=this.el.getById("jqsshape"+e,!0),t=this["_draw"+t.type].apply(this,t.args);e.outerHTML=t},replaceWithShapes:function(e,t){for(var i=this.el.getById("jqsshape"+e[0],!0),n="",r=t.length,o=0;o<r;o++)n+=this["_draw"+t[o].type].apply(this,t[o].args);for(i.outerHTML=n,o=1;o<e.length;o++)this.el.getById("jqsshape"+e[o]).destroy()},insertAfterShape:function(e,t){e=this.el.getById("jqsshape"+e,!0),t=this["_draw"+t.type].apply(this,t.args);e.insertAdjacentHTML("afterEnd",t)},removeShapeId:function(e){e=this.el.getById("jqsshape"+e,!0);this.group.removeChild(e)},getShapeAt:function(e,t){return this.el.id.substr(8)},render:function(){this.group.dom.innerHTML=this.prerender.join("")}},function(){Ext.onInternalReady(function(){var e=document;e.namespaces&&!e.namespaces.svml&&e.namespaces.add("svml","urn:schemas-microsoft-com:vml","#default#VML")})}),Ext.define("Ext.util.Color",{alternateClassName:"Ext.draw.Color",statics:{colorToHexRe:/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbToHexRe:/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)/,rgbaToHexRe:/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([\.\d]+)\)/,hexRe:/\s*#([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)([0-9a-fA-F][0-9a-fA-F]?)\s*/,NONE:"none",RGBA_NONE:"rgba(0, 0, 0, 0)"},isColor:!0,lightnessFactor:.2,constructor:function(e,t,i,n){this.setRGB(e,t,i,n)},clone:function(){return new this.self(this.r,this.g,this.b,this.a)},setRGB:function(e,t,i,n){this.r=Math.min(255,Math.max(0,e)),this.g=Math.min(255,Math.max(0,t)),this.b=Math.min(255,Math.max(0,i)),this.a=void 0===n?1:Math.min(1,Math.max(0,n))},getBrightness:function(){return(299*(this.r/255*100)+587*(this.g/255*100)+114*(this.b/255*100))/1e3},getGrayscale:function(){return.3*this.r+.59*this.g+.11*this.b},getHSL:function(){var e,t=this.r/255,i=this.g/255,n=this.b/255,r=Math.max(t,i,n),o=Math.min(t,i,n),s=r-o,a=0,l=.5*(r+o);return o!==r&&(a=l<=.5?s/(r+o):s/(2-r-o),(e=t===r?60*(i-n)/s:i===r?120+60*(n-t)/s:240+60*(t-i)/s)<0&&(e+=360),360<=e&&(e-=360)),[e,a,l]},getHSV:function(){var e,t=this.r/255,i=this.g/255,n=this.b/255,r=Math.max(t,i,n),o=Math.min(t,i,n),s=r-o,a=0;return o!=r&&(a=r?s/r:0,(e=t===r?60*(i-n)/s:i===r?60*(n-t)/s+120:60*(t-i)/s+240)<0&&(e+=360),360<=e&&(e-=360)),[e,a,r]},setHSL:function(e,t,i){var n,r,o,s=Math.abs;if(e=(e%360+360)%360,i=1<i?1:i<0?0:i,0===(t=1<t?1:t<0?0:t)||null===e)i*=255,this.setRGB(i,i,i);else switch(e/=60,r=(n=t*(1-s(2*i-1)))*(1-s(e%2-1)),o=i-n/2,o*=255,n*=255,r*=255,Math.floor(e)){case 0:this.setRGB(n+o,r+o,o);break;case 1:this.setRGB(r+o,n+o,o);break;case 2:this.setRGB(o,n+o,r+o);break;case 3:this.setRGB(o,r+o,n+o);break;case 4:this.setRGB(r+o,o,n+o);break;case 5:this.setRGB(n+o,o,r+o)}return this},setHSV:function(e,t,i){var n,r,o;if(e=(e%360+360)%360,i=1<i?1:i<0?0:i,0===(t=1<t?1:t<0?0:t)||null===e)i*=255,this.setRGB(i,i,i);else switch(e/=60,r=(n=i*t)*(1-Math.abs(e%2-1)),o=i-n,o*=255,n*=255,r*=255,Math.floor(e)){case 0:this.setRGB(n+o,r+o,o);break;case 1:this.setRGB(r+o,n+o,o);break;case 2:this.setRGB(o,n+o,r+o);break;case 3:this.setRGB(o,r+o,n+o);break;case 4:this.setRGB(r+o,o,n+o);break;case 5:this.setRGB(n+o,o,r+o)}return this},createLighter:function(e){var t=this.clone();return t.lighten(e),t},lighten:function(e){e||0===e||(e=this.lightnessFactor);var t=this.getHSL();this.setHSL(t[0],t[1],Ext.Number.constrain(t[2]+e,0,1))},createDarker:function(e){var t=this.clone();return t.darken(e),t},darken:function(e){return e||0===e||(e=this.lightnessFactor),this.lighten(-e)},toString:function(){var e=Math.round;if(1!==this.a)return"rgba("+[e(this.r),e(this.g),e(this.b),0===this.a?0:this.a.toFixed(15)].join(", ")+")";var t=e(this.r).toString(16),i=e(this.g).toString(16),e=e(this.b).toString(16);return["#",t=1===t.length?"0"+t:t,i=1===i.length?"0"+i:i,e=1===e.length?"0"+e:e].join("")},toHex:function(e){var t=this.r,i=this.g;return"#"+("000000"+(this.b|i<<8|t<<16).toString(16)).slice(-6)},setFromString:function(e){var t,i,n,r,o=1,s=parseInt;if(e===Ext.util.Color.NONE)return this.r=this.g=this.b=this.a=0,this;if(4!==e.length&&7!==e.length||"#"!==e.substr(0,1)){if(t=e.match(Ext.util.Color.rgbToHexRe))i=+t[1],n=+t[2],r=+t[3];else if(t=e.match(Ext.util.Color.rgbaToHexRe))i=+t[1],n=+t[2],r=+t[3],o=+t[4];else if(Ext.util.Color.ColorList.hasOwnProperty(e.toLowerCase()))return this.setFromString(Ext.util.Color.ColorList[e.toLowerCase()])}else(t=e.match(Ext.util.Color.hexRe))&&(i=s(t[1],16)>>0,n=s(t[2],16)>>0,r=s(t[3],16)>>0,4===e.length&&(i+=16*i,n+=16*n,r+=16*r));return void 0===i||(this.r=i,this.g=n,this.b=r,this.a=o),this}},function(){var r=new this;this.addStatics({fly:function(e,t,i,n){switch(arguments.length){case 1:r.setFromString(e);break;case 3:case 4:r.setRGB(e,t,i,n);break;default:return null}return r},ColorList:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},fromHSL:function(e,t,i){return new this(0,0,0,0).setHSL(e,t,i)},fromHSV:function(e,t,i){return new this(0,0,0,0).setHSL(e,t,i)},fromString:function(e){return new this(0,0,0,0).setFromString(e)},create:function(e){return e instanceof this?e:Ext.isArray(e)?new Ext.util.Color(e[0],e[1],e[2],e[3]):Ext.isString(e)?Ext.util.Color.fromString(e):2<arguments.length?new Ext.util.Color(e,arguments[1],arguments[2],arguments[3]):new Ext.util.Color(0,0,0,0)}})}),Ext.define("Ext.sparkline.Base",{extend:"Ext.Gadget",xtype:"sparkline",requires:["Ext.XTemplate","Ext.sparkline.CanvasCanvas","Ext.sparkline.VmlCanvas","Ext.util.Color"],cachedConfig:{baseCls:Ext.baseCSSPrefix+"sparkline",lineColor:"#157fcc",defaultPixelsPerValue:3,tagValuesAttribute:"values",enableTagOptions:!1,enableHighlight:!0,highlightColor:null,highlightLighten:.1,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableTooltips:!1,disableInteraction:!1,tipTpl:null},config:{values:null},element:{tag:"canvas",reference:"element",style:{display:"inline-block",verticalAlign:"top"},listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},width:0,height:0},defaultBindProperty:"values",redrawQueue:{},inheritableStatics:{sparkLineTipClass:Ext.baseCSSPrefix+"sparkline-tip-target",onClassCreated:function(e){var t,i,n=e.prototype.applyConfigChange,r=e.prototype;for(t in e.getConfigurator().configs)"tipTpl"!==t&&(r[i=Ext.Config.get(t).names.apply]?r[i]=Ext.Function.createSequence(r[i],n):r[i]=n)}},constructor:function(e){this.canvas=new(Ext.supports.Canvas?Ext.sparkline.CanvasCanvas:Ext.sparkline.VmlCanvas)(this),this.getDisableTooltips()||(this.element.cls=Ext.sparkline.Base.sparkLineTipClass),Ext.apply(this,e),this.callParent([e])},all:function(e,t,i){for(var n=t.length;n--;)if((!i||null!==t[n])&&t[n]!==e)return!1;return!0},applyConfigChange:function(e){return(this.redrawQueue[this.getId()]=this).redrawTimer||(Ext.sparkline.Base.prototype.redrawTimer=Ext.Function.requestAnimationFrame(this.processRedrawQueue)),e},applyTipTpl:function(e){return e&&!e.isTemplate&&(e=new Ext.XTemplate(e)),e},normalizeValue:function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},normalizeValues:function(e){for(var t=[],i=e.length;i--;)t[i]=this.normalizeValue(e[i]);return t},updateWidth:function(e,t){var i=this.element.dom,n=this.measurer;this.callParent([e,t]),this.canvas.setWidth(e),this.width=e,null==this.height&&n&&this.setHeight(parseInt(n.getCachedStyle(i.parentNode,"line-height"),10))},updateHeight:function(e,t){this.callParent([e,t]),this.canvas.setHeight(e),this.height=e},applyValues:function(e,t){return e&&t&&Ext.Array.equals(e,t)&&(e=void 0),e},updateValues:function(e){this.values=e},redraw:function(){!this.destroyed&&this.getValues()&&(this.onUpdate(),this.canvas.onOwnerUpdate(),this.renderGraph())},onUpdate:Ext.emptyFn,renderGraph:function(){var e=!0;return this.disabled&&(this.canvas.reset(),e=!1),e},onMouseEnter:function(e){this.onMouseMove(e)},onMouseMove:function(e){this.currentPageXY=e.getPoint(),this.redraw()},onMouseLeave:function(){this.currentPageXY=this.targetX=this.targetY=null,this.redraw(),this.hideTip()},updateDisplay:function(){var e,t,i=this,n=i.getValues();n&&n.length&&i.currentPageXY&&i.el.getRegion().contains(i.currentPageXY)&&(t=i.canvas.el.getXY(),null!=(t=i.getRegion(i.currentPageXY[0]-t[0],i.currentPageXY[1]-t[1]))&&i.isValidRegion(t,n)&&(i.disableHighlight||i.renderHighlight(t),e=i.getRegionTooltip(t)),i.fireEvent("sparklineregionchange",i),e&&(i.tooltip.setHtml(e),i.showTip())),e||i.hideTip()},getRegion:Ext.emptyFn,getRegionTooltip:function(e){var t,i,n,r,o,s,a,l=this,d=[],c=l.getTipTpl(),u=l.getRegionFields(e),e=l.tooltipFormatter;if(e)return e(l,l,u);if(!c)return"";if(Ext.isArray(u)||(u=[u]),t=l.tooltipFormatFieldlist,i=l.tooltipFormatFieldlistKey,t&&i){for(n=[],s=u.length;s--;)r=u[s][i],-1!==(a=Ext.Array.indexOf(r,t))&&(n[a]=u[s]);u=n}for(o=u.length,a=0;a<o;a++)u[a].isNull&&l.getTooltipSkipNull()||(Ext.apply(u[a],{prefix:l.getTooltipPrefix(),suffix:l.getTooltipSuffix()}),d.push(c.apply(u[a])));return d.length?d.join("<br>"):""},getRegionFields:Ext.emptyFn,calcHighlightColor:function(e){var t,i=this.getHighlightColor(),n=this.getHighlightLighten();return i||(n&&(t=Ext.util.Color.fromString(e))&&(t.lighten(n),e=t.toHex()),e)},destroy:function(){delete this.redrawQueue[this.getId()],this.callParent()},privates:{hideTip:Ext.privateFn,isValidRegion:function(e,t){return e<t.length},showTip:Ext.privateFn}},function(e){var i=e.prototype;Ext.onInternalReady(function(){i.tooltip=e.constructTip()}),e.onClassCreated(e),i.processRedrawQueue=function(){var e,t=i.redrawQueue;for(e in t)t[e].redraw();i.redrawQueue={},i.redrawTimer=0},Ext.supports.Canvas||(e.prototype.element={tag:"span",reference:"element",listeners:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},style:{display:"inline-block",position:"relative",overflow:"hidden",margin:"0px",padding:"0px",verticalAlign:"top",cursor:"default"},children:[{tag:"svml:group",reference:"groupEl",coordorigin:"0 0",coordsize:"0 0",style:"position:absolute;width:0;height:0;pointer-events:none"}]})}),Ext.define("Ext.override.sparkline.Base",{override:"Ext.sparkline.Base",statics:{constructTip:function(){return new Ext.tip.ToolTip({showDelay:0,dismissDelay:0,hideDelay:400})}},onMouseMove:function(e){this.tooltip.triggerEvent=e,this.callParent([e])},onMouseLeave:function(e){this.callParent([e]),this.tooltip.target=null},privates:{hideTip:function(){var e=this.tooltip;e.target=null,e.hide()},showTip:function(){var e=this.tooltip;e.target=this.el,e.onTargetOver(e.triggerEvent)}}}),Ext.define("Ext.sparkline.BarBase",{extend:"Ext.sparkline.Base",renderHighlight:function(e){this.renderRegion(e,!0)},renderGraph:function(){var e,t,i,n,r=this.values,o=this.canvas,s=this.regionShapes||(this.regionShapes={});if(this.callParent()){for(i=r.length;i--;)if(e=this.renderRegion(i))if(Ext.isArray(e)){for(t=[],n=e.length;n--;)e[n].append(),t.push(e[n].id);s[i]=t}else e.append(),s[i]=e.id;else s[i]=null;this.currentPageXY&&(this.currentRegion=null,this.updateDisplay()),o.render()}}}),Ext.define("Ext.sparkline.RangeMap",{constructor:function(e){var t,i,n=[];for(t in e)e.hasOwnProperty(t)&&"string"==typeof t&&-1<t.indexOf(":")&&((i=t.split(":"))[0]=0===i[0].length?-1/0:parseFloat(i[0]),i[1]=0===i[1].length?1/0:parseFloat(i[1]),i[2]=e[t],n.push(i));this.map=e,this.rangelist=n||!1},get:function(e){var t,i,n,r=this.rangelist;if(void 0!==(n=this.map[e]))return n;if(r)for(t=r.length;t--;)if((i=r[t])[0]<=e&&i[1]>=e)return i[2]}}),Ext.define("Ext.sparkline.Bar",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinebar",config:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:null,nullColor:null,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMin:null,chartRangeMax:null,chartRangeClip:!1,colorMap:null},tipTpl:"&#9679; {prefix}{value}{suffix}",remove:function(e,t){for(var i=[],n=0,r=e.length;n<r;n++)e[n]!==t&&i.push(e[n]);return i},all:function(e,t,i){for(var n=e.length;n--;)if((!i||null!==e[n])&&e[n]!==t)return!1;return!0},applyColorMap:function(e){return Ext.isArray(e)?(this.colorMapByIndex=e,this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e,this.colorMapByValue&&null==this.colorMapByValue.get&&(this.colorMapByValue=new Ext.sparkline.RangeMap(e))),this.applyConfigChange(),e},onUpdate:function(){for(var e,t,i,n,r,o,s,a,l,d,c,u,h=this,f=h.values,g=h.getBarWidth(),p=h.getBarSpacing(),m=h.getChartRangeMin(),x=h.getChartRangeMax(),E=h.getChartRangeClip(),y=1/0,v=-1/0,b=h.getZeroAxis(),C=[],S=[],w=0,P=f.length;w<P;w++)((e="string"==typeof(c=f[w])&&-1<c.indexOf(":"))||Ext.isArray(c))&&(o=!0,e&&(c=f[w]=h.normalizeValues(c.split(":"))),c=h.remove(c,null),(e=Math.min.apply(Math,c))<y&&(y=e),v<(e=Math.max.apply(Math,c))&&(v=e));for(h.stacked=o,h.regionShapes={},h.totalBarWidth=g+p,h.width=f.length*g+(f.length-1)*p,E&&(n=null==m?-1/0:m,r=null==x?1/0:x),i=[],t=o?[]:i,w=0,P=f.length;w<P;w++)if(o)for(s=f[w],f[w]=d=[],C[w]=0,a=t[w]=S[w]=0,l=s.length;a<l;a++)null!==(c=d[a]=E?Ext.Number.constrain(s[a],n,r):s[a])&&(0<c&&(C[w]+=c),y<0&&0<v?c<0?S[w]+=Math.abs(c):t[w]+=c:t[w]+=Math.abs(c-(c<0?v:y)),i.push(c));else c=E?Ext.Number.constrain(f[w],n,r):f[w],null!==(c=f[w]=h.normalizeValue(c))&&i.push(c);h.max=g=Math.max.apply(Math,i),h.min=p=Math.min.apply(Math,i),h.stackMax=v=o?Math.max.apply(Math,C):g,h.stackMin=y=o?Math.min.apply(Math,i):p,null!=m&&(E||m<p)&&(p=m),null!=x&&(E||g<x)&&(g=x),m=p<=0&&0<=g&&b?0:!b||0<p?p:g,h.xAxisOffset=m,x=o?Math.max.apply(Math,t)+Math.max.apply(Math,S):g-p,h.canvasHeightEf=b&&p<0?h.getHeight()-2:h.getHeight()-1,p<m?(u=((o&&0<=g?v:g)-m)/x*h.getHeight())!==Math.ceil(u)&&(h.canvasHeightEf-=2,u=Math.ceil(u)):u=h.getHeight(),h.yoffset=u,h.range=x},getRegion:function(e,t){e=Math.floor(e/this.totalBarWidth);return e<0||e>=this.values.length?void 0:e},getRegionFields:function(e){for(var t,i=Ext.Array.from(this.values[e]),n=[],r=i.length;r--;)t=i[r],n.push({isNull:null===t,value:t,color:this.calcColor(r,t,e),offset:e});return n},calcColor:function(e,t,i){var n,r=this.colorMapByIndex,o=this.colorMapByValue,s=this.getZeroColor(),a=this.stacked?this.getStackedBarColor():t<0?this.getNegBarColor():this.getBarColor();return 0===t&&null!=s&&(a=s),o&&(n=o.get(t))?a=n:r&&r.length>i&&(a=r[i]),Ext.isArray(a)?a[e%a.length]:a},renderRegion:function(e,t){var i,n,r,o,s,a,l=this,d=l.values[e],c=l.xAxisOffset,u=l.range,h=l.stacked,f=l.canvas,g=l.getBarWidth(),p=e*l.totalBarWidth,m=l.canvasHeightEf,x=l.yoffset,E=l.getNullColor(),y=(d=Ext.isArray(d)?d:[d]).length,v=d[0],b=l.all(d,null),C=l.all(d,c,!0);if(b)E&&(r=t?E:l.calcHighlightColor(E,l),i=0<x?x-1:x,f.drawRect(p,i,g-1,0,r,r).append());else for(o=x,s=0;s<y;s++){if(v=d[s],h&&v===c){if(!C||a)continue;a=!0}n=0<u?Math.floor(m*(Math.abs(v-c)/u))+1:1,v<c||v===c&&0===x?(i=o,o+=n):(i=x-n,x-=n),r=l.calcColor(s,v,e),t&&(r=l.calcHighlightColor(r,l)),f.drawRect(p,i,g-1,n-1,r,r).append()}}},function(e){e.onClassCreated(e)}),Ext.define("Ext.sparkline.Box",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebox",config:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:null,targetColor:"#4a2",chartRangeMin:null,chartRangeMax:null},tipTpl:["{field:this.fields}: {value}",{fields:function(e){return{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}[e]}}],tooltipFormatFieldlistKey:"field",quartile:function(e,t){var i;return 2===t?(i=Math.floor(e.length/2),e.length%2?e[i]:(e[i-1]+e[i])/2):e.length%2?(i=(e.length*t+t)/4)%1?(e[Math.floor(i)]+e[Math.floor(i)-1])/2:e[i-1]:(i=(e.length*t+2)/4)%1?(e[Math.floor(i)]+e[Math.floor(i)-1])/2:e[i-1]},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},getRegion:function(){return 1},getRegionFields:function(){var e=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return void 0!==this.loutlier&&e.push({field:"lo",value:this.loutlier}),void 0!==this.routlier&&e.push({field:"ro",value:this.routlier}),void 0!==this.lwhisker&&e.push({field:"lw",value:this.lwhisker}),void 0!==this.rwhisker&&e.push({field:"rw",value:this.rwhisker}),e},renderHighlight:Ext.emptyFn,renderGraph:function(){var e,t,i,n,r,o,s,a,l,d=this,c=d.canvas,u=d.values,h=u.length,f=d.getWidth(),g=d.getHeight(),p=d.getChartRangeMin(),m=d.getChartRangeMax(),x=null==p?Math.min.apply(Math,u):p,E=null==m?Math.max.apply(Math,u):m,y=0,v=d.getSpotRadius(),b=d.getOutlierLineColor(),C=d.getOutlierFillColor(),S=d.getShowOutliers(),w=d.getOutlierIQR(),P=d.getLineColor(),T=d.getWhiskerColor(),p=d.getTargetColor();if(d.callParent()){if(d.raw)S&&5<u.length?(t=u[0],e=u[1],n=u[2],l=u[3],r=u[4],o=u[5],s=u[6]):(e=u[0],n=u[1],l=u[2],r=u[3],o=u[4]);else if(u.sort(function(e,t){return e-t}),n=d.quartile(u,1),l=d.quartile(u,2),i=(r=d.quartile(u,3))-n,S){for(e=o=null,a=0;a<h;a++)null==e&&u[a]>n-i*w&&(e=u[a]),u[a]<r+i*w&&(o=u[a]);t=u[0],s=u[h-1]}else e=u[0],o=u[h-1];d.quartiles=[n,l,r],d.lwhisker=e,d.rwhisker=o,d.loutlier=t,d.routlier=s,m=f/(E-x+1),S&&(y=Math.ceil(v),m=(f-=2*Math.ceil(v))/(E-x+1),t<e&&c.drawCircle((t-x)*m+y,g/2,v,b,C).append(),o<s&&c.drawCircle((s-x)*m+y,g/2,v,b,C).append()),c.drawRect(Math.round((n-x)*m+y),Math.round(.1*g),Math.round((r-n)*m),Math.round(.8*g),d.getBoxLineColor(),d.getBoxFillColor()).append(),c.drawLine(Math.round((e-x)*m+y),Math.round(g/2),Math.round((n-x)*m+y),Math.round(g/2),P).append(),c.drawLine(Math.round((e-x)*m+y),Math.round(g/4),Math.round((e-x)*m+y),Math.round(g-g/4),T).append(),c.drawLine(Math.round((o-x)*m+y),Math.round(g/2),Math.round((r-x)*m+y),Math.round(g/2),P).append(),c.drawLine(Math.round((o-x)*m+y),Math.round(g/4),Math.round((o-x)*m+y),Math.round(g-g/4),T).append(),c.drawLine(Math.round((l-x)*m+y),Math.round(.1*g),Math.round((l-x)*m+y),Math.round(.9*g),d.getMedianColor()).append(),d.target&&(l=Math.ceil(d.spotRadius),c.drawLine(Math.round((d.target-x)*m+y),Math.round(g/2-l),Math.round((d.target-x)*m+y),Math.round(g/2+l),p).append(),c.drawLine(Math.round((d.target-x)*m+y-l),Math.round(g/2),Math.round((d.target-x)*m+y+l),Math.round(g/2),p).append()),d.currentPageXY&&d.el.getRegion().contains(d.currentPageXY)&&(d.currentRegion=null,d.updateDisplay()),c.render()}}}),Ext.define("Ext.sparkline.Bullet",{extend:"Ext.sparkline.Base",alias:"widget.sparklinebullet",config:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:null},tipTpl:["{fieldkey:this.fields} - {value}",{fields:function(e){return"r"===e?"Range":"p"===e?"Performance":"t"===e?"Target":void 0}}],applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),this.normalizeValue),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e,t,i=this,n=i.values,r=i.getBase();i.callParent(arguments),(t=n.slice())[0]=null===t[0]?t[2]:t[0],t[1]=null===n[1]?t[2]:t[1],e=Math.min.apply(Math,n),t=Math.max.apply(Math,n),e=null==r?e<0?e:0:r,i.min=e,i.max=t,i.range=t-e,i.shapes={},i.valueShapes={},i.regiondata={},n.length||(i.disabled=!0)},getRegion:function(e,t){t=this.canvas.getShapeAt(e,t);return void 0!==t&&void 0!==this.shapes[t]?this.shapes[t]:void 0},getRegionFields:function(e){return{fieldkey:e.substr(0,1),value:this.values[e.substr(1)],region:e}},renderHighlight:function(e){var t,i=this.valueShapes,n=this.shapes,r=i[e];switch(delete n[r],e.substr(0,1)){case"r":t=this.renderRange(e.substr(1),!0);break;case"p":t=this.renderPerformance(!0);break;case"t":t=this.renderTarget(!0)}i[e]=t.id,n[t.id]=e,this.canvas.replaceWithShape(r,t)},renderRange:function(e,t){var i=this.values[e],i=Math.round(this.getWidth()*((i-this.min)/this.range)),e=this.getRangeColors()[e-2];return t&&(e=this.calcHighlightColor(e)),this.canvas.drawRect(0,0,i-1,this.getHeight()-1,e,e)},renderPerformance:function(e){var t=this.values[1],i=Math.round(this.getWidth()*((t-this.min)/this.range)),t=this.getPerformanceColor();return e&&(t=this.calcHighlightColor(t)),this.canvas.drawRect(0,Math.round(.3*this.getHeight()),i-1,Math.round(.4*this.getHeight())-1,t,t)},renderTarget:function(e){var t=this.values[0],i=this.getTargetWidth(),n=Math.round(this.getWidth()*((t-this.min)/this.range)-i/2),r=Math.round(.1*this.getHeight()),o=this.getHeight()-2*r,t=this.getTargetColor();return e&&(t=this.calcHighlightColor(t)),this.canvas.drawRect(n,r,i-1,o-1,t,t)},renderGraph:function(){var e,t,i=this,n=i.values.length,r=i.canvas,o=i.shapes||(i.shapes={}),s=i.valueShapes||(i.valueShapes={});if(i.callParent()){for(e=2;e<n;e++)o[(t=i.renderRange(e).append()).id]="r"+e,s["r"+e]=t.id;null!==i.values[1]&&(o[(t=i.renderPerformance().append()).id]="p1",s.p1=t.id),null!==i.values[0]&&(o[(t=this.renderTarget().append()).id]="t0",s.t0=t.id),i.currentPageXY&&i.el.getRegion().contains(i.currentPageXY)&&i.updateDisplay(),r.render()}},privates:{isValidRegion:function(e,t){return!0}}}),Ext.define("Ext.sparkline.Discrete",{extend:"Ext.sparkline.BarBase",alias:"widget.sparklinediscrete",config:{lineHeight:"auto",thresholdColor:null,thresholdValue:0,chartRangeMax:null,chartRangeMin:null,chartRangeClip:!1},tipTpl:"{prefix}{value}{suffix}",applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e=this,t=e.values,i=e.getChartRangeMin(),n=e.getChartRangeMax(),r=e.getChartRangeClip();e.callParent(arguments),e.regionShapes={},e.min=Math.min.apply(Math,t),e.max=Math.max.apply(Math,t),e.range=e.max-e.min,e.width=e.getWidth(),e.interval=Math.floor(e.width/t.length),e.itemWidth=e.width/t.length,null!=i&&(r||i<e.min)&&(e.min=i),null!=n&&(r||n>e.max)&&(e.max=n),e.canvas&&"auto"===e.getLineHeight()&&e.setLineHeight(Math.round(.3*e.getHeight()))},getRegion:function(e,t){return Math.floor(e/this.itemWidth)},getRegionFields:function(e){return{isNull:void 0===this.values[e],value:this.values[e],offset:e}},renderRegion:function(e,t){var i=this,n=i.values,r=i.min,o=i.max,s=i.range,a=i.interval,l=i.canvas,d=i.getHeight(),c=i.getLineHeight(),u=d-c,d=i.getThresholdColor(),o=Ext.Number.constrain(n[e],r,o),a=e*a,u=Math.round(u-(o-r)/s*u),d=d&&o<i.getThresholdValue()?d:i.getLineColor();t&&(d=i.calcHighlightColor(d)),l.drawLine(a,u,a,u+c,d).append()}}),Ext.define("Ext.sparkline.Line",{extend:"Ext.sparkline.Base",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklineline",config:{fillColor:"#def",spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:null,normalRangeMax:null,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:null,chartRangeMax:null,chartRangeMinX:null,chartRangeMaxX:null,valueSpots:null},tipTpl:"&#9679; {prefix}{y}{suffix}",applyValueSpots:function(e){return e&&!e.get&&(e=new Ext.sparkline.RangeMap(e)),this.applyConfigChange(),e},onUpdate:function(){this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[]},getRegion:function(e,t){for(var i=this.regionMap,n=i.length;n--;)if(null!==i[n]&&e>=i[n][0]&&e<=i[n][1])return i[n][2]},getRegionFields:function(e){return{isNull:null===this.yvalues[e],x:this.xvalues[e],y:this.yvalues[e],color:this.getLineColor(),fillColor:this.getFillColor(),offset:e}},renderHighlight:function(e){var t=this.canvas,i=this.vertices[e],n=this.getSpotRadius(),r=this.getHighlightSpotColor(),e=this.getHighlightLineColor();i&&(n&&r&&t.drawCircle(i[0],i[1],n,null,r).append(),e&&t.drawLine(i[0],this.canvasTop,i[0],this.canvasTop+this.getHeight(),e).append())},scanValues:function(){for(var e,t,i,n,r=this,o=r.values,s=o.length,a=r.xvalues,l=r.yvalues,d=r.yminmax,c=0;c<s;c++)e=o[c],t="string"==typeof o[c],i="object"==typeof o[c]&&o[c]instanceof Array,n=t&&o[c].split(":"),t&&2===n.length?(a.push(Number(n[0])),l.push(Number(n[1])),d.push(Number(n[1]))):i?(a.push(e[0]),l.push(e[1]),d.push(e[1])):(a.push(c),null===o[c]||"null"===o[c]?l.push(null):(l.push(Number(e)),d.push(Number(e))));r.xvalues&&(a=r.xvalues),r.maxy=r.maxyorg=Math.max.apply(Math,d),r.miny=r.minyorg=Math.min.apply(Math,d),r.maxx=Math.max.apply(Math,a),r.minx=Math.min.apply(Math,a),r.xvalues=a,r.yvalues=l,r.yminmax=d},processRangeOptions:function(){var e=this,t=e.getNormalRangeMin(),i=e.getNormalRangeMax(),n=e.getChartRangeMin(),r=e.getChartRangeMinX(),o=e.getChartRangeMax(),s=e.getChartRangeMaxX();null!=t&&(t<e.miny&&(e.miny=t),i>e.maxy&&(e.maxy=i)),null!=n&&(e.chartRangeClip||n<e.miny)&&(e.miny=n),null!=o&&(e.chartRangeClip||o>e.maxy)&&(this.maxy=o),null!=r&&(e.chartRangeClipX||r<e.minx)&&(e.minx=r),null!=s&&(e.chartRangeClipX||s>e.maxx)&&(e.maxx=s)},drawNormalRange:function(e,t,i,n,r){var o=this.getNormalRangeMin(),s=this.getNormalRangeMax(),t=t+Math.round(i-i*((s-this.miny)/r)),r=Math.round(i*(s-o)/r);this.canvas.drawRect(e,t,n,r,void 0,this.normalRangeColor).append()},renderGraph:function(){var e,t,i,n,r,o,s,a,l,d,c,u,h,f,g,p,m,x,E,y,v,b,C=this,S=C.canvas,w=C.getWidth(),P=C.getHeight(),T=C.vertices,I=C.getSpotRadius(),k=C.regionMap,R=C.getValueSpots(),M=C.getSpotColor(),A=C.getMinSpotColor(),D=C.getMaxSpotColor(),F=C.getNormalRangeMin(),L=C.getDrawNormalOnTop();if(C.callParent()&&(C.scanValues(),C.processRangeOptions(),y=C.xvalues,v=C.yvalues,C.yminmax.length&&!(C.yvalues.length<2))){for(n=r=0,e=C.maxx-C.minx==0?1:C.maxx-C.minx,t=C.maxy-C.miny==0?1:C.maxy-C.miny,i=C.yvalues.length-1,I&&(w<4*I||P<4*I)&&(I=0),I&&(((x=C.getHighlightSpotColor()&&!C.disableInteraction)||A||M&&v[i]===C.miny)&&(P-=Math.ceil(I)),(x||D||M&&v[i]===C.maxy)&&(P-=Math.ceil(I),n+=Math.ceil(I)),!x&&(!A&&!D||v[0]!==C.miny&&v[0]!==C.maxy)||(r+=Math.ceil(I),w-=Math.ceil(I)),(x||M||A||D&&(v[i]===C.miny||v[i]===C.maxy))&&(w-=Math.ceil(I))),P--,null==F||L||C.drawNormalRange(r,n,P,w,t),s=[o=[]],u=null,f=v.length,b=0;b<f;b++)a=y[b],d=y[b+1],l=v[b],h=(c=r+Math.round((a-C.minx)*(w/e)))+((b<f-1?r+Math.round((d-C.minx)*(w/e)):w)-c)/2,k[b]=[u||0,h,b],u=h,null===l?b&&(null!==v[b-1]&&(o=[],s.push(o)),T.push(null)):(l<C.miny&&(l=C.miny),l>C.maxy&&(l=C.maxy),o.length||o.push([c,n+P]),l=[c,n+Math.round(P-P*((l-this.miny)/t))],o.push(l),T.push(l));for(g=[],p=[],m=s.length,b=0;b<m;b++)(o=s[b]).length&&(C.fillColor&&(o.push([o[o.length-1][0],n+P]),p.push(o.slice(0)),o.pop()),2<o.length&&(o[0]=[o[0][0],o[1][1]]),g.push(o));for(m=p.length,b=0;b<m;b++)S.drawShape(p[b],C.fillColor,C.fillColor).append();for(null!=F&&L&&C.drawNormalRange(r,n,P,w,t),m=g.length,b=0;b<m;b++)S.drawShape(g[b],C.getLineColor(),null,C.getLineWidth()).append();if(I&&R)for(null==R.get&&(R=new Ext.sparkline.RangeMap(R)),b=0;b<f;b++)(E=R.get(v[b]))&&S.drawCircle(r+Math.round((y[b]-C.minx)*(w/e)),n+Math.round(P-P*((v[b]-C.miny)/t)),I,null,E).append();I&&M&&null!=v[i]&&S.drawCircle(r+Math.round((y[y.length-1]-C.minx)*(w/e)),n+Math.round(P-P*((v[i]-C.miny)/t)),I,null,M).append(),C.maxy!==C.minyorg&&(I&&A&&(a=y[Ext.Array.indexOf(v,C.minyorg)],S.drawCircle(r+Math.round((a-C.minx)*(w/e)),n+Math.round(P-P*((C.minyorg-C.miny)/t)),I,null,A).append()),I&&D&&(a=y[Ext.Array.indexOf(v,C.maxyorg)],S.drawCircle(r+Math.round((a-C.minx)*(w/e)),n+Math.round(P-P*((C.maxyorg-C.miny)/t)),I,null,D).append())),C.canvasTop=n,C.currentPageXY&&C.el.getRegion().contains(C.currentPageXY)&&C.updateDisplay(),S.render()}}}),Ext.define("Ext.sparkline.Pie",{extend:"Ext.sparkline.Base",alias:"widget.sparklinepie",config:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000"},tipTpl:'&#9679; {value} ({percent:number("0.0")}%)',applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){var e,t=this.values,i=0;if(this.callParent(arguments),this.shapes={},this.valueShapes={},0<t.length)for(e=t.length;e--;)i+=t[e];this.total=i,this.radius=Math.floor(Math.min(this.getWidth(),this.getHeight())/2)},getRegion:function(e,t){var i=window.devicePixelRatio||1,i=this.canvas.getShapeAt(e*i,t*i);return null!=i&&null!=this.shapes[i]?this.shapes[i]:null},getRegionFields:function(e){var t=this.getSliceColors();return{isNull:null==this.values[e],value:this.values[e],percent:this.values[e]/this.total*100,color:t[e%t.length],offset:e}},renderHighlight:function(e){this.renderSlice(e,!0).append()},renderSlice:function(e,t){for(var i,n,r,o=this.canvas,s=this.radius,a=this.getBorderWidth(),l=this.getOffset(),d=2*Math.PI,c=this.values,u=this.total,h=l?2*Math.PI*(l/360):0,f=this.getSliceColors(),g=c.length,p=0;p<g;p++){if(n=i=h,0<u&&(n=h+d*(c[p]/u)),e===p)return r=f[p%f.length],t&&(r=this.calcHighlightColor(r)),o.drawPieSlice(s,s,s-a,i,n,null,r);h=n}},renderGraph:function(){var e,t,i=this,n=i.canvas,r=i.values,o=i.radius,s=i.getBorderWidth(),a=i.shapes||(i.shapes={}),l=i.valueShapes||(i.valueShapes={});if(i.callParent()){for(s&&n.drawCircle(o,o,Math.floor(o-s/2),i.getBorderColor(),null,s).append(),t=r.length;t--;)r[t]&&(e=i.renderSlice(t).append(),l[t]=e.id,a[e.id]=t);i.currentPageXY&&i.el.getRegion().contains(i.currentPageXY)&&(i.currentRegion=null,i.updateDisplay()),n.render()}}}),Ext.define("Ext.sparkline.TriState",{extend:"Ext.sparkline.BarBase",requires:["Ext.sparkline.RangeMap"],alias:"widget.sparklinetristate",config:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{}},tipTpl:["&#9679; {value:this.states}",{states:function(e){var t=Number(e);return-1===t?"Loss":0===t?"Draw":1===t?"Win":e}}],applyColorMap:function(e){return Ext.isArray(e)?(this.colorMapByIndex=e,this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e,this.colorMapByValue&&null==this.colorMapByValue.get&&(this.colorMapByValue=new Ext.sparkline.RangeMap(e))),this.applyConfigChange(),e},applyValues:function(e){return e=Ext.Array.map(Ext.Array.from(e),Number),this.disabled=!(e&&e.length),this.applyConfigChange(),e},onUpdate:function(){this.totalBarWidth=this.getBarWidth()+this.getBarSpacing()},getBarWidth:function(){var e=this.values;return this._barWidth||(this.getWidth()-(e.length-1)*this.getBarSpacing())/e.length},getRegion:function(e,t){return Math.floor(e/this.totalBarWidth)},getRegionFields:function(e){return{isNull:null==this.values[e],value:this.values[e],color:this.calcColor(this.values[e],e),offset:e}},calcColor:function(e,t){var i,n=this.values,r=this.colorMapByIndex,o=this.colorMapByValue,t=o&&(i=o.get(e))?i:r&&r.length>t?r[t]:n[t]<0?this.getNegBarColor():0<n[t]?this.getPosBarColor():this.getZeroBarColor();return t},renderRegion:function(e,t){var i,n=this.values,r=this.canvas,o=r.pixelHeight,s=Math.round(o/2),o=e*this.totalBarWidth,s=n[e]<0?(i=s)-1:0<n[e]?(i=0,s-1):(i=s-1,2),e=this.calcColor(n[e],e);null!=e&&(t&&(e=this.calcHighlightColor(e)),r.drawRect(o,i,this.getBarWidth()-1,s-1,e,e).append())}}),Ext.define("Ext.util.Base64",{singleton:!0,_str:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t,i,n,r,o,s,a="",l=0,d=(e=this._utf8_encode(e)).length;l<d;)n=(s=e.charCodeAt(l++))>>2,r=(3&s)<<4|(t=e.charCodeAt(l++))>>4,o=(15&t)<<2|(i=e.charCodeAt(l++))>>6,s=63&i,isNaN(t)?o=s=64:isNaN(i)&&(s=64),a=a+this._str.charAt(n)+this._str.charAt(r)+this._str.charAt(o)+this._str.charAt(s);return a},decode:function(e){for(var t,i,n,r,o,s="",a=0,l=(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length;a<l;)t=this._str.indexOf(e.charAt(a++))<<2|(n=this._str.indexOf(e.charAt(a++)))>>4,i=(15&n)<<4|(r=this._str.indexOf(e.charAt(a++)))>>2,n=(3&r)<<6|(o=this._str.indexOf(e.charAt(a++))),s+=String.fromCharCode(t),64!==r&&(s+=String.fromCharCode(i)),64!==o&&(s+=String.fromCharCode(n));return s=this._utf8_decode(s)},_utf8_encode:function(e){for(var t="",i=0,n=(e=e.replace(/\r\n/g,"\n")).length;i<n;i++){var r=e.charCodeAt(i);r<128?t+=String.fromCharCode(r):(127<r&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t,i,n="",r=0,o=0,s=e.length;r<s;)(t=e.charCodeAt(r))<128?(n+=String.fromCharCode(t),r++):191<t&&t<224?(o=e.charCodeAt(r+1),n+=String.fromCharCode((31&t)<<6|63&o),r+=2):(o=e.charCodeAt(r+1),i=e.charCodeAt(r+2),n+=String.fromCharCode((15&t)<<12|(63&o)<<6|63&i),r+=3);return n}}),Ext.define("Ext.util.DelimitedValue",{dateFormat:"C",delimiter:"\t",lineBreak:"\n",quote:'"',parseREs:{},quoteREs:{},lineBreakRe:/\r?\n/g,lastLineBreakRe:/(\r?\n|\r)$/,constructor:function(e){e&&Ext.apply(this,e)},decode:function(e,t){if(!e)return[];for(var i,n,r=t||this.delimiter,o=[],s=[o],a=this.quote,l=this.quoteREs,t=this.parseREs,e=e.replace(this.lastLineBreakRe,""),d=t[r]||(t[r]=new RegExp("(\\"+r+"|\\r?\\n|\\r|^)(?:\\"+a+"([^\\"+a+"]*(?:\\"+a+"\\"+a+"[^\\"+a+"]*)*)\\"+a+'|([^"\\'+r+"\\r\\n]*))","gi")),c=l[a]||(l[a]=new RegExp("\\"+a+"\\"+a,"g"));n=d.exec(e);)(i=n[1]).length&&i!==r&&s.push(o=[]),n=n[2]?n[2].replace(c,'"'):n[3],o.push(n);return s},encode:function(e,t){for(var i,n,r,o=t||this.delimiter,s=this.dateFormat,a=this.quote,l=a+a,d=e.length,c=this.lineBreakRe,u=[],h=[];0<d--;){for(r=e[d],h.length=n=r.length;0<n--;)null==(i=r[n])?i="":"string"==typeof i?i&&(-1<i.indexOf(a)?i=a+i.split(a).join(l)+a:(-1<i.indexOf(o)||c.test(i))&&(i=a+i+a)):Ext.isDate(i)?i=Ext.Date.format(i,s):i&&(isNaN(i)||Ext.isArray(i))&&Ext.raise("Cannot serialize "+Ext.typeOf(i)+" into CSV"),h[n]=i;u[d]=h.join(o)}return u.join(this.lineBreak)}}),Ext.define("Ext.util.CSV",{extend:"Ext.util.DelimitedValue",singleton:!0,delimiter:","}),Ext.define("Ext.util.ItemCollection",{extend:"Ext.util.MixedCollection",alternateClassName:"Ext.ItemCollection",getKey:function(e){return e.getItemId&&e.getItemId()},has:function(e){return this.map.hasOwnProperty(e.getId())}}),Ext.define("Ext.util.LocalStorage",{id:null,destroyed:!1,lazyKeys:!0,prefix:"",session:!1,_keys:null,_store:null,_users:0,statics:{cache:{},get:function(e){var t=this.cache,i={_users:1};return Ext.isString(e)?i.id=e:Ext.apply(i,e),(t=t[i.id])?(!0===t&&Ext.raise('Creating a shared instance of private local store "'+this.id+'".'),++t._users):t=new this(i),t},supported:!0},constructor:function(e){Ext.apply(this,e),this.hasOwnProperty("id")||Ext.raise("No id was provided to the local store."),this._users?Ext.util.LocalStorage.cache[this.id]=this:(Ext.util.LocalStorage.cache[this.id]&&Ext.raise('Cannot create duplicate instance of local store "'+this.id+'". Use Ext.util.LocalStorage.get() to share instances.'),Ext.util.LocalStorage.cache[this.id]=!0),this.init()},init:function(){var e=this.id;!this.prefix&&e&&(this.prefix=e+"-"),this._store=this.session?window.sessionStorage:window.localStorage},destroy:function(){this._users&&Ext.log.warn("LocalStorage(id="+this.id+") destroyed while in use"),delete Ext.util.LocalStorage.cache[this.id],this._store=this._keys=null,this.callParent()},getKeys:function(){var e,t,i=this._store,n=this.prefix,r=this._keys,o=n.length;if(!r)for(this._keys=r=[],e=i.length;e--;)(t=i.key(e)).length>o&&n===t.substring(0,o)&&r.push(t.substring(o));return r},release:function(){--this._users||this.destroy()},save:Ext.emptyFn,clear:function(){for(var e=this._store,t=this.prefix,i=this._keys||this.getKeys(),n=i.length;n--;)e.removeItem(t+i[n]);i.length=0},key:function(e){var t=this._keys||this.getKeys();return 0<=e&&e<t.length?t[e]:null},getItem:function(e){e=this.prefix+e;return this._store.getItem(e)},removeItem:function(e){var t=this.prefix+e,i=this._store,n=this._keys,r=i.length;i.removeItem(t),n&&r!==i.length&&(this.lazyKeys?this._keys=null:Ext.Array.remove(n,e))},setItem:function(e,t){var i=this.prefix+e,n=this._store,r=n.length,o=this._keys;n.setItem(i,t),o&&r!==n.length&&o.push(e)}},function(){if(!("localStorage"in window))return Ext.isIE?void this.override({data:null,flushDelay:1,init:function(){var e,t=this,i=t.data;t.el=e=document.createElement("div"),e.id=t.id||(t.id="extjs-localstore"),e.addBehavior("#default#userdata"),Ext.getHead().dom.appendChild(e),e.load(t.id),i=e.getAttribute("xdata"),t.data=i=i?Ext.decode(i):{},t._flushFn=function(){t._timer=null,t.save(0)}},destroy:function(){var e=this.el;e&&(this._timer&&this.save(),e.parentNode.removeChild(e),this.data=this.el=null,this.callParent())},getKeys:function(){var e=this._keys;return e||(this._keys=e=Ext.Object.getKeys(this.data)),e},save:function(e){var t=this;e?t._timer||(t._timer=Ext.defer(t._flushFn,e)):(t._timer&&(clearTimeout(t._timer),t._timer=null),t.el.setAttribute("xdata",Ext.encode(t.data)),t.el.save(t.id))},clear:function(){this.data={},this._keys=null,this.save(this.flushDelay)},getItem:function(e){var t=this.data;return e in t?t[e]:null},removeItem:function(e){var t=this._keys,i=this.data;e in i&&(delete i[e],t&&(this.lazyKeys?this._keys=null:Ext.Array.remove(t,e)),this.save(this.flushDelay))},setItem:function(e,t){var i=this.data,n=this._keys;!n||e in i||n.push(e),i[e]=t,this.save(this.flushDelay)}}):(this.supported=!1,void(this.prototype.init=function(){Ext.raise("Local storage is not supported on this browser")}))}),Ext.define("Ext.util.TSV",{extend:"Ext.util.DelimitedValue",singleton:!0,delimiter:"\t"}),Ext.define("Ext.util.TaskManager",{extend:"Ext.util.TaskRunner",alternateClassName:["Ext.TaskManager"],singleton:!0}),Ext.define("Ext.util.TextMetrics",{requires:["Ext.dom.Element"],statics:{shared:null,measure:function(e,t,i){var n=this.shared;return(n=n||(this.shared=new this(e,i))).bind(e),n.setFixedWidth(i||"auto"),n.getSize(t)},destroy:function(){Ext.destroy(this.shared),this.shared=null}},constructor:function(e,t){var i=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});i.setVisibilityMode(1),this.measure=i,e&&this.bind(e),i.position("absolute"),i.setLocalXY(-1e3,-1e3),i.hide(),t&&i.setWidth(t)},getSize:function(e){var t=this.measure;return t.setHtml(e),e=t.getSize(),t.setHtml(""),e},bind:function(e){this.el=Ext.get(e),this.measure.setStyle(this.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(e){this.measure.setWidth(e)},getWidth:function(e){return this.measure.dom.style.width="auto",this.getSize(e).width},getHeight:function(e){return this.getSize(e).height},destroy:function(){this.el=this.measure=Ext.destroy(this.measure),this.callParent()}},function(){Ext.Element.override({getTextWidth:function(e,t,i){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(e,this.dom.innerHTML,!0)).width,t||0,i||1e6)}})}),Ext.define("Ext.util.translatable.CssTransform",{extend:"Ext.util.translatable.Dom",isCssTransform:!0,doTranslate:function(e,t){var i=this.getElement();this.destroyed||i.destroyed||i.translate(e,t),this.callParent([e,t])},destroy:function(){var e=this.getElement();e&&!e.destroyed&&(e.dom.style.webkitTransform=null),this.callParent()}}),Ext.define("Ext.util.translatable.ScrollParent",{extend:"Ext.util.translatable.Dom",isScrollParent:!0,applyElement:function(e){e=Ext.get(e);return e&&(this.parent=e.parent()),e},doTranslate:function(e,t){var i=this.parent;i.setScrollLeft(Math.round(-e)),i.setScrollTop(Math.round(-t)),this.callParent([e,t])},getPosition:function(){var e=this.position,t=this.parent;return e.x=t.getScrollLeft(),e.y=t.getScrollTop(),e}}),Ext.define("Ext.util.translatable.CssPosition",{extend:"Ext.util.translatable.Dom",doTranslate:function(e,t){var i=this.getElement().dom.style;"number"==typeof e&&(i.left=e+"px"),"number"==typeof t&&(i.top=t+"px"),this.callParent([e,t])},destroy:function(){var e=this.getElement().dom.style;e.left=null,e.top=null,this.callParent()}}),Ext.define("Ext.util.Translatable",{requires:["Ext.util.translatable.CssTransform","Ext.util.translatable.ScrollPosition","Ext.util.translatable.ScrollParent","Ext.util.translatable.CssPosition"],constructor:function(e){var t=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(e)){case"scrollposition":return new t.ScrollPosition(e);case"scrollparent":return new t.ScrollParent(e);case"csstransform":return new t.CssTransform(e);case"cssposition":return new t.CssPosition(e)}}}),Ext.define("Ext.util.paintmonitor.OverflowChange",{extend:"Ext.util.paintmonitor.Abstract",eventName:Ext.browser.is.Firefox?"overflow":"overflowchanged",monitorClass:"overflowchange",onElementPainted:function(e){this.getCallback().apply(this.getScope(),this.getArgs())}}),Ext.define(null,{override:"Ext.event.publisher.Focus",compatibility:Ext.isIE10m,publishDelegatedDomEvent:function(e){var t=document.body,i=Ext.synchronouslyFocusing;i&&("focusout"===e.type&&(e.srcElement===i||e.srcElement===window)&&e.toElement===t||"focusin"===e.type&&(e.srcElement===t||e.srcElement===window)&&e.fromElement===i&&null===e.toElement)||this.callParent([e])}}),Ext.define(null,{override:"Ext.form.field.Checkbox",compatibility:Ext.isIE8,changeEventName:"propertychange",onChangeEvent:function(e){this.duringSetRawValue||"checked"!==e.browserEvent.propertyName||this.callParent([e])},updateCheckedCls:function(e){var t=this.displayEl;this.callParent([e]),t&&e!==this.lastValue&&t.repaint()}}),Ext.define(null,{override:"Ext.form.field.Radio",compatibility:Ext.isIE8,getSubTplData:function(e){e=this.callParent([e]);return delete e.checked,e},afterRender:function(){this.callParent(),this.checked&&(this.inputEl.dom.checked=!0)},onChange:function(e,t){this.callSuper([e,t])}}),Ext.define(null,{override:"Ext.scroll.Scroller",compatibility:Ext.isIE8,privates:{doScrollTo:function(e,t,i){var n,r,o,s,a=this.getElement();a&&!a.destroyed&&(n=this.getElement().dom,s=t===1/0,((o=e===1/0)||s)&&(r=this.getMaxPosition(),o&&(e=r.x),s&&(t=r.y)),e=this.convertX(e),i?(r={},null!=t&&(r.scrollTop=t),null!=e&&(r.scrollLeft=e),a.animate(Ext.mergeIf({to:{scrollTop:t,scrollLeft:e}},i))):(null!=e&&null!=t&&(this.deferDomScroll=!0),null!=t&&(n.scrollTop=t),null!=e&&(n.scrollLeft=e),this.deferDomScroll&&(this.deferDomScroll=!1,n.scrollLeft,n.scrollLeft=e)),this.positionDirty=!0)},onDomScroll:function(){this.deferDomScroll||this.callParent()}}}),Ext.define("Ext.Action",{constructor:function(e){this.initialConfig=e,this.itemId=e.itemId=e.itemId||e.id||Ext.id(),this.items=[]},isAction:!0,setText:function(e){this.initialConfig.text=e,this.callEach("setText",[e])},getText:function(){return this.initialConfig.text},setIconCls:function(e){this.initialConfig.iconCls=e,this.callEach("setIconCls",[e])},setGlyph:function(e){this.initialConfig.glyph=e,this.callEach("setGlyph",[e])},getIconCls:function(){return this.initialConfig.iconCls},setDisabled:function(e){this.initialConfig.disabled=e,this.callEach("setDisabled",[e])},enable:function(){this.setDisabled(!1)},disable:function(){this.setDisabled(!0)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(e){this.initialConfig.hidden=e,this.callEach("setVisible",[!e])},show:function(){this.setHidden(!1)},hide:function(){this.setHidden(!0)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(e,t){this.initialConfig.handler=e,this.initialConfig.scope=t,this.callEach("setHandler",[e,t])},each:function(e,t){Ext.each(this.items,e,t)},callEach:function(e,t){var i,n=this.items,r=0,o=n.length;for(Ext.suspendLayouts();r<o;r++)(i=n[r])[e].apply(i,t);Ext.resumeLayouts(!0)},addComponent:function(e){this.items.push(e),e.on("destroy",this.removeComponent,this)},removeComponent:function(e){Ext.Array.remove(this.items,e)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||Ext.global,arguments)}}),Ext.define("Ext.ElementLoader",{mixins:["Ext.util.Observable"],uses:["Ext.data.Connection","Ext.Ajax"],statics:{Renderer:{Html:function(e,t,i){return e.getTarget().setHtml(t.responseText,!0===i.scripts,i.rendererScope),!0}}},url:null,params:null,baseParams:null,autoLoad:!1,target:null,loadMask:!1,ajaxOptions:null,scripts:!1,isLoader:!0,constructor:function(e){this.mixins.observable.constructor.call(this,e),this.setTarget(this.target),this.autoLoad&&(!0===(e=this.autoLoad)&&(e=null),this.load(e))},setTarget:function(e){e=Ext.get(e),this.target&&this.target!==e&&this.abort(),this.target=e},getTarget:function(){return this.target||null},abort:function(){var e=this.active;void 0!==e&&(Ext.Ajax.abort(e.request),e.mask&&this.removeMask(),delete this.active)},removeMask:function(){this.target.unmask()},addMask:function(e){this.target.mask(!0===e?null:e)},load:function(e){this.target||Ext.raise("A valid target is required when loading content"),e=Ext.apply({},e);var t=this,i=(Ext.isDefined(e.loadMask)?e:t).loadMask,n=Ext.apply({},e.params),r=Ext.apply({},e.ajaxOptions),o=e.callback||t.callback,s=e.scope||t.scope||t;Ext.applyIf(r,t.ajaxOptions),Ext.applyIf(e,r),Ext.applyIf(n,t.params),Ext.apply(n,t.baseParams),Ext.applyIf(e,{url:t.url}),e.url||Ext.raise("You must specify the URL from which content should be loaded"),Ext.apply(e,{scope:t,params:n,callback:t.onComplete}),!1!==t.fireEvent("beforeload",t,e)&&(i&&t.addMask(i),t.active={options:e,mask:i,scope:s,callback:o,success:e.success||t.success,failure:e.failure||t.failure,renderer:e.renderer||t.renderer,scripts:(Ext.isDefined(e.scripts)?e:t).scripts},t.active.request=Ext.Ajax.request(e),t.setOptions(t.active,e))},setOptions:function(e,t){e.rendererScope=t.rendererScope||this.rendererScope||this},onComplete:function(e,t,i){var n,r,o=this,s=o.active;s&&(r=s.scope,n=s.rendererScope,(t=t&&!1!==o.getRenderer(s.renderer).call(n,o,i,s))?(Ext.callback(s.success,r,[o,i,e]),o.fireEvent("load",o,i,e)):(Ext.callback(s.failure,r,[o,i,e]),o.fireEvent("exception",o,i,e)),Ext.callback(s.callback,r,[o,t,i,e]),s.mask&&o.removeMask()),delete o.active},getRenderer:function(e){return Ext.isFunction(e)?e:this.statics().Renderer.Html},startAutoRefresh:function(e,t){var i=this;i.stopAutoRefresh(),i.autoRefresh=Ext.interval(function(){i.load(t)},e)},stopAutoRefresh:function(){clearInterval(this.autoRefresh),this.autoRefresh=null},isAutoRefreshing:function(){return!!this.autoRefresh},destroy:function(){this.stopAutoRefresh(),this.abort(),this.callParent()}}),Ext.define("Ext.ComponentLoader",{extend:"Ext.ElementLoader",statics:{Renderer:{Data:function(e,t,i){var n=!0;try{e.getTarget().update(Ext.decode(t.responseText))}catch(e){n=!1}return n},Component:function(e,t,i){var n=!0,e=e.getTarget(),r=[];e.isContainer||Ext.raise({target:e,msg:"Components can only be loaded into a container"});try{r=Ext.decode(t.responseText)}catch(e){n=!1}return n&&(e.suspendLayouts(),i.removeAll&&e.removeAll(),e.add(r),e.resumeLayouts(!0)),n}}},target:null,loadOnRender:!1,loadMask:!1,renderer:"html",setTarget:function(e){Ext.isString(e)&&(e=Ext.getCmp(e)),this.target&&this.target!==e&&this.abort(),(this.target=e)&&this.loadOnRender&&(e.rendered?this.doLoadOnRender():this.mon(e,"render",this.doLoadOnRender,this))},doLoadOnRender:function(){var e=this.loadOnRender;this.load(Ext.isObject(e)?e:null)},removeMask:function(){this.target.setLoading(!1)},addMask:function(e){this.target.setLoading(e)},setOptions:function(e,t){e.removeAll=(Ext.isDefined(t.removeAll)?t:this).removeAll,e.rendererScope=t.rendererScope||this.rendererScope||this.target},getRenderer:function(e){if(Ext.isFunction(e))return e;var t=this.statics().Renderer;switch(e){case"component":return t.Component;case"data":return t.Data;default:return Ext.ElementLoader.Renderer.Html}}}),Ext.define("Ext.layout.SizeModel",{constructor:function(e){var t=this,i=t.self,n=i.sizeModelsArray;Ext.apply(t,e),t[e=t.name]=!0,t.fixed=!(t.auto=t.natural||t.shrinkWrap),n[t.ordinal=n.length]=i[e]=i.sizeModels[e]=t},statics:{sizeModelsArray:[],sizeModels:{}},calculated:!1,configured:!1,constrainedMax:!1,constrainedMin:!1,natural:!1,shrinkWrap:!1,calculatedFromConfigured:!1,calculatedFromNatural:!1,calculatedFromShrinkWrap:!1,names:null},function(){var e,t,i,n,r,o=this,s=o.sizeModelsArray;for(new o({name:"calculated"}),new o({name:"configured",names:{width:"width",height:"height"}}),new o({name:"natural"}),new o({name:"shrinkWrap"}),new o({name:"calculatedFromConfigured",configured:!0,calculatedFrom:!0,names:{width:"width",height:"height"}}),new o({name:"calculatedFromNatural",natural:!0,calculatedFrom:!0}),new o({name:"calculatedFromShrinkWrap",shrinkWrap:!0,calculatedFrom:!0}),new o({name:"constrainedMax",configured:!0,constrained:!0,names:{width:"maxWidth",height:"maxHeight"}}),new o({name:"constrainedMin",configured:!0,constrained:!0,names:{width:"minWidth",height:"minHeight"}}),new o({name:"constrainedDock",configured:!0,constrained:!0,constrainedByMin:!0,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}}),e=0,i=s.length;e<i;++e)for((r=s[e]).pairsByHeightOrdinal=n=[],t=0;t<i;++t)n.push({width:r,height:s[t]})}),Ext.define("Ext.layout.Layout",{mixins:["Ext.mixin.Factoryable"],requires:["Ext.XTemplate","Ext.layout.SizeModel"],uses:["Ext.layout.Context"],factoryConfig:{type:"layout"},isLayout:!0,initialized:!1,running:!1,needsItemSize:!0,setsItemSize:!0,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:!1,$configStrict:!1,constructor:function(e){this.id=Ext.id(null,this.type+"-"),this.initConfig(e),delete this.type,this.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(e){var t,i=this,n=i.context;i.lastWidthModel!==e.widthModel&&(i.lastWidthModel&&(t=!0),i.lastWidthModel=e.widthModel),i.lastHeightModel!==e.heightModel&&(i.lastWidthModel&&(t=!0),i.lastHeightModel=e.heightModel),t&&((n=e.context).clearTriggers(i,!1),n.clearTriggers(i,!0),i.triggerCount=0)},finishedLayout:function(e){this.lastWidthModel=e.widthModel,this.lastHeightModel=e.heightModel,this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(e){return this.autoSizePolicy},isItemBoxParent:function(e){return!1},isItemLayoutRoot:function(e){var t=e.getSizeModel(),i=t.width,t=t.height;return!(!e.componentLayout.lastComponentSize&&(i.calculated||t.calculated))&&(!i.shrinkWrap&&!t.shrinkWrap)},isItemShrinkWrap:function(e){return e.shrinkWrap},isRunning:function(){return!!this.ownerContext},getItemsRenderTree:function(e,t){var i,n,r,o,s=e.length;if(s)for(o=[],i=0;i<s;++i)(n=e[i]).rendered||(t&&void 0!==t[n.id]?r=t[n.id]:(this.configureItem(n),r=n.getRenderTree(),t&&(t[n.id]=r)),r&&o.push(r));return o},finishRender:Ext.emptyFn,finishRenderItems:function(e,t){for(var i,n=t.length,r=0;r<n;r++)(i=t[r]).rendering&&i.finishRender(r)},renderChildren:function(){var e=this.getLayoutItems(),t=this.getRenderTarget();this.renderItems(e,t)},renderItems:function(e,t){var i,n=e.length,r=0,o=0;if(n){for(Ext.suspendLayouts();r<n;r++,o++)(i=e[r])&&!i.rendered?this.renderItem(i,t,o):i.ignoreDomPosition?--o:this.isValidParent(i,t,o)?this.configureItem(i):this.moveItem(i,t,o);Ext.resumeLayouts(!0)}},isValidParent:function(e,t,i){t=t&&t.dom||t,e=this.getItemLayoutEl(e);return!(!e||!t)&&("number"==typeof i?(i=this.getPositionOffset(i),e===t.childNodes[i]):e.parentNode===t)},getItemLayoutEl:function(e){var t,i=e.el?e.el.dom:Ext.getDom(e),e=i.parentNode;return e&&(t=e.className)&&-1!==t.indexOf(Ext.baseCSSPrefix+"resizable-wrap")&&(i=i.parentNode),i},getPositionOffset:function(e){return e},configureItem:function(e){e.ownerLayout=this},renderItem:function(e,t,i){e.rendered||(this.configureItem(e),e.render(t,i))},moveItem:function(e,t,i){var n=Ext.Element.getActiveElement(!0);t=t.dom||t,"number"==typeof i&&(i=t.childNodes[i]),e.el.contains(n)?n.suspendFocusEvents():n=null,t.insertBefore(e.el.dom,i||null),e.container=Ext.get(t),this.configureItem(e),n&&(n.focus(),n.resumeFocusEvents())},onContentChange:function(){return this.owner.updateLayout(),!0},initLayout:function(){this.initialized=!0},setOwner:function(e){this.owner=e},getLayoutItems:function(){return[]},onAdd:function(e){e.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var t,i=e.el,n=this.owner;e.rendered&&(t=[].concat(this.itemCls||[]),n.itemCls&&(t=Ext.Array.push(t,n.itemCls)),t.length&&i.removeCls(t)),delete e.ownerLayout},afterCollapse:function(e,t){t&&this.onContentChange(e)},afterExpand:function(e,t){t&&this.onContentChange(e)},destroy:function(){var e;this.targetCls&&(e=this.getTarget())&&e.removeCls(this.targetCls),this.onDestroy.$emptyFn||this.onDestroy(),this.callParent()},sortWeightedItems:function(e,n){for(var t=0,i=e.length;t<i;++t)e[t].$i=t;for(Ext.Array.sort(e,function(e,t){var i=t.weight-e.weight;return i||(i=e.$i-t.$i,e[n]&&(i=-i)),i}),t=0;t<i;++t)delete e[t].$i}},function(){this.prototype.sizeModels=this.sizeModels=Ext.layout.SizeModel.sizeModels}),Ext.define("Ext.layout.container.Container",{extend:"Ext.layout.Layout",alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:["Ext.util.ElementContainer"],requires:["Ext.XTemplate"],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:!0,usesContainerWidth:!0,usesHeight:!0,usesWidth:!0,constructor:function(){this.callParent(arguments),this.mixins.elementCt.constructor.call(this)},destroy:function(){this.mixins.elementCt.destroy.call(this),this.callParent()},beginLayout:function(e){this.callParent(arguments),e.targetContext=e.paddingContext=e.getEl("getTarget",this),this.cacheChildItems(e)},beginLayoutCycle:function(e,t){this.callParent(arguments),t&&(this.usesContainerHeight&&++e.consumersContainerHeight,this.usesContainerWidth&&++e.consumersContainerWidth)},cacheChildItems:function(e){var t,i,n,r,o;if(this.needsItemSize||this.setsItemSize)for(t=e.context,i=e.childItems=[],r=(n=e.visibleItems=this.getVisibleItems()).length,o=0;o<r;++o)i.push(t.getCmp(n[o]))},cacheElements:function(){var e=this.owner;this.attachChildEls(e.el,e)},calculate:function(e){var t=e.props,i=e.el;e.widthModel.shrinkWrap&&isNaN(t.width)&&e.setContentWidth(i.getWidth()),e.heightModel.shrinkWrap&&isNaN(t.height)&&e.setContentHeight(i.getHeight())},configureItem:function(e){var t,i,n=this.itemCls,r=this.owner.itemCls;e.ownerLayout=this,n&&("string"==typeof n?i=[n]:t=!!(i=n)),r&&(t&&(i=Ext.Array.clone(i)),i=Ext.Array.push(i||[],r)),i&&e.addCls(i)},doRenderBody:function(e,t){this.renderItems(e,t),this.renderContent(e,t)},doRenderContainer:function(e,t){var i=t.$comp.layout,t=i.getRenderTpl(),i=i.getRenderData();t.applyOut(i,e)},doRenderItems:function(e,t){t=t.$layout.getRenderTree();t&&Ext.DomHelper.generateMarkup(t,e)},doRenderTabGuard:function(e,t,i){var n,r=t.$comp;r.tabGuard&&!t.$skipTabGuards&&(n=r.lookupTpl("tabGuardTpl"))&&(t.tabGuard=i,t.tabGuardEl=r.tabGuardElements[i],r.addChildEl(t.tabGuardEl),n.applyOut(t,e),delete t.tabGuard,delete t.tabGuardEl)},finishRender:function(){var e,t;this.owner;this.callParent(),this.cacheElements(),e=this.getRenderTarget(),t=this.getLayoutItems(),this.finishRenderItems(e,t)},notifyOwner:function(){this._hasTargetWarning||!this.targetCls||this.getTarget().hasCls(this.targetCls)||(this._hasTargetWarning=!0,Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+this.owner.id)),this.owner.afterLayout(this)},getContainerSize:function(e,t){var i,n,r,o,s=e.targetContext,a=s.getFrameInfo(),l=e.paddingContext.getPaddingInfo(),d=0,c=0;return e.widthModel.shrinkWrap||(++c,(i="number"==typeof(r=t?s.getDomProp("width"):s.getProp("width")))&&(++d,(r-=a.width+l.width)<0&&(r=0))),e.heightModel.shrinkWrap||(++c,(n="number"==typeof(o=t?s.getDomProp("height"):s.getProp("height")))&&(++d,(o-=a.height+l.height)<0&&(o=0))),{width:r,height:o,needed:c,got:d,gotAll:d===c,gotWidth:i,gotHeight:n}},getPositionOffset:function(e){var t;return this.createsInnerCt||(t=this.owner.itemNodeOffset)&&(e+=t),e},getLayoutItems:function(){var e=this.owner,e=e&&e.items;return e&&e.items||[]},getRenderData:function(){var e=this.owner;return{$comp:e,$layout:this,ownerId:e.id}},getRenderedItems:function(){for(var e,t=this.getRenderTarget(),i=this.getLayoutItems(),n=i.length,r=[],o=0,s=0;o<n;o++,s++)if((e=i[o]).rendered){if(e.ignoreDomPosition)--s;else if(!this.isValidParent(e,t,s))continue;r.push(e)}return r},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var e=Ext.XTemplate.getTpl(this,"renderTpl");return e.renderContent||this.owner.setupRenderTpl(e),e},getRenderTree:function(){for(var e,t,i=this.owner.items,n={};t=i.generation,e=this.getItemsRenderTree(this.getLayoutItems(),n),i.generation!==t;);return e},renderChildren:function(){for(var e,t,i=this.owner.items,n=this.getRenderTarget();e=i.generation,t=this.getLayoutItems(),this.renderItems(t,n),i.generation!==e;);},getScrollbarsNeeded:function(e,t,i,n){var r=Ext.getScrollbarSize(),o="number"==typeof e,s="number"==typeof t,a=0,l=0;return r.width?(s&&t<n&&(l=2,e-=r.width),o&&e<i&&(a=1,!l&&s&&(t-=r.height)<n&&(l=2)),l+a):0},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){for(var e,t=this.getRenderTarget(),i=this.getLayoutItems(),n=i.length,r=[],o=0,s=0;o<n;o++,s++)if((e=i[o]).rendered&&!0!==e.hidden&&!e.floated){if(e.ignoreDomPosition)--s;else if(!this.isValidParent(e,t,s))continue;r.push(e)}return r},getMoveAfterIndex:function(e){return this.owner.items.indexOf(e)+1},moveItemBefore:function(e,t){var i,n=this.owner,r=n.items,o=r.indexOf(e);return e===t?e:(t?(i=r.indexOf(t),-1<o&&o<i&&--i):i=r.length,n.insert(i,e))},setupRenderTpl:function(e){e.renderBody=this.doRenderBody,e.renderContainer=this.doRenderContainer,e.renderItems=this.doRenderItems,e.renderTabGuard=this.doRenderTabGuard},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(e){e.liquidLayout||++this.activeItemCount,this.callParent([e])},onRemove:function(e,t){e.liquidLayout||--this.activeItemCount,this.callParent([e,t])}}),Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:"Ext.layout.container.Container",type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:!1,managePadding:!0,manageOverflow:!1,needsItemSize:!1,setsItemSize:!1,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','<tpl if="!$comp.html">role="presentation"</tpl>','class="{innerCtCls}">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(e){this.callParent(arguments),this.initContextItems(e)},beforeLayoutCycle:function(e){var t=this.owner,i=t.inheritedState,n=t.inheritedStateInner;i&&!i.invalid||(i=t.getInherited(),n=t.inheritedStateInner),e.widthModel.shrinkWrap?n.inShrinkWrapTable=!0:delete n.inShrinkWrapTable},beginLayoutCycle:function(e){var t,i,n,r,o,s=this,a=s.outerCt,l=s.lastOuterCtWidth||"",d=s.lastOuterCtHeight||"",c=s.lastOuterCtTableLayout||"",u=e.state;s.callParent(arguments),i=n=r="",e.widthModel.shrinkWrap||(i="100%",o=s.owner.inheritedStateInner,t=s.getOverflowXStyle(e),r=o.inShrinkWrapTable||"auto"===t||"scroll"===t?"":"fixed"),e.heightModel.shrinkWrap||Ext.supports.PercentageHeightOverflowBug||(n="100%"),i===l&&!s.hasOuterCtPxWidth||(a.setStyle("width",i),s.lastOuterCtWidth=i,s.hasOuterCtPxWidth=!1),r!==c&&(a.setStyle("table-layout",r),s.lastOuterCtTableLayout=r),n===d&&!s.hasOuterCtPxHeight||(a.setStyle("height",n),s.lastOuterCtHeight=n,s.hasOuterCtPxHeight=!1),s.hasInnerCtPxHeight&&(s.innerCt.setStyle("height",""),s.hasInnerCtPxHeight=!1),u.overflowAdjust=u.overflowAdjust||s.lastOverflowAdjust},calculate:function(e){var t=e.state,i=this.getContainerSize(e,!0),t=t.calculatedItems||(t.calculatedItems=!this.calculateItems||this.calculateItems(e,i));this.setCtSizeIfNeeded(e,i),t&&e.hasDomProp("containerChildrenSizeDone")&&(this.calculateContentSize(e),i.gotAll)?!this.manageOverflow||e.state.secondPass||this.reserveScrollbar||this.calculateOverflow(e,i):this.done=!1},calculateContentSize:function(e){var t=(e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0),i=1&t||void 0,n=2&t||void 0,r=0,t=e.props;i&&(isNaN(t.contentWidth)?++r:i=void 0),n&&(isNaN(t.contentHeight)?++r:n=void 0),r&&(i&&!e.setContentWidth(this.measureContentWidth(e))&&(this.done=!1),n&&!e.setContentHeight(this.measureContentHeight(e))&&(this.done=!1))},calculateOverflow:function(e){var t,i,n,r="auto"===this.getOverflowXStyle(e),o="auto"===this.getOverflowYStyle(e);(r||o)&&(t=Ext.getScrollbarSize(),i=0,(n=e.overflowContext.el.dom).scrollWidth>n.clientWidth&&(i|=1),n.scrollHeight>n.clientHeight&&(i|=2),o=o&&2&i?t.width:0,t=r&&1&i?t.height:0,o===this.lastOverflowAdjust.width&&t===this.lastOverflowAdjust.height||(this.done=!1,e.invalidate({state:{overflowAdjust:{width:o,height:t},overflowState:i,secondPass:!0}})))},completeLayout:function(e){this.lastOverflowAdjust=e.state.overflowAdjust},doRenderBody:function(e,t){var i=t.$layout,n=Ext.XTemplate,r=i.beforeBodyTpl,o=i.afterBodyTpl;r&&n.getTpl(i,"beforeBodyTpl").applyOut(t,e),this.renderItems(e,t),this.renderContent(e,t),o&&n.getTpl(i,"afterBodyTpl").applyOut(t,e)},doRenderPadding:function(e,t){var i=t.$layout,n=t.$layout.owner,t=n[n.contentPaddingProperty];i.managePadding&&t&&e.push("padding:",n.unitizeBox(t))},finishedLayout:function(e){var t=this.innerCt;this.callParent(arguments),Ext.isIE8&&t.repaint(),Ext.isOpera&&(t.setStyle("position","relative"),t.dom.scrollWidth,t.setStyle("position",""))},getContainerSize:function(e,t){var i=this.callParent(arguments),n=e.state.overflowAdjust;return n&&(i.width-=n.width,i.height-=n.height),i},getRenderData:function(){var e=this.callParent();return e.innerCtCls=this.innerCtCls,e.outerCtCls=this.outerCtCls,e},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(e){return e.overflowXStyle||(e.overflowXStyle=this.owner.scrollFlags.overflowX||e.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(e){return e.overflowYStyle||(e.overflowYStyle=this.owner.scrollFlags.overflowY||e.overflowContext.getStyle("overflow-y"))},initContextItems:function(e){var t=e.target,i=this.owner.getOverflowEl();e.outerCtContext=e.getEl("outerCt",this),e.innerCtContext=e.getEl("innerCt",this),e.overflowContext=i===e.el?e:e.getEl(i),void 0!==t[t.contentPaddingProperty]&&(e.paddingContext=e.innerCtContext)},initLayout:function(){var e=Ext.getScrollbarSize().width,t=this.owner;this.callParent(),e&&this.manageOverflow&&!this.hasOwnProperty("lastOverflowAdjust")&&(t.scrollable||this.reserveScrollbar)&&(this.lastOverflowAdjust={width:e,height:0})},measureContentHeight:function(e){var t=this.outerCt.getHeight(),i=e.target;return this.managePadding&&void 0===i[i.contentPaddingProperty]&&(t+=e.targetContext.getPaddingInfo().height),t},measureContentWidth:function(e){var t,i,n;return this.chromeCellMeasureBug&&"table-cell"===(t=(i=(n=this.innerCt.dom).style).display)&&(i.display="",n.offsetWidth,i.display=t),Ext.isSafari&&((i=(n=this.outerCt.dom).style).display="table-cell",n.offsetWidth,n.style.display=""),i=this.outerCt.getWidth(),n=e.target,this.managePadding&&void 0===n[n.contentPaddingProperty]&&(i+=e.targetContext.getPaddingInfo().width),i},setCtSizeIfNeeded:function(e,t){var i,n,r=t.height,o=e.paddingContext.getPaddingInfo(),s=this.getTarget(),a=this.getOverflowXStyle(e),t="auto"===a||"scroll"===a,a=Ext.getScrollbarSize();r&&!e.heightModel.shrinkWrap&&(Ext.supports.PercentageHeightOverflowBug&&(i=!0),Ext.isIE8&&(n=!0),(i||n)&&t&&s.dom.scrollWidth>s.dom.clientWidth&&(r=Math.max(r-a.height,0)),i&&(e.outerCtContext.setProp("height",r+o.height),this.hasOuterCtPxHeight=!0),n&&(e.innerCtContext.setProp("height",r),this.hasInnerCtPxHeight=!0))},setupRenderTpl:function(e){this.callParent(arguments),e.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt}},function(e){var t=Ext.chromeVersion;e.prototype.chromeCellMeasureBug=Ext.isChrome&&26<=t&&t<=34}),Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",requires:["Ext.util.SorterCollection","Ext.util.FilterCollection","Ext.GlobalEvents"],statics:{zBase:9e3,activeCounter:0},constructor:function(e){var t=this;t.id=Ext.id(null,"zindex-mgr-"),t.zIndexStack=new Ext.util.Collection({sorters:{sorterFn:function(e,t){return(e.alwaysOnTop||0)-(t.alwaysOnTop||0)||e.getActiveCounter()-t.getActiveCounter()}},filters:{filterFn:function(e){return e.isVisible()}}}),t.zIndexStack.addObserver(t),t.front=null,t.sortCount=0,t.globalListeners=Ext.GlobalEvents.on({beforehide:t.onComponentShowHide,show:t.onComponentShowHide,scope:t,destroyable:!0}),e?e.isContainer?(t.resizeListeners=e.on({resize:t.onContainerResize,scope:t,destroyable:!0}),t.zseed=Ext.Number.from(t.rendered?e.getEl().getStyle("zIndex"):void 0,t.getNextZSeed()),t.targetEl=e.getTargetEl(),t.container=e):(t.resizeListeners=Ext.on({resize:t.onContainerResize,scope:t,destroyable:!0}),t.zseed=t.getNextZSeed(),t.targetEl=Ext.get(e)):(t.zseed=t.getNextZSeed(),Ext.onInternalReady(function(){t.resizeListeners=Ext.on({resize:t.scheduleContainerResize,scope:t,destroyable:!0,priority:-1e4}),t.targetEl=Ext.getBody()}))},getId:function(){return this.id},getNextZSeed:function(){return Ext.ZIndexManager.zBase+=1e4},setBase:function(e){return this.zseed=e,this.onCollectionSort()},onCollectionSort:function(){var e,t,i,n,r=this.front,o=this.zseed,s=this.zIndexStack.getRange(),a=s.length,l=!r||r.isVisible();for(this.sortCount++,e=0;e<a;e++)(t=s[e]).destroying||t.destroyed||(o=t.setZIndex(o),t.hidden||(n=t).modal&&(i=t));return n!==r&&(r&&!r.destroying&&r.setActive(!1),n&&(l=l&&n.isFocusable(!0)&&(n.modal||n.focusOnToFront&&!n.preventFocusOnActivate),n.setActive(!0,l))),this.front=n||null,i?i===r?this.syncModalMask(i):this.showModalMask(i):this.hideModalMask(),o},onComponentUpdate:function(e){this.zIndexStack.contains(e)&&this.zIndexStack.sort()},onAfterComponentRender:function(e){e.isVisible()&&e.toFrontOnShow&&(this.zIndexStack.itemChanged(e,"hidden"),this.zIndexStack.sort())},onComponentShowHide:function(e){var t=this.zIndexStack,i=this.sortCount;e.isFloating()&&!this.hidingAll&&(t.getSource()||t).contains(e)&&(this.tempHidden&&Ext.Array.remove(this.tempHidden,e),t.beginUpdate(),e.isVisible()?e.toFrontOnShow&&(t.itemChanged(e,"hidden"),e.setActiveCounter(++Ext.ZIndexManager.activeCounter)):t.itemChanged(e,"hidden"),t.endUpdate(),this.sortCount===i&&this.onCollectionSort())},register:function(e){e.zIndexManager&&e.zIndexManager.unregister(e),e.zIndexManager=this,e.rendered||e.on("afterrender",this.onAfterComponentRender,this,{single:!0}),this.zIndexStack.add(e)},unregister:function(e){delete e.zIndexManager,e.un("afterrender",this.onAfterComponentRender,this),this.zIndexStack.remove(e),this.onCollectionSort()},get:function(e){return e.isComponent?e:this.zIndexStack.get(e)},bringToFront:function(e,t){var i,n=this.zIndexStack,r=n.last();return!!(e=this.get(e))&&(i=e.preventFocusOnActivate,e.preventFocusOnActivate=t,e.setActiveCounter(++Ext.ZIndexManager.activeCounter),e.preventFocusOnActivate=i,(n=n.last())===e&&n!==r)},sendToBack:function(e){return(e=this.get(e))&&e.setActiveCounter(0),e||null},hideAll:function(){var e,t=this.zIndexStack.getRange(),i=t.length;for(this.hidingAll=!0,e=0;e<i;e++)t[e].hide();this.hidingAll=!1,this.hideModalMask(),this.front=null},hide:function(){var e,t,i=Ext.Element.getActiveElement(),n=this.zIndexStack.getRange(),r=n.length;for(this.focusRestoreElement=null,e=(this.tempHidden||(this.tempHidden=[])).length=0;e<r;e++)(t=n[e]).isVisible()&&(t.el.contains(i)&&(this.focusRestoreElement=i),t.el.hide(),t.pendingShow=t.hidden=!0,this.tempHidden.push(t))},show:function(){for(var e,t=this.tempHidden,i=t?t.length:0,n=0;n<i;n++)(e=t[n]).hidden=!1,e.pendingShow?(e.el.show(),e.pendingShow=!1,e.setPosition(e.x,e.y),e.onFloatShow()):e.hide();this.tempHidden=null,this.focusRestoreElement&&this.focusRestoreElement.focus()},getActive:function(){return this.zIndexStack.last()},getBy:function(e,t){return this.zIndexStack.filterBy(e,t).getRange()},each:function(e,t){this.zIndexStack.each(e,t)},eachBottomUp:function(e,t){for(var i,n=this.zIndexStack.getRange(),r=n.length,o=0;o<r;o++)if((i=n[o]).isComponent&&!1===e.call(t||i,i))return},eachTopDown:function(e,t){for(var i,n=this.zIndexStack.getRange(),r=n.length;0<r--;)if((i=n[r]).isComponent&&!1===e.call(t||i,i))return},destroy:function(){for(var e=this.zIndexStack.getRange(),t=e.length,i=0;i<t;i++)Ext.destroy(e[i]);Ext.destroy(this.mask,this.maskShim,this.zIndexStack,this.globalListeners,this.resizeListeners),this.callParent()},privates:{getMaskBox:function(){var e=this.mask.maskTarget;return e.dom===document.body?{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}:e.getBox()},scheduleContainerResize:function(){this.containerResizeTimer||(this.containerResizeTimer=Ext.Function.requestAnimationFrame(this.onContainerResize,this))},onContainerResize:function(){var e,t=this.mask,i=this.maskShim;this.containerResizeTimer=null,t&&t.isVisible()&&(t.hide(),i&&i.hide(),e=this.getMaskBox(),i&&(i.setSize(e),i.show()),t.setSize(e),t.show())},onMaskMousedown:function(e){this.front&&(this.front.focus(),e.preventDefault())},onMaskClick:function(){var e=this.front;e&&(e.hasListeners.maskclick&&!1===e.fireEvent("maskclick",e)||e[e.maskClickAction||"focus"]())},showModalMask:function(e){var t=e.el,i=e.floatParent?e.floatParent.getEl():e.container,n=this.mask;n?this.hideModalMask():(this.mask=n=Ext.getBody().createChild({"data-sticky":!0,role:"presentation",cls:Ext.baseCSSPrefix+"mask "+Ext.baseCSSPrefix+"border-box",style:"height:0;width:0"}),n.setVisibilityMode(Ext.Element.DISPLAY),n.on({mousedown:this.onMaskMousedown,click:this.onMaskClick,scope:this})),(n.maskTarget=i).saveTabbableState({excludeRoot:t}),this.syncModalMask(e)},syncModalMask:function(e){var t=e.el.getZIndex()-4,i=this.mask,n=this.maskShim,e=this.getMaskBox();n&&(n.setZIndex(t),n.show(),n.setBox(e)),i.setZIndex(t),i.show(),i.setBox(e)},hideModalMask:function(){var e=this.mask,t=this.maskShim;e&&e.isVisible()&&(e.maskTarget.restoreTabbableState(),e.maskTarget=void 0,e.hide(),t&&t.hide())}}},function(){Ext.WindowManager=Ext.WindowMgr=new this}),Ext.define("Ext.container.Container",{extend:"Ext.Component",xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],requires:["Ext.Action","Ext.util.MixedCollection","Ext.layout.container.Auto","Ext.ZIndexManager","Ext.util.ItemCollection"],mixins:["Ext.mixin.Queryable","Ext.mixin.Container"],renderTpl:"<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>{% this.renderContainer(out,values) %}<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>",config:{actions:null},autoDestroy:!0,defaultType:"panel",detachOnRemove:!0,items:void 0,layout:"auto",suspendLayout:!1,tabGuardTpl:'<span id="{id}-{tabGuardEl}" data-ref="{tabGuardEl}" aria-hidden="true" class="'+Ext.baseCSSPrefix+"tab-guard "+Ext.baseCSSPrefix+'tab-guard-{tabGuardPosition}" style="width:0px;height:0px;"></span>',tabGuardElements:{before:"tabGuardBeforeEl",after:"tabGuardAfterEl"},_applyDefaultsOptions:{defaults:!0,strict:!1},ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var e,t,i,n,r,o,s,a=this,l=Ext.Array.slice(arguments),d="number"==typeof l[0]?l.shift():-1,c=a.getLayout(),u=!1;for(1===l.length&&Ext.isArray(l[0])?(t=l[0],e=!0):t=l,a.rendered&&Ext.suspendLayouts(),l=t=a.prepareItems(t,!0),n=t.length,e||1!==n||(l=t[0]),i=0;i<n;i++)(r=t[i])||Ext.raise("Cannot add null item to Container with itemId/id: "+a.getItemId()),r.destroyed&&Ext.raise("Cannot add destroyed item '"+r.getId()+"' to Container '"+a.getId()+"'"),o=d<0?a.items.length:d+i,s=!!r.instancedCmp,delete r.instancedCmp,r.floating?((a.floatingItems||(a.floatingItems=new Ext.util.ItemCollection)).add(r),r.onAdded(a,o,s),delete r.$initParent,a.hasListeners.add&&a.fireEvent("add",a,r,o)):a.hasListeners.beforeadd&&!1===a.fireEvent("beforeadd",a,r,o)||!1===a.onBeforeAdd(r)||(a.items.insert(o,r),r.onAdded(a,o,s),delete r.$initParent,a.onAdd(r,o),c.onAdd(r,o),u=!0,a.hasListeners.add&&a.fireEvent("add",a,r,o));return u&&a.updateLayout(),a.rendered&&Ext.resumeLayouts(!0),l},onAdded:function(e,t,i){this.callParent([e,t,i]),this.containerOnAdded(e,i)},onRemoved:function(e){this.containerOnRemoved(e),this.callParent(arguments)},afterComponentLayout:function(){var e,t,i,n=this.floatingItems;if(this.callParent(arguments),n)for(e=(n=n.items).length,t=0;t<e;t++)!(i=n[t]).rendered&&i.autoShow&&i.show()},afterLayout:function(e){++this.layoutCounter,this.hasListeners.afterlayout&&this.fireEvent("afterlayout",this,e)},doDestroy:function(){var e,t=this.items,i=this.floatingItems;if(t){for(;e=t.first();)this.doRemove(e,!0);t.destroy(),this.items=null}if(i){for(;e=i.first();)this.doRemove(e,!0);i.destroy(),this.floatingItems=null}Ext.destroy(this.layout),this.callParent()},beforeRender:function(){var e=this.getLayout();this.preventChildDisable=!0,this.callParent(),this.preventChildDisable=!1,e.initialized||e.initLayout(),(e=e.targetCls)&&this.applyTargetCls(e)},cascade:function(e,t,i){var n,r=this.items?this.items.items:[],o=r.length,s=0,a=i?i.concat(this):[this],l=a.length-1;if(!1!==e.apply(t||this,a))for(;s<o;s++)(n=r[s]).cascade?n.cascade(e,t,i):(a[l]=n,e.apply(t||n,a));return this},contains:function(t,e){var i=!1;return e?(this.cascade(function(e){if(e.contains&&e.contains(t))return!(i=!0)}),i):this.items.contains(t)||this.floatingItems&&this.floatingItems.contains(t)},disable:function(e,t){var i,n,r,o=this.disabled;if(this.callParent([e,t]),!t&&!this.preventChildDisable&&!o)for(n=(i=this.getChildItemsToDisable()).length,r=0;r<n;r++)i[r].disable(e,!0);return this},enable:function(e,t){var i,n,r,o=this.disabled;if(this.callParent([e,t]),o)for(n=(i=this.getChildItemsToDisable()).length,r=0;r<n;r++)i[r].enable(e,!0);return this},getChildByElement:function(e,t){var i,n,r=0,o=this.getRefItems(),s=o.length;for(e=Ext.getDom(e);r<s;r++)if((n=(i=o[r]).getEl())&&(n.dom===e||n.contains(e)))return t&&i.getChildByElement?i.getChildByElement(e,t):i;return null},getComponent:function(e){Ext.isObject(e)&&(e=e.getItemId());var t=this.items.get(e),i=this.floatingItems;return!t&&i&&"number"!=typeof e&&(t=i.get(e)),t},getFocusEl:function(){var e=this.getDefaultFocus();return e||(this.focusable?this.getTargetEl():void 0)},getLayout:function(){var e=this.layout;return e&&e.isLayout||this.setLayout(e),this.layout},getRefItems:function(e){for(var t,i=this.items.items,n=i.length,r=0,o=[];r<n;r++)t=i[r],o[o.length]=t,e&&t.getRefItems&&o.push.apply(o,t.getRefItems(!0));if(this.floatingItems)for(n=(i=this.floatingItems.items).length,r=0;r<n;r++)t=i[r],o[o.length]=t,e&&t.getRefItems&&o.push.apply(o,t.getRefItems(!0));return o},getDefaultFocus:function(){var e,t=this.defaultFocus;return t&&(e=this.down(t)),e},initComponent:function(){this.callParent(),this.getLayout(),this.constructing=!0,this.initItems(),this.disabled&&(this.disabled=!1,this.disable(!0)),delete this.constructing},initItems:function(){var e=this.items;e&&e.isMixedCollection||(this.items=new Ext.util.ItemCollection,e&&(Ext.isArray(e)||(e=[e]),this.$initingItems=!0,this.add(e),delete this.$initingItems))},initInheritedState:function(e,t){this.controller;var i=this.layout;this.session,this.viewModel,this.reference,this.referenceHolder;this.callParent([e,t]),this.collapsed&&(e.collapsed=!0),this.initContainerInheritedState(e,t),i&&i.initInheritedState&&i.initInheritedState(e,t)},insert:function(e,t){var i;return t&&t.isComponent&&-1!==(i=this.items.indexOf(t))?this.move(i,e):this.add(e,t)},lookupComponent:function(e){var t,i=this.defaultType;if(!e.isComponent){if("string"==typeof e){if(!(t="@"===e[0]))return Ext.ComponentManager.get(e);e=this.getAction(e.substr(1)),i=this.defaultActionType||i}e=Ext.ComponentManager.create(e,i),t&&(e.instancedCmp=!0)}return e},move:function(e,t){var i,n=this.items;if(e.isComponent&&(e=n.indexOf(e)),i=n.getAt(e),e!==t){if(!1===(i=n.removeAt(e)))return!1;t=Math.min(t,n.getCount()),n.insert(t,i),this.onMove(i,e,t),this.hasListeners.childmove&&this.fireEvent("childmove",this,i,e,t),this.updateLayout()}return i},moveBefore:function(e,t){var i,n;return e!==t&&(i=Ext.Element.getActiveElement(!0),e.el&&e.el.contains(i)&&((n=i).suspendFocusEvents(),e.isLayoutMoving=!0),e=this.layout.moveItemBefore(e,t),n&&(e.isLayoutMoving=!1,n.focus(),n.resumeFocusEvents())),e},moveAfter:function(e,t){var i=this.layout;return e!==t&&(t=t?i.getMoveAfterIndex(t):0,e=this.moveBefore(e,this.items.getAt(t))),e},nextChild:function(e,t){var i,n=this.items,r=n.indexOf(e),o=0,s=n.length;if(-1!==r)if(t)for(;o<s&&((i=n.getAt(r+o))&&!Ext.ComponentQuery.is(i,t));o++);else i=n.getAt(r+1);return i||null},onAdd:Ext.emptyFn,onBeforeAdd:function(e){var t=e.ownerCt;t&&t!==this&&t.remove(e,!1)},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments),this.repositionFloatingItems()},onResize:function(){this.callParent(arguments),this.repositionFloatingItems()},prevChild:function(e,t){var i,n=this.items,r=n.indexOf(e),o=0,s=n.length;if(-1!==r)if(t)for(;o<s&&((i=n.getAt(r-o))&&!Ext.ComponentQuery.is(i,t));o++);else i=n.getAt(r-1);return i||null},remove:function(e,t){var i,n=this;if(!n.destroyed&&!n.destroying)return i=n.getComponent(e),arguments.length||Ext.log.warn("Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage."),!i||n.hasListeners.beforeremove&&!1===n.fireEvent("beforeremove",n,i)||(n.doRemove(i,t),n.hasListeners.remove&&n.fireEvent("remove",n,i),n.destroying||n.destroyAfterRemoving||i.floating||n.updateLayout(),n.destroyAfterRemoving&&n.destroy()),i},removeAll:function(e){var t,i=this.floatingItems,n=[],r=0,o=i?this.items.items.concat(i.items):this.items.items.slice(),s=o.length;for(Ext.suspendLayouts(),this.removingAll=!0;r<s;r++)t=o[r],this.remove(t,e),t.ownerCt!==this&&n.push(t);return this.removingAll=!1,Ext.resumeLayouts(!!s),n},setLayout:function(e){var t,i=this.layout,n=i&&i.isLayout;"string"==typeof e&&(e={type:e}),t=e.type,!n||t&&t!==i.type?(n&&i.setOwner(null),"string"==typeof(n=this.self.prototype.layout)?e.type=t||n:Ext.merge(Ext.merge({},n),e),(e=this.layout=Ext.Factory.layout(e)).setOwner(this)):(delete e.type,i.setConfig(e)),this.rendered&&this.updateLayout()},setActiveItem:function(e){return this.getLayout().setActiveItem(e)},updateActions:function(e){for(var t in e)e[t].isAction||(e[t]=new Ext.Action(e[t]))},getAction:function(e){for(var t=this,t=this;t;t=t.getRefOwner())if(t.actions&&t.actions[e])return t.actions[e]},privates:{applyDefaults:function(e){var t=this.defaults;return t&&(Ext.isFunction(t)&&(t=t.call(this,e)),Ext.isString(e)&&(e=Ext.ComponentManager.get(e)),e.isComponent?e.setConfig(t,null,this._applyDefaultsOptions):e=this.self.getConfigurator().merge(this,Ext.Object.fork(t),e)),e},applyReference:function(e){return this.setupReference(e)},applyTargetCls:function(e){this.layoutTargetCls=e},detachComponent:function(e){Ext.getDetachedBody().appendChild(e.getEl())},doRemove:function(e,t){var i,n=this.detachOnRemove,r=this.layout,o=r&&this.rendered,s=e.floating;void 0===t?i=this.autoDestroy:"boolean"==typeof t?i=t:(i="destroy"in t&&t.destroy,n="detach"in t&&t.detach),t=e.destroying||i,(s?this.floatingItems:this.items).remove(e),o&&!s&&(r.running&&Ext.Component.cancelLayout(e,t),r.onRemove(e,t)),e.destroyed||e.onRemoved(t),this.onRemove(e,t),i?e.destroy():this.destroyed||(o&&!s&&r.afterRemove(e),n&&e.rendered&&this.detachComponent(e))},finishRenderChildren:function(){this.callParent();var e=this.getLayout();e&&e.finishRender()},getChildItemsToDisable:function(){return this.query("[isFormField],[isFocusableContainer],button")},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},prepareItems:function(e,t){for(var i,n=0,r=(e=Ext.isArray(e)?e.slice():[e]).length;n<r;n++)null==(i=e[n])?(Ext.Array.erase(e,n,1),--n,--r):(t&&(i=this.applyDefaults(i)),i.$initParent=this,i.isComponent&&(i.instancedCmp=!0),e[n]=this.lookupComponent(i),delete i.$initParent);return e},repositionFloatingItems:function(){var e,t,i,n=this.floatingItems;if(n)for(e=(n=n.items).length,t=0;t<e;t++)(i=n[t]).el&&!i.hidden&&i.setPosition(i.x,i.y)},initTabGuards:function(e){var t,i,n,r=this,o=r.tabGuardBeforeEl,s=r.tabGuardAfterEl,a=r.tabGuardBeforeIndex||0,l=r.tabGuardAfterIndex||0;if(r.rendered&&r.tabGuard){if((n=r.el.findTabbableElements({skipSelf:!0}))[0]===o.dom&&n.shift(),n[n.length-1]===s.dom&&n.pop(),n&&n.length){if(null==a||null==l)for(t=0;t<n.length;t++)0<(i=+n[t].getAttribute("tabIndex"))&&(a=Math.min(a,i),l=Math.max(l,i));o.dom.setAttribute("tabIndex",a),s.dom.setAttribute("tabIndex",l)}else o.dom.removeAttribute("tabIndex"),s.dom.removeAttribute("tabIndex");r.onTabGuardFocusEnter&&(o.hasListeners.focusenter||o.on("focusenter",r.onTabGuardFocusEnter,r),s.hasListeners.focusenter||s.on("focusenter",r.onTabGuardFocusEnter,r))}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){for(var e,t=this.items.items,i=t.length,n=this._noMargin;i--;)(e=t[i]).margin$=null,e.el.setStyle(n)},setupRenderTpl:function(e){this.callParent(arguments),this.getLayout().setupRenderTpl(e)}}}),Ext.define("Ext.layout.container.Editor",{alias:"layout.editor",extend:"Ext.layout.container.Container",autoSizeDefault:{width:"field",height:"field"},sizePolicies:{$:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},boundEl:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1}},boundEl:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},boundEl:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=this.owner.autoSize,i=t&&t.width,n=this.sizePolicies;return n=(n=n[i]||n.$)[i=t&&t.height]||n.$},calculate:function(e){var t,i,n=this.owner,r=n.autoSize;!0===r&&(r=this.autoSizeDefault),r&&(t=this.getDimension(n,r.width,"getWidth",n.width),i=this.getDimension(n,r.height,"getHeight",n.height)),e.childItems[0].setSize(t,i),e.setWidth(t),e.setHeight(i),e.setContentSize(t||n.field.getWidth(),i||n.field.getHeight())},getDimension:function(e,t,i,n){switch(t){case"boundEl":return e.boundEl[i]();case"field":return;default:return n}}}),Ext.define("Ext.Editor",{extend:"Ext.container.Container",xtype:"editor",requires:["Ext.layout.container.Editor"],layout:"editor",allowBlur:!0,revertInvalid:!0,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:!1,swallowKeys:!0,completeOnEnter:!0,cancelOnEsc:!0,updateEl:!1,focusOnToFront:!1,baseCls:Ext.baseCSSPrefix+"editor",editing:!1,preventDefaultAlign:!0,useBoundValue:!0,specialKeyDelay:1,initComponent:function(){var e=this,t=e.field=Ext.ComponentManager.create(e.field||{},"textfield");t.msgTarget=t.msgTarget||"qtip",e.mon(t,{scope:e,specialkey:e.onSpecialKey}),t.grow&&e.mon(t,"autosize",e.onFieldAutosize,e,{delay:1}),e.floating={constrain:e.constrain},e.items=t,e.callParent()},onAdded:function(e){this.ownerCmp=e},onFieldAutosize:function(){this.updateLayout()},afterRender:function(e,t){var i=this.field.inputEl;this.callParent(arguments),i&&(i.dom.name="",this.swallowKeys&&i.swallowEvent(["keypress","keydown"]))},onSpecialKey:function(e,t){var i=this,n=t.getKey(),r=i.completeOnEnter&&n===t.ENTER,o=i.cancelOnEsc&&n===t.ESC,n=i.specialKeyTask;(r||o)&&(t.stopEvent(),n||(i.specialKeyTask=n=new Ext.util.DelayedTask),n.delay(i.specialKeyDelay,r?i.completeEdit:i.cancelEdit,i),0===i.specialKeyDelay&&(n.cancel(),r?i.completeEdit():i.cancelEdit())),i.fireEvent("specialkey",i,e,t)},startEdit:function(e,t,i){var n=this,r=n.field;n.completeEdit(!0),n.boundEl=Ext.get(e),e=n.boundEl.dom,n.useBoundValue&&!Ext.isDefined(t)&&(t=Ext.String.trim(e.textContent||e.innerText||e.innerHTML)),!1!==n.fireEvent("beforestartedit",n,n.boundEl,t)&&(n.context&&(t=n.context.value),Ext.suspendLayouts(),n.rendered||(e=n.ownerCt,e=n.renderTo||e&&e.getEl()||Ext.getBody(),Ext.fly(e).position(),n.renderTo=e),n.startValue=t,n.show(),n.realign(!0),r.suspendEvents(),r.setValue(t),r.resetOriginalValue(),r.resumeEvents(),!1!==i&&r.focus(!!r.selectOnFocus||[Number.MAX_VALUE]),r.autoSize&&r.autoSize(),Ext.resumeLayouts(!0),n.toggleBoundEl(!1),n.editing=!0)},realign:function(e){!0===e&&this.updateLayout(),this.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(e){var t,i=this,n=i.field,r=i.startValue,o=i.context&&i.context.cancel;i.editing&&(n.assertValue&&n.assertValue(),t=i.getValue(),n.isValid()?!i.ignoreNoChange||n.didValueChange(t,r)?!1!==i.fireEvent("beforecomplete",i,t,r)&&(t=i.getValue(),i.updateEl&&i.boundEl&&i.boundEl.setHtml(t),i.onEditComplete(e,o),i.fireEvent("complete",i,t,r)):i.onEditComplete(e):!1!==i.revertInvalid&&i.cancelEdit(e))},onShow:function(){this.callParent(arguments),this.fireEvent("startedit",this,this.boundEl,this.startValue)},cancelEdit:function(e){var t,i=this,n=i.startValue,r=i.field;i.editing&&(r&&(t=i.editedValue=i.getValue(),r.suspendEvents(),i.setValue(n),r.resumeEvents()),i.onEditComplete(e,!0),i.fireEvent("canceledit",i,t,n),delete i.editedValue)},onEditComplete:function(e,t){!(this.editing=!1)!==e&&(this.hide(),this.toggleBoundEl(!0))},onFocusLeave:function(e){!0===this.allowBlur&&this.editing&&this.completeEdit(),this.callParent([e])},onHide:function(){var e=this.field;this.editing?this.completeEdit():e.collapse&&e.collapse(),this.callParent(arguments)},getValue:function(){return this.field.getValue()},setValue:function(e){this.field.setValue(e)},toggleBoundEl:function(e){!1!==this.hideEl&&this.boundEl.setVisible(e)},doDestroy:function(){var e=this.specialKeyTask;e&&e.cancel(),Ext.destroy(this.field),this.callParent()}}),Ext.define("Ext.EventManager",{singleton:!0,mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,addListener:function(e,t,i,n,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#addListener to attach an event listener."),Ext.get(e).addListener(t,i,n,r)},onWindowResize:function(e,t,i){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to attach a window resize listener."),Ext.GlobalEvents.on("resize",e,t,i)},onWindowUnload:function(e,t,i){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().on('unload', fn) to attach a window unload listener."),Ext.getWin().on("unload",e,t,i)},purgeElement:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeAll:function(e){Ext.log.warn("Ext.EventManager is deprecated. Call clearListeners() on a Ext.dom.Element to remove all listeners."),Ext.get(e).clearListeners()},removeListener:function(e,t,i,n,r){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.dom.Element#removeListener to remove an event listener."),Ext.get(e).removeListener(t,i,n,r)},removeResizeListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.on('resize', fn) to detach a window resize listener."),Ext.GlobalEvents.un("resize",e,t)},removeUnloadListener:function(e,t){Ext.log.warn("Ext.EventManager is deprecated. Use Ext.getWin().un('unload', fn) to detach a window unload listener."),Ext.getWin().un("unload",e,t)},stopEvent:function(e){Ext.log.warn("Ext.EventManager.stopEvent() is deprecated. Call stopEvent() directly on the Ext.event.Event instance instead."),this.stopPropagation(e),this.preventDefault(e)},stopPropagation:function(e){Ext.log.warn("Ext.EventManager.stopPropagation() is deprecated. Call stopPropagation() directly on the Ext.event.Event instance instead."),(e=e.browserEvent||e).stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){if(Ext.log.warn("Ext.EventManager.preventDefault() is deprecated. Call preventDefault() directly on the Ext.event.Event instance instead."),(e=e.browserEvent||e).preventDefault)e.preventDefault();else{e.returnValue=!1;try{(e.ctrlKey||111<e.keyCode&&e.keyCode<124)&&(e.keyCode=-1)}catch(e){}}},getId:function(e){return Ext.log.warn("Ext.EventManager.getId() is deprecated. Call Ext.get() to assign ids to elements."),(e=Ext.get(e)).id},getRelatedTarget:function(e){Ext.log.warn("Ext.EventManager.getRelatedTarget() is deprecated. Call getRelatedTarget() directly on the Ext.event.Event instance instead.");var t=(e=e.browserEvent||e).relatedTarget;return t||(this.mouseLeaveRe.test(e.type)?t=e.toElement:this.mouseEnterRe.test(e.type)&&(t=e.fromElement)),this.resolveTextNode(t)},getPageX:function(e){return Ext.log.warn("Ext.EventManager.getPageX() is deprecated. Call getX() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[0]},getPageXY:function(e){Ext.log.warn("Ext.EventManager.getPageXY() is deprecated. Call getXY() directly on the Ext.event.Event instance instead.");var t=(e=e.browserEvent||e).pageX,i=e.pageY,n=document.documentElement,r=document.body;return t||0===t||(t=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),i=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),[t,i]},getPageY:function(e){return Ext.log.warn("Ext.EventManager.getPageY() is deprecated. Call getY() directly on the Ext.event.Event instance instead."),this.getPageXY(e)[1]},getTarget:function(e){return Ext.log.warn("Ext.EventManager.getTarget() is deprecated. Call getTarget() directly on the Ext.event.Event instance instead."),e=e.browserEvent||e,Ext.EventManager.resolveTextNode(e.target||e.srcElement)},resolveTextNode:Ext.isGecko?function(e){if(e){var t=HTMLElement.prototype.toString.call(e);if("[xpconnect wrapped native prototype]"!==t&&"[object XULElement]"!==t)return 3===e.nodeType?e.parentNode:e}}:function(e){return e&&3===e.nodeType?e.parentNode:e}},function(e){e.on=e.addListener,e.un=e.removeListener}),Ext.define("Ext.Img",{extend:"Ext.Component",alias:["widget.image","widget.imagecomponent"],requires:["Ext.Glyph"],autoEl:"img",baseCls:Ext.baseCSSPrefix+"img",config:{src:null,glyph:null},alt:"",title:"",imgCls:"",maskOnDisable:!1,applySrc:function(e){return e&&Ext.resolveResource(e)},getElConfig:function(){var e,t=this,i=t.autoEl,n=t.callParent(),r=t.glyph;return r?(n.tag="div",n.html=r.character,n.style=n.style||{},n.style.fontFamily=r.fontFamily,n.role="img"):"img"===i||Ext.isObject(i)&&"img"===i.tag?e=n:n.cn=[e={tag:"img",id:t.id+"-img"}],e&&(t.imgCls&&(e.cls=(e.cls?e.cls+" ":"")+t.imgCls),e.src=t.src||Ext.BLANK_IMAGE_URL),t.alt?(e||n).alt=t.alt:((e||n).alt="",Ext.log.warn("For WAI-ARIA compliance, IMG elements SHOULD have an alt attribute.")),t.title&&((e||n).title=t.title),n},onRender:function(){var e,t=this.autoEl;this.callParent(arguments),e=this.el,"img"===t||Ext.isObject(t)&&"img"===t.tag?this.imgEl=e:this.imgEl=e.getById(this.id+"-img")},doDestroy:function(){var e=this.imgEl;e&&this.el!==e&&e.destroy(),this.imgEl=null,this.callParent()},getTitle:function(){return this.title},setTitle:function(e){var t=this.imgEl;this.title=e||"",t&&(t.dom.title=e||"")},afterComponentLayout:function(e,t,i,n){var r=this.getSizeModel().height;(r.calculated||r.configured)&&t&&this.glyph&&(r=t+"px",this.setStyle({"line-height":r,"font-size":r})),this.callParent([e,t,i,n])},getAlt:function(){return this.alt},setAlt:function(e){var t=this.imgEl;this.alt=e||"",t&&(t.dom.alt=e||"")},_naturalSize:null,getNaturalSize:function(){var e,t,i,n=this.imgEl,r=this._naturalSize;return n&&!r&&(n=n.dom,this._naturalSize=r={width:t=n.naturalWidth,height:n.naturalHeight},t||(t=(e=n.style).width,i=e.height,e.width=e.height="auto",r.width=n.width,r.height=n.height,e.width=t,e.height=i),r.aspect=r.width/r.height),r},updateSrc:function(e){var t=this.imgEl;t&&(t.dom.src=e||Ext.BLANK_IMAGE_URL)},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var i=this.el;i&&(i.dom.innerHTML=e.character,i.setStyle(e.getStyle()))}}),Ext.define("Ext.util.StoreHolder",{requires:["Ext.data.StoreManager"],mixinId:"storeholder",autoDestroyBoundStore:!1,bindStore:function(e,t,i){i=i||"store";var n=this,r=t?null:n[i];return e!==r&&(r&&(n.onUnbindStore.$emptyFn||n.onUnbindStore(r,t,i),r.destroyed||(n.autoDestroyBoundStore&&"store"===i&&r.autoDestroy?r.destroy():n.unbindStoreListeners(r))),e?(n[i]=e=Ext.data.StoreManager.lookup(e),n.bindStoreListeners(e),n.onBindStore.$emptyFn||n.onBindStore(e,r,t)):n[i]=null,n.fireEvent&&n.fireEvent("storechange",n,e,r)),n},getStore:function(){return this.store},setStore:function(e){this.bindStore(e)},unbindStoreListeners:function(e){var t=this.storeListeners;t&&e.un(t)},bindStoreListeners:function(e){var t=this.getStoreListeners(e);t&&((t=Ext.apply({},t)).scope||(t.scope=this),this.storeListeners=t,e.on(t))},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn}),Ext.define("Ext.LoadMask",{extend:"Ext.Component",alias:"widget.loadmask",mixins:["Ext.util.StoreHolder"],uses:["Ext.data.StoreManager"],isLoadMask:!0,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",msgWrapCls:Ext.baseCSSPrefix+"mask-msg",useMsg:!0,useTargetEl:!1,cls:Ext.baseCSSPrefix+"mask",componentCls:Ext.baseCSSPrefix+"border-box",ariaRole:"progressbar",focusable:!0,tabIndex:0,childEls:["msgWrapEl","msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgWrapEl" data-ref="msgWrapEl" class="{[values.$comp.msgWrapCls]}" role="presentation">','<div id="{id}-msgEl" data-ref="msgEl" class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}" role="presentation">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}" role="presentation">{msg}</div>',"</div>","</div>"],maskOnDisable:!1,skipLayout:!0,constructor:function(e){var t,i=this;2===arguments.length?(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config"),t=i.target=e,e=arguments[1]):t=e.target,e.maskCls&&(Ext.log.warn("Ext.LoadMask property maskCls is deprecated, use msgWrapCls instead"),e.msgWrapCls=e.msgWrapCls||e.maskCls),i.callParent([e]),t.isComponent?(i.ownerCt=t,i.hidden=!0,i.renderTo=i.getMaskTarget(),i.external=i.renderTo===Ext.getBody(),i.bindComponent(t)):(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask"),t=Ext.get(t),i.isElement=!0,i.renderTo=i.target),i.render(i.renderTo),i.store&&i.bindStore(i.store,!0)},initRenderData:function(){var e=this.callParent(arguments);return e.msg=this.msg||"",e},onRender:function(){this.callParent(arguments),this.maskEl=this.el},bindComponent:function(e){var t=this,i={scope:this,resize:t.sizeMask};t.external&&(i.added=t.onComponentAdded,i.removed=t.onComponentRemoved,e.floating?(i.move=t.sizeMask,t.activeOwner=e):e.ownerCt&&t.onComponentAdded(e.ownerCt)),t.mon(e,i),t.external&&t.mon(Ext.GlobalEvents,{show:t.onContainerShow,hide:t.onContainerHide,expand:t.onContainerExpand,collapse:t.onContainerCollapse,scope:t})},onComponentAdded:function(e){var t=this;delete t.activeOwner,(t.floatParent=e).floating||(e=e.up("[floating]")),e?(t.activeOwner=e,t.mon(e,"move",t.sizeMask,t),t.mon(e,"tofront",t.onOwnerToFront,t)):t.preventBringToFront=!0,e=t.floatParent.ownerCt,t.rendered&&t.isVisible()&&e&&(t.floatOwner=e,t.mon(e,"afterlayout",t.sizeMask,t,{single:!0}))},onComponentRemoved:function(e){var t=this,i=t.activeOwner,n=t.floatOwner;i&&(t.mun(i,"move",t.sizeMask,t),t.mun(i,"tofront",t.onOwnerToFront,t)),n&&t.mun(n,"afterlayout",t.sizeMask,t),delete t.activeOwner,delete t.floatOwner},afterRender:function(){this.callParent(arguments),Ext.isIE&&this.el.on("mousedown",this.onMouseDown,this),this.el.skipGarbageCollection=!0},onMouseDown:function(e){var t=this.el;e.within(t)&&(e.preventDefault(),t.focus())},onOwnerToFront:function(e,t){this.el.setStyle("zIndex",t+1)},onContainerShow:function(e){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerHide:function(e){this.isHierarchicallyHidden()&&this.onComponentHide()},onContainerExpand:function(e){this.isHierarchicallyHidden()||this.onComponentShow()},onContainerCollapse:function(e){this.isHierarchicallyHidden()&&this.onComponentHide()},onComponentHide:function(){this.rendered&&this.isVisible()&&(this.hide(),this.showNext=!0)},onComponentShow:function(){this.showNext&&this.show(),delete this.showNext},sizeMask:function(){var e,t=this,i=t.activeOwner||t.target,n=t.external?t.getOwner().el:t.getMaskTarget();t.rendered&&t.isVisible()&&(t.external&&(!t.isElement&&i.floating&&(e=i.el.getZIndex(),isNaN(e)||t.onOwnerToFront(i,e)),t.el.setSize(n.getSize()).alignTo(n,"tl-tl")),t.msgWrapEl.center(t.el))},bindStore:function(e,t){if(Ext.destroy(this.proxyListeners),this.mixins.storeholder.bindStore.apply(this,arguments),e=this.store){for(;e.getSource;)e=e.getSource();e.loadsSynchronously()||(this.proxyListeners=e.getProxy().on({exception:this.onLoad,scope:this,destroyable:!0})),e.isLoading()&&this.onBeforeLoad()}},getStoreListeners:function(e){var t=this.onLoad,i=this.onBeforeLoad,n={cachemiss:i,cachefilled:{fn:t,buffer:100}};return e.loadsSynchronously()||(n.beforeload=i,n.load=t),n},onDisable:function(){this.callParent(arguments),this.loading&&this.onLoad()},getOwner:function(){return this.ownerCt||this.ownerCmp||this.floatParent},getMaskTarget:function(){var e=this.getOwner();return this.isElement?this.target:this.useTargetEl?e.getTargetEl():e.getMaskTarget()||Ext.getBody()},onBeforeLoad:function(){var e,t=this,i=t.getOwner();t.disabled||(t.loading=!0,i.componentLayoutCounter?t.maybeShow():(e=i.afterComponentLayout,i.afterComponentLayout=function(){(i.afterComponentLayout=e).apply(i,arguments),t.maybeShow()}))},maybeShow:function(){var e=this.getOwner();e.isVisible(!0)&&(!this.isComponent||e.el.isVisible(!0))?this.loading&&e.rendered&&this.show():this.showNext=!0},hide:function(){var e=this.ownerCt;return this.isElement?(e.unmask(),void this.fireEvent("hide",this)):(e&&e.updateMaskState(!1,this),delete this.showNext,this.callParent(arguments))},show:function(){return this.isElement?(this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls),void this.fireEvent("show",this)):this.callParent(arguments)},afterShow:function(){var e=this.ownerCt;this.loading=!0,this.callParent(arguments),e.updateMaskState(!0,this),this.el.restoreTabbableState(),this.syncMaskState()},syncMaskState:function(){var e=this,t=e.ownerCt,i=e.el;e.isVisible()&&(e.hasOwnProperty("msgWrapCls")&&(i.dom.className=e.msgWrapCls),e.useMsg?(e.msgTextEl.setHtml(e.msg),e.ariaEl.dom.setAttribute("aria-valuetext",e.msg)):e.msgWrapEl.hide(),e.shim||Ext.useShims?i.enableShim(null,!0):i.disableShim(),t.el.contains(Ext.Element.getActiveElement())&&e.focus(),e.sizeMask())},onLoad:function(){this.loading=!1,this.hide()},doDestroy:function(){this.ownerCt=null,this.bindStore(null),this.isElement&&this.ownerCt.unmask(),this.callParent()}}),Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:!0,nullBox:{},usesContentHeight:!0,usesContentWidth:!0,usesHeight:!0,usesWidth:!0,widthCache:{},heightCache:{},beginLayoutCycle:function(e,t){var i,n,r=this.owner,o=e.ownerCtContext,s=e.heightModel,a=e.widthModel,l=r.el.dom===document.body,d=r.lastBox||this.nullBox,c=r.el.lastBox||this.nullBox,u=!l,h=e.isTopLevel;this.callParent([e,t]),t&&(this.usesContentWidth&&++e.consumersContentWidth,this.usesContentHeight&&++e.consumersContentHeight,this.usesWidth&&++e.consumersWidth,this.usesHeight&&++e.consumersHeight,o&&!o.hasRawContent&&(n=r.ownerLayout)&&(n.usesWidth&&++e.consumersWidth,n.usesHeight&&++e.consumersHeight)),a.configured?(n=r[a.names.width],h&&a.calculatedFrom&&(n=d.width),l||(u=this.setWidthInDom||(t?n!==c.width:a.constrained)),e.setWidth(n,u)):h&&(a.calculated&&(i=d.width,e.setWidth(i,i!==c.width)),i=d.x,e.setProp("x",i,i!==c.x)),s.configured?(r=r[s.names.height],h&&s.calculatedFrom&&(r=d.height),l||(u=t?r!==c.height:s.constrained),e.setHeight(r,u)):h&&(s.calculated&&(i=d.height,e.setHeight(i,i!==c.height)),i=d.y,e.setProp("y",i,i!==c.y))},finishedLayout:function(e){var t,i,n,r,o=e.children,s=this.owner;if(o)for(t=o.length,i=0;i<t;i++)(n=o[i]).el.lastBox=n.props;e.previousSize=this.lastComponentSize,this.lastComponentSize=s.el.lastBox=r=e.props,(s=s.lastBox||(s.lastBox={})).x=r.x,s.y=r.y,s.width=r.width,s.height=r.height,s.invalid=!1,this.callParent([e])},notifyOwner:function(e){var t=this.lastComponentSize,e=e.previousSize;this.owner.afterComponentLayout(t.width,t.height,e?e.width:void 0,e?e.height:void 0)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(e){var t=this.targetInfo;return t||(e=e.getEl("getTarget",this),this.targetInfo=t={padding:e.getPaddingInfo(),border:e.getBorderInfo()}),t},measureAutoDimensions:function(e,t){var i,n,r,o,s,a=this.owner,l=a.layout,d=e.heightModel,c=e.widthModel,u=e.boxParent,h=e.isBoxParent,f=e.target,g=e.props,p={gotWidth:!1,gotHeight:!1,isContainer:i=!e.hasRawContent},m=t||3,x=0,E=0;return c.shrinkWrap&&e.consumersContentWidth?(++x,t=!(1&m),i?t?(p.contentWidth=0,p.gotWidth=!0,++E):void 0!==(p.contentWidth=e.getProp("contentWidth"))&&(p.gotWidth=!0,++E):"number"==typeof(n=g.contentWidth)?(p.contentWidth=n,p.gotWidth=!0,++E):(t||!!e.hasDomProp("containerChildrenSizeDone")&&(!(!h&&u&&!u.widthModel.shrinkWrap)||u.hasDomProp("width")))&&(r=t?0:l&&l.measureContentWidth?l.measureContentWidth(e):f.cacheWidth?(o=f.xtype+"-"+f.ui,(s=this.widthCache)[o]||(s[o]=this.measureContentWidth(e))):this.measureContentWidth(e),isNaN(p.contentWidth=r)||(e.setContentWidth(r,!0),p.gotWidth=!0,++E))):c.natural&&e.consumersWidth&&(++x,"number"==typeof(n=g.width)?(p.width=n,p.gotWidth=!0,++E):(!(!h&&u)||u.hasDomProp("width"))&&(isNaN(p.width=this.measureOwnerWidth(e))||(e.setWidth(p.width,!1),p.gotWidth=!0,++E))),d.shrinkWrap&&e.consumersContentHeight?(++x,m=!(2&m),i?m?(p.contentHeight=0,p.gotHeight=!0,++E):void 0!==(p.contentHeight=e.getProp("contentHeight"))&&(p.gotHeight=!0,++E):"number"==typeof(n=g.contentHeight)?(p.contentHeight=n,p.gotHeight=!0,++E):(m||!!e.hasDomProp("containerChildrenSizeDone")&&(!!a.noWrap||(c.shrinkWrap?!(!h&&u&&!u.widthModel.shrinkWrap)||u.hasDomProp("width"):(e.bodyContext||e).hasDomProp("width"))))&&(r=m?0:l&&l.measureContentHeight?l.measureContentHeight(e):f.cacheHeight?(o=f.xtype+"-"+f.ui,(s=this.heightCache)[o]||(s[o]=this.measureContentHeight(e))):this.measureContentHeight(e),isNaN(p.contentHeight=r)||(e.setContentHeight(r,!0),p.gotHeight=!0,++E))):d.natural&&e.consumersHeight&&(++x,"number"==typeof(n=g.height)?(p.height=n,p.gotHeight=!0,++E):(!(!h&&u)||u.hasDomProp("width"))&&(isNaN(p.height=this.measureOwnerHeight(e))||(e.setHeight(p.height,!1),p.gotHeight=!0,++E))),u&&e.onBoxMeasured(),p.gotAll=E===x,p},measureContentWidth:function(e){return e.el.getWidth()-e.getFrameInfo().width},measureContentHeight:function(e){return e.el.getHeight()-e.getFrameInfo().height},measureOwnerHeight:function(e){return e.el.getHeight()},measureOwnerWidth:function(e){return e.el.getWidth()}}),Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:"Ext.layout.component.Component",type:"autocomponent",setHeightInDom:!1,setWidthInDom:!1,waitForOuterHeightInDom:!1,waitForOuterWidthInDom:!1,beginLayoutCycle:function(e,t){var i=this.lastWidthModel,n=this.lastHeightModel,r=this.owner.el;this.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),n&&n.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculate:function(e){var t=this,i=t.measureAutoDimensions(e),n=e.heightModel,r=e.widthModel;i.gotWidth?r.shrinkWrap?t.publishOwnerWidth(e,i.contentWidth):t.publishInnerWidth&&t.publishInnerWidth(e,i.width):!r.auto&&t.publishInnerWidth&&(void 0===(r=t.waitForOuterWidthInDom?e.getDomProp("width"):e.getProp("width"))?t.done=!1:t.publishInnerWidth(e,r)),i.gotHeight?n.shrinkWrap?t.publishOwnerHeight(e,i.contentHeight):t.publishInnerHeight&&t.publishInnerHeight(e,i.height):!n.auto&&t.publishInnerHeight&&(void 0===(n=t.waitForOuterHeightInDom?e.getDomProp("height"):e.getProp("height"))?t.done=!1:t.publishInnerHeight(e,n)),i.gotAll||(t.done=!1)},calculateOwnerHeightFromContentHeight:function(e,t){return t+e.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(e,t){return t+e.getFrameInfo().width},publishOwnerHeight:function(e,t){var i,n=this.owner,r=this.calculateOwnerHeightFromContentHeight(e,t);isNaN(r)?this.done=!1:((t=Ext.Number.constrain(r,n.minHeight,n.maxHeight))===r?i=this.setHeightInDom:(n=this.sizeModels[t<r?"constrainedMax":"constrainedMin"],r=t,e.heightModel.calculatedFromShrinkWrap?e.heightModel=n:e.invalidate({heightModel:n})),e.setHeight(r,i))},publishOwnerWidth:function(e,t){var i,n=this.owner,r=this.calculateOwnerWidthFromContentWidth(e,t);isNaN(r)?this.done=!1:((t=Ext.Number.constrain(r,n.minWidth,n.maxWidth))===r?i=this.setWidthInDom:(n=this.sizeModels[t<r?"constrainedMax":"constrainedMin"],r=t,e.widthModel.calculatedFromShrinkWrap?e.widthModel=n:e.invalidate({widthModel:n})),e.setWidth(r,i))}}),Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:"Ext.layout.component.Auto",type:"progressbar",beginLayout:function(e){var t,i;if(this.callParent(arguments),!e.textEls)if((i=this.owner.textEl).isComposite)for(e.textEls=[],t=(i=i.elements).length;t--;)e.textEls[t]=e.getEl(Ext.get(i[t]));else e.textEls=[e.getEl("textEl")]},calculate:function(e){var t,i,n;if(this.callParent(arguments),Ext.isNumber(n=e.getProp("width")))for(n-=e.getBorderInfo().width,t=(i=e.textEls).length;t--;)i[t].setWidth(n);else this.done=!1}}),Ext.define("Ext.ProgressBar",{extend:"Ext.Component",xtype:"progressbar",mixins:["Ext.ProgressBase"],requires:["Ext.Template","Ext.CompositeElement","Ext.TaskManager","Ext.layout.component.ProgressBar"],uses:["Ext.fx.Anim"],baseCls:Ext.baseCSSPrefix+"progress",animate:!1,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back" role="presentation">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text" role="presentation">','<div role="presentation">{text}</div>',"</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",focusable:!0,tabIndex:0,autoEl:{"aria-valuemin":"0","aria-valuenow":"0","aria-valuemax":"100"},initRenderData:function(){var e=this.value||0,t=this.callParent();return Ext.apply(t,{internalText:!this.hasOwnProperty("textEl"),text:this.text||Math.round(100*e)+"%",percentage:100*e})},onRender:function(){this.callParent(arguments),this.textEl?(this.textEl=Ext.get(this.textEl),this.updateText(this.text)):this.textEl=this.el.select("."+this.baseCls+"-text")},afterRender:function(){this.callParent(arguments),this.text&&this.ariaEl.dom.setAttribute("aria-valuetext",this.text)},updateValue:function(e){this.updateProgress(e)},updateProgress:function(e,t,i){e=e||0;var n=this,r=n.value,o=n.getTextTpl();return n.value=e=e||0,null!=t?(n.autoText=!1,n.updateText(t)):o?(n.autoText=!1,n.updateText(o.apply({value:e,percent:100*e}))):n.text||!1===n.autoText?n.text&&n.ariaEl.dom&&n.ariaEl.dom.removeAttribute("aria-valuetext"):(n.autoText=!0,n.updateText(Math.round(100*e)+"%")),n.rendered&&!n.destroyed&&(!0===i||!1!==i&&n.animate?(n.bar.stopAnimation(),n.bar.animate(Ext.apply({from:{width:100*r+"%"},to:{width:100*e+"%"}},n.animate))):n.bar.setStyle("width",100*e+"%"),n.ariaEl.dom.setAttribute("aria-valuenow",Math.round(100*e))),n.fireEvent("update",n,e,t),n},updateText:function(e){return this.autoText||(this.text=e),this.rendered&&(this.textEl.setHtml(e),this.autoText?this.ariaEl.dom.removeAttribute("aria-valuetext"):this.ariaEl.dom.setAttribute("aria-valuetext",e)),this},applyText:function(e){this.updateText(e)},getText:function(){return this.text},wait:function(i){var e,n=this;return n.waitTimer||(e=n,null!=(i=i||{}).text&&(n.autoText=!1),n.updateText(i.text),n.waitTimer=Ext.TaskManager.start({run:function(e){var t=i.increment||10;--e,n.updateProgress(100/t*((e+t)%t+1)*.01,null,i.animate)},interval:i.interval||1e3,duration:i.duration,onStop:function(){i.fn&&i.fn.apply(i.scope||n),n.reset()},scope:e})),n},isWaiting:function(){return null!==this.waitTimer},reset:function(e){return this.updateProgress(0),this.clearTimer(),!0===e&&this.hide(),this.rendered&&this.ariaEl.dom.removeAttribute("aria-valuetext"),this},clearTimer:function(){this.waitTimer&&(this.waitTimer.onStop=null,Ext.TaskManager.stop(this.waitTimer),this.waitTimer=null)},doDestroy:function(){var e=this.bar;this.clearTimer(),this.rendered&&(this.textEl.isComposite&&this.textEl.clear(),Ext.destroyMembers(this,"textEl","progressBar"),e&&this.animate&&e.stopAnimation()),this.callParent()}}),Ext.define("Ext.dom.ButtonElement",{extend:"Ext.dom.Element",setSize:function(e,t,i){var n=this.component;return this.callParent([e,t,i]),n.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),n.btnEl.setStyle("height",t&&"auto"!==t?"auto":""),this},setStyle:function(e,t){var i,n=this.component;return this.callParent([e,t]),e&&(("width"===e||"string"!=typeof e&&"width"in e)&&(i=t||e.width,n.btnWrap.setStyle("table-layout",i&&"auto"!==i?"fixed":"")),("height"===e||"string"!=typeof e&&"height"in e)&&(e=t||e.height,n.btnEl.setStyle("height",e&&"auto"!==e?"auto":""))),this},setHeight:function(e,t){return this.callParent([e,t]),this.component.btnEl.setStyle("height",e&&"auto"!==e?"auto":""),this},setWidth:function(e,t){return this.callParent([e,t]),this.component.btnWrap.setStyle("table-layout",e&&"auto"!==e?"fixed":""),this}}),Ext.define("Ext.button.Manager",{singleton:!0,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,init:function(){this.initialized||(Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this}),this.initialized=!0)},onButtonMousedown:function(e,t){var i=this.pressedButton;!i||i.destroying||i.destroyed||i.onMouseUp(t),this.pressedButton=e},onDocumentMouseUp:function(e){var t=this.pressedButton;!t||t.destroying||t.destroyed||(t.onMouseUp(e),this.pressedButton=null)},toggleGroup:function(e,t){if(t)for(var i=this.groups[e.toggleGroup],n=i.length,r=0;r<n;r++)i[r]!==e&&i[r].toggle(!1)},register:function(e){var t=this.groups,i=t[e.toggleGroup];this.init(),e.toggleGroup&&((i=i||(t[e.toggleGroup]=[])).push(e),e.on("toggle",this.toggleGroup,this))},unregister:function(e){var t;!e.toggleGroup||(t=this.groups[e.toggleGroup])&&(Ext.Array.remove(t,e),e.un("toggle",this.toggleGroup,this))},getPressed:function(e){var t,i=this.groups[e],n=0;if(i)for(t=i.length;n<t;n++)if(!0===i[n].pressed)return i[n];return null}}),Ext.define("Ext.menu.Manager",{singleton:!0,alternateClassName:"Ext.menu.MenuMgr",uses:["Ext.menu.Menu"],groups:{},visible:[],constructor:function(){var e=this;e.onShow=function(){return e.registerGlobalListeners(),e.onShow.apply(e,arguments)}},onGlobalScroll:function(e){var t,i,n=this.visible,r=n.length,o=e.getElement();if(r&&e!==Ext.scroll.Scroller.viewport)for(n=n.slice(),t=0;t<r;++t)(i=n[t]).alignOnScroll||!1===i.hideOnScroll||i.owns(o)||i.hide()},checkActiveMenus:function(e){var t,i,n=this.visible,r=n.length,o=Ext.Component.fromElement(e.target);if(r)for(n=n.slice(),t=0;t<r;++t)(i=n[t]).owns(e)||o&&o.isMenuItem&&o.menu===i||i.hide()},onShow:function(e){e.floating&&Ext.Array.include(this.visible,e)},onHide:function(e){e.floating&&Ext.Array.remove(this.visible,e)},hideAll:function(){var e,t=this.visible,i=t.length,n=!1;if(i)for(t=t.slice(),e=0;e<i;e++)t[e].hide(),n=!0;return n},get:function(e,t){var i;return"string"==typeof e?(i=Ext.getCmp(e))instanceof Ext.menu.Menu&&(e=i):Ext.isArray(e)?(t=Ext.apply({items:e},t),e=new Ext.menu.Menu(t)):e.isComponent||(t=Ext.apply({},e,t),e=Ext.ComponentManager.create(t,"menu")),e},registerCheckable:function(e){var t=this.groups,i=e.group;i&&(t[i]||(t[i]=[]),t[i].push(e))},unregisterCheckable:function(e){var t=this.groups,i=e.group;i&&Ext.Array.remove(t[i],e)},onCheckChange:function(e,t){var i,n,r,o=this.groups,s=e.group,a=0;if(s&&t)for(n=(i=o[s]).length;a<n;a++)(r=i[a])!==e&&r.setChecked(!1)},registerGlobalListeners:function(){delete this.onShow,Ext.on({mousedown:this.checkActiveMenus,scroll:this.onGlobalScroll,scope:this})}}),Ext.define("Ext.util.ClickRepeater",{extend:"Ext.util.Observable",constructor:function(e,t){var i=this;i.el=Ext.get(e),i.el.unselectable(),Ext.apply(i,t),i.callParent(),i.disabled||(i.disabled=!0,i.enable()),i.handler&&i.on("click",i.handler,i.scope||i)},interval:20,delay:250,preventDefault:!0,stopDefault:!1,timer:0,enable:function(){this.disabled&&(this.el.on("mousedown",this.handleMouseDown,this),Ext.isIE8&&this.el.on("dblclick",this.handleDblClick,this),(this.preventDefault||this.stopDefault)&&this.el.on("click",this.eventOptions,this)),this.disabled=!1},disable:function(e){!e&&this.disabled||(clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.el.clearListeners()),this.disabled=!0},setDisabled:function(e){this[e?"disable":"enable"]()},eventOptions:function(e){this.preventDefault&&e.preventDefault(),this.stopDefault&&e.stopEvent()},destroy:function(){this.disable(!0),this.callParent()},handleDblClick:function(e){clearTimeout(this.timer),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e)},handleMouseDown:function(e){clearTimeout(this.timer),this.pressedCls&&this.el.addCls(this.pressedCls),this.mousedownTime=new Date,Ext.getDoc().on("mouseup",this.handleMouseUp,this),this.el.on("mouseout",this.handleMouseOut,this),this.fireEvent("mousedown",this,e),this.fireEvent("click",this,e),this.accelerate&&(this.delay=400),this.timer=Ext.defer(this.click,this.delay||this.interval,this,[e]),this.mousedownPreventDefault&&e.preventDefault(),this.mousedownStopEvent&&e.stopEvent()},click:function(e){this.fireEvent("click",this,e),this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12e3):this.interval,this,[e])},easeOutExpo:function(e,t,i,n){return e===n?t+i:i*(1-Math.pow(2,-10*e/n))+t},handleMouseOut:function(){clearTimeout(this.timer),this.pressedCls&&this.el.removeCls(this.pressedCls),this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(e){this.el.un("mouseover",this.handleMouseReturn,this),this.pressedCls&&this.el.addCls(this.pressedCls),this.click(e)},handleMouseUp:function(e){clearTimeout(this.timer),this.el.un("mouseover",this.handleMouseReturn,this),this.el.un("mouseout",this.handleMouseOut,this),Ext.getDoc().un("mouseup",this.handleMouseUp,this),this.pressedCls&&this.el.removeCls(this.pressedCls),this.fireEvent("mouseup",this,e)}}),Ext.define("Ext.button.Button",{alias:"widget.button",extend:"Ext.Component",requires:["Ext.dom.ButtonElement","Ext.button.Manager","Ext.menu.Manager","Ext.util.ClickRepeater","Ext.util.TextMetrics","Ext.Glyph"],mixins:["Ext.mixin.Queryable"],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:!0,glyph:null},isButton:!0,_syncFrameHeight:!0,liquidLayout:!0,hidden:!1,disabled:!1,pressed:!1,tabIndex:0,enableToggle:!1,menuAlign:"tl-bl?",showEmptyMenu:!1,clickEvent:"click",preventDefault:!0,handleMouseEvents:!0,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:!0,focusable:!0,ariaRole:"button",keyMap:{scope:"this",SPACE:"onEnterKey",ENTER:"onEnterKey",DOWN:"onDownKey"},defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl","arrowEl"],publishes:{pressed:1},_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_arrowElCls:Ext.baseCSSPrefix+"btn-arrow-el",_focusCls:Ext.baseCSSPrefix+"btn-focus",_arrowFocusCls:Ext.baseCSSPrefix+"arrow-focus",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" class="{baseCls}-close-btn"><tpl if="closeText"> {closeText}</tpl></span></tpl><tpl if="split"><span id="{id}-arrowEl" class="{arrowElCls}" data-ref="arrowEl" role="button" hidefocus="on" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="arrowElAttributes"> {$}="{.}"</tpl> style="{arrowElStyle}">{arrowElText}</span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:!1,shrinkWrap:3,frame:!0,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){this.disabled||this.doNavigate()},doNavigate:function(){"_blank"===this.hrefTarget?window.open(this.getHref(),this.hrefTarget):location.href=this.getHref()},_triggerRegion:{},initComponent:function(){var e=this;!e.isSplitButton&&e.menu&&((e.enableToggle||e.toggleGroup)&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' behavior will conflict with toggling."),e.href&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' cannot behave as a link."),(e.handler||e.hasListeners.hasOwnProperty("click"))&&Ext.ariaWarn(e,"According to WAI-ARIA 1.0 Authoring guide (http://www.w3.org/TR/wai-aria-practices/#menubutton), menu button '"+e.id+"' should display the menu on SPACE and ENTER keys, which will conflict with the button handler.")),e.addCls(Ext.baseCSSPrefix+"unselectable"),e.callParent(),e.menu&&(e.split=!0,e.setMenu(e.menu,!1,!0)),e.url&&(e.href=e.url),e.configuredWithPreventDefault=e.hasOwnProperty("preventDefault"),e.href&&!e.configuredWithPreventDefault&&(e.preventDefault=!1),Ext.isString(e.toggleGroup)&&""!==e.toggleGroup&&(e.enableToggle=!0),e.html&&!e.text&&(e.text=e.html,delete e.html)},getElConfig:function(){var e=this,t=e.callParent(),i=e.getHref(),n=e.hrefTarget;return"a"===t.tag&&(e.disabled||(t.tabIndex=e.tabIndex),i&&(e.disabled||(t.href=i,n&&(t.target=n)))),e.ariaStaticRoles[e.ariaRole]||(e.menu&&!e.isSplitButton&&(t["aria-haspopup"]=!0),e.enableToggle&&(t["aria-pressed"]=!!e.pressed)),t},beforeRender:function(){this.callParent(),this.pressed&&this.addCls(this._pressedCls)},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(e,t,i){var n,r=this,o=r.menu,s=r.isSplitButton?r.arrowEl&&r.arrowEl.dom:r.ariaEl.dom;o&&!i&&(!1!==t&&r.destroyMenu&&o.destroy(),o.ownerCmp=null),e?(t=e.isMenu,(e=Ext.menu.Manager.get(e,{ownerCmp:r})).setOwnerCmp(r,t),e.menuClickBuffer=250,r.mon(e,{scope:r,show:r.onMenuShow,hide:r.onMenuHide}),!o&&r.getArrowVisible()&&(r.split=!0,r.rendered&&(r._addSplitCls(),r.updateLayout())),r.menu=e,s?(s.setAttribute("aria-haspopup",!0),s.setAttribute("aria-owns",e.id)):((n=r.isSplitButton?r.ariaArrowElAttributes||(r.ariaArrowElAttributes={}):r.ariaRenderAttributes||(r.ariaRenderAttributes={}))["aria-haspopup"]=!0,n["aria-owns"]=e.id)):(r.rendered?(s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-owns"),r._removeSplitCls(),r.updateLayout()):(n=r.isSplitButton?r.ariaArrowElAttributes:r.ariaRenderAttributes)&&(delete n["aria-haspopup"],delete n["aria-owns"]),r.split=!1,r.menu=null)},onRender:function(){var e,t,i,n=this;n.callParent(arguments),t=n.el,n.tooltip&&n.setTooltip(n.tooltip,!0),n.handleMouseEvents?(i={scope:n,mouseover:n.onMouseOver,mouseout:n.onMouseOut,mousedown:n.onMouseDown},n.split&&(i.mousemove=n.onMouseMove)):i={scope:n},Ext.supports.Touch&&(i.touchstart=n.onTouchStart),n.repeat?n.mon(new Ext.util.ClickRepeater(t,Ext.isObject(n.repeat)?n.repeat:{}),"click",n.onRepeatClick,n):i[n.clickEvent]?e=!0:i[n.clickEvent]=n.onClick,n.mon(t,i),n.hasFrameTable()&&n.mon(n.frameTable,"click",n.frameTableListener,n),e&&n.mon(t,n.clickEvent,n.onClick,n),Ext.button.Manager.register(n)},onFocusLeave:function(e){this.callParent([e]),this.menu&&this.menu.hide()},getTemplateArgs:function(){var e,t=this,i=t._btnCls,n=t._baseIconCls,r=t.getIconAlign(),o=t.glyph,s=t.text,a=t._hasIcon(),l=t._hasIconCls;return o&&(e=o.fontFamily,o=o.character),{split:t.isSplitButton,innerCls:t._innerCls,splitCls:t.getArrowVisible()?t.getSplitCls():"",iconUrl:t.icon,iconCls:t.iconCls,glyph:o,glyphCls:o?t._glyphCls:"",glyphFontFamily:e,text:s||"&#160;",closeText:t.closeText,textCls:s?t._textCls:"",noTextCls:s?"":t._noTextCls,hasIconCls:a?l:"",btnWrapCls:t._btnWrapCls,btnWrapStyle:t.width?"table-layout:fixed;":"",btnElStyle:t.height?"height:auto;":"",btnCls:i,baseIconCls:n,iconBeforeText:"left"===r||"top"===r,iconAlignCls:a?l+"-"+r:"",textAlignCls:i+"-"+t.getTextAlign(),arrowElCls:t._arrowElCls,arrowElStyle:t.arrowVisible?"":"display:none",tabIndex:t.tabIndex}},renderIcon:function(e){return this.lookupTpl("iconTpl").apply(e)},setHref:function(e){var t,i=this.hrefTarget;this.href=e,this.configuredWithPreventDefault||(this.preventDefault=!e),this.rendered&&(t=this.el.dom,!e||this.disabled?(t.removeAttribute("href"),t.removeAttribute("hrefTarget")):(t.href=this.getHref(),i&&(t.target=i)))},getHref:function(){var e=this.href;return!!e&&Ext.urlAppend(e,Ext.Object.toQueryString(Ext.apply({},this.params,this.baseParams)))},setParams:function(e){this.params=e,this.rendered&&(e=this.el.dom,this.disabled?e.removeAttribute("href"):e.href=this.getHref()||"")},getSplitCls:function(){return this.split?this.baseCls+"-"+this.arrowCls+" "+this.baseCls+"-"+this.arrowCls+"-"+this.arrowAlign:""},setIcon:function(e){e=e||"";var t=this,i=t.btnIconEl,n=t.icon||"";return t.glyph&&t.setGlyph(null),(t.icon=e)!==n&&(i&&(i.removeCls(t.iconCls),i.setStyle("background-image",e?"url("+e+")":""),t._syncHasIconCls(),t.didIconStateChange(n,e)&&t.updateLayout()),t.fireEvent("iconchange",t,n,e)),t},setIconCls:function(e){e=e||"";var t=this,i=t.btnIconEl,n=t.iconCls||"";return t.glyph&&t.setGlyph(null),n!==(t.iconCls=e)&&(i&&(i.setStyle("background-image",""),i.removeCls(n),i.addCls(e),t._syncHasIconCls(),t.didIconStateChange(n,e)&&t.updateLayout()),t.fireEvent("iconchange",t,n,e)),t},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var i=this.btnIconEl,n=this._glyphCls;return i&&(this.icon=null,i.setStyle("background-image",""),e?(i.dom.innerHTML=e.character,i.addCls(n),i.setStyle(e.getStyle())):(i.dom.innerHTML="",i.removeCls(n)),this._syncHasIconCls(),this.didIconStateChange(t,e)&&this.updateLayout()),this.fireEvent("glyphchange",this,e&&e.glyphConfig,t&&t.glyphConfig),this},setTooltip:function(e,t){return this.rendered?(t&&e||this.clearTip(),e&&(Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.el.id},e)),this.tooltip=e):this.el.dom.setAttribute(this.getTipAttr(),e))):this.tooltip=e,this},updateIconAlign:function(e,t){var i,n,r;this.rendered&&(i=this.btnEl,n=this.btnIconEl,r=this._hasIconCls,t&&i.removeCls(r+"-"+t),i.addCls(r+"-"+e),"top"===e||"left"===e?i.insertFirst(n):i.appendChild(n),this.updateLayout())},updateTextAlign:function(e,t){var i=this.btnEl,n=this._btnCls;this.rendered&&(i.removeCls(n+"-"+t),i.addCls(n+"-"+e))},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},getRefItems:function(e){var t=this.menu,i=[];return t&&(e&&(i=t.getRefItems(e)),i.unshift(t)),i},clearTip:function(){var e=this.el;Ext.quickTipsActive&&Ext.isObject(this.tooltip)?Ext.tip.QuickTipManager.unregister(e):e.dom.removeAttribute(this.getTipAttr())},doDestroy:function(){var e=this.menu;this.rendered&&this.clearTip(),Ext.destroy(this.repeater),e&&this.destroyMenu&&(this.menu=Ext.destroy(e)),Ext.button.Manager.unregister(this),this.callParent()},setHandler:function(e,t){return this.handler=e,1<arguments.length&&(this.scope=t),this},updateText:function(e,t){e=null==e?"":String(e),t=t||"";var i=this.btnInnerEl,n=this.btnEl;this.rendered&&(i.setHtml(e||"&#160;"),n[e?"addCls":"removeCls"](this._textCls),n[e?"removeCls":"addCls"](this._noTextCls),this.updateLayout()),this.fireEvent("textchange",this,t,e)},didIconStateChange:function(e,t){t=Ext.isEmpty(t);return Ext.isEmpty(e)?!t:t},click:function(e){return this.onClick(e)},setPressed:function(e){return this.toggle(!1!==e)},toggle:function(e,t){var i=this,n=i.ariaEl.dom;return i.enableToggle&&(e=void 0===e?!i.pressed:!!e,!1!==i.fireEvent("beforetoggle",i,e)&&e!==i.pressed&&(i[e?"addCls":"removeCls"](i._pressedCls),i.pressed=e,n&&n.setAttribute("aria-pressed",e),t||(i.fireEvent("toggle",i,e),Ext.callback(i.toggleHandler,i.scope,[i,e],0,i),i.publishState&&i.publishState("pressed",e)))),i},maybeShowMenu:function(e){this.menu&&this.showMenu(e)},showMenu:function(e){var t=this.menu,i=!e||e.pointerType;return t&&this.rendered&&(this.tooltip&&Ext.quickTipsActive&&"title"!==this.getTipAttr()&&Ext.tip.QuickTipManager.getQuickTip().cancelShow(this.el),t.isVisible()?i?t.hide():t.focus():(!e||this.showEmptyMenu||0<t.items.getCount())&&(t.autoFocus=!i,t.showBy(this.el,this.menuAlign))),this},hideMenu:function(){return this.hasVisibleMenu()&&this.menu.hide(),this},hasVisibleMenu:function(){var e=this.menu;return e&&e.rendered&&e.isVisible()},onRepeatClick:function(e,t){this.onClick(t)},onTouchStart:function(e){this.doPreventDefault(e)},onEnterKey:function(e){if(!this.href)return this.onClick(e),e.stopEvent(),!1},onClick:function(e){e&&this.doPreventDefault(e),e&&"keydown"!==e.type&&e.button||this.disabled||(this.doToggle(),this.maybeShowMenu(e),this.fireHandler(e))},doToggle:function(){!1===this.allowDepress&&this.pressed||this.toggle()},doPreventDefault:function(e){e&&(this.preventDefault||this.disabled&&this.getHref())&&e.preventDefault()},fireHandler:function(e){!1===this.fireEvent("click",this,e)||this.destroyed||Ext.callback(this.handler,this.scope,[this,e],0,this)},onMouseOver:function(e){this.disabled||e.within(this.el,!0,!0)||this.onMouseEnter(e)},onMouseOut:function(e){e.within(this.el,!0,!0)||(this.overMenuTrigger&&this.onMenuTriggerOut(e),this.onMouseLeave(e))},onMouseMove:function(e){var t=this.overMenuTrigger;this.split&&(this.isWithinTrigger(e)?t||this.onMenuTriggerOver(e):t&&this.onMenuTriggerOut(e))},isWithinTrigger:function(e){var t=this.el,e="right"===this.arrowAlign?e.getX()-this.getX():e.getY()-t.getY(),t=this.getTriggerRegion();return e>t.begin&&e<t.end},getTriggerRegion:function(){var e=this._triggerRegion,t="right"===this.arrowAlign,i=t?"getRight":"getBottom",t=t?this.getWidth():this.getHeight();return e.begin=t-(this.el[i]()-this.btnEl[i]()),e.end=t,e},onMouseEnter:function(e){this.fireEvent("mouseover",this,e)},onMouseLeave:function(e){this.fireEvent("mouseout",this,e)},onMenuTriggerOver:function(e){var t=this.arrowTooltip;this.overMenuTrigger=!0,this.split&&t&&this.btnWrap.dom.setAttribute(this.getTipAttr(),t),this.fireEvent("menutriggerover",this,this.menu,e)},onMenuTriggerOut:function(e){delete this.overMenuTrigger,this.split&&this.arrowTooltip&&this.btnWrap.dom.setAttribute(this.getTipAttr(),""),this.fireEvent("menutriggerout",this,this.menu,e)},onEnable:function(){var e=this.href,t=this.hrefTarget,i=this.el.dom;this.callParent(),this.removeCls(this._disabledCls),i.setAttribute("tabIndex",this.tabIndex),e&&(i.href=e),t&&(i.target=t)},onDisable:function(){var e=this.el.dom;this.callParent(),this.addCls(this._disabledCls),this.removeCls(this.overCls),e.removeAttribute("tabIndex"),this.href&&e.removeAttribute("href"),this.hrefTarget&&e.removeAttribute("target")},setScale:function(e){var t=this.ui.replace("-"+this.scale,"");if(!Ext.Array.contains(this.allowedScales,e))throw"#setScale: scale must be an allowed scale ("+this.allowedScales.join(", ")+")";this.scale=e,this.setUI(t)},setUI:function(e){this.scale&&!e.match(this.scale)&&(e=e+"-"+this.scale),this.callParent([e])},onMouseDown:function(t){var i=this;!Ext.isIE&&"touch"!==t.pointerType||Ext.defer(function(){var e=i.getFocusEl();e&&!t.defaultPrevented&&e.focus()},1),i.disabled||0!==t.button||(Ext.button.Manager.onButtonMousedown(i,t),i.addCls(i._pressedCls))},onMouseUp:function(e){this.destroyed||0!==e.button||this.pressed||this.removeCls(this._pressedCls)},onMenuShow:function(){this.addCls(this._menuActiveCls),this.fireEvent("menushow",this,this.menu)},onMenuHide:function(e){this.removeCls(this._menuActiveCls),this.fireEvent("menuhide",this,this.menu)},onDownKey:function(e){if(this.menu&&!this.disabled)return this.showMenu(e),e.stopEvent(),!1},updateArrowVisible:function(e){return this.rendered&&(e?(this.menu||this.isSplitButton)&&(this.split=!0,this._addSplitCls()):(this._removeSplitCls(),this.split=!1)),e},privates:{elClsMap:{btnWrap:"_btnWrapCls",btnEl:"_btnCls",btnIconEl:"_baseIconCls",btnInnerEl:"_innerCls"},addUIToElement:function(){this.callParent(),this.updateChildElsUICls(!0)},addOverCls:function(){this.disabled||this.addCls(this.overCls)},_addSplitCls:function(){this.btnWrap.addCls(this.getSplitCls())},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},getValue:function(){return this.value},removeUIFromElement:function(){this.callParent(),this.updateChildElsUICls(!1)},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){this.btnWrap.removeCls(this.getSplitCls())},_syncHasIconCls:function(){var e=this.btnEl,t=this._hasIconCls;e&&e[this._hasIcon()?"addCls":"removeCls"]([t,t+"-"+this.iconAlign])},_hasIcon:function(){return!!(this.icon||this.iconCls||this.glyph)},updateChildElsUICls:function(e){var t,i,n,r=this.ui,o=e?"addCls":"removeCls",s=this.elClsMap;for(t in s)i=this[t],n=this[s[t]],i&&n&&i[o](n+"-"+r)},wrapPrimaryEl:function(e){this.el=new Ext.dom.ButtonElement(e),this.callParent([e])}}}),Ext.define("Ext.rtl.button.Button",{override:"Ext.button.Button",getTriggerRegion:function(){var e=this._triggerRegion;return!Ext.rootInheritedState.rtl!=!this.getInherited().rtl&&"right"===this.arrowAlign?(e.begin=0,e.end=this.btnEl.getX()-this.el.getX()):e=this.callParent(),e}}),Ext.define("Ext.button.Split",{extend:"Ext.button.Button",alternateClassName:"Ext.SplitButton",alias:"widget.splitbutton",isSplitButton:!0,arrowCls:"split",split:!0,initComponent:function(){this.menu&&(this.arrowHandler||this.hasListeners.hasOwnProperty("arrowclick"))&&Ext.ariaWarn(this,"Using both menu and arrowHandler config options in Split buttons leads to confusing user experience and conflicts with accessibility best practices. See WAI-ARIA 1.0 Authoring guide: http://www.w3.org/TR/wai-aria-practices/#menubutton"),this.callParent()},getTemplateArgs:function(){var e,t=this.callParent();return this.disabled&&(t.tabIndex=null),(e=this.ariaArrowElAttributes||{})["aria-hidden"]=!!this.hidden,e["aria-disabled"]=!!this.disabled,this.arrowTooltip?e["aria-label"]=this.arrowTooltip:e["aria-labelledby"]=this.id,t.arrowElAttributes=e,t},onRender:function(){var e,t=this;t.callParent(),(e=t.getFocusEl())&&e.on({scope:t,focus:t.onMainElFocus,blur:t.onMainElBlur}),(e=t.arrowEl)&&(e.dom.setAttribute("data-componentid",t.id),e.setVisibilityMode(Ext.dom.Element.DISPLAY),e.on({scope:t,focus:t.onArrowElFocus,blur:t.onArrowElBlur}))},setArrowHandler:function(e,t){this.arrowHandler=e,this.scope=t},onClick:function(e){var t=this,i="keydown"===e.type&&e.target===t.arrowEl.dom;t.doPreventDefault(e),t.disabled||(i||t.isWithinTrigger(e)?(e.preventDefault(),t.maybeShowMenu(e),t.fireEvent("arrowclick",t,e),t.arrowHandler&&t.arrowHandler.call(t.scope||t,t,e)):(t.doToggle(),t.fireHandler(e)))},enable:function(e){var t=this.arrowEl;this.callParent([e]),t&&(t.dom.setAttribute("tabIndex",this.tabIndex),t.dom.setAttribute("aria-disabled","false"))},disable:function(e){var t=this.arrowEl;this.callParent([e]),t&&(t.dom.removeAttribute("tabIndex"),t.dom.setAttribute("aria-disabled","true"))},afterHide:function(e,t){this.callParent([e,t]),this.arrowEl.dom.setAttribute("aria-hidden","true")},afterShow:function(e,t,i){this.callParent([e,t,i]),this.arrowEl.dom.setAttribute("aria-hidden","false")},privates:{isFocusing:function(e){var t=e.fromElement,i=e.toElement,n=this.focusEl&&this.focusEl.dom,e=this.arrowEl&&this.arrowEl.dom;return!!this.focusable&&(i===n?t!==e:i!==e||t!==n)},isBlurring:function(e){var t=e.fromElement,i=e.toElement,n=this.focusEl&&this.focusEl.dom,e=this.arrowEl&&this.arrowEl.dom;return!!this.focusable&&(t===n?i!==e:t!==e||i!==n)},getFocusClsEl:Ext.privateFn,onMainElFocus:function(e){this.el.addCls(this._focusCls)},onMainElBlur:function(e){this.el.removeCls(this._focusCls)},onArrowElFocus:function(e){this.el.addCls(this._arrowFocusCls)},onArrowElBlur:function(){this.el.removeCls(this._arrowFocusCls)},setTabIndex:function(e){this.callParent([e]),this.arrowEl&&this.arrowEl.set({tabIndex:e})},_addSplitCls:function(){var e=this.arrowEl;this.callParent(),e.dom.setAttribute("tabIndex",this.tabIndex),e.setVisible(!0)},_removeSplitCls:function(){var e=this.arrowEl;this.callParent(),e.dom.removeAttribute("tabIndex"),e.setVisible(!1)}}}),Ext.define("Ext.button.Cycle",{alias:"widget.cycle",extend:"Ext.button.Split",alternateClassName:"Ext.CycleButton",getButtonText:function(e){var t="";return e&&!0===this.showText?(this.prependText&&(t+=this.prependText),t+=e.text):this.text},setActiveItem:function(e,t){var i=this,n=i.changeHandler,r=i.forceIcon,o=i.forceGlyph;i.settingActive=!0,Ext.isObject(e)||(e=i.menu.getComponent(e)),e&&(i.setText(i.getButtonText(e)),i.setIconCls(r||e.iconCls),i.setGlyph(o||e.glyph),(i.activeItem=e).checked||e.setChecked(!0,!1),t||(n&&Ext.callback(n,i.scope,[i,e],0,i),i.fireEvent("change",i,e))),i.settingActive=!1},getActiveItem:function(){return this.activeItem},initComponent:function(){var e,t,i,n,r=this,o=0;for(Ext.ariaWarn(r,"Using Cycle buttons is not recommended in accessible applications, because their behavior conflicts with accessibility best practices. See WAI-ARIA 1.0 Authoring guide: http://www.w3.org/TR/wai-aria-practices/#menubutton"),e=(r.menu.items||[]).concat(r.items||[]),r.menu=Ext.applyIf({cls:Ext.baseCSSPrefix+"cycle-menu",items:[]},r.menu),i=e.length,t=0;t<i;t++)n=e[t],n=Ext.applyIf({group:r.id,itemIndex:t,checkHandler:r.checkHandler,scope:r,checked:n.checked||!1},n),r.menu.items.push(n),n.checked&&(o=t);r.itemCount=r.menu.items.length,r.callParent(arguments),r.on("click",r.toggleSelected,r),r.setActiveItem(o,!0)},checkHandler:function(e,t){t&&!this.settingActive&&this.setActiveItem(e)},toggleSelected:function(){var e=this.menu;(this.activeItem.next(":not([disabled])")||e.items.getAt(0)).setChecked(!0)}}),Ext.define("Ext.layout.container.SegmentedButton",{extend:"Ext.layout.container.Container",alias:"layout.segmentedbutton",needsItemSize:!1,setsItemSize:!1,_btnRowCls:Ext.baseCSSPrefix+"segmented-button-row",getRenderTree:function(){var e,t,i=this.callParent();if(this.owner.getVertical())for(e=0,t=i.length;e<t;e++)i[e]={cls:this._btnRowCls,cn:i[e]};return i},getItemLayoutEl:function(e){e=e.el.dom;return this.owner.getVertical()?e.parentNode:e},onDestroy:function(){if(this.rendered)for(var e,t=this.getRenderTarget();e=t.last();)e.destroy()}}),Ext.define("Ext.button.Segmented",{extend:"Ext.container.Container",xtype:"segmentedbutton",requires:["Ext.button.Button","Ext.layout.container.SegmentedButton"],config:{allowDepress:!1,allowMultiple:!1,forceSelection:!1,allowToggle:!0,vertical:!1,defaultUI:"default"},beforeRenderConfig:{value:void 0},defaultBindProperty:"value",publishes:["value"],twoWayBindable:["value"],layout:"segmentedbutton",defaultType:"button",maskOnDisable:!1,isSegmentedButton:!0,baseCls:Ext.baseCSSPrefix+"segmented-button",itemCls:Ext.baseCSSPrefix+"segmented-button-item",_firstCls:Ext.baseCSSPrefix+"segmented-button-first",_lastCls:Ext.baseCSSPrefix+"segmented-button-last",_middleCls:Ext.baseCSSPrefix+"segmented-button-middle",applyValue:function(e,t){var i,n,r,o,s,a,l=this,d=l.getAllowMultiple(),c=e instanceof Array?e:null==e?[]:[e],u=t instanceof Array?t:null==t?[]:[t];if(l._isApplyingValue=!0,!l.rendered)for(o=(r=l.items.items).length-1;0<=o;o--)n=r[o],!l.forceSelection||o||a||(n.pressed=!0),n.pressed&&(a=!0,null==(i=n.value)&&(i=l.items.indexOf(n)),Ext.Array.contains(c,i)||c.unshift(i));for(1<(s=c.length)&&!d&&Ext.raise("Cannot set multiple values when allowMultiple is false"),o=0;o<s;o++)e=c[o],(n=l._lookupButtonByValue(e))?(null!=(i=n.value)&&i!==e&&(c[o]=i),n.pressed||n.setPressed(!0)):Ext.raise("Invalid value '"+e+"' for segmented button: '"+l.id+"'");for(e=d?c:s?c[0]:null,o=0,s=u.length;o<s;o++)t=u[o],Ext.Array.contains(c,t)||l._lookupButtonByValue(t).setPressed(!1);return l._isApplyingValue=!1,e},updateValue:function(e,t){var i;this.hasListeners.change&&(e&&t&&this.getAllowMultiple()&&(i=Ext.Array.equals(e,t)),i||this.fireEvent("change",this,e,t))},beforeRender:function(){this.addCls(this.baseCls+this._getClsSuffix()),this._syncItemClasses(!0),this.callParent()},onAdd:function(e){var t,i,n=this,r="_syncItemClasses",o=n.items.items,s=o.length,a=0;for("default"!==e.ui||e.hasOwnProperty("ui")||"default"!==(i=n.getDefaultUI())&&(e.ui=i);a<s;a++)o[a]!==e&&null!=(t=o[a].value)&&t===e.value&&Ext.raise("Segmented button '"+n.id+"' cannot contain multiple items with value: '"+t+"'");n.mon(e,{hide:r,show:r,beforetoggle:"_onBeforeItemToggle",toggle:"_onItemToggle",scope:n}),n.getAllowToggle()&&(e.enableToggle=!0,n.getAllowMultiple()||(e.toggleGroup=n.getId(),e.allowDepress=n.getAllowDepress())),e.addCls(n.itemCls+n._getClsSuffix()),n._syncItemClasses(),n.callParent([e])},onRemove:function(e){e.removeCls(this.itemCls+this._getClsSuffix()),this._syncItemClasses(),this.callParent([e])},beforeLayout:function(){Ext.isChrome&&this.el.dom.offsetWidth,this.callParent()},updateDefaultUI:function(e){var t,i,n,r=this.items;if(this.rendered)Ext.raise("Changing the ui config of a segmented button after render is not supported.");else if(r)for(r.items&&(r=r.items),i=0,n=r.length;i<n;i++)"default"!==(t=r[i]).ui||"default"===e||t.hasOwnProperty("ui")||(r[i].ui=e)},updateAllowDepress:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowDepress config of a segmented button after render is not supported.")},updateAllowMultiple:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowMultiple config of a segmented button after render is not supported.")},updateAllowToggle:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the allowToggle config of a segmented button after render is not supported.")},updateVertical:function(e,t){this.rendered&&e!==t&&Ext.raise("Changing the orientation of a segmented button after render is not supported.")},privates:{_getClsSuffix:function(){return this.getVertical()?"-vertical":"-horizontal"},_getFirstCls:function(){return this._firstCls},_getLastCls:function(){return this._lastCls},_lookupButtonByValue:function(e){for(var t,i,n=this.items.items,r=n.length,o=0,s=null;o<r;o++)if(null!=(t=(i=n[o]).value)&&t===e){s=i;break}return s||"number"!=typeof e||(s=n[e]),s},_onBeforeItemToggle:function(e,t){if(this.allowMultiple&&this.forceSelection&&!t&&1===this.getValue().length)return!1},_onItemToggle:function(e,t){var i,n,r,o,s;this._isApplyingValue||(i=Ext.Array,n=this.allowMultiple,r=null!=e.value?e.value:this.items.indexOf(e),o=this.getValue(),n&&(s=i.indexOf(o,r)),t?n?-1===s&&(o=i.slice(o)).push(r):o=r:n?-1<s&&(o=i.slice(o)).splice(s,1):o===r&&(o=null),this.setValue(o),this.fireEvent("toggle",this,e,t))},_syncItemClasses:function(e){var t,i,n,r,o,s,a,l;if(e||this.rendered){for(t=this._getFirstCls(),i=this._middleCls,n=this._getLastCls(),o=(r=this.items.items).length,s=[],l=0;l<o;l++)(a=r[l]).hidden||s.push(a);for(o=s.length,l=0;l<o;l++)s[l].removeCls([t,i,n]);if(1<o){for(s[0].addCls(t),l=1;l<o-1;l++)s[l].addCls(i);s[o-1].addCls(n)}}}}}),Ext.define("Ext.rtl.button.Segmented",{override:"Ext.button.Segmented",privates:{_getFirstCls:function(){var e=this._firstCls;return!this.getVertical()&&this.getInherited().rtl&&(e=this._lastCls),e},_getLastCls:function(){var e=this._lastCls;return!this.getVertical()&&this.getInherited().rtl&&(e=this._firstCls),e}}}),Ext.define("Ext.panel.Bar",{extend:"Ext.container.Container",vertical:!1,_verticalSides:{left:1,right:1},initComponent:function(){var e=this.vertical;this.dock=this.dock||(e?"left":"top"),this.layout=Ext.apply(e?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},this.layout),this.callParent()},onAdded:function(e,t,i){this.initOrientation(),this.callParent([e,t,i])},onRemoved:function(e){this.removeClsWithUI(this.uiCls),this.callParent([e])},beforeRender:function(){!this.forceOrientation&&this.ownerCt||this.initOrientation(),this.callParent()},setDock:function(e){var t;e!==this.dock&&(Ext.suspendLayouts(),this.clearOrientation(),this.callParent([e]),this.initOrientation(),t=this.vertical,(e=this.layout).setVertical(t),e.setAlignRoundingMethod(t?"ceil":"floor"),Ext.resumeLayouts(!0))},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var e=this.dock,e=this.vertical=e?e in this._verticalSides:this.vertical;this.addClsWithUI([e?"vertical":"horizontal",this.getDockName()])}}}),Ext.define("Ext.rtl.panel.Bar",{override:"Ext.panel.Bar",rtlPositions:{top:"top",right:"left",bottom:"bottom",left:"right"},_rtlRotationClasses:{1:Ext.baseCSSPrefix+"title-rotate-left",2:Ext.baseCSSPrefix+"title-rotate-right"},_rtlRotationAngles:{1:270,2:90},onAdded:function(e,t,i){this.isParentRtl()&&(this._rotationClasses=this._rtlRotationClasses,this._rotationAngles=this._rtlRotationAngles),this.callParent([e,t,i])},privates:{getDockName:function(){var e=this.dock;return this.isParentRtl()?this.rtlPositions[e]:e}}}),Ext.define("Ext.panel.Title",{extend:"Ext.Component",xtype:"title",requires:["Ext.Glyph"],isTitle:!0,noWrap:!0,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{role:"presentation",unselectable:"on"},textElRole:"presentation",tabIndex:0,childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}{childElCls}" unselectable="on"<tpl if="textElRole"> role="{textElRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">{glyph}</tpl></div></div>',_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var e,t,i,n=this.getRotation();n&&!Ext.isIE8&&(i=this.el,t=(e=this.lastBox).x,i.setStyle(this._getVerticalAdjustDirection(),t+(1===n?e.width:-e.height)+"px")),this.callParent()},onRender:function(){var e=this.getRotation(),t=this.el;this.callParent(),e&&t.setVertical(this._rotationAngles[e]),Ext.supports.FixedTableWidthBug&&(t._needsTableWidthFix=!0)},applyText:function(e){return e=e||"&#160;"},beforeRender:function(){this.callParent(),this.addCls(this._rotationClasses[this.getRotation()]),this.addCls(this._textAlignClasses[this.getTextAlign()])},getIconMarkup:function(){return this.lookupTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var e,t=this,i=t.getIcon(),n=t.getIconCls(),r=t.getGlyph(),o=t.getIconAlign();return r&&(e=r.fontFamily,r=r.character),{id:t.id,ui:t.ui,itemCls:t._itemCls,iconUrl:i,iconCls:n,iconWrapCls:t._iconWrapCls,baseIconCls:t._baseIconCls,iconAlignCls:t._iconAlignClasses[o],glyph:r,glyphCls:r?t._glyphCls:"",glyphFontFamily:e}},initRenderData:function(){var e,t=this,i=Ext.apply({text:t.getText(),textElRole:t.textElRole,id:t.id,ui:t.ui,itemCls:t._itemCls,textCls:t._textCls,iconMarkup:null,iconBeforeTitle:null},t.callParent());return t._hasIcon()&&(e=t.getIconAlign(),i.iconMarkup=t.getIconMarkup(),i.iconBeforeTitle="top"===e||"left"===e),i},onAdded:function(e,t,i){var n=this._titleSuffix,r=e.baseCls;this.addCls([r+n,r+n+"-"+e.ui]),this.callParent([e,t,i])},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var i,n=this._glyphCls;this.rendered&&(this._syncIconVisibility(),i=this.iconEl,e?(i.dom.innerHTML=e.character,i.addCls(n),i.setStyle("font-family",e.fontFamily)):t!==e&&(i.dom.innerHTML="",i.removeCls(n)),this._didIconStateChange(t,e)&&this.updateLayout())},updateIcon:function(e,t){e=e||"";this.rendered&&e!==t&&(this._syncIconVisibility(),this.iconEl.setStyle("background-image",e?"url("+e+")":""),this._didIconStateChange(t,e)&&this.updateLayout())},updateIconAlign:function(e,t){var i,n,r=this.iconWrapEl;this.iconWrapEl&&(i=this.el,n=this._iconAlignClasses,t&&r.removeCls(n[t]),r.addCls(n[e]),"top"===e||"left"===e?i.insertFirst(r):i.appendChild(r),this.updateLayout())},updateIconCls:function(e,t){e=e||"";var i;this.rendered&&t!==e&&(this._syncIconVisibility(),i=this.iconEl,t&&i.removeCls(t),i.addCls(e),this._didIconStateChange(t,e)&&this.updateLayout())},updateRotation:function(e,t){var i,n;this.rendered&&(i=this.el,n=this._rotationClasses,this.removeCls(n[t]),this.addCls(n[e]),i.setHorizontal(),e&&i.setVertical(this._rotationAngles[e]),i.setStyle({right:"",left:"",top:"",height:"",width:""}),this.lastBox=null,this.updateLayout())},updateText:function(e){this.rendered&&(this.textEl.setHtml(e),this.updateLayout())},updateTextAlign:function(e,t){var i=this._textAlignClasses;this.rendered&&(t&&this.removeCls(i[t]),this.addCls(i[e]),this.updateLayout())},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(e,t){t=Ext.isEmpty(t);return Ext.isEmpty(e)?!t:t},_hasIcon:function(){return!!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var e,t=this.el,i=this._hasIcon(),n=this.iconWrapEl;i&&!n&&(e="left"===(e=this.iconAlign)||"top"===e,t.dom.insertAdjacentHTML(e?"afterbegin":"beforeend",this.getIconMarkup()),n=this.iconWrapEl=t[e?"first":"last"](),this.iconEl=n.first()),n&&n.setDisplayed(i)}}}),Ext.define("Ext.rtl.panel.Title",{override:"Ext.panel.Title",getIconRenderData:function(){var e=this.callParent(),t=this.ownerCt;return t&&t.isParentRtl()&&(e.childElCls=" "+this._rtlCls),e},privates:{_getVerticalAdjustDirection:function(){var e=this.ownerCt;return e&&e.isParentRtl()?"right":"left"}}}),Ext.define("Ext.panel.Tool",{extend:"Ext.Component",uses:["Ext.tip.QuickTipManager"],xtype:"tool",requires:["Ext.Glyph"],config:{glyph:null},isTool:!0,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",childEls:["toolEl"],renderTpl:['<div id="{id}-toolEl" data-ref="toolEl" class="{className} {childElCls}" role="presentation"<tpl if="glyph"><tpl if="glyphFontFamily"> style="font-family:{glyphFontFamily};"></tpl>{glyph}<tpl else>></tpl></div>'],toolOwner:null,tooltipType:"qtip",stopEvent:!0,ariaRole:"button",focusable:!0,tabIndex:0,keyMap:{scope:"this",SPACE:"onClick",ENTER:"onClick"},cacheHeight:!0,cacheWidth:!0,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){this.id&&this._toolTypes[this.id]&&Ext.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component"),this.tooltip=this.tooltip||this.qtip,this.callParent()},initRenderData:function(){var e,t=this.callParent(),i=this.getGlyph();return i&&(e=i.fontFamily,i=i.character),Ext.applyIf(t,{className:this.calculateClassName(),glyph:i,glyphFontFamily:e}),t},calculateClassName:function(){var e=this.baseCls+"-tool-el ";return this.type?e+=this.baseCls+"-img "+this.baseCls+"-"+this.type:this.iconCls&&(e+=this.iconCls),e},afterRender:function(){var e,t=this;t.callParent(),t.setTypeAfterRender&&(t.setTypeAfterRender=!1,t.setType(t.type)),t.el.on({click:t.onClick,mousedown:t.onMouseDown,mouseover:t.onMouseOver,mouseout:t.onMouseOut,scope:t}),(e=t.tooltip)&&t.setTooltip(e)},tipAttrs:{qtip:"data-qtip"},setTooltip:function(e,t){var i,n=this,r=n.tooltip,o=n.tooltipType,s=n.id,a=n.el;r&&Ext.quickTipsActive&&Ext.isObject(r)&&Ext.tip.QuickTipManager.unregister(s),n.tooltip=e,t&&(n.tooltipType=t),e&&(Ext.quickTipsActive&&Ext.isObject(e)?Ext.tip.QuickTipManager.register(Ext.apply({target:s},e)):a&&(t&&o&&t!==o&&(i=n.tipAttrs[o]||"title",a.dom.removeAttribute(i)),i=n.tipAttrs[t||o]||"title",a.dom.setAttribute(i,e)),"title"!==i&&n.ariaRole&&"presentation"!==n.ariaRole&&(a?a.dom.setAttribute("aria-label",e):(n.ariaRenderAttributes=n.ariaRenderAttributes||{},n.ariaRenderAttributes["aria-label"]=e)))},setType:function(e){var t,i,n=this,r=(n.toolEl,n.updating),o=n.rendering;return r||(t=n.calculateClassName(),o||(n.updating=i=!0),n.setIconCls(null),n.setGlyph(null)),n.type=e,i?(n.updateToolCls(t),n.updating=!1):o&&(n.setTypeAfterRender=!0),n},setIconCls:function(e){var t,i,n=this;n.toolEl;return n.updating||(t=n.calculateClassName(),n.updating=i=!0,n.setType(null),n.setGlyph(null)),n.iconCls=e,i&&(n.updateToolCls(t),n.updating=!1),n},doDestroy:function(){this.setTooltip(null),delete this.toolOwner,this.callParent()},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var i,n,r=this.toolEl;this.updating||(i=this.calculateClassName(),this.updating=n=!0,this.setType(null),this.setIconCls(null)),r&&(e?(r.dom.innerHTML=e.character,r.setStyle(e.getStyle())):r.dom.innerHTML=""),n&&(this.updateToolCls(i),this.updating=!1)},privates:{onClick:function(e,t){var i=this;return!i.disabled&&("keydown"!==e.type&&i.el.removeCls(i.toolPressedCls+" "+i.toolOverCls),!1!==i.stopEvent&&e.stopEvent(),i.handler?Ext.callback(i.handler,i.scope,[e,t,i.ownerCt,i],0,i):i.callback&&Ext.callback(i.callback,i.scope,[i.toolOwner||i.ownerCt,i,e],0,i),i.destroyed?void 0:(i.fireEvent("click",i,e,i.toolOwner||i.ownerCt),!0))},onMouseDown:function(e){if(e.preventDefault(),this.disabled)return!1;this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled)return!1;this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)},updateToolCls:function(e){var t=this.toolEl;t&&(t.removeCls(e),t.addCls(this.calculateClassName()))}}}),Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(e){var t=this;1!==arguments.length||"string"==typeof e||e.dom||e.tagName||e===document||e.isComponent?t.legacyConstructor.apply(t,arguments):(Ext.apply(t,e),t.bindings=[],t.target.isComponent||(t.target=Ext.get(t.target)),t.binding?t.addBinding(t.binding):e.key&&t.addBinding(e),t.enable())},legacyConstructor:function(e,t,i){Ext.apply(this,{target:Ext.get(e),eventName:i||this.eventName,bindings:[]}),t&&this.addBinding(t),this.enable()},addBinding:function(e){var t,i,n=e.key;if(this.processing&&(this.bindings=this.bindings.slice(0)),Ext.isArray(e))for(t=0,i=e.length;t<i;t++)this.addBinding(e[t]);else this.bindings.push(Ext.apply({keyCode:this.processKeys(n)},e))},removeBinding:function(e){var t,i,n,r=this.bindings,o=r.length;for(this.processing&&(this.bindings=r.slice(0)),n=this.processKeys(e.key),t=0;t<o;++t)if(i=r[t],(i.fn||i.handler)===(e.fn||e.handler)&&i.scope===e.scope&&e.alt===i.alt&&e.ctrl===i.ctrl&&e.shift===i.shift&&Ext.Array.equals(i.keyCode,n))return void Ext.Array.erase(this.bindings,t,1)},processKeys:function(e){var t,i,n,r,o,s=!1;if(e.test)return e;if(Ext.isString(e)){for(i=[],o=0,r=(n=e.toUpperCase()).length;o<r;++o)i.push(n.charCodeAt(o));e=i,s=!0}if(Ext.isArray(e)||(e=[e]),!s)for(o=0,r=e.length;o<r;++o)t=e[o],Ext.isString(t)&&(e[o]=t.toUpperCase().charCodeAt(0));return e},handleTargetEvent:function(e){var t,i,n,r,o=this;if(o.enabled&&(t=o.bindings,i=0,n=t.length,e=o.processEvent.apply(o.processEventScope||o,arguments),e&&(o.lastKeyEvent=e,!o.ignoreInputFields||!Ext.fly(e.target).isInputField()))){if(!e.getKey)return e;for(o.processing=!0;i<n;++i)if(!1===(r=o.processBinding(t[i],e)))return o.processing=!1,r;o.processing=!1}},processEvent:Ext.identityFn,processBinding:function(e,t){if(this.checkModifiers(e,t)){var i,n,r,o=t.getKey(),s=e.fn||e.handler,a=e.scope||this,l=e.keyCode,d=e.defaultEventAction;if(l.test){if(l.test(String.fromCharCode(t.getCharCode()))&&(!0!==(r=s.call(a,o,t))&&d&&t[d](),!1===r))return r}else if(l.length)for(i=0,n=l.length;i<n;++i)if(o===l[i]){if(!0!==(r=s.call(a,o,t))&&d&&t[d](),!1===r)return r;break}}},checkModifiers:function(e,t){for(var i,n,r=["shift","ctrl","alt"],o=0,s=r.length;o<s;++o)if(void 0!==(i=e[n=r[o]])&&i!==t[n+"Key"])return!1;return!0},on:function(e,t,i){var n,r,o,s;Ext.isObject(e)&&!Ext.isArray(e)?(n=e.key,r=e.shift,o=e.ctrl,s=e.alt):n=e,this.addBinding({key:n,shift:r,ctrl:o,alt:s,fn:t,scope:i})},un:function(e,t,i){var n,r,o,s;Ext.isObject(e)&&!Ext.isArray(e)?(n=e.key,r=e.shift,o=e.ctrl,s=e.alt):n=e,this.removeBinding({key:n,shift:r,ctrl:o,alt:s,fn:t,scope:i})},isEnabled:function(){return this.enabled},enable:function(){this.enabled||(this.target.on(this.eventName,this.handleTargetEvent,this,{capture:this.capture,priority:this.priority}),this.enabled=!0)},disable:function(){this.enabled&&(this.target.removeListener(this.eventName,this.handleTargetEvent,this),this.enabled=!1)},setDisabled:function(e){e?this.disable():this.enable()},destroy:function(e){var t=this.target;this.bindings=[],this.disable(),e&&t.destroy(),delete this.target,this.callParent()}}),Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",requires:["Ext.util.KeyMap"],disabled:!1,defaultEventAction:!1,forceKeyDown:!1,eventName:"keypress",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(e){2!==arguments.length?this.doConstruction(e):this.legacyConstructor.apply(this,arguments)},legacyConstructor:function(e,t){this.doConstruction(Ext.apply({target:e},t))},doConstruction:function(e){var t,i={target:e.target,ignoreInputFields:e.ignoreInputFields,eventName:this.getKeyEvent(("forceKeyDown"in e?e:this).forceKeyDown,e.eventName),capture:e.capture};this.map&&this.map.destroy(),this.initConfig(e),e.processEvent&&(i.processEvent=e.processEvent,i.processEventScope=e.processEventScope||this),e.priority&&(i.priority=e.priority),e.keyMap?t=this.map=e.keyMap:(t=this.map=new Ext.util.KeyMap(i),this.destroyKeyMap=!0),this.addBindings(e),t.disable(),e.disabled||t.enable()},addBindings:function(e){var t,i,n,r=this.map,o=Ext.util.KeyNav.keyOptions,s=e.scope||this;for(t in e)i=e[t],null!=(n=o[t])&&(t=n),!i||1!==t.length&&isNaN(t=parseInt(t,10))||("function"==typeof i&&(i={handler:i,defaultEventAction:(void 0!==e.defaultEventAction?e:this).defaultEventAction}),r.addBinding({key:t,ctrl:i.ctrl,shift:i.shift,alt:i.alt,handler:Ext.Function.bind(this.handleEvent,i.scope||s,[i.handler||i.fn,this],!0),defaultEventAction:(void 0!==i.defaultEventAction?i:this).defaultEventAction}))},handleEvent:function(e,t,i,n){return n.lastKeyEvent=t,i.call(this,t)},destroy:function(e){this.destroyKeyMap&&this.map.destroy(e),delete this.map,this.callParent()},enable:function(){this.map&&(this.map.enable(),this.disabled=!1)},disable:function(){this.map&&this.map.disable(),this.disabled=!0},setDisabled:function(e){this.map.setDisabled(e),this.disabled=e},getKeyEvent:function(e,t){return e||Ext.supports.SpecialKeyDownRepeat&&!t?"keydown":t||this.eventName}}),Ext.define("Ext.util.FocusableContainer",{extend:"Ext.Mixin",requires:["Ext.util.KeyNav"],mixinConfig:{id:"focusablecontainer",before:{onAdd:"onFocusableChildAdd",onRemove:"onFocusableChildRemove",doDestroy:"destroyFocusableContainer",onFocusEnter:"onFocusEnter"},after:{afterRender:"initFocusableContainer",onFocusLeave:"onFocusLeave",afterShow:"activateFocusableContainer"}},isFocusableContainer:!0,enableFocusableContainer:!0,activeChildTabIndex:0,inactiveChildTabIndex:-1,focusableContainerEl:"el",tabGuard:!0,privates:{initFocusableContainer:function(e){var t,i,n;if(this.enableFocusableContainer)e=null==e||e,this.doInitFocusableContainer(e);else for(i=0,n=(t=this.getFocusables()).length;i<n;i++)t[i].focusableContainer=null},doInitFocusableContainer:function(e){var t=this,i=t.focusableContainerEl;e&&t.clearFocusables(),t.findNextFocusableChild({step:1,beforeRender:!0})?t.activateFocusableContainer(!0):t.isFocusableContainerActive()&&t.activateFocusableContainer(!1),i.isElement||(i=t.focusableContainerEl=t[i]),t.focusableKeyNav=t.createFocusableContainerKeyNav(i)},createFocusableContainerKeyNav:function(e){return new Ext.util.KeyNav(e,{eventName:"keydown",ignoreInputFields:!0,scope:this,tab:this.onFocusableContainerTabKey,enter:this.onFocusableContainerEnterKey,space:this.onFocusableContainerSpaceKey,up:this.onFocusableContainerUpKey,down:this.onFocusableContainerDownKey,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey})},destroyFocusableContainer:function(){this.enableFocusableContainer&&this.doDestroyFocusableContainer()},doDestroyFocusableContainer:function(){this.focusableKeyNav=Ext.destroy(this.focusableKeyNav)},getFocusables:function(){return this.items.items},initDefaultFocusable:function(){this.activeChildTabIndex;var e,t,i=!1,n=this.getFocusables(),r=n.length;if(r){for(t=0;t<r;t++)if(!(e=n[t]).disabled&&e.isFocusable&&e.isFocusable()){i=!0;break}if(i)return(e=this.findNextFocusableChild({items:n,step:!0}))&&this.activateFocusable(e),e}},clearFocusables:function(){for(var e,t=this.getFocusables(),i=t.length,n=0;n<i;n++)(e=t[n]).focusable&&!e.disabled&&this.deactivateFocusable(e)},activateFocusable:function(e,t){t=null!=t?t:this.activeChildTabIndex;e.setTabIndex(t)},deactivateFocusable:function(e,t){t=null!=t?t:this.inactiveChildTabIndex;e.setTabIndex(t)},activateFocusableContainer:function(e){var t=this.tabGuardBeforeEl,i=this.tabGuardAfterEl;this.rendered&&!this.destroying&&!this.destroyed&&t&&i&&((e=null==e||e)?(t.dom.setAttribute("tabIndex",this.activeChildTabIndex),i.dom.setAttribute("tabIndex",this.activeChildTabIndex)):(t.dom.removeAttribute("tabIndex"),i.dom.removeAttribute("tabIndex")))},onFocusableContainerTabKey:function(){return!0},onFocusableContainerEnterKey:function(){return!0},onFocusableContainerSpaceKey:function(){return!0},onFocusableContainerUpKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerDownKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},onFocusableContainerLeftKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!1)},onFocusableContainerRightKey:function(e){return e.preventDefault(),this.moveChildFocus(e,!0)},getFocusableFromEvent:function(e){e=Ext.Component.fromElement(e.getTarget());return e||Ext.raise("No focusable child found for keyboard event!"),e},moveChildFocus:function(e,t){var i=this.getFocusableFromEvent(e);return this.focusChild(i,t,e)},focusChild:function(e,t){t=this.findNextFocusableChild({child:e,step:t});return t&&t.focus(),t},findNextFocusableChild:function(e){var t,i,n,r=e.beforeRender,o=e.items||this.getFocusables(),s=null!=e.step?e.step:1,e=e.child,a=!!this.allowFocusingDisabledChildren,l=Ext.Array.indexOf(o,e);for(s=!0===s?1:!1===s?-1:s,n=o.length,i=0<s?l<n?l+s:0:0<l?l+s:n-1;;i+=s){if(l<0&&(n<=i||i<0))return null;if(n<=i)i=-1;else if(i<0)i=n;else{if(i===l)return null;if(t=o[i],t&&t.focusable&&(!t.disabled||a)&&(r||t.isFocusable&&t.isFocusable()))return t}}return null},isFocusableContainerActive:function(){var e=!1,t=this.tabGuardBeforeEl,i=this.focusableContainerEl;return(t&&t.isTabbable&&t.isTabbable()||i.isTabbable&&i.isTabbable()||(i=(i=this.lastFocusedChild)&&i.getFocusEl&&i.getFocusEl())&&i.isTabbable&&i.isTabbable())&&(e=!0),e},onFocusEnter:function(e){var t=e.toComponent;return!this.enableFocusableContainer||this.destroying||this.destroyed?null:(t===this?(e=this.initDefaultFocusable())&&(e.focus(),this.activateFocusableContainer(!1)):this.activateFocusableContainer(!1),t)},onFocusLeave:function(e){var t=this.lastFocusedChild;!this.enableFocusableContainer||this.destroying||this.destroyed||(this.clearFocusables(),t&&!t.disabled?this.activateFocusable(t):this.activateFocusableContainer(!0))},beforeFocusableChildBlur:Ext.privateFn,afterFocusableChildBlur:Ext.privateFn,beforeFocusableChildFocus:function(e){!this.enableFocusableContainer||this.destroying||this.destroyed||(this.clearFocusables(),this.activateFocusable(e),e.needArrowKeys&&this.guardFocusableChild(e))},guardFocusableChild:function(e){var t=this.activeChildTabIndex,i=this.findNextFocusableChild({child:e,step:-1});i&&i.setTabIndex(t),(i=this.findNextFocusableChild({child:e,step:1}))&&i.setTabIndex(t)},afterFocusableChildFocus:function(e){!this.enableFocusableContainer||this.destroying||this.destroyed||(this.lastFocusedChild=e)},onFocusableChildAdd:function(e){if(this.enableFocusableContainer)return this.doFocusableChildAdd(e)},doFocusableChildAdd:function(e){e.focusable&&((e.focusableContainer=this).$initingItems||this.isFocusableContainerActive()||this.activateFocusableContainer(!0))},onFocusableChildRemove:function(e){if(this.enableFocusableContainer)return this.doFocusableChildRemove(e);e.focusableContainer=null},doFocusableChildRemove:function(e){e===this.lastFocusedChild&&(this.lastFocusedChild=null,this.activateFocusableContainer(!0)),(e=this.findNextFocusableChild({step:1,beforeRender:!0}))||this.activateFocusableContainer(!1)},beforeFocusableChildEnable:Ext.privateFn,onFocusableChildEnable:function(e){!this.enableFocusableContainer||this.destroying||this.destroyed||e!==this.lastFocusedChild&&(this.deactivateFocusable(e),this.isFocusableContainerActive()||this.activateFocusableContainer(!0))},beforeFocusableChildDisable:function(e){var t;!this.enableFocusableContainer||this.destroying||this.destroyed||e.hasFocus&&(t=this.findNextFocusableChild({child:e})||e.findFocusTarget())&&t.focus()},onFocusableChildDisable:function(e){var t=this.lastFocusedChild;!this.enableFocusableContainer||this.destroying||this.destroyed||(e===t&&this.activateFocusableContainer(!0),this.findNextFocusableChild({step:1})||this.activateFocusableContainer(!1))},beforeFocusableChildHide:function(e){return this.beforeFocusableChildDisable(e)},onFocusableChildHide:function(e){return this.onFocusableChildDisable(e)},beforeFocusableChildShow:function(e){return this.beforeFocusableChildEnable(e)},onFocusableChildShow:function(e){return this.onFocusableChildEnable(e)},onFocusableChildMasked:Ext.privateFn,onFocusableChildDestroy:Ext.privateFn,onFocusableChildUpdate:Ext.privateFn}}),Ext.define("Ext.rtl.util.FocusableContainer",{override:"Ext.util.FocusableContainer",privates:{moveChildFocus:function(e,t){t=this.getInherited().rtl?!t:t;return this.callParent([e,t])}}}),Ext.define("Ext.panel.Header",{extend:"Ext.panel.Bar",xtype:"header",requires:["Ext.panel.Title","Ext.panel.Tool"],mixins:["Ext.util.FocusableContainer"],isHeader:!0,defaultType:"tool",indicateDrag:!1,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",autoEl:{role:"presentation"},beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{xtype:"title",flex:1},merge:function(e,t){return"object"!=typeof e&&(e={text:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var e=this,t=e.items,i=e.itemPosition,n=[e.headerCls];e.tools=e.tools||[],e.items=t=t?t.slice():[],void 0!==i&&(e._userItems=t.slice(),e.items=t=[]),e.indicateDragCls=e.headerCls+"-draggable",e.indicateDrag&&n.push(e.indicateDragCls),e.addCls(n),e.syncNoBorderCls(),Ext.Array.push(t,e.tools),e.tools.length=0,e.callParent(),e.on({dblclick:e.onDblClick,click:e.onClick,element:"el",scope:e})},addTool:function(e){this.add(Ext.ComponentManager.create(e,"tool")),this.checkFocusableTools()},afterLayout:function(){var e,t,i;this.vertical&&(t=this.frameTR)&&(e=this.frameBR,i=this.frameTL,i=this.getWidth()-t.getPadding("r")-(i?i.getPadding("l"):this.el.getBorderWidth("l"))+"px",e.setStyle("background-position-x",i),t.setStyle("background-position-x",i)),this.callParent()},applyTitle:function(e,t){var i;return e=e||"",i=Ext.isString(e),Ext.isObject(e)||(e={text:e.toString()}),t?(Ext.suspendLayouts(),t.setConfig(e),Ext.resumeLayouts(!0),e=t):(i&&(e.xtype="title"),e.ui=this.ui,i="rotation"in e,e.id=this.id+"-title",this.isAccordionHeader&&(e.ariaRole="tab",e.textElRole=null,e.focusable=!0),e=Ext.create(e),!i&&this.vertical&&"default"===this.titleRotation&&(e.rotation=1)),e},applyTitlePosition:function(e){var t=this.items.getCount();return this._titleInItems&&--t,Math.max(Math.min(e,t),0)},beforeLayout:function(){this.callParent(),this.syncBeforeAfterTitleClasses()},beforeRender:function(){var e=this.itemPosition;this.protoEl.unselectable(),this.callParent(),void 0!==e&&this.insert(e,this._userItems),this.checkFocusableTools()},checkFocusableTools:function(){var e,t,i,n=this,r=n.tools;if(n.isAccordionHeader)n.enableFocusableContainer=!1;else{for(t=0,i=r.length;t<i;t++)if(r[t].focusable){e=!0;break}e?n.initialConfig.hasOwnProperty("enableFocusableContainer")&&!n.enableFocusableContainer||(n.ariaRole="toolbar",n.enableFocusableContainer=!0,n.rendered&&(n.ariaEl.dom.setAttribute("role","toolbar"),n.initFocusableContainer(!0))):(n.ariaRole="presentation",n.enableFocusableContainer=!1,n.rendered&&(n.ariaEl.dom.setAttribute("role","presentation"),n.initFocusableContainer(!0)))}},getTools:function(){return this.tools.slice()},onAdd:function(e,t){var i=this.tools;this.callParent([e,t]),e.isTool&&(i.push(e),i[e.type]=e)},onAdded:function(e,t,i){this.syncNoBorderCls(),this.callParent([e,t,i])},onRemoved:function(e,t,i){this.syncNoBorderCls(),this.callParent([e,t,i])},setDock:function(e){var t=this.getTitle(),i=this.getTitleRotation(),n=t.getRotation();Ext.suspendLayouts(),this.callParent([e]),"default"===i&&((i=this.vertical?1:0)!==n&&t.setRotation(i),this.rendered&&this.resetItemMargins()),Ext.resumeLayouts(!0)},updateGlyph:function(e){this.getTitle().setGlyph(e)},updateIcon:function(e){this.getTitle().setIcon(e)},updateIconAlign:function(e,t){this.getTitle().setIconAlign(e)},updateIconCls:function(e){this.getTitle().setIconCls(e)},updateTitle:function(e,t){t||(this.insert(this.getTitlePosition(),e),this._titleInItems=!0),this.titleCmp=e},updateTitleAlign:function(e,t){this.getTitle().setTextAlign(e)},updateTitlePosition:function(e){this.insert(e,this.getTitle())},updateTitleRotation:function(e){"default"===e&&(e=this.vertical?1:0),this.getTitle().setRotation(e)},privates:{fireClickEvent:function(e,t){var i="."+Ext.panel.Tool.prototype.baseCls;t.getTarget(i)||this.fireEvent(e,this,t)},getFramingInfoCls:function(){var e=this.callParent(),t=this.ownerCt;return!this.expanding&&t&&(t.collapsed||this.isCollapsedExpander)&&(e+="-"+t.collapsedCls),e+"-"+this.dock},onClick:function(e){this.fireClickEvent("click",e)},onDblClick:function(e){this.fireClickEvent("dblclick",e)},syncBeforeAfterTitleClasses:function(e){var t,i,n,r,o=this.items,s=o.items,a=this.getTitlePosition(),l=s.length,o=o.generation,d=this.syncBeforeAfterGen;if(e||d!==o)for(this.syncBeforeAfterGen=o,n=0;n<l;++n)t=(r=s[n]).afterTitleCls||(r.afterTitleCls=r.baseCls+"-after-title"),i=r.beforeTitleCls||(r.beforeTitleCls=r.baseCls+"-before-title"),!this.title||n<a?(d&&r.removeCls(t),r.addCls(i)):a<n&&(d&&r.removeCls(i),r.addCls(t))},syncNoBorderCls:function(){var e=this.ownerCt,t=this.headerCls+"-noborder";(e?!1!==e.border||e.frame:!1!==this.border)?this.removeCls(t):this.addCls(t)}}}),Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:!0,$configPrefixed:!1,$configStrict:!1,constructor:function(e){this.initConfig(e)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(e){var t=e.state.boxPlan;t&&t.tooNarrow?(t=this.handleOverflow(e))&&t.reservedSpace&&this.layout.publishInnerCtSize(e,t.reservedSpace):this.clearOverflow()},completeLayout:Ext.emptyFn,finishedLayout:function(e){var t,i,n=this.layout.owner;n.hasListeners.overflowchange&&(i=(t=n.query(">[hidden]")).length)!==this.lastHiddenCount&&(n.fireEvent("overflowchange",this.lastHiddenCount,i,t),this.lastHiddenCount=i)},onRemove:Ext.emptyFn,getItem:function(e){return this.layout.owner.getComponent(e)},getOwnerType:function(e){e=e.isToolbar?"toolbar":e.isTabBar?"tab-bar":e.isMenu?"menu":e.isBreadcrumb?"breadcrumb":e.getXType();return e},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var e=this.layout,t=e.innerCt;t.removeCls(this.getOverflowCls(e.oppositeDirection)),t.addCls(this.getOverflowCls(e.direction))}}),Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.util.ClickRepeater","Ext.Element"],alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:"Ext.mixin.Observable"},animateScroll:!1,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(e){this.mixins.observable.constructor.call(this,e),this.scrollPosition=0,this.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var t=this.layout,i=t.owner,n=this.getOwnerType(i),r=this.scrollerCls,n=r+" "+r+"-"+t.names[e]+" "+r+"-"+n+" "+r+"-"+n+"-"+i.ui;return i.plain&&(n+=" "+r+"-plain"),n},getOverflowCls:function(e){return this.scrollerCls+"-body-"+e},beginLayout:function(e){e.innerCtScrollPos=this.getScrollPosition(),this.callParent(arguments)},finishedLayout:function(e){var t=e.state.boxPlan,i=this.layout,n=i.names,r=Math.min(this.getMaxScrollPosition(),e.innerCtScrollPos);t&&t.tooNarrow&&(t=e.childItems[e.childItems.length-1].props,this.scrollSize=t[n.x]+t[n.width],this.updateScrollButtons(),i.innerCt[n.setScrollLeft](r)),this.callParent([e])},handleOverflow:function(e){var t,i,n=this.layout.names,r=n.getWidth,o=n.parallelMargins;return this.showScrollers(),t=this.getBeforeScroller(),i=this.getAfterScroller(),o=t[r]()+i[r]()+t.getMargin(o)+i.getMargin(o),n=e.targetContext.getPaddingInfo()[n.width],{reservedSpace:Math.max(o-n,0)}},getBeforeScroller:function(){return this._beforeScroller||(this._beforeScroller=this.createScroller(this.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){return this._afterScroller||(this._afterScroller=this.createScroller(this.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(e,t,i){var n=this.layout.owner,r=this.scrollerCls,e=n.el.getById(n.id+e);return e.addClsOnOver(r+"-hover"),e.addClsOnClick(r+"-pressed"),e.setVisibilityMode(Ext.Element.DISPLAY),this[t]=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:i,scope:this}),e},createWheelListener:function(){this.wheelListener=this.layout.innerCt.on("mousewheel",this.onMouseWheel,this,{destroyable:!0})},onMouseWheel:function(e){e.stopEvent(),this.scrollBy(this.getWheelDelta(e)*this.wheelIncrement*-1,!1)},getWheelDelta:function(e){return e.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.wheelListener||this.createWheelListener(),this.getBeforeScroller().show(),this.getAfterScroller().show(),this.layout.owner.addClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller")},hideScrollers:function(){var e=this.getBeforeScroller(),t=this.getAfterScroller();e&&(e.hide(),t.hide(),this.layout.owner.removeClsWithUI("vertical"===this.layout.direction?"vertical-scroller":"scroller"))},destroy:function(){Ext.destroyMembers(this,"beforeRepeater","afterRepeater","_beforeScroller","_afterScroller","wheelListener"),this.callParent()},scrollBy:function(e,t){this.scrollTo(this.getScrollPosition()+e,t)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var e,t=this.getBeforeScroller(),i=this.getAfterScroller();t&&i&&(e=this.scrollerCls+"-disabled",t[this.atExtremeBefore()?"addCls":"removeCls"](e),i[this.atExtremeAfter()?"addCls":"removeCls"](e),this.scrolling=!1)},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,!1)},scrollRight:function(){this.scrollBy(this.scrollIncrement,!1)},getScrollPosition:function(){var e=this.layout,e=isNaN(this.scrollPosition)?e.innerCt[e.names.getScrollLeft]():this.scrollPosition;return e},getMaxScrollPosition:function(){var e=this.layout,e=this.scrollSize-e.innerCt.lastBox[e.names.width];return e<0?0:e},atExtremeBefore:function(){return!this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var e=this.getBeforeScroller(),t=this.getAfterScroller(),i=this.layout.names,n=this.scrollerCls;e.removeCls(n+"-"+i.beforeY),t.removeCls(n+"-"+i.afterY),e.addCls(n+"-"+i.beforeX),t.addCls(n+"-"+i.afterX),this.callParent()},scrollTo:function(e,t){var i=this,n=i.layout,r=n.names,o=i.getScrollPosition(),e=Ext.Number.constrain(e,0,i.getMaxScrollPosition());e===o||i.scrolling||(i.scrollPosition=NaN,void 0===t&&(t=i.animateScroll),n.innerCt[r.scrollTo](r.beforeScrollX,e,!!t&&i.getScrollAnim()),t?i.scrolling=!0:i.updateScrollButtons(),i.fireEvent("scroll",i,e,!!t&&i.getScrollAnim()))},scrollToItem:function(e,t){var i,n=this.layout,r=n.owner,o=n.names,n=n.innerCt;void 0!==(e=this.getItem(e))&&(e===r.items.first()?i=0:e===r.items.last()?i=this.getMaxScrollPosition():(r=this.getItemVisibility(e)).fullyVisible||(i=(e=e.getBox(!1,!0))[o.x],r.hiddenEnd&&(i-=n[o.getWidth]()-e[o.width])),void 0!==i&&this.scrollTo(i,t))},getItemVisibility:function(e){var t=this.getItem(e).getBox(!0,!0),i=this.layout,n=i.names,r=t[n.x],e=r+t[n.width],t=this.getScrollPosition(),n=t+i.innerCt[n.getWidth]();return{hiddenStart:r<t,hiddenEnd:n<e,fullyVisible:t<=r&&e<=n}}}),Ext.define("Ext.rtl.layout.container.boxOverflow.Scroller",{override:"Ext.layout.container.boxOverflow.Scroller",getWheelDelta:function(e){var t=this.layout,e=e.getWheelDelta();return"horizontal"===t.direction&&t.owner.getInherited().rtl&&(e=-e),e}}),Ext.define("Ext.dd.DragDropManager",{singleton:!0,requires:["Ext.util.Region"],uses:["Ext.tip.QuickTipManager"],alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:!0,stopPropagation:!1,initialized:!1,locked:!1,init:function(){this.initialized=!0},POINT:0,INTERSECT:1,mode:0,notifyOccluded:!1,dragCls:Ext.baseCSSPrefix+"dd-drag-current",currentPoint:new Ext.util.Point,_execOnAll:function(e,t){var i,n,r,o,s=this.ids;for(i in s)if(s.hasOwnProperty(i))for(n in o=s[i])o.hasOwnProperty(n)&&(r=o[n],this.isTypeOfDD(r)&&r[e].apply(r,t))},addListeners:function(){this.init(),Ext.getWin().on({unload:this._onUnload,resize:this._onResize,scope:this})},_onResize:function(e){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},isLocked:function(){return this.locked},locationCache:{},useCache:!0,clickPixelThresh:8,dragThreshMet:!1,clickTimeout:null,startX:0,startY:0,regDragDrop:function(e,t){this.initialized||this.init(),this.ids[t]||(this.ids[t]={}),this.ids[t][e.id]=e},removeDDFromGroup:function(e,t){this.ids[t]||(this.ids[t]={});t=this.ids[t];t&&t[e.id]&&delete t[e.id]},_remove:function(e,t){var i,n=this.ids,r=e.groups;if(!this.clearingAll){for(i in this.dragCurrent===e&&(this.dragCurrent=null),r)r.hasOwnProperty(i)&&(t?delete n[i]:n[i]&&delete n[i][e.id]);delete this.handleIds[e.id],delete this.locationCache[e.id]}},regHandle:function(e,t){this.handleIds[e]||(this.handleIds[e]={}),this.handleIds[e][t]=t},isDragDrop:function(e){return!!this.getDDById(e)},getRelated:function(e,t){var i,n,r,o=[];for(i in e.groups)for(n in this.ids[i])r=this.ids[i][n],this.isTypeOfDD(r)&&(t&&!r.isTarget||(o[o.length]=r));return o},isLegalTarget:function(e,t){for(var i=this.getRelated(e,!0),n=0,r=i.length;n<r;++n)if(i[n].id===t.id)return!0;return!1},isTypeOfDD:function(e){return e&&e.__ygDragDrop},isHandle:function(e,t){return this.handleIds[e]&&this.handleIds[e][t]},getDDById:function(e,t){var i,n;for(i in this.ids)if((n=this.ids[i][e])instanceof Ext.dd.DDTarget||t)return n;return null},handleMouseDown:function(e,t){var i=this,n=e.getXY(),r=t.getEl(),o={translate:!1,fn:i.handleMouseUp,capture:!1,priority:-1e3},s={translate:!1,fn:i.handleMouseMove,capture:!1},a={capture:!0,destroyable:!0,scope:i},l=Ext.supports;a.touchstart=i.handleMouseUp,l.PointerEvents?(a.pointerup=o,a.pointermove=s):l.MSPointerEvents||"mouse"===e.pointerType?(a.mouseup=o,a.mousemove=s):(a.touchend=o,a.touchmove=s),i.pointerMoveListeners=Ext.getDoc().on(a),i.isMouseDown=!0,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddDisable(),i.currentPoint.setPosition(n),i.dragCurrent&&i.handleMouseUp(e),i.mousedownEvent=e,i.currentTarget=e.getTarget(),i.dragCurrent=t,Ext.fly(r).setCapture(),i.startX=n[0],i.startY=n[1],i.offsetX=i.offsetY=0,i.deltaX=i.startX-r.offsetLeft,i.deltaY=i.startY-r.offsetTop,i.dragThreshMet=!1},startDrag:function(e,t){var i=this.dragCurrent;clearTimeout(this.clickTimeout),i&&(i.b4StartDrag(e,t),i.startDrag(e,t),(i=Ext.fly(i.getDragEl()))&&(i.addCls(this.dragCls),i.shim&&i.shim.el&&i.shim.el.addCls(this.dragCls))),this.dragThreshMet=!0},handleMouseUp:function(e){var t=this;t.pointerMoveListeners.destroy(),t.isMouseDown=!1,Ext.quickTipsActive&&Ext.tip.QuickTipManager.ddEnable(),t.dragCurrent&&(Ext.isIE&&document.releaseCapture&&document.releaseCapture(),clearTimeout(t.clickTimeout),t.dragThreshMet&&t.fireEvents(e,!0),t.stopDrag(e),t.dragThreshMet&&t.stopEvent(e),t.mousedownEvent=t.currentTarget=null)},stopEvent:function(e){this.stopPropagation&&e.stopPropagation(),this.preventDefault&&"touch"===e.pointerType&&e.preventDefault()},stopDrag:function(e){var t,i=this.dragCurrent;i&&(this.dragThreshMet&&((t=Ext.fly(i.getDragEl()))&&(t.removeCls(this.dragCls),t.shim&&t.shim.el&&t.shim.el.removeCls(this.dragCls)),i.b4EndDrag(e),i.endDrag(e)),this.dragCurrent.onMouseUp(e)),this.dragCurrent=null,this.dragOvers={}},handleMouseMove:function(e){var t=this,i=t.dragCurrent,n=e.getXY(),r=n[0],o=n[1];return t.offsetX=r-t.startX,t.offsetY=o-t.startY,t.currentPoint.setPosition(n),i&&(t.dragThreshMet||(o=Math.abs(t.offsetX),n=Math.abs(t.offsetY),(o>t.clickPixelThresh||n>t.clickPixelThresh)&&(e.claimGesture(),t.startDrag(t.startX,t.startY))),t.dragThreshMet&&(i.b4Drag(e),i.onDrag(e),i.moveOnly||t.fireEvents(e,!1)),t.stopEvent(e)),!0},fireEvents:function(e,t){var i,n,r,o,s,a,l,d=this,c=Ext.supports.Touch,u=d.dragCurrent,h=d.currentPoint,f=[],g=[],p=[],m=[],x=[],E=[];if(u&&!u.isLocked()){for(o in l=!(u.deltaX<0||u.deltaY<0),(c||!d.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&l)&&(c=u.getDragEl(),l&&(c.style.visibility="hidden"),e=e.chain({target:d.elementFromPoint(e.clientX,e.clientY)||document.documentElement}),l&&(c.style.visibility="visible")),d.dragOvers)i=d.dragOvers[o],delete d.dragOvers[o],d.isTypeOfDD(i)&&!i.destroyed&&(t?p.push(i):d.notifyOccluded?this.isOverTarget(h,i,d.mode)||p.push(i):e.within(i.getEl())||p.push(i),g[o]=!0);for(a in u.groups)if("string"==typeof a)for(o in d.ids[a])if(i=d.ids[a][o],d.isTypeOfDD(i)&&(n=i.getEl())&&i.isTarget&&!i.isLocked()&&Ext.fly(n).isVisible(!0)&&(i!==u||!1===u.ignoreSelf))if(d.notifyOccluded)-1!==(i.zIndex=d.getZIndex(n))&&(r=!0),f.push(i);else if(e.within(i.getEl())){f.push(i);break}for(r&&Ext.Array.sort(f,d.byZIndex),o=0,s=f.length;o<s&&(i=f[o],!d.isOverTarget(h,i,d.mode)||(t?x.push(i):((g[i.id]?m:E).push(i),d.dragOvers[i.id]=i),d.notifyOccluded));o++);if(d.mode)E.length&&u.onDragEnter(e,E),m.length&&(u.b4DragOver(e,m),u.onDragOver(e,m)),x.length&&(u.b4DragDrop(e,x),u.onDragDrop(e,x)),p.length&&(u.b4DragOut(e,p),u.onDragOut(e,p));else{for(o=0,s=E.length;o<s;++o)u.onDragEnter(e,E[o].id);for(o=0,s=m.length;o<s;++o)u.b4DragOver(e,m[o].id),u.onDragOver(e,m[o].id);for(o=0,s=x.length;o<s;++o)u.b4DragDrop(e,x[o].id),u.onDragDrop(e,x[o].id);for(o=0,s=p.length;o<s;++o)u.b4DragOut(e,p[o].id),u.onDragOut(e,p[o].id)}t&&!x.length&&u.onInvalidDrop(e)}},elementFromPoint:function(e,t){return Ext.rootInheritedState.rtl&&(e=Ext.Element.getViewportWidth()-e),Ext.Element.fromPoint(e,t,!0)},getZIndex:function(e){var t,i=document.body,n=-1;for(e=Ext.getDom(e);e!==i;)isNaN(t=Number(Ext.fly(e).getStyle("zIndex")))||(n=t),e=e.parentNode;return n},byZIndex:function(e,t){return e.zIndex<t.zIndex},getBestMatch:function(e){var t,i,n=null,r=e.length;if(1===r)n=e[0];else for(t=0;t<r;++t){if((i=e[t]).cursorIsOver){n=i;break}(!n||n.overlap.getArea()<i.overlap.getArea())&&(n=i)}return n},refreshCache:function(e){var t,i,n,r;for(t in e)if("string"==typeof t)for(i in this.ids[t])n=this.ids[t][i],this.isTypeOfDD(n)&&((r=this.getLocation(n))?this.locationCache[n.id]=r:delete this.locationCache[n.id])},verifyEl:function(e){return Ext.getBody().contains(e)},getLocation:function(e){if(!this.isTypeOfDD(e))return null;if(e.getRegion)return e.getRegion();var t,i,n,r,o,s=e.getEl();try{t=Ext.fly(s).getXY()}catch(e){}return t?(r=(i=t[0])+s.offsetWidth,o=(n=t[1])+s.offsetHeight,n=n-e.padding[0],r=r+e.padding[1],o=o+e.padding[2],e=i-e.padding[3],new Ext.util.Region(n,r,o,e)):null},isOverTarget:function(e,t,i){var n,r=this.locationCache[t.id];return r&&this.useCache||(r=this.getLocation(t),this.locationCache[t.id]=r),!!r&&(t.cursorIsOver=r.contains(e),(n=this.dragCurrent)&&n.getTargetCoord&&(i||n.constrainX||n.constrainY)?(t.overlap=null,e=n.getTargetCoord(e.x,e.y),n=n.getDragEl(),!!(r=new Ext.util.Region(e.y,e.x+n.offsetWidth,e.y+n.offsetHeight,e.x).intersect(r))&&(t.overlap=r,!!i||t.cursorIsOver)):t.cursorIsOver)},_onUnload:function(e,t){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var e,t=this,i=t.elementCache;for(e in t.dragCurrent&&(t.stopDrag(),t.dragCurrent=null),t.clearingAll=!0,t._execOnAll("unreg",[]),delete t.clearingAll,i)delete i[e];t.elementCache={},t.ids={},t.handleIds={}},elementCache:{},getElWrapper:function(e){var t=this.elementCache[e];return t&&t.el||(t=this.elementCache[e]=new this.ElementWrapper(Ext.getDom(e))),t},getElement:function(e){return Ext.getDom(e)},getCss:function(e){e=Ext.getDom(e);return e?e.style:null},ElementWrapper:function(e){this.el=e||null,this.id=this.el&&e.id,this.css=this.el&&e.style},getPosX:function(e){return Ext.fly(e).getX()},getPosY:function(e){return Ext.fly(e).getY()},swapNode:function(e,t){var i,n;e.swapNode?e.swapNode(t):(i=t.parentNode,(n=t.nextSibling)===e?i.insertBefore(e,t):t===e.nextSibling?i.insertBefore(t,e):(e.parentNode.replaceChild(t,e),i.insertBefore(e,n)))},getScroll:function(){var e=window.document,t=e.documentElement,i=e.body,n=0,e=0;return t&&(t.scrollTop||t.scrollLeft)?(n=t.scrollTop,e=t.scrollLeft):i&&(n=i.scrollTop,e=i.scrollLeft),{top:n,left:e}},getStyle:function(e,t){return Ext.fly(e).getStyle(t)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(e,t){t=Ext.fly(t).getXY();Ext.fly(e).setXY(t)},numericSort:function(e,t){return e-t},handleWasClicked:function(e,t){if(this.isHandle(t,e.id))return!0;for(var i=e.parentNode;i;){if(this.isHandle(t,i.id))return!0;i=i.parentNode}return!1}},function(e){Ext.onInternalReady(function(){e.addListeners()})}),Ext.define("Ext.resizer.Splitter",{extend:"Ext.Component",requires:["Ext.XTemplate"],uses:["Ext.resizer.SplitterTracker"],xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">',"</div>","</tpl>"],isSplitter:!0,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:!0,collapsible:null,collapseOnDblClick:!0,defaultSplitMin:40,defaultSplitMax:1e3,collapseTarget:"next",horizontal:!1,vertical:!1,touchAction:void 0,size:5,tracker:null,ariaRole:"separator",focusable:!0,tabIndex:0,applyTouchAction:function(e,t){return void 0===e&&(e=this.vertical?{panX:!1}:{panY:!1}),this.callParent([e,t])},getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var e=this,t=e.getCollapseTarget(),i=e.collapsible;e.callParent(),t.collapsed&&e.addCls(e.collapsedClsInternal),e.canResize||e.addCls(e.baseCls+"-noresize"),Ext.applyIf(e.renderData,{collapseDir:e.getCollapseDirection(),collapsible:null!==i?i:t.collapsible}),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-orientation"]=e.orientation,e.protoEl.unselectable()},onRender:function(){var e,t=this;t.callParent(arguments),!1!==t.performCollapse&&(t.renderData.collapsible&&t.mon(t.collapseEl,"click",t.toggleTargetCmp,t),t.collapseOnDblClick&&t.mon(t.el,"dblclick",t.toggleTargetCmp,t)),(e=t.getCollapseTarget())&&e.isPanel&&e.on({collapse:t.onTargetCollapse,expand:t.onTargetExpand,beforeexpand:t.onBeforeTargetExpand,beforecollapse:t.onBeforeTargetCollapse,scope:t}),t.canResize&&(t.tracker=Ext.create(t.getTrackerConfig()),t.relayEvents(t.tracker,["beforedragstart","dragstart","dragend"])),(e=t.collapseEl)&&(e.lastCollapseDirCls=t.collapseDirProps[t.collapseDirection].cls)},getCollapseDirection:function(){var e,t,i,n=this.collapseDirection;return n||((e=this.collapseTarget).isComponent&&(n=e.collapseDirection),n||(i=this.ownerCt.layout.type,n=["bottom","right","top","left"][e.isComponent?(t=this.ownerCt.items,Number(t.indexOf(e)===t.indexOf(this)-1)<<1|Number("hbox"===i)):Number("prev"===this.collapseTarget)<<1|Number("hbox"===i)]),this.collapseDirection=n),this.setOrientation("top"===n||"bottom"===n?"horizontal":"vertical"),n},getCollapseTarget:function(){return this.collapseTarget.isComponent?this.collapseTarget:"prev"===this.collapseTarget?this.previousSibling():this.nextSibling()},setCollapseEl:function(e){var t=this.collapseEl;t&&t.setDisplayed(e)},onBeforeTargetExpand:function(e){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(e){e===this.getCollapseTarget()&&e["vertical"===this.orientation?"collapsedHorizontal":"collapsedVertical"]()&&this.el.addCls(this.collapsedClsInternal+" "+(this.collapsedCls||"")),this.setCollapseEl("")},onTargetExpand:function(e){this.el.removeCls(this.collapsedClsInternal+" "+(this.collapsedCls||"")),this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var e,t=this.collapseEl,i=this.collapseDirProps[this.collapseDirection];t&&((e=t.lastCollapseDirCls)&&t.removeCls(e),t.addCls(t.lastCollapseDirCls=i.cls))},applyOrientation:function(){var e=this,t=e.orientation,i=e.orientationProps[t],n=e.size,r=i.fixedAxis,o=i.stretchedAxis,s=e.baseCls+"-";e[t]=!0,e[i.opposite]=!1,e.hasOwnProperty(r)&&"100%"!==e[r]||(e[r]=n),e.hasOwnProperty(o)&&e[o]!==n||(e[o]="100%"),e.removeCls(s+i.opposite),e.addCls(s+t)},setOrientation:function(e){this.orientation!==e&&(this.orientation=e,this.applyOrientation())},updateOrientation:function(){delete this.collapseDirection,this.getCollapseDirection(),this.applyCollapseDirection()},toggleTargetCmp:function(e,t){var i=this.getCollapseTarget(),n=i.placeholder;!Ext.isFunction(i.expand)||!Ext.isFunction(i.collapse)||(!n||n.hidden)&&i.hidden||(i.collapsed||i.floatedFromCollapse?i.expand():i.collapseDirection?i.collapse():i.collapse(this.renderData.collapseDir))},setSize:function(){this.callParent(arguments),Ext.isIE&&this.el&&this.el.repaint()},doDestroy:function(){Ext.destroy(this.tracker),this.callParent()}}),Ext.define("Ext.layout.container.Box",{extend:"Ext.layout.container.Container",alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",requires:["Ext.layout.container.boxOverflow.None","Ext.layout.container.boxOverflow.Scroller","Ext.util.Format","Ext.dd.DragDropManager","Ext.resizer.Splitter"],type:"box",config:{align:"begin",constrainAlign:!1,enableSplitters:!0,overflowHandler:{$value:null,merge:function(e,t){return"string"==typeof e&&(e={type:e}),Ext.merge(t?Ext.Object.chain(t):{},e)}},padding:0,pack:"start",stretchMaxPartner:void 0,vertical:!1,alignRoundingMethod:"round"},itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",manageMargins:!0,createsInnerCt:!0,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:!0,definitions:"var dh=Ext.DomHelper;"}],constructor:function(e){var t=this;t.callParent([e]),t.setVertical(t.vertical),t.flexSortFn=t.flexSort.bind(t),"string"!=(e=typeof t.padding)&&"number"!=e||(t.padding=Ext.util.Format.parseBox(t.padding),t.padding.height=t.padding.top+t.padding.bottom,t.padding.width=t.padding.left+t.padding.right)},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(e,t){var i=this.sizePolicy,n=this.align,r=e.flex,o=n,s=this.names,a=s.height,l=s.width,d=e[l],c=e[a],u=this._percentageRe,s=u.test(d),e="stretch"===n,d="stretchmax"===n,n=this.constrainAlign;return!t&&(e||r||s||n&&!d)&&(t=this.owner.getSizeModel()),e?!u.test(c)&&t[a].shrinkWrap&&(o="stretchmax"):d||(o=u.test(c)?"stretch":n&&!t[a].shrinkWrap?"stretchmax":""),(r||s)&&(t[l].shrinkWrap||(i=i.flex)),i[o]},flexSort:function(e,t){var i=this.names.maxWidth,n=this.names.minWidth,r=e.target,o=t.target,s=r.flex,a=o.flex,l=0,e=r[i]||1/0,t=o[i]||1/0,i=r[n]||0,r=o[n]||0,o=isFinite(i)||isFinite(r),n=isFinite(e)||isFinite(t);return(o||n)&&(n&&(l=e-t),0===l&&o&&(l=r-i),0===l&&(l=n?a-s:s-a)),l},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},roundFlex:function(e){return Math.floor(e)},beginCollapse:function(e){("vertical"===this.direction&&e.collapsedVertical()||"horizontal"===this.direction&&e.collapsedHorizontal())&&(e.collapseMemento.capture(["flex"]),delete e.flex)},beginExpand:function(e){e.collapseMemento.restore(["flex"])},beginLayout:function(e){var t=this.owner,i=t.stretchMaxPartner,n=this.innerCt.dom.style,r=this.names,o=this.overflowHandler;e.boxNames=r,o&&o.beginLayout(e),"string"==typeof i&&(i=Ext.getCmp(i)||t.query(i)[0]),e.stretchMaxPartner=i&&e.context.getCmp(i),this.callParent([e]),e.innerCtContext=e.getEl("innerCt",this),e.targetElContext=e.getEl("targetEl",this),e.ownerScrollable=t.getScrollable(),n.width=n.height=""},beginLayoutCycle:function(e,t){var i=e.state,n=e.ownerScrollable,r=this.align,o=e.boxNames,s=this.pack,a=this._centerRe,l=this.overflowHandler,d=e.state.canScroll;l&&l.beginLayoutCycle(e,t),this.callParent([e,t]),e.parallelSizeModel=l=e[o.widthModel],e.perpendicularSizeModel=t=e[o.heightModel],e.boxOptions={align:r={stretch:"stretch"===r,stretchmax:"stretchmax"===r,center:a.test(r),bottom:this._endRe.test(r)},pack:s={center:a.test(s),end:"end"===s}},n&&(d||(i.canScroll={parallel:!l.shrinkWrap&&n[o.getX](),perpendicular:!t.shrinkWrap&&n[o.getY]()}),i.actualScroll||(i.actualScroll={parallel:!1,perpendicular:!1})),r.stretch&&t.shrinkWrap&&(r.stretchmax=!0,r.stretch=!1),r.nostretch=!(r.stretch||r.stretchmax),l.shrinkWrap&&(s.center=s.end=!1),this.cacheFlexes(e),this.targetEl.setWidth(2e4)},cacheFlexes:function(e){for(var t,i,n,r,o,s=e.boxNames,a=s.widthModel,l=s.heightModel,d=e.boxOptions.align.nostretch,c=0,u=e.childItems,h=u.length,f=[],g=0,p=0,m=0,x=s.minWidth,E=s.minHeight,y=this._percentageRe,v=0,b=0;h--;)o=(t=u[h]).target,(r=t[a]).calculated&&(t.flex=i=o.flex,i?(c+=i,f.push(t),g+=o[x]||0):(n=y.exec(o[s.width]))&&(t.percentageParallel=parseFloat(n[1])/100,++v)),m+=r.configured?o[s.width]:o[x]||0,r=t[l],d&&r.calculated&&(n=y.exec(o[s.height]),t.percentagePerpendicular=parseFloat(n[1])/100,++b),p<(o=r.configured?o[s.height]:o[E]||0)&&(p=o);e.flexedItems=f,e.flexedMinWidth=g,e.smallestWidth=m,e.smallestHeight=p,e.totalFlex=c,e.percentageWidths=v,e.percentageHeights=b,Ext.Array.sort(f,this.flexSortFn)},calculate:function(e){var t=e.boxNames,i=e.state,n=i.actualScroll,r=i.needsScroll,o=i.canScroll,s=i.boxPlan||(i.boxPlan={}),a=this.overflowHandler;if(s.targetSize=this.getContainerSize(e),o&&!r&&(i.needsScroll=r={parallel:o.parallel&&s.targetSize[t.width]<e.smallestWidth,perpendicular:o.perpendicular&&s.targetSize[t.height]<e.smallestHeight}),i.parallelDone||(i.parallelDone=this.calculateParallel(e,t,s)),i.perpendicularDone||(i.perpendicularDone=this.calculatePerpendicular(e,t,s)),i.parallelDone&&i.perpendicularDone){if(o&&!i.scrollPass&&(r.parallel!==n.parallel||r.perpendicular!==n.perpendicular))return e.invalidate({state:{scrollPass:!0,canScroll:o,needsScroll:n}}),void(this.done=!1);this.publishInnerCtSize(e),this.done&&e.boxOptions.align.stretchmax&&!i.stretchMaxDone&&(this.calculateStretchMax(e,t,s),i.stretchMaxDone=!0),a&&a.calculate(e)}else this.done=!1},calculateParallel:function(e,t,i){var n,r,o,s,a,l,d,c,u,h,f,g=e.parallelSizeModel.shrinkWrap,p=t.width,m=e.childItems,x=t.beforeX,E=t.afterX,y=t.setWidth,v=m.length,b=e.flexedItems,C=b.length,S=e.boxOptions.pack,w=this.padding,P=i.targetSize,T=P[p],I=e.state,k=I.needsScroll,R=I.canScroll,M=0,A=w[x],D=A+w[E],F=Ext.getScrollbarSize(),w=F[t.width],F=F[t.height];if(!g&&!P[t.gotWidth])return!1;for(n=0;n<v;++n)if(a=m[n],r=a.marginInfo||a.getMarginInfo(),M+=r[p],!a[t.widthModel].calculated&&(D+=u=a.getProp(p),isNaN(D)))return!1;if(D+=M,e.percentageWidths){if(h=T-M,isNaN(h))return!1;for(n=0;n<v;++n)(a=m[n]).percentageParallel&&(u=Math.ceil(h*a.percentageParallel),D+=u=a[y](u))}for(g?(f=0,i.tooNarrow=!1):(f=T-D,k&&k.perpendicular&&(f-=F),i.tooNarrow=f<e.flexedMinWidth,i.tooNarrow&&R&&R.parallel&&(I.actualScroll.parallel=!0)),c=D,o=f,s=e.totalFlex,n=0;n<C;n++)l=(a=b[n]).flex,d=this.roundFlex(l/s*o),c+=d=a[y](d),o=Math.max(0,o-d),s-=l;for(S.center?(A+=o/2)<0&&(A=0):S.end&&(A+=o),n=0;n<v;++n)A+=(r=(a=m[n]).marginInfo)[x],a.setProp(t.x,A),A+=r[E]+a.props[p];return c+=e.targetContext.getPaddingInfo()[p],e.state.contentWidth=c,k&&k.perpendicular&&(g&&(c+=w),e[t.hasOverflowY]=!0,e.target.componentLayout[t.setWidthInDom]=!0,e[t.invalidateScrollY]=Ext.isIE8),e[t.setContentWidth](c),!0},calculatePerpendicular:function(e,t,i){var n,r,o,s,a,l,d,c,u,h=e.state,f=h.needsScroll,g=h.canScroll,p=e.perpendicularSizeModel.shrinkWrap,m=i.targetSize,x=e.childItems,E=x.length,y=Math.max,v=t.height,b=t.setHeight,C=t.beforeY,S=t.y,w=this.padding,P=w[C],T=m[v]-P-w[t.afterY],I=e.boxOptions.align,k=I.stretch,R=I.stretchmax,M=I.center,A=I.bottom,D=this.constrainAlign,F=0,L=0,O=this.onBeforeConstrainInvalidateChild,N=this.onAfterConstrainInvalidateChild,w=Ext.getScrollbarSize().height;if(!p&&!m[t.gotHeight])return!1;if((k||(M||A)&&!p)&&isNaN(T))return!1;if(f&&f.parallel&&(p?c=!0:(T-=w,i.targetSize[v]-=w)),k)F=y(l=T,e.smallestHeight);else for(r=0;r<E;r++){if(s=((d=x[r]).marginInfo||d.getMarginInfo())[v],u=d.percentagePerpendicular){if(++L,p)continue;o=u*T-s,o=d[b](o)}else o=d.getProp(v);if(!p&&D&&d[t.heightModel].shrinkWrap&&T<o&&(d.invalidate({before:O,after:N,layout:this,childHeight:T,names:t}),e.state.parallelDone=!1),isNaN(F=y(F,o+s,d.target[t.minHeight]||0)))return!1}if(c&&(F+=w,e[t.hasOverflowX]=!0,e.target.componentLayout[t.setHeightInDom]=!0,e[t.invalidateScrollX]=Ext.isIE8),I=e.stretchMaxPartner,I&&(e.setProp("maxChildHeight",F),f=I.childItems,f&&f.length&&(F=y(F,I.getProp("maxChildHeight")),isNaN(F))))return!1;for(e[t.setContentHeight](F+this.padding[v]+e.targetContext.getPaddingInfo()[v]),c&&(F-=w),F>m[v]&&g&&g.perpendicular&&(h.actualScroll.perpendicular=!0),i.maxSize=F,R?l=F:(M||A||L)&&(l=D?p?F:T:p?F:y(T,F),l-=e.innerCtContext.getBorderInfo()[v]),r=0;r<E;r++)n=P+(s=(d=x[r]).marginInfo||d.getMarginInfo())[C],k?d[b](l-s[v]):(u=d.percentagePerpendicular,p&&u&&(o=u*l-(s=d.marginInfo||d.getMarginInfo())[v],o=d[b](o)),M?0<(a=l-d.props[v])&&(n=P+Math[this.alignRoundingMethod](a/2)):A&&(n=y(0,l-n-d.props[v]))),d.setProp(S,n);return!0},onBeforeConstrainInvalidateChild:function(e,t){t=t.names.heightModel;e[t].constrainedMin||(e[t]=Ext.layout.SizeModel.calculated)},onAfterConstrainInvalidateChild:function(e,t){var i=t.names;e.setProp(i.beforeY,0),e[i.heightModel].calculated&&e[i.setHeight](t.childHeight)},calculateStretchMax:function(e,t,i){for(var n,r,o,s=t.height,a=t.width,l=e.childItems,d=l.length,c=i.maxSize,u=this.onBeforeStretchMaxInvalidateChild,h=this.onAfterStretchMaxInvalidateChild,f=0;f<d;++f)r=(n=l[f]).props,(o=c-n.getMarginInfo()[s])===r[s]&&!n[t.heightModel].constrained||n.invalidate({before:u,after:h,layout:this,childWidth:r[a],childHeight:o,childX:r.x,childY:r.y,names:t})},onBeforeStretchMaxInvalidateChild:function(e,t){t=t.names.heightModel;e[t].constrainedMax||(e[t]=Ext.layout.SizeModel.calculated)},onAfterStretchMaxInvalidateChild:function(e,t){var i=t.names,n=t.childHeight,r=t.childWidth;e.setProp("x",t.childX),e.setProp("y",t.childY),e[i.heightModel].calculated&&e[i.setHeight](n),e[i.widthModel].calculated&&e[i.setWidth](r)},completeLayout:function(e){var t,i,n,r=e.invalidateScrollX,o=e.invalidateScrollY,s=this.overflowHandler;s&&s.completeLayout(e),(r||o)&&(e=(s=(t=this.getTarget()).dom).style,r&&("auto"===(i=t.getStyle("overflowX"))?(i=e.overflowX,e.overflowX="scroll"):r=!1),o&&("auto"===(n=t.getStyle("overflowY"))?(n=e.overflowY,e.overflowY="scroll"):o=!1),(r||o)&&(s.scrollWidth,r&&(e.overflowX=i),o&&(e.overflowY=n)))},finishedLayout:function(e){var t=this.overflowHandler;t&&t.finishedLayout(e),this.callParent([e])},getLayoutItems:function(){for(var e,t,i,n,r,o,s=this.callParent(),a=s.length,l=0;l<a;++l)(i=s[l]).isSplitter||(o=i.splitter,i.hidden?o&&(o.hidden||(o.hidden=!0,o.el&&o.el.hide())):(r=!!o&&"next"===o.collapseTarget,t=null,e&&n?(n.hidden&&(n.hidden=!1,n.el&&n.el.show()),r&&(t=!0)):r&&(t=!e),null!==t&&o.hidden!==t&&(o.hidden=t,o.el&&o.el.setVisible(!t)),n=!r&&o,e=i));return e&&n&&!n.hidden&&(n.hidden=!0,n.el&&n.el.hide()),s},insertSplitter:function(e,t,i,n){i={xtype:"splitter",id:e.id+"-splitter",hidden:i,splitterFor:e,synthetic:!0},t+="prev"===n.collapseTarget?1:0;i[this.names.height]="100%",n&&Ext.apply(i,n),e.splitter=this.owner.add(t,i)},publishInnerCtSize:function(e,t){t=t||0;var i,n,r=e.state,o=e.boxNames,s=o.height,a=o.width,l=e.boxOptions.align,d=this.padding,c=r.boxPlan,u=c.targetSize,h=c.maxSize,f=r.needsScroll,g=e.innerCtContext;e.parallelSizeModel.shrinkWrap||c.tooNarrow&&r.canScroll?i=r.contentWidth-e.targetContext.getPaddingInfo()[a]:(i=u[a],f&&f.perpendicular&&(i-=Ext.getScrollbarSize()[a])),i-=t,this.owner.tooNarrow=c.tooNarrow,l.stretch?n=h:(n=c.maxSize+d[o.beforeY]+d[o.afterY]+g.getBorderInfo()[s],e.perpendicularSizeModel.shrinkWrap||!l.center&&!l.bottom||(n=Math.max(u[s],n))),g[o.setWidth](i),g[o.setHeight](n),e.targetElContext.setWidth(e.innerCtContext.props.width-(!this.vertical&&t||0)),isNaN(i+n)&&(this.done=!1)},onAdd:function(e,t){var i=this.enableSplitters&&!e.isButton&&e.split;this.callParent([e,t]),i&&(i=!0===i?{collapseTarget:"next"}:Ext.isString(i)?{collapseTarget:"before"===i?"next":"prev"}:Ext.apply({collapseTarget:"before"===i.side?"next":"prev"},i),this.insertSplitter(e,t,!!e.hidden,i))},onRemove:function(e,t){var i=this.names,n=this.owner,r=e.splitter,o=this.overflowHandler;this.callParent([e,t]),r&&n.contains(r)&&(n.doRemove(r,!0),e.splitter=null),o&&o.onRemove(e),e.layoutMarginCap===this.id&&delete e.layoutMarginCap,n.destroying||t||!e.rendered||(e=e.getEl())&&(e.setStyle(i.beforeY,""),e.setStyle(i.beforeX,""),e.setStyle("margin",""))},applyOverflowHandler:function(e,t){return"string"==typeof e&&(e={type:e}),e.type,t&&t.type===e.type?(delete e.type,t.setConfig(e),t):(e.layout=this,Ext.Factory.boxOverflow(e))},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){Ext.destroy(this.innerCt,this.overflowHandler),this.flexSortFn=this.innerCt=null,this.callParent()},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e},updateVertical:function(e){var t=this.overflowHandler,i=this.owner,n=this._props;Ext.apply(this,e?n.vbox:n.hbox),t&&i&&i.rendered&&t.setVertical(e)},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:!0,vertical:!1,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",getX:"getX",setX:"setX",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",getY:"getY",setY:"setY",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:!1,vertical:!0,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",getX:"getY",setX:"setY",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",getY:"getX",setY:"setX",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}}),Ext.define("Ext.rtl.layout.container.Box",{override:"Ext.layout.container.Box",initLayout:function(){this.owner.getInherited().rtl&&(this.names=Ext.Object.chain(this.names),Ext.apply(this.names,this.rtlNames)),this.callParent(arguments)},getRenderData:function(){var e=this.callParent();return this.owner.getInherited().rtl&&(e.targetElCls=(e.targetElCls||"")+" "+Ext.baseCSSPrefix+"rtl"),e}}),Ext.define("Ext.layout.container.HBox",{extend:"Ext.layout.container.Box",alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:!1}),Ext.define("Ext.rtl.layout.container.HBox",{override:"Ext.layout.container.HBox",rtlNames:{beforeX:"right",afterX:"left",getScrollLeft:"rtlGetScrollLeft",setScrollLeft:"rtlSetScrollLeft",scrollTo:"rtlScrollTo",beforeScrollerSuffix:"-after-scroller",afterScrollerSuffix:"-before-scroller"}}),Ext.define("Ext.layout.container.VBox",{extend:"Ext.layout.container.Box",alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:!0}),Ext.define("Ext.rtl.layout.container.VBox",{override:"Ext.layout.container.VBox",rtlNames:{beforeY:"right",afterY:"left",scrollTo:"rtlScrollTo"}}),Ext.define("Ext.toolbar.Toolbar",{extend:"Ext.container.Container",requires:["Ext.layout.container.HBox","Ext.layout.container.VBox"],uses:["Ext.toolbar.Fill","Ext.toolbar.Separator","Ext.toolbar.Spacer"],alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",mixins:["Ext.util.FocusableContainer"],isToolbar:!0,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:void 0,vertical:void 0,enableOverflow:!1,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:!0,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var e=this,t=e.layout,i=e.vertical;void 0===i&&(e.vertical=i="right"===e.dock||"left"===e.dock),e.layout=t=Ext.applyIf(Ext.isString(t)?{type:t}:t||{},{type:i?"vbox":"hbox",align:i?"stretchmax":"middle"}),e.overflowHandler?t.overflowHandler=e.overflowHandler:e.enableOverflow&&(t.overflowHandler="menu"),i&&e.addClsWithUI("vertical"),"footer"===e.ui&&(e.ignoreBorderManagement=!0),e.callParent()},getRefItems:function(e){var t,i=this.callParent(arguments),n=this.layout;return e&&(this.enableOverflow||"menu"===this.overflowHandler)&&(t=n.overflowHandler)&&t.menu&&(i=i.concat(t.menu.getRefItems(e))),i},lookupComponent:function(e){var t,i=arguments;return"string"==typeof e&&"@"!==e[0]&&(e="string"==typeof(t=(t=Ext.toolbar.Toolbar).shortcutsHV[this.vertical?1:0][e]||t.shortcuts[e])?{xtype:t}:t?Ext.apply({},t):{xtype:"tbtext",text:e},this.applyDefaults(e),i=[e]),this.callParent(i)},onBeforeAdd:function(e){var t="footer"===this.ui,i=t?this.defaultFooterButtonUI:this.defaultButtonUI;e.isSegmentedButton?"default"!==e.getDefaultUI()||e.config.hasOwnProperty("defaultUI")||e.setDefaultUI(i):"default"!==e.ui||e.hasOwnProperty("ui")||(e.isButton?e.ui=i:e.isFormField&&(e.ui=t?this.defaultFooterFieldUI:this.defaultFieldUI)),e instanceof Ext.toolbar.Separator&&e.setUI(this.vertical?"vertical":"horizontal"),this.callParent(arguments)},onAdd:function(e){e.needArrowKeys&&this.enableFocusableContainer&&(this.enableFocusableContainer=!1,this.ariaRole="group"),this.callParent(arguments),this.trackMenu(e)},onRemove:function(e){this.callParent(arguments),this.trackMenu(e,!0)},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},trackMenu:function(e,t){this.trackMenus&&e.menu&&e[t?"un":"on"]({mouseover:this.onButtonOver,menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this})},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(e,t){var i=this.activeMenuBtn;i&&i!==e&&(i.hideMenu(),e.focus(),e.showMenu(t),this.activeMenuBtn=e)},onButtonMenuShow:function(e){this.activeMenuBtn=e},onButtonMenuHide:function(e){this.activeMenuBtn=null}}}),Ext.define("Ext.dd.DragDrop",{requires:["Ext.dd.DragDropManager"],constructor:function(e,t,i){e&&this.init(e,t,i)},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:!1,lock:function(){this.locked=!0},moveOnly:!1,unlock:function(){this.locked=!1},isTarget:!0,padding:null,_domRef:null,__ygDragDrop:!0,constrainX:!1,constrainY:!1,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:!1,xTicks:null,yTicks:null,primaryButtonOnly:!0,available:!1,hasOuterHandles:!1,triggerEvent:"mousedown",b4StartDrag:function(e,t){},startDrag:function(e,t){},b4Drag:function(e){},onDrag:function(e){},onDragEnter:function(e,t){},b4DragOver:function(e){},onDragOver:function(e,t){},b4DragOut:function(e){},onDragOut:function(e,t){},b4DragDrop:function(e){},onDragDrop:function(e,t){},onInvalidDrop:function(e){},b4EndDrag:function(e){},endDrag:function(e){},b4MouseDown:function(e){},onMouseDown:function(e){},onMouseUp:function(e){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,t,i){Ext.isNumber(t)&&(t={left:t,right:t,top:t,bottom:t}),t=t||this.defaultPadding;var n=Ext.get(this.getEl()).getBox(),r=Ext.get(e),o=r.getScroll(),e=r.dom,r=e===document.body?{x:o.left,y:o.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}:{x:(s=r.getXY())[0],y:s[1],width:e.clientWidth,height:e.clientHeight},s=n.y-r.y,e=n.x-r.x;this.resetConstraints(),this.setXConstraint(e-(t.left||0),r.width-e-n.width-(t.right||0),this.xTickSize),this.setYConstraint(s-(t.top||0),r.height-s-n.height-(t.bottom||0),this.yTickSize)},getEl:function(){return this._domRef||(this._domRef=Ext.getDom(this.id)),this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,t,i){this.el=this.el||Ext.get(e),this.initTarget(e,t,i),Ext.get(this.id).on(this.triggerEvent,this.handleMouseDown,this),Ext.supports.Touch&&"longpress"===this.triggerEvent&&Ext.get(this.id).swallowEvent("contextmenu",!0)},initTarget:function(e,t,i){this.config=i||{},this.DDMInstance=Ext.dd.DragDropManager,this.groups={},"string"!=typeof e&&(e=Ext.id(e)),this.id=e,this.addToGroup(t||"default"),this.handleElId=e,this.setDragElId(e),this.invalidHandleTypes={A:"A"},this.invalidHandleIds={},this.invalidHandleClasses=[],this.applyConfig(),this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0],this.isTarget=!1!==this.config.isTarget,this.maintainOffset=this.config.maintainOffset,this.primaryButtonOnly=!1!==this.config.primaryButtonOnly},handleOnAvailable:function(){this.available=!0,this.resetConstraints(),this.onAvailable()},setPadding:function(e,t,i,n){this.padding=t||0===t?i||0===i?[e,t,i,n]:[e,t,e,t]:[e,e,e,e]},setInitPosition:function(e,t){var i=this.getEl();this.DDMInstance.verifyEl(i)&&(e=e||0,t=t||0,i=Ext.fly(i).getXY(),this.initPageX=i[0]-e,this.initPageY=i[1]-t,this.lastPageX=i[0],this.lastPageY=i[1],this.setStartPosition(i))},setStartPosition:function(e){e=e||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null,this.startPageX=e[0],this.startPageY=e[1]},addToGroup:function(e){this.groups[e]=!0,this.DDMInstance.regDragDrop(this,e)},removeFromGroup:function(e){this.groups[e]&&delete this.groups[e],this.DDMInstance.removeDDFromGroup(this,e)},setDragElId:function(e){this.dragElId=e},setHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.handleElId=e,this.DDMInstance.regHandle(this.id,e)},setOuterHandleElId:function(e){"string"!=typeof e&&(e=Ext.id(e)),Ext.get(e).on(this.triggerEvent,this.handleMouseDown,this),this.setHandleElId(e),this.hasOuterHandles=!0},unreg:function(){var e;this._domRef&&(e=Ext.fly(this.id))&&e.un(this.triggerEvent,this.handleMouseDown,this),this._domRef=null,this.DDMInstance._remove(this,this.autoGroup)},destroy:function(){this.unreg(),this.callParent()},isLocked:function(){return this.DDMInstance.isLocked()||this.locked},handleMouseDown:function(e,t){var i=this;i.primaryButtonOnly&&e.button||i.isLocked()||(i.DDMInstance.refreshCache(i.groups),(i.hasOuterHandles||i.DDMInstance.isOverTarget(e.getPoint(),i))&&i.clickValidator(e)&&(i.setStartPosition(),i.b4MouseDown(e),i.onMouseDown(e),i.DDMInstance.handleMouseDown(e,i),i.DDMInstance.stopEvent(e)))},clickValidator:function(e){e=e.getTarget();return this.isValidHandleChild(e)&&(this.id===this.handleElId||this.DDMInstance.handleWasClicked(e,this.id))},addInvalidHandleType:function(e){e=e.toUpperCase();this.invalidHandleTypes[e]=e},addInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),this.invalidHandleIds[e]=e},addInvalidHandleClass:function(e){this.invalidHandleClasses.push(e)},removeInvalidHandleType:function(e){e=e.toUpperCase();delete this.invalidHandleTypes[e]},removeInvalidHandleId:function(e){"string"!=typeof e&&(e=Ext.id(e)),delete this.invalidHandleIds[e]},removeInvalidHandleClass:function(e){for(var t=this.invalidHandleClasses,i=t.length,n=0;n<i;++n)t[n]===e&&delete t[n]},isValidHandleChild:function(t){var i,e,n,r=!0;try{i=t.nodeName.toUpperCase()}catch(e){i=t.nodeName}for(r=(r=r&&!this.invalidHandleTypes[i])&&!this.invalidHandleIds[t.id],e=0,n=this.invalidHandleClasses.length;r&&e<n;++e)r=!Ext.fly(t).hasCls(this.invalidHandleClasses[e]);return r},setXTicks:function(e,t){this.xTicks=[],this.xTickSize=t;for(var i={},n=this.initPageX;n>=this.minX;n-=t)i[n]||(i[this.xTicks[this.xTicks.length]=n]=!0);for(n=this.initPageX;n<=this.maxX;n+=t)i[n]||(i[this.xTicks[this.xTicks.length]=n]=!0);Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(e,t){this.yTicks=[],this.yTickSize=t;for(var i={},n=this.initPageY;n>=this.minY;n-=t)i[n]||(i[this.yTicks[this.yTicks.length]=n]=!0);for(n=this.initPageY;n<=this.maxY;n+=t)i[n]||(i[this.yTicks[this.yTicks.length]=n]=!0);Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(e,t,i){this.leftConstraint=e,this.rightConstraint=t,this.minX=this.initPageX-e,this.maxX=this.initPageX+t,i&&this.setXTicks(this.initPageX,i),this.constrainX=!0},clearConstraints:function(){this.constrainX=!1,this.constrainY=!1,this.clearTicks()},clearTicks:function(){this.xTicks=null,this.yTicks=null,this.xTickSize=0,this.yTickSize=0},setYConstraint:function(e,t,i){this.topConstraint=e,this.bottomConstraint=t,this.minY=this.initPageY-e,this.maxY=this.initPageY+t,i&&this.setYTicks(this.initPageY,i),this.constrainY=!0},resetConstraints:function(){var e,t;this.initPageX||0===this.initPageX?(e=this.maintainOffset?this.lastPageX-this.initPageX:0,t=this.maintainOffset?this.lastPageY-this.initPageY:0,this.setInitPosition(e,t)):this.setInitPosition(),this.constrainX&&this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize),this.constrainY&&this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)},getTick:function(e,t){if(t){if(t[0]>=e)return t[0];for(var i,n=0,r=t.length;n<r;++n)if(t[i=n+1]&&t[i]>=e)return e-t[n]<t[i]-e?t[n]:t[i];return t[t.length-1]}return e},toString:function(){return"DragDrop "+this.id}}),Ext.define("Ext.dd.DD",{extend:"Ext.dd.DragDrop",requires:["Ext.dd.DragDropManager"],constructor:function(e,t,i){e&&this.init(e,t,i)},scroll:!0,autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY;this.setDelta(e,t)},setDelta:function(e,t){this.deltaX=e,this.deltaY=t},setDragElPos:function(e,t){var i=this.getDragEl();this.alignElWithMouse(i,e,t)},alignElWithMouse:function(e,t,i){var n,r=this.getTargetCoord(t,i),o=e.dom?e:Ext.fly(e,"_dd"),t=o.getSize(),i=Ext.Element;return this.deltaSetXY?(n=this.cachedViewportSize,this.setLocalXY(o,Math.max(0,Math.min(r.x+this.deltaSetXY[0],n.width-t.width)),Math.max(0,Math.min(r.y+this.deltaSetXY[1],n.height-t.height)))):(n=this.cachedViewportSize={width:i.getDocumentWidth(),height:i.getDocumentHeight()},t=[Math.max(0,Math.min(r.x,n.width-t.width)),Math.max(0,Math.min(r.y,n.height-t.height))],o.setXY(t),t=this.getLocalX(o),o=o.getLocalY(),this.deltaSetXY=[t-r.x,o-r.y]),this.cachePosition(r.x,r.y),this.autoScroll(r.x,r.y,e.offsetHeight,e.offsetWidth),r},cachePosition:function(e,t){e?(this.lastPageX=e,this.lastPageY=t):(t=Ext.fly(this.getEl()).getXY(),this.lastPageX=t[0],this.lastPageY=t[1])},autoScroll:function(e,t,i,n){var r,o,s,a,l,d,c;this.scroll&&(r=Ext.Element.getViewportHeight(),o=Ext.Element.getViewportWidth(),s=this.DDMInstance.getScrollTop(),a=this.DDMInstance.getScrollLeft(),l=i+t,d=n+e,c=r+s-t-this.deltaY,i=o+a-e-this.deltaX,n=document.all?80:30,r<l&&c<40&&window.scrollTo(a,s+n),t<s&&0<s&&t-s<40&&window.scrollTo(a,s-n),o<d&&i<40&&window.scrollTo(a+n,s),e<a&&0<a&&e-a<40&&window.scrollTo(a-n,s))},getTargetCoord:function(e,t){e-=this.deltaX,t-=this.deltaY;return this.constrainX&&(e<this.minX&&(e=this.minX),e>this.maxX&&(e=this.maxX)),this.constrainY&&(t<this.minY&&(t=this.minY),t>this.maxY&&(t=this.maxY)),{x:e=this.getTick(e,this.xTicks),y:t=this.getTick(t,this.yTicks)}},applyConfig:function(){this.callParent(),this.scroll=!1!==this.config.scroll},b4MouseDown:function(e){e=e.getXY();this.autoOffset(e[0],e[1])},b4Drag:function(e){e=e.getXY();this.setDragElPos(e[0],e[1])},toString:function(){return"DD "+this.id},getLocalX:function(e){return e.getLocalX()},setLocalXY:function(e,t,i){e.setLocalXY(t,i)}}),Ext.define("Ext.rtl.dd.DD",{override:"Ext.dd.DD",getLocalX:function(e){return Ext.rootInheritedState.rtl?e.rtlGetLocalX():e.getLocalX()},setLocalXY:function(e,t,i){Ext.rootInheritedState.rtl?e.rtlSetLocalXY(t,i):e.setLocalXY(t,i)}}),Ext.define("Ext.dd.DDProxy",{extend:"Ext.dd.DD",statics:{dragElId:"ygddfdiv"},constructor:function(e,t,i){e&&(this.init(e,t,i),this.initFrame())},resizeFrame:!0,centerFrame:!1,createFrame:function(){var e,t,i=this,n=document.body;n&&n.firstChild?(e=this.getDragEl())||((e=document.createElement("div")).id=this.dragElId,e.setAttribute("role","presentation"),(t=e.style).position="absolute",t.visibility="hidden",t.cursor="move",t.border="2px solid #aaa",t.zIndex=999,n.insertBefore(e,n.firstChild)):Ext.defer(function(){i.createFrame()},50)},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent(),this.resizeFrame=!1!==this.config.resizeFrame,this.centerFrame=this.config.centerFrame,this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,t){var i=this.getDragEl(),n=i.style;this._resizeProxy(),this.centerFrame&&this.setDelta(Math.round(parseInt(n.width,10)/2),Math.round(parseInt(n.height,10)/2)),this.setDragElPos(e,t),Ext.fly(i).show()},_resizeProxy:function(){var e;this.resizeFrame&&(e=this.getEl(),Ext.fly(this.getDragEl()).setSize(e.offsetWidth,e.offsetHeight))},b4MouseDown:function(e){var t=e.getXY(),e=t[0],t=t[1];this.autoOffset(e,t),this.setDragElPos(e,t)},b4StartDrag:function(e,t){this.showFrame(e,t)},b4EndDrag:function(e){Ext.fly(this.getDragEl()).hide()},endDrag:function(e){var t=this.getEl(),i=this.getDragEl();i.style.visibility="",this.beforeMove(),t.style.visibility="hidden",Ext.dd.DDM.moveToEl(t,i),i.style.visibility="hidden",t.style.visibility="",this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return"DDProxy "+this.id}}),Ext.define("Ext.dd.StatusProxy",{extend:"Ext.Component",animRepair:!1,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",skipLayout:!0,alignOnScroll:!1,constructor:function(e){e=e||{},Ext.apply(this,{hideMode:"visibility",hidden:!0,floating:!0,id:this.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:e.shadow||!1,renderTo:Ext.getDetachedBody()}),this.callParent(arguments),this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(e){e=e||this.dropNotAllowed,this.dropStatus!==e&&(this.el.replaceCls(this.dropStatus,e),this.dropStatus=e)},reset:function(e){var t=Ext.baseCSSPrefix+"dd-drag-proxy ";this.el.replaceCls(t+this.dropAllowed,t+this.dropNotAllowed),this.dropStatus=this.dropNotAllowed,e&&this.ghost.setHtml("")},update:function(e){"string"==typeof e?this.ghost.setHtml(e):(this.ghost.setHtml(""),e.style.margin="0",this.ghost.dom.appendChild(e));e=this.ghost.dom.firstChild;e&&Ext.fly(e).setStyle("float","none")},getGhost:function(){return this.ghost},hide:function(e){this.callParent(),e&&this.reset(!0)},stop:function(){this.anim&&this.anim.isAnimated&&this.anim.isAnimated()&&this.anim.stop()},sync:function(){this.el.syncUnderlays()},repair:function(e,t,i){var n=this;n.callback=t,n.scope=i,e&&!1!==n.animRepair?(n.el.addCls(n.repairCls),n.el.setUnderlaysVisible(!1),n.anim=n.el.animate({duration:n.repairDuration||500,easing:"ease-out",to:{x:e[0],y:e[1]},stopAnimation:!0,callback:n.afterRepair,scope:n})):n.afterRepair()},afterRepair:function(){this.hide(!0),this.el.removeCls(this.repairCls),"function"==typeof this.callback&&this.callback.call(this.scope||this),delete this.callback,delete this.scope}}),Ext.define("Ext.dd.DragSource",{extend:"Ext.dd.DDProxy",requires:["Ext.dd.StatusProxy","Ext.dd.DragDropManager"],dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:!0,repairHighlightColor:"c3daf9",constructor:function(e,t){this.el=Ext.get(e),this.dragData||(this.dragData={}),Ext.apply(this,t),this.proxy||(this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})),this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:!1,isTarget:!1,scroll:!0===this.scroll}]),this.dragging=!1},getDragData:function(e){return this.dragData},onDragEnter:function(e,t){var i,n=Ext.dd.DragDropManager.getDDById(t);this.cachedTarget=n,!1!==this.beforeDragEnter(n,e,t)&&(n.isNotifyTarget?(i=n.notifyEnter(this,e,this.dragData),this.proxy.setStatus(i)):this.proxy.setStatus(this.dropAllowed),this.afterDragEnter&&this.afterDragEnter(n,e,t))},beforeDragEnter:function(e,t,i){return!0},onDragOver:function(e,t){var i,n=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOver(n,e,t)&&(n.isNotifyTarget&&(i=n.notifyOver(this,e,this.dragData),this.proxy.setStatus(i)),this.afterDragOver&&this.afterDragOver(n,e,t))},beforeDragOver:function(e,t,i){return!0},onDragOut:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragOut(i,e,t)&&(i.isNotifyTarget&&i.notifyOut(this,e,this.dragData),this.proxy.reset(),this.afterDragOut&&this.afterDragOut(i,e,t)),this.cachedTarget=null},beforeDragOut:function(e,t,i){return!0},onDragDrop:function(e,t){var i=this.cachedTarget||Ext.dd.DragDropManager.getDDById(t);!1!==this.beforeDragDrop(i,e,t)&&(!i.isNotifyTarget||!1!==i.notifyDrop(this,e,this.dragData)?this.onValidDrop(i,e,t):this.onInvalidDrop(i,e,t),this.afterDragDrop&&this.afterDragDrop(i,e,t)),delete this.cachedTarget},beforeDragDrop:function(e,t,i){return!0},onValidDrop:function(e,t,i){this.hideProxy(),this.afterValidDrop&&this.afterValidDrop(e,t,i)},getRepairXY:function(e,t){return this.el.getXY()},onInvalidDrop:function(e,t,i){var n=this;t||(t=e,e=null,i=t.getTarget().id),!1!==n.beforeInvalidDrop(e,t,i)&&(n.cachedTarget&&(n.cachedTarget.isNotifyTarget&&n.cachedTarget.notifyOut(n,t,n.dragData),n.cacheTarget=null),n.proxy.repair(n.getRepairXY(t,n.dragData),n.afterRepair,n),n.afterInvalidDrop&&n.afterInvalidDrop(t,i))},afterRepair:function(){Ext.enableFx&&this.el.highlight(this.repairHighlightColor),this.dragging=!1},beforeInvalidDrop:function(e,t,i){return!0},handleMouseDown:function(e){var t;this.dragging||(t=this.getDragData(e))&&!1!==this.onBeforeDrag(t,e)&&(this.dragData=t,this.proxy.stop(),this.callParent(arguments))},onBeforeDrag:function(e,t){return!0},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){return this.proxy.ensureAttachedToBody(!0),this.callParent(arguments)},startDrag:function(e,t){this.proxy.reset(),this.proxy.hidden=!1,this.dragging=!0,this.proxy.update(""),this.onInitDrag(e,t),this.proxy.show()},onInitDrag:function(e,t){var i=this.el.dom.cloneNode(!0);return i.id=Ext.id(),this.proxy.update(i),this.onStartDrag(e,t),!0},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide(),this.proxy.reset(!0),this.dragging=!1},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(e){},endDrag:function(e){this.onEndDrag(this.dragData,e)},onEndDrag:function(e,t){},autoOffset:function(e,t){this.setDelta(-12,-20)},destroy:function(){Ext.destroy(this.proxy),this.callParent()}}),Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:!0,constructor:function(e,t){this.panel=e,this.id=this.panel.id+"-ddproxy",Ext.apply(this,t)},insertProxy:!0,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){this.ghost&&(this.proxy&&(this.proxy.destroy(),delete this.proxy),this.panel.unghost(null,this.moveOnDrag),delete this.ghost)},show:function(){var e;this.ghost||(e=this.panel.getSize(),this.panel.el.setVisibilityMode(Ext.Element.DISPLAY),this.ghost=this.panel.ghost(),this.insertProxy&&(this.proxy=this.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"}),this.proxy.setSize(e)))},repair:function(e,t,i){this.hide(),Ext.callback(t,i||this)},moveProxy:function(e,t){this.proxy&&e.insertBefore(this.proxy.dom,t)}}),Ext.define("Ext.panel.DD",{extend:"Ext.dd.DragSource",requires:["Ext.panel.Proxy"],constructor:function(e,t){this.panel=e,this.dragData={panel:e},this.panelProxy=new Ext.panel.Proxy(e,t),this.proxy=this.panelProxy.proxy,this.callParent([e.el,t]),this.setupEl(e)},setupEl:function(e){var t=e.header,i=e.body;t&&(this.setHandleElId(t.id),i=t.el),i?(i.setStyle("cursor","move"),this.scroll=!1):e.on("boxready",this.setupEl,this,{single:!0})},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(e,t){this.panelProxy.show()},b4MouseDown:function(e){var t=e.getXY(),e=t[0],t=t[1];this.autoOffset(e,t)},onInitDrag:function(e,t){return this.onStartDrag(e,t),!0},createFrame:Ext.emptyFn,getDragEl:function(e){var t=this.panelProxy.ghost;if(t)return t.el.dom},endDrag:function(e){this.panelProxy.hide(),this.panel.saveState()},autoOffset:function(e,t){e-=this.startPageX,t-=this.startPageY,this.setDelta(e,t)},onInvalidDrop:function(e,t,i){!1!==this.beforeInvalidDrop(e,t,i)&&(this.cachedTarget&&(this.cachedTarget.isNotifyTarget&&this.cachedTarget.notifyOut(this,t,this.dragData),this.cacheTarget=null),this.afterInvalidDrop&&this.afterInvalidDrop(t,i))}}),Ext.define("Ext.layout.component.Dock",{extend:"Ext.layout.component.Component",alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:!0,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:!1,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:!0,x:!0},verticalCollapsePolicy:{height:!0,y:!0},finishRender:function(){var e,t;this.callParent(),e=this.getRenderTarget(),t=this.getDockedItems(),this.finishRenderItems(e,t)},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var e,t,i,n,r,o,s,a=this,l=a.owner,d=a.lastDockedItems,c=a.borders,u=l.dockedItems.generation,h=a.noBorderClassesSides,f=a.borderWidthProps,g=a.collapsed;if(!(a.initializedBorders===u||l.border&&!l.manageBodyBorders||l.collapsed&&"mini"===l.collapseMode)){for(a.initializedBorders=u,a.collapsed=!1,a.lastDockedItems=t=a.getLayoutItems(),a.collapsed=g,e={top:[],right:[],bottom:[],left:[]},i=0,n=t.length;i<n;i++)o=(r=t[i]).dock,r.ignoreBorderManagement||(e[o].satisfied||(e[o].push(r),e[o].satisfied=!0),e.top.satisfied||"bottom"===o||e.top.push(r),e.right.satisfied||"left"===o||e.right.push(r),e.bottom.satisfied||"top"===o||e.bottom.push(r),e.left.satisfied||"right"===o||e.left.push(r));if(d)for(i=0,n=d.length;i<n;i++)(r=d[i]).destroyed||r.ignoreBorderManagement||l.manageBodyBorders||r.removeCls(a.noBorderClasses);if(c)for(s in c)l.manageBodyBorders&&c[s].satisfied&&l.setBodyStyle(f[s],"");for(s in e)if(n=e[s].length,l.manageBodyBorders)e[s].satisfied&&l.setBodyStyle(f[s],"1px");else{for(i=0;i<n;i++)e[s][i].addCls(h[s]);!e[s].satisfied&&!l.bodyBorder||!1===l.bodyBorder?l.addBodyCls(h[s]):l.removeBodyCls(h[s])}a.borders=e}},beforeLayoutCycle:function(e){var t,i,n=this.owner,r=this.sizeModels.shrinkWrap,o=n.shrinkWrapDock;n.collapsed&&(n.collapsedVertical()?(i=!0,e.measureDimensions=1):(t=!0,e.measureDimensions=2)),e.collapsedVert=i,e.collapsedHorz=t,i?e.heightModel=r:t&&(e.widthModel=r),o=!0===o?3:o||0,e.shrinkWrapDockHeight=1&o&&e.heightModel.shrinkWrap,e.shrinkWrapDockWidth=2&o&&e.widthModel.shrinkWrap},beginLayout:function(e){var t,i,n,r,o,s,a=this.owner,l=this.getLayoutItems(),d=e.context,c=l.length,u=this.lastCollapsedState;for(this.callParent(arguments),(o=a.getCollapsed())!==u&&void 0!==u&&(this.owner.collapsed?(e.isCollapsingOrExpanding=1,a.addClsWithUI(a.collapsedCls)):(e.isCollapsingOrExpanding=2,a.removeClsWithUI(a.collapsedCls),e.lastCollapsedState=this.lastCollapsedState)),this.lastCollapsedState=o,e.dockedItems=t=[],i=0;i<c;i++)(r=l[i]).rendered&&(s=r.dock,(n=d.getCmp(r)).dockedAt={x:0,y:0},n.offsets=r=Ext.Element.parseBox(r.offsets||0),n.horizontal="top"===s||"bottom"===s,r.width=r.left+r.right,r.height=r.top+r.bottom,t.push(n));e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e){var t,i,n,r=e.dockedItems,o=r.length,s=this.owner,a=s.frameBody,l=this.lastHeightModel;for(this.callParent(arguments),this.owner.manageHeight?this.lastBodyDisplay&&(s.body.dom.style.display=this.lastBodyDisplay=""):("inline-block"!==this.lastBodyDisplay&&(s.body.dom.style.display=this.lastBodyDisplay="inline-block"),l&&l.shrinkWrap&&!e.heightModel.shrinkWrap&&(s.body.dom.style.marginBottom="")),e.widthModel.auto&&(e.widthModel.shrinkWrap&&s.el.setWidth(null),s.body.setWidth(null),a&&a.setWidth(null)),e.heightModel.auto&&(s.body.setHeight(null),a&&a.setHeight(null)),e.collapsedVert?e.setContentHeight(0):e.collapsedHorz&&e.setContentWidth(0),t=0;t<o;t++)if("right"===(n=(i=r[t].target).dock))i.setLocalX(0);else if("left"!==n)continue},calculate:function(e){var t,i,n,r,o=this,s=o.measureAutoDimensions(e,e.measureDimensions),a=e.state,l=a.horzDone,d=a.vertDone,c=e.bodyContext;for(e.borderInfo||e.getBorderInfo(),e.paddingInfo||e.getPaddingInfo(),e.frameInfo||e.getFrameInfo(),c.borderInfo||c.getBorderInfo(),c.paddingInfo||c.getPaddingInfo(),e.frameBorder||((c=e.framing)?(e.frameBorder=c.border,e.framePadding=c.padding):(e.frameBorder=e.borderInfo,e.framePadding=e.paddingInfo)),t=!l&&o.createAxis(e,s.contentWidth,e.widthModel,o.horzAxisProps,e.collapsedHorz),i=!d&&o.createAxis(e,s.contentHeight,e.heightModel,o.vertAxisProps,e.collapsedVert),n=0,r=e.dockedItems.length;r--;++n)t&&o.dockChild(e,t,r,n),i&&o.dockChild(e,i,r,n);t&&o.finishAxis(e,t)&&(a.horzDone=l=t),i&&o.finishAxis(e,i)&&(a.vertDone=d=i),l&&d&&o.finishConstraints(e,l,d)?o.finishPositions(e,l,d):o.done=!1},createAxis:function(e,t,i,n,r){var o=0,s=this.owner,a=s[n.maxSize],l=s[n.minSize]||0,d=n.dockBegin,c=n.dockEnd,u=n.pos,h=n.size,s=null!=a,f=i.shrinkWrap?r?0:t+e.bodyContext.borderInfo[h]:(t=e.frameBorder,f=e.framePadding,o=t[d]+f[d],e.getProp(h)-(t[c]+f[c]));return{shrinkWrap:i.shrinkWrap,sizeModel:i,initialBegin:o,begin:o,end:f,collapsed:r,horizontal:n.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:f-o,maxChildSize:0,hasMinMaxConstraints:(l||s)&&i.shrinkWrap,minSize:l,maxSize:s?a:1e9,bodyPosProp:this.owner.manageHeight?u:n.marginBegin,dockBegin:d,dockEnd:c,posProp:u,sizeProp:h,setSize:n.setSize,shrinkWrapDock:e[n.shrinkWrapDock],sizeModelName:n.sizeModel,dockedPixelsEnd:0}},dockChild:function(e,t,i,n){var r=e.dockedItems[t.shrinkWrap?i:n],o=r.target,i=o.dock,n=t.sizeProp;o.ignoreParentFrame&&e.isCollapsingOrExpanding&&r.clearMarginCache(),r.marginInfo||r.getMarginInfo(),o=i===t.dockBegin?t.shrinkWrap?this.dockOutwardBegin(e,r,o,t):this.dockInwardBegin(e,r,o,t):i===t.dockEnd?t.shrinkWrap?this.dockOutwardEnd(e,r,o,t):this.dockInwardEnd(e,r,o,t):t.shrinkWrapDock?(n=r.getProp(n)+r.marginInfo[n],t.maxChildSize=Math.max(t.maxChildSize,n),0):this.dockStretch(e,r,o,t),r.dockedAt[t.posProp]=o},dockInwardBegin:function(e,t,i,n){var r,o,s=n.begin,a=n.sizeProp,l=i.ignoreParentFrame;return l&&(n.ignoreFrameBegin=t,o=i.dock,s-=(r=e.frameBorder[o])+e.framePadding[o]),i.overlay||(a=t.getProp(a)+t.marginInfo[a],n.begin+=a,l&&(n.begin-=r)),s},dockInwardEnd:function(e,t,i,n){var r=n.sizeProp,r=t.getProp(r)+t.marginInfo[r],r=n.end-r;return i.overlay||(n.end=r),i.ignoreParentFrame&&(n.ignoreFrameEnd=t,r+=(t=e.frameBorder[i.dock])+e.framePadding[i.dock],n.end+=t),r},dockOutwardBegin:function(e,t,i,n){var r=n.begin,o=n.sizeProp;return n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=t:i.ignoreParentFrame&&(n.ignoreFrameBegin=t),i.overlay||(r-=t.getProp(o)+t.marginInfo[o],n.begin=r),r},dockOutwardEnd:function(e,t,i,n){var r=n.end,o=n.sizeProp,o=t.getProp(o)+t.marginInfo[o];return n.collapsed?n.ignoreFrameBegin=n.ignoreFrameEnd=t:i.ignoreParentFrame&&(n.ignoreFrameEnd=t),i.overlay||(n.end=r+o,n.dockedPixelsEnd+=o),r},dockStretch:function(e,t,i,n){var r=i.dock,o=n.sizeProp,s="top"===r||"bottom"===r,a=e.frameBorder,l=t.offsets,d=e.framePadding,r=s?"right":"bottom",e=s?"left":"top",s=n.begin+l[e];return!1!==i.stretch&&(r=n.end-s-l[r],i.ignoreParentFrame&&(s-=d[e]+a[e],r+=d[o]+a[o]),r-=t.marginInfo[o],t[n.setSize](r)),s},finishAxis:function(e,t){if(isNaN(t.maxChildSize))return!1;var i,n,r,o,s=t.begin,a=t.end-s,l=t.collapsed,d=t.setSize,c=t.dockBegin,u=t.dockEnd,h=e.framePadding,f=e.frameBorder,g=f[c],p=e.framing,m=p&&p[c],x=l?0:h[c],E=t.sizeProp,y=t.ignoreFrameBegin,v=t.ignoreFrameEnd,c=e.bodyContext,e=Math.max(g+x-m,0);return t.shrinkWrap?(n=t.initialSize,p?i=(r=-s+g+x)-m-e:r=(i=-s)+x,l||(a+=h[E]),y?(r-=g,i-=g,y.dockedAt[t.posProp]-=x):a+=g,l||(v?v.dockedAt[t.posProp]+=h[u]:a+=f[u]),t.size=a,t.horizontal||this.owner.manageHeight||(o=!1)):(i=p?(r=0,s-m-e):(r=-g,s-x-g),n=a),t.delta=r,c[d](n,o),c.setProp(t.bodyPosProp,i),!isNaN(a)},beforeInvalidateShrinkWrapDock:function(e,t){t=t.axis.sizeModelName;e[t].constrainedMin||(e[t]=Ext.layout.SizeModel.calculated)},afterInvalidateShrinkWrapDock:function(e,t){var i=t.axis,n=t.layout;e[i.sizeModelName].calculated&&(t=n.dockStretch(t.ownerContext,e,e.target,i),e.setProp(i.posProp,i.delta+t))},finishConstraints:function(e,t,i){var n,r,o,s,a,l,d,c,u,h,f=this.sizeModels,g=t.shrinkWrap,p=i.shrinkWrap,m=this.owner;if(g&&(l=t.size,d=t.collapsed?0:t.minSize,c=t.maxSize,u=t.maxChildSize,c<(h=Math.max(l,u))?(a=f.constrainedMax,o=c):h<d?(a=f.constrainedMin,o=d):l<u?(a=f.constrainedDock,m.dockConstrainedWidth=o=u):o=l),p&&(l=i.size,d=i.collapsed?0:i.minSize,c=i.maxSize,u=i.maxChildSize,c<(h=Math.max(l,u+l-i.initialSize))?(s=f.constrainedMax,r=c):h<d?(s=f.constrainedMin,r=d):l<u?(s=f.constrainedDock,m.dockConstrainedHeight=r=u):(e.collapsedVert||m.manageHeight||(n=!1,e.bodyContext.setProp("margin-bottom",i.dockedPixelsEnd)),r=l)),a||s){if(a&&s&&a.constrainedMax&&s.constrainedByMin)return e.invalidate({widthModel:a}),!1;if(!e.widthModel.calculatedFromShrinkWrap&&!e.heightModel.calculatedFromShrinkWrap)return e.invalidate({widthModel:a,heightModel:s}),!1}else this.invalidateAxes(e,t,i);return g&&(e.setWidth(o),a&&(e.widthModel=a)),p&&(e.setHeight(r,n),s&&(e.heightModel=s)),!0},invalidateAxes:function(e,t,i){var n,r,o,s,a,l,d,c,u=this.beforeInvalidateShrinkWrapDock,h=this.afterInvalidateShrinkWrapDock,f=t.end-t.begin,g=i.initialSize,p=t.shrinkWrapDock&&t.maxChildSize<=f,m=i.shrinkWrapDock&&i.maxChildSize<=g;if(p||m)for(m&&(i.begin=i.initialBegin,i.end=i.begin+i.initialSize),o=0,r=(n=e.dockedItems).length;o<r;++o)l=(s=n[o]).horizontal,d=null,p&&l?(c=t.sizeProp,a=f,d=t):m&&!l&&(c=i.sizeProp,a=g,d=i),d&&(a-=s.getMarginInfo()[c])!==s.props[c]&&s.invalidate({before:u,after:h,axis:d,ownerContext:e,layout:this})},finishPositions:function(e,t,i){for(var n,r=e.dockedItems,o=r.length,s=t.delta,a=i.delta,l=0;l<o;++l)(n=r[l]).setProp("x",s+n.dockedAt.x),n.setProp("y",a+n.dockedAt.y)},finishedLayout:function(e){var t=e.target;this.callParent(arguments),e.animatePolicy||(1===e.isCollapsingOrExpanding?t.afterCollapse(!1):2===e.isCollapsingOrExpanding&&t.afterExpand(!1))},getAnimatePolicy:function(e){var t,i;return 1===e.isCollapsingOrExpanding?t=this.lastCollapsedState:2===e.isCollapsingOrExpanding&&(t=e.lastCollapsedState),"left"===t||"right"===t?i=this.horizontalCollapsePolicy:"top"!==t&&"bottom"!==t||(i=this.verticalCollapsePolicy),i},getDockedItems:function(r,e){var o,t,i,n,s,a=this,l="visual"===r,d=l?Ext.ComponentQuery.query("[rendered]",a.owner.dockedItems.items):a.owner.dockedItems.items,c=d&&d.length&&!1!==r;if(null==e)t=c&&!l?d.slice():d;else{for(t=[],i=0,s=d.length;i<s;++i)n="top"===(n=d[i].dock)||"left"===n,(e?n:!n)&&t.push(d[i]);c=c&&t.length}return c&&(o="render"===(r=r||"render"),Ext.Array.sort(t,function(e,t){var i,n;return!o||(i=a.owner.dockOrder[e.dock])===(n=a.owner.dockOrder[t.dock])||i+n?(i=a.getItemWeight(e,r),n=a.getItemWeight(t,r),void 0!==i&&void 0!==n?i-n:0):i-n})),t||[]},getItemWeight:function(e,t){e=e.weight||this.owner.defaultDockWeights[e.dock];return e[t]||e},getLayoutItems:function(){var e,t,i,n,r;if(this.owner.collapsed)r=this.owner.getCollapsedDockedItems();else for(t=(e=this.getDockedItems("visual")).length,r=[],n=0;n<t;n++)(i=e[n]).hidden||r.push(i);return r},measureContentWidth:function(e){e=e.bodyContext;return e.el.getWidth()-e.getBorderInfo().width},measureContentHeight:function(e){e=e.bodyContext;return e.el.getHeight()-e.getBorderInfo().height},redoLayout:function(e){var t=this.owner;1===e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.show(),t.addClsWithUI(t.collapsedCls),e.redo(!0)):2===e.isCollapsingOrExpanding&&(t.removeClsWithUI(t.collapsedCls),e.bodyContext.redo())},getRenderTarget:function(){return this.owner.bodyWrap},renderChildren:function(){var e=this.getDockedItems(),t=this.getRenderTarget();this.handleItemBorders(),this.renderItems(e,t)},renderItems:function(e,t){var i,n,r,o,s,a,l,d,c,u,h,f,g,p,m=this.owner,x={},E=e.length,y=m.body.dom,v=m.bodyWrap.dom,b=!!m.frameSize,C=m.bodyContainer;if(E){for(f=0;f<E;f++)(x[(o=e[f]).id]=o).dockToEl&&(r=!0);for(n=(i=this.getRenderTarget().dom.childNodes).length,f=l=0;f<n;++f){if(a=(s=i[f])===y){d=f;break}x[s.id]&&++l}if(a||Ext.log.error("Dock layout error for "+m.id+": bodyEl not found!"),d-=l,r){for(a=!1,l=0,n=(i=m.el.dom.childNodes).length,f=0;f<n;f++){if(s=i[f],b?!(a=s===v||s===C)&&Ext.fly(s).contains(v)&&(a=!0,m.bodyContainer=s):a=s===v,a){u=f;break}x[s.id]&&++l}a||Ext.log.error("Dock layout error for "+m.id+": bodyWrapEl not found!"),u-=l}for(f=c=h=0;f<E;f++)(o=e[f]).dockToEl?(p=m.el,g=u+h++,"right"===o.dock||"bottom"===o.dock?(g++,b&&g++):b&&0<g&&g--):(p=t,g=d+c++,"right"!==o.dock&&"bottom"!==o.dock||g++),o.rendered?this.isValidParent(o,p,g)||this.moveItem(o,p,g):this.renderItem(o,p,g)}},undoLayout:function(e){var t=this.owner;1===e.isCollapsingOrExpanding?(t.reExpander&&t.reExpander.el.hide(),t.removeClsWithUI(t.collapsedCls),e.undo(!0)):2===e.isCollapsingOrExpanding&&(t.addClsWithUI(t.collapsedCls),e.bodyContext.undo())},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(e,t){var i=this.sizePolicy,n=this.owner.shrinkWrapDock;return!1===e.stretch?i.nostretch:(n=!0===n?3:n||0,(e="left"===(e=e.dock)||"right"===e)?(i=i.vert,n&=1):(i=i.horz,n&=2),n&&(t=t||this.owner.getSizeModel())[e?"height":"width"].shrinkWrap?i.shrinkWrap:i.stretch)},configureItem:function(e,t){this.callParent(arguments),e.addCls(this._itemCls),e.ignoreBorderManagement||e.addClsWithUI(this.getDockCls(e.dock))},getDockCls:function(e){return"docked-"+e},afterRemove:function(e){var t;this.callParent(arguments),e.removeCls(this._itemCls),e.ignoreBorderManagement||e.removeClsWithUI(this.getDockCls(e.dock)),t=e.el.dom,!e.destroying&&t&&t.parentNode.removeChild(t),this.childrenChanged=!0},borderCollapseMap:{},getBorderCollapseTable:function(){var e=this.borderCollapseMap,t=this.owner,i=t.baseCls,n=t.ui,t=(e=e[i]||(e[i]={}))[n];return t||(i+="-"+n+"-outer-border-",e[n]=t=[0,i+"l",i+"b",i+"bl",i+"r",i+"rl",i+"rb",i+"rbl",i+"t",i+"tl",i+"tb",i+"tbl",i+"tr",i+"trl",i+"trb",i+"trbl"]),t}}),Ext.define("Ext.rtl.layout.component.Dock",{override:"Ext.layout.component.Dock",rtlPositions:{top:"top",right:"left",bottom:"bottom",left:"right"},getDockCls:function(e){return"docked-"+(this.owner.getInherited().rtl?this.rtlPositions[e]:e)},getBorderClassTable:function(){return this.borderTablesInited||this.initBorderTables(),this.owner.getInherited().rtl?this.noBorderClassTableRtl:this.noBorderClassTableLtr},getBorderCollapseTable:function(){var e=this.callParent();return e.rtl||this.setupBorderTable(e,e.rtl=[]),this.owner.getInherited().rtl?e.rtl:e},initBorderTables:function(){var e=Ext.layout.component.Dock.prototype,t=e.noBorderClassTable,i=[];e.setupBorderTable(t,i),e.noBorderClassTableLtr=t,e.noBorderClassTableRtl=i,e.borderTablesInited=!0},setupBorderTable:function(e,t){t[0]=e[0],t[1]=e[4],t[2]=e[2],t[3]=e[6],t[4]=e[1],t[5]=e[5],t[6]=e[3],t[7]=e[7],t[8]=e[8],t[9]=e[12],t[10]=e[10],t[11]=e[14],t[12]=e[9],t[13]=e[13],t[14]=e[11],t[15]=e[15]}}),Ext.define("Ext.util.Memento",function(){function n(e,t,i,n){e[n?n+i:i]=t[i]}function t(e,t,i){delete e[i]}function r(e,t,i,n){var r=n?n+i:i,n=e[r];(n||e.hasOwnProperty(r))&&o(t,i,n)}function o(e,t,i){Ext.isDefined(i)?e[t]=i:delete e[t]}function s(e,t,i,n,r){if(t)if(Ext.isArray(n))for(var o=n.length,s=0;s<o;s++)e(t,i,n[s],r);else e(t,i,n,r)}return{data:null,target:null,constructor:function(e,t){this.data={},e&&(this.target=e,t&&this.capture(t))},capture:function(e,t,i){s(n,this.data||(this.data={}),t||this.target,e,i)},remove:function(e){s(t,this.data,null,e)},restore:function(e,t,i,n){s(r,this.data,i||this.target,e,n),!1!==t&&this.remove(e)},restoreAll:function(e,t){var i,n=t||this.target,r=this.data;for(i in e=!1!==e,r)r.hasOwnProperty(i)&&(o(n,i,r[i]),e&&delete r[i])}}}()),Ext.define("Ext.container.DockingContainer",{requires:["Ext.util.MixedCollection","Ext.Element"],isDockingContainer:!0,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(e,t){var i,n,r,o=this,s=o.rendered,a=0,l=o.dockedItems,d=l.getCount(),c=(e=o.prepareItems(e)).length;for(s&&Ext.suspendLayouts(),t=void 0===t?d:Math.min(t,d);a<c;a++)(r=e[a]).dock=r.dock||"top","left"!==r.dock&&"right"!==r.dock||o.horizontalDocks++,i=t+a,l.insert(i,r),n=!!r.instancedCmp,delete r.instancedCmp,r.onAdded(o,i,n),delete r.$initParent,o.onDockedAdd!==Ext.emptyFn&&o.onDockedAdd(r),o.hasListeners.dockedadd&&o.fireEvent("dockedadd",o,r,i);return o.rendered&&(o.updateLayout(),Ext.resumeLayouts(!0)),e},destroyDockedItems:function(){var e,t=this.dockedItems;if(t)for(;e=t.first();)this.removeDocked(e,!0)},doRenderDockedItems:function(e,t,i){var n,r=t.$comp,t=r.componentLayout;r.tabGuard&&r.lookupTpl("tabGuardTpl");t.getDockedItems&&(n=(n=t.getDockedItems("render",!i))&&t.getItemsRenderTree(n))&&Ext.DomHelper.generateMarkup(n,e)},getDockedComponent:function(e){return Ext.isObject(e)&&(e=e.getItemId()),this.dockedItems.get(e)},getDockedItems:function(e,t){t=this.getComponentLayout().getDockedItems("render",t);return e&&t.length&&(t=Ext.ComponentQuery.query(e,t)),t},getDockingRefItems:function(e,t){var i=e&&"*,* *",e=this.getDockedItems(i,!0);return e.push.apply(e,t),i=this.getDockedItems(i,!1),e.push.apply(e,i),e},initDockingItems:function(){var e=this.dockedItems;e&&e.isMixedCollection||(this.dockedItems=new Ext.util.ItemCollection,e&&this.addDocked(e))},insertDocked:function(e,t){this.addDocked(t,e)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,t){var i,n,r=this;return t=!0===t||!1!==t&&r.autoDestroy,r.dockedItems.contains(e)&&("left"!==e.dock&&"right"!==e.dock||r.horizontalDocks--,(n=(i=r.componentLayout)&&r.rendered)&&i.onRemove(e),r.dockedItems.remove(e),e.onRemoved(e.destroying||t),r.onDockedRemove(e),t?e.destroy():n&&i.afterRemove(e),r.hasListeners.dockedremove&&r.fireEvent("dockedremove",r,e),r.destroying||r.updateLayout()),e},moveDocked:function(e,t){this.rendered&&Ext.suspendLayouts(),this.removeDocked(e,!1),e.dock=t,this.addDocked(e),this.rendered&&(e.frame&&(Ext.getDetachedBody().appendChild(e.el),e.updateFrame()),Ext.resumeLayouts(!0))},setupDockingRenderTpl:function(e){e.renderDockedItems=this.doRenderDockedItems}}),Ext.define("Ext.panel.Panel",{extend:"Ext.container.Container",alias:"widget.panel",alternateClassName:"Ext.Panel",requires:["Ext.panel.Header","Ext.util.MixedCollection","Ext.toolbar.Toolbar","Ext.fx.Anim","Ext.panel.DD","Ext.XTemplate","Ext.layout.component.Dock","Ext.util.Memento"],mixins:{docking:"Ext.container.DockingContainer"},childEls:["bodyWrap","body"],renderTpl:['<tpl if="headingText">','<div id="{id}-headingEl" data-ref="headingEl" role="heading"',' class="',Ext.baseCSSPrefix,'hidden-clip" style="height:0">',"{headingText}","</div>","</tpl>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'before'); %}</tpl>",'<div id="{id}-bodyWrap" data-ref="bodyWrap" class="{baseCls}-bodyWrap"','<tpl if="bodyWrapAriaAttributes">','<tpl foreach="bodyWrapAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyAriaAttributes">','<tpl foreach="bodyAriaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",'<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}","</div>","<tpl if=\"hasTabGuard\">{% this.renderTabGuard(out, values, 'after'); %}</tpl>"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:!0,closable:!1,closeAction:"destroy",closeToolText:"Close panel",collapsed:!1,collapsedCls:"collapsed",collapseFirst:!0,collapsible:void 0,collapseToolText:"Collapse panel",expandToolText:"Expand panel",constrain:!1,constrainHeader:!1,dockedItems:null,tbar:null,bbar:null,fbar:null,lbar:null,rbar:null,buttons:null,floatable:!0,frame:!1,frameHeader:!0,hideCollapseTool:!1,manageHeight:!0,maskElement:"el",minButtonWidth:75,preventHeader:!1,shrinkWrapDock:!1,titleCollapse:void 0,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:!0,defaultBindProperty:"title",addBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).addCls(e),this},addTool:function(e){Ext.isArray(e)||(e=[e]);var t,i,n=this.header,r=e.length,o=this.tools;for(n&&n.isHeader||(n=null,o||(this.tools=o=[])),t=0;t<r;t++)(i=e[t]).toolOwner=this,n?n.addTool(i):o.push(i);this.updateHeader()},addTools:Ext.emptyFn,getClosable:function(){return this.closable},setClosable:function(e){var t=this.tab;e=!!e,this.closable!==e&&(this.closable=e,t&&t.setClosable(e))},setCollapsible:function(e){var t=this.collapsible,i=this.collapseTool;(this.collapsible=e)&&!t?(this.updateCollapseTool(),(i=this.collapseTool)&&i.show()):!e&&t&&i&&i.hide()},addUIClsToElement:function(e){var t=this.callParent(arguments);return this.addBodyCls([Ext.baseCSSPrefix+e,this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e]),t},afterCollapse:function(e){var t=this.ownerLayout;this.isCollapsingOrExpanding=0,this.updateCollapseTool(),e&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),t&&t.afterCollapse(this,e),this.setHiddenDocked(),this.fireEvent("collapse",this)},afterExpand:function(e){var t=this.ownerLayout;this.isCollapsingOrExpanding=0,this.updateCollapseTool(),e&&this.removeCls(Ext.baseCSSPrefix+"animating-size"),t&&t.afterExpand(this,e),this.fireEvent("expand",this),this.fireHierarchyEvent("expand")},doDestroy:function(){Ext.destroy(this.placeholder,this.ghostPanel,this.dd,this.accordionHeaderKeyNav,this.accordionBodyKeyNav,this.defaultButtonKeyNav),this.destroyDockedItems(),this.callParent()},beforeRender:function(){var e,t=this;t.getProtoBody(),t.callParent(),t.initTools(),(!t.preventHeader&&!1!==t.header||t.isViewportBorderChild)&&t.updateHeader(),t.afterHeaderInit=!0,t.collapsed&&(t.isPlaceHolderCollapse()?t.hidden||(t.setHiddenState(!0),t.preventCollapseFire=!0,t.placeholderCollapse(),delete t.preventCollapseFire,e=t.collapsed,t.collapsed=!1):(t.beginCollapse(),t.addClsWithUI(t.collapsedCls))),e&&(t.collapsed=e)},getMemento:function(e){if(e&&"string"==typeof e)return this[e+="Memento"]||(this[e]=new Ext.util.Memento(this))},beginCollapse:function(){var e=this,t=e.lastBox,i=e.rendered,n=e.getMemento("collapse"),r=e.getSizeModel(),o=e.header;n.capture(["height","minHeight","width","minWidth"]),t&&n.capture(e.restoreDimension(),t,"last."),e.collapsedVertical()?(r.width.shrinkWrap&&(e.width=i?e.getWidth():e.width||e.minWidth||100),delete e.height,e.minHeight=0):e.collapsedHorizontal()&&(r.height.shrinkWrap&&(e.height=i?e.getHeight():e.height||e.minHeight||100),delete e.width,e.minWidth=0),e.ownerCt&&e.ownerCt.getLayout().beginCollapse(e),e.isPlaceHolderCollapse()||!1===o||(o===(i=e.getReExpander())?(o.collapseImmune=!0,o.getInherited().collapseImmune=!0,o.addClsWithUI(e.getHeaderCollapsedClasses(o)),o.rendered&&o.updateFrame()):i.el&&(i.el.show(),i.hidden=!1)),e.resizer&&e.resizer.disable(),e.rendered&&(e.ariaEl.dom.setAttribute("aria-expanded",!1),e.isAccordionPanel&&e.body.dom.setAttribute("aria-hidden",!0))},beginDrag:function(){this.floatingDescendants&&this.floatingDescendants.hide()},beginExpand:function(){var e=this,t=e.lastBox,i=e.getMemento("collapse"),n=e.restoreDimension(),r=e.header;i&&(i.restore(["minHeight","minWidth",n]),t&&i.restore(n,!0,t,"last.")),e.ownerCt&&e.ownerCt.getLayout().beginExpand(e),e.isPlaceHolderCollapse()||!1===r||(r===(t=e.getReExpander())?(delete r.collapseImmune,delete r.getInherited().collapseImmune,r.removeClsWithUI(e.getHeaderCollapsedClasses(r)),r.rendered&&(r.expanding=!0,r.updateFrame(),delete r.expanding)):(t.hidden=!0,t.el.hide())),e.resizer&&e.resizer.enable(),e.rendered&&(e.ariaEl.dom.setAttribute("aria-expanded",!0),e.isAccordionPanel&&e.body.dom.setAttribute("aria-hidden",!1))},bridgeToolbars:function(){var n,e,r=this,t=[],o=r.minButtonWidth;function i(e,t,i,n){return Ext.isArray(e)?e={xtype:"toolbar",items:e}:e.isComponent||(e=Ext.apply({},e)),e.xtype||(e.xtype="toolbar"),e.dock=t,n&&(e.enableFocusableContainer=!1),i&&(e.layout=Ext.applyIf(e.layout||{},{pack:{left:"start",center:"center"}[r.buttonAlign]||"end"})),e}r.tbar&&(t.push(i(r.tbar,"top")),r.tbar=null),r.bbar&&(t.push(i(r.bbar,"bottom")),r.bbar=null),r.buttons&&(r.fbar=r.buttons,e=!(r.buttons=null)),r.fbar&&((e=i(r.fbar,"bottom",!0,e)).ui="footer",o&&(n=e.defaults,e.defaults=function(e){var t=n||{},i=!e.xtype||e.isButton;return i||(e=Ext.ClassManager.getByAlias("widget."+e.xtype))&&(i=e.prototype.isButton),!i||"minWidth"in t||(t=Ext.apply({minWidth:o},t)),t}),t.push(e),r.fbar=null),r.lbar&&(t.push(i(r.lbar,"left")),r.lbar=null),r.rbar&&(t.push(i(r.rbar,"right")),r.rbar=null),r.dockedItems?r.dockedItems.isMixedCollection?r.addDocked(t):(Ext.isArray(r.dockedItems)||(r.dockedItems=[r.dockedItems]),r.dockedItems=r.dockedItems.concat(t)):r.dockedItems=t},close:function(){!1!==this.fireEvent("beforeclose",this)&&this.doClose()},collapse:function(e,t){var i=this,n=e||i.collapseDirection,r=i.ownerCt,o=i.ownerLayout,s=i.rendered;return i.isCollapsingOrExpanding?i:(arguments.length<2&&(t=i.animCollapse),i.collapsed||!1===i.fireEvent("beforecollapse",i,e,t)||o&&o.onBeforeComponentCollapse&&!1===o.onBeforeComponentCollapse(i)?i:s&&r&&i.isPlaceHolderCollapse()?i.placeholderCollapse(e,t):(i.collapsed=n,s&&i.beginCollapse(),i.getInherited().collapsed=!0,i.fireHierarchyEvent("collapse"),s&&i.doCollapseExpand(1,t),i))},collapsedHorizontal:function(){var e=this.getCollapsed();return"left"===e||"right"===e},collapsedVertical:function(){var e=this.getCollapsed();return"top"===e||"bottom"===e},convertCollapseDir:function(e){return e.substr(0,1)},createGhost:function(e){var t=this,i=t.header,n=t.frame&&!t.alwaysFramed;return{xtype:"panel",hidden:!1,header:i?{titleAlign:i.getTitleAlign()}:null,ui:n?t.ui.replace(/-framed$/,""):t.ui,id:t.id+"-ghost",renderTo:Ext.getBody(),resizable:!1,draggable:!1,closable:!1,focusable:!1,floating:!0,alignOnScroll:!1,shadow:!1,frame:n,shim:t.shim,alwaysFramed:t.alwaysFramed,overlapHeader:t.overlapHeader,headerPosition:t.getHeaderPosition(),titleRotation:t.getTitleRotation(),baseCls:t.baseCls,getRefOwner:function(){return t.getRefOwner()},cls:t.baseCls+"-ghost "+(e||"")}},createReExpander:function(e,t){var i=this,n="left"===e,r="right"===e,o=n||r,s=i.ownerCt,a=i.header,t=Ext.apply({hideMode:"offsets",title:i.getTitle(),titleAlign:i.getTitleAlign(),vertical:o,textCls:i.headerTextCls,icon:i.getIcon(),iconCls:i.getIconCls(),iconAlign:i.getIconAlign(),glyph:i.getGlyph(),baseCls:i.self.prototype.baseCls+"-header",ui:i.ui,frame:i.frame&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,ignoreBorderManagement:i.frame||i.ignoreHeaderBorderManagement,indicateDrag:i.draggable,collapseImmune:!0,ariaRole:i.ariaRole,preventRefocus:!0,ownerCt:s&&"placeholder"===i.collapseMode?s:i,ownerLayout:i.componentLayout,forceOrientation:!0,margin:i.margin,defaultFocus:"tool[isDefaultExpandTool]"},t);return"mini"===i.collapseMode&&(o?t.width=1:t.height=1),a&&Ext.apply(t,{enableFocusableContainer:a.enableFocusableContainer,activeChildTabIndex:a.activeChildTabIndex,inactiveChildTabIndex:a.inactiveChildTabIndex,allowFocusingDisabledChildren:a.allowFocusingDisabledChildren}),i.hideCollapseTool||((n||r&&i.isPlaceHolderCollapse())&&(t.titlePosition=1),t.tools=[{xtype:"tool",type:"expand-"+i.getOppositeDirection(e),isDefaultExpandTool:!0,uiCls:["top"],handler:i.toggleCollapse,scope:i,tooltip:i.expandToolText}]),(t=new Ext.panel.Header(t)).addClsWithUI(i.getHeaderCollapsedClasses(t)),t.expandTool=t.down("tool[isDefaultExpandTool=true]"),t},doClose:function(){this.fireEvent("close",this),this[this.closeAction]()},doCollapseExpand:function(e,t){var i=this.animCollapse,n=this.ownerLayout;return this.animCollapse=t,this.isCollapsingOrExpanding=e,t&&this.addCls(Ext.baseCSSPrefix+"animating-size"),n&&!t?n.onContentChange(this):this.updateLayout({isRoot:!0}),this.animCollapse=i,this},endDrag:function(){this.floatingDescendants&&this.floatingDescendants.show()},expand:function(e){var t=this,i=t.ownerLayout,n=t.rendered;return t.isCollapsingOrExpanding?t:(arguments.length||(e=t.animCollapse),!t.collapsed&&!t.floatedFromCollapse||!1===t.fireEvent("beforeexpand",t,e)||i&&i.onBeforeComponentExpand&&!1===i.onBeforeComponentExpand(t)?t:(delete t.getInherited().collapsed,n&&t.isPlaceHolderCollapse()?t.placeholderExpand(e):(t.restoreHiddenDocked(),n&&t.beginExpand(),t.collapsed=!1,t.rendered&&t.doCollapseExpand(2,e),t)))},findReExpander:function(e){var t,i,n=Ext.Component,r=this.dockedItems.items,o=r.length;if("mini"!==this.collapseMode)switch(e){case n.DIRECTION_TOP:case n.DIRECTION_BOTTOM:for(i=0;i<o;i++)if(t=r[i],!t.hidden&&t.isHeader&&(!t.dock||"top"===t.dock||"bottom"===t.dock))return t;break;case n.DIRECTION_LEFT:case n.DIRECTION_RIGHT:for(i=0;i<o;i++)if(t=r[i],!t.hidden&&t.isHeader&&("left"===t.dock||"right"===t.dock))return t;break;default:throw"Panel#findReExpander must be passed a valid collapseDirection"}},floatCollapsedPanel:function(){var e,t=this,i=t.placeholder,n=t.splitter,r=Ext.util.Region.from(i.getBox(!1,!0)),o=Ext.panel.Panel.floatCls,s=t.collapsed,a=t.ownerCt||t,l={mouseleave:t.onMouseLeaveFloated,mouseenter:t.onMouseEnterFloated,scope:t,destroyable:!0};if(!t.isSliding)if(t.el.hasCls(o))t.slideOutFloatedPanel();else if(t.isSliding=!0,i.el.hide(),i.hidden=!0,t.el.show(),t.setHiddenState(!1),t.collapsed=!1,a.updateLayout(),i.el.show(),i.hidden=!1,t.el.hide(),t.setHiddenState(!0),t.collapsed=s,a.updateLayout(),e=t.getBox(!1,!0),!1!==t.fireEvent("beginfloat",t)){switch(t.slideOutTask=t.slideOutTask||new Ext.util.DelayedTask(t.slideOutFloatedPanel,t),t.pointerLeaveListener=Ext.getDoc().on({mousedown:t.onFloatedPointerEvent,mousemove:t.onFloatedPointerEvent,scope:t,destroyable:!0}),t.placeholderListener||(t.placeholderListener=i.on({resize:t.onPlaceholderResize,scope:t,destroyable:!0})),t.phHoverListeners=i.el.on(l),t.elHoverListeners=t.el.on(l),t.el.addCls(o),t.floated=s,t.collapseTool&&t.collapseTool.el.hide(),n&&(r=r.union(n.getBox(!1,!0))),t.collapsed){case"top":t.width=r.width,t.setLocalXY(e.x,e.y+r.height);break;case"right":t.height=r.height,t.setLocalXY(e.x-r.width,e.y);break;case"bottom":t.width=r.width,t.setLocalXY(e.x,e.y-r.height);break;case"left":t.height=r.height,t.setLocalXY(e.x+r.width,e.y)}n=t.convertCollapseDir(t.collapsed),t.floatedFromCollapse=t.collapsed,t.collapsed=!1,t.setHiddenState(!1),t.el.slideIn(n,{preserveScroll:!0,duration:Ext.Number.from(t.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){t.isSliding=!1,t.fireEvent("endfloat",t),t.fireEvent("float",t)}}})}},onFloatedPointerEvent:function(e){this.owns(e)||this.placeholder.owns(e)||this.splitter&&this.splitter.owns(e)||this.floatCollapsedPanel&&this.el.getRegion().contains(e.getPoint())?this.slideOutTask.cancel():this.slideOutTask.delay(500)},onMouseEnterFloated:function(e){this.slideOutTask.cancel()},onMouseLeaveFloated:function(e){e=e.getRelatedTarget();e&&(this.owns(e)||this.placeholder.owns(e))||this.slideOutTask.delay(500)},onPlaceholderResize:function(e,t,i){var n=this,r=n.splitter,o=n.getBox(!1,!0),s=Ext.util.Region.from(e.getBox(!1,!0));switch(r&&(s=s.union(r.getBox(!1,!0))),n.floated){case"top":n.width=t,n.setLocalY(s.y+s.height);break;case"right":n.height=i,n.setLocalX(s.x-o.width);break;case"bottom":n.width=t,n.setLocalY(s.y-o.height);break;case"left":n.height=i,n.setLocalX(s.x+s.width)}n.updateLayout({isRoot:!0})},getAnimationProps:function(){var e=this.callParent();return"number"==typeof this.animCollapseDuration?e.duration=this.animCollapseDuration:"number"==typeof this.animCollapse&&(e.duration=this.animCollapse),e},getCollapsed:function(){return!0===this.collapsed?this.collapseDirection:this.collapsed},getCollapsedDockedItems:function(){return!1===this.header||"placeholder"===this.collapseMode?this.emptyArray:[this.getReExpander()]},getComponent:function(e){var t=this.callParent(arguments);return void 0!==t||Ext.isNumber(e)||(t=this.getDockedComponent(e)),t},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(e){var t=this.collapsedCls,i=[t,t+"-"+e.getDockName()];return this.border&&(!this.frame||this.frame&&Ext.supports.CSS3BorderRadius)&&i.push(t+"-border-"+e.getDockName()),i},getOppositeDirection:function(e){var t=Ext.Component;switch(e){case t.DIRECTION_TOP:return t.DIRECTION_BOTTOM;case t.DIRECTION_RIGHT:return t.DIRECTION_LEFT;case t.DIRECTION_BOTTOM:return t.DIRECTION_TOP;case t.DIRECTION_LEFT:return t.DIRECTION_RIGHT}},getPlaceholder:function(e){var i=this,t=e||i.collapseDirection,e=null,n=i.placeholder,r=i.floatable,o=i.titleCollapse;return n||((r||i.collapsible&&o)&&(e={click:{fn:function(e,t){n.expandTool.el.dom.contains(t)||i[!o&&r?"floatCollapsedPanel":"toggleCollapse"]()},element:"el",scope:i}}),i.placeholder=n=Ext.widget(i.createReExpander(t,{id:i.id+"-placeholder",listeners:e}))),n.placeholderFor||(n.isComponent||(i.placeholder=n=i.lookupComponent(n)),Ext.applyIf(n,{margin:i.margin,placeholderFor:i,synthetic:!0}),n.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+t+"-placeholder",i.collapsedCls])),n},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({cls:this.bodyCls,style:this.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:!0})),e},getReExpander:function(e){var t=this,i=e||t.collapseDirection,n=t.reExpander||t.findReExpander(i),r=t.titleCollapse,e=null;return t.expandDirection=t.getOppositeDirection(i),n||(r&&(e={click:{fn:t.toggleCollapse,element:"el",scope:t}}),t.reExpander=n=t.createReExpander(i,{dock:i,cls:Ext.baseCSSPrefix+"docked "+t.baseCls+"-"+t.ui+"-collapsed",isCollapsedExpander:!0,listeners:e}),t.dockedItems.insert(0,n)),n},getRefItems:function(e){var t,i=this.placeholder;return i?(t=[i],e&&i.getRefItems&&t.push.apply(t,i.getRefItems(e))):t=[],t.push.apply(t,this.getDockingRefItems(e,this.callParent([e]))),t},getState:function(){var e=this,t=e.callParent()||{},i=e.collapsed,n=e.floated;return n&&(e.collapsed=n),t=e.addPropertyToState(t,"collapsed"),n&&(e.collapsed=i),e.getCollapsed()&&(n=e.getMemento("collapse").data,t=e.addPropertyToState(t,"collapsed",n),i=e.isPlaceHolderCollapse(),e.collapsedVertical()?i?delete(t=e.addPropertyToState(t,"height")).width:(delete t.height,n&&(t=e.addPropertyToState(t,"height",n.height))):i?delete(t=e.addPropertyToState(t,"width")).height:(delete t.width,n&&(t=e.addPropertyToState(t,"width",n.width)))),t},applyState:function(e){var t,i;e&&((i=e.collapsed)&&(t=this.getMemento("collapse"),Ext.Object.merge(t.data,i),e.collapsed=!0),this.callParent(arguments))},ghost:function(e){var t,i,n,r=this,o=r.el,s=r.ghostPanel,a=r.getBox(),l=r.header;if(s?s.el.show():(r.ghostPanel=s=Ext.widget(r.createGhost(e)),s.el.dom.removeAttribute("tabIndex")),s.setHiddenState(!1),s.floatParent=r.floatParent,l&&!r.preventHeader){for((t=s.header).suspendLayouts(),n=(i=t.query("tool")).length;n--;)t.remove(i[n]);t.setTitlePosition(0),s.addTool(r.ghostTools()),s.setTitle(r.getTitle()),t.setTitlePosition(l.titlePosition),(l=r.getIconCls())?s.setIconCls(l):(l=r.getIcon())?s.setIcon(l):(l=r.getGlyph())&&s.setGlyph(l),t.addCls(Ext.baseCSSPrefix+"header-ghost"),t.resumeLayouts(!0)}return s.setPagePosition(a.x,a.y),s.setSize(a.width,a.height),r.elVisMode=o.getVisibilityMode(),o.setVisibilityMode(Ext.Element.CLIP),o.hide(),s},ghostTools:function(){var e,t,i,n=[],r=this.header,o=r?r.query("tool[hidden=false]"):[];if(o.length)for(e=0,t=o.length;e<t;e++)i=o[e],n.push({type:i.type,tooltip:i.tooltip});else n=[{type:"placeholder"}];return n},initBodyBorder:function(){this.frame&&this.bodyBorder&&(Ext.isNumber(this.bodyBorder)||(this.bodyBorder=1),this.getProtoBody().setStyle("border-width",this.unitizeBox(this.bodyBorder)))},initBodyStyles:function(){var e=this.getProtoBody();void 0!==this.bodyPadding&&(this.layout.managePadding?e.setStyle("padding",0):e.setStyle("padding",this.unitizeBox(!0===this.bodyPadding?5:this.bodyPadding))),this.initBodyBorder()},initBorderProps:function(){this.frame&&this.border&&void 0===this.bodyBorder&&(this.bodyBorder=!1),this.frame&&this.border&&(!1===this.bodyBorder||0===this.bodyBorder)&&(this.manageBodyBorders=!0)},initComponent:function(){var e=this;e.collapsible&&e.addStateEvents(["expand","collapse"]),e.unstyled&&e.setUI("plain"),e.frame&&e.setUI(e.ui+"-framed"),e.bridgeToolbars(),e.initBorderProps(),e.callParent(),e.collapseDirection=e.collapseDirection||e.getHeaderPosition()||Ext.Component.DIRECTION_TOP,"number"==typeof e.animCollapse&&(e.animCollapseDuration=e.animCollapse),e.hiddenOnCollapse=new Ext.dom.CompositeElement},initItems:function(){this.callParent(),this.initDockingItems()},initRenderData:function(){var e=this,t=e.bodyWrapAriaRole,i=e.bodyAriaRole,n=e.callParent();return e.initBodyStyles(),e.protoBody.writeTo(n),delete e.protoBody,e.headingText&&(n.headingText=e.headingText,e.addChildEl("headingEl")),t&&(n.bodyWrapAriaAttributes={role:t},!e.ariaStaticRoles[t]&&e.bodyWrapAriaRenderAttributes&&Ext.apply(n.bodyWrapAriaAttributes,e.bodyWrapAriaRenderAttributes)),i&&(n.bodyAriaAttributes={role:i},!e.ariaStaticRoles[i]&&e.bodyAriaRenderAttributes&&Ext.apply(n.bodyAriaAttributes,e.bodyAriaRenderAttributes)),n},calculateConstrainedPosition:function(e,t,i,n){var r,o=this.header;return this.constrainHeader&&(r=o.lastBox,n?n=o.vertical?[r?r.width:n[0],n[1]]:[n[0],r?r.height:n[1]]:r&&(n=[r.width,r.height]),r=this.floatParent,e=e||this.constrainTo||(r?r.getTargetEl():null)||this.container||this.el.parent()),this.callParent([e,t,i,n])},initTools:function(){var e,t,i,n=this,r=n.tools;for(n.tools=[],e=r&&r.length;e;)--e,n.tools[e]=i=r[e],i.toolOwner=n;!n.collapsible||n.hideCollapseTool||!1===n.header||n.preventHeader||(n.updateCollapseTool(),n.collapseFirst&&n.tools.unshift(n.collapseTool)),n.addTools(),n.pinnable&&n.initPinnable(),n.closable&&(n.addClsWithUI("closable"),t={xtype:"tool",type:"close",scope:n,handler:n.close,tooltip:n.closeToolText},(n.isAccordionPanel||n.disableCloseToolFocus)&&(t.focusable=!1,t.ariaRole="presentation"),n.addTool(t)),n.collapseTool&&!n.collapseFirst&&n.addTool(n.collapseTool)},isLayoutRoot:function(){return!!this.floatedFromCollapse||this.callParent()},isPlaceHolderCollapse:function(){return"placeholder"===this.collapseMode},isVisible:function(e){return this.collapsed&&this.placeholder?this.placeholder.isVisible(e):this.callParent(arguments)},onBoxReady:function(){var e,t=this;t.callParent(arguments),t.collapsed&&t.setHiddenDocked(),t.isAccordionPanel&&(t.ariaEl=t.header.titleCmp.el,t.ariaEl.dom.setAttribute("aria-expanded",!t.collapsed),t.ariaEl.dom.setAttribute("aria-controls",t.body.id),t.body.dom.setAttribute("aria-labelledby",t.header.titleCmp.id),t.body.dom.setAttribute("aria-hidden",!!t.collapsed),t.accordionHeaderKeyNav=new Ext.util.KeyNav({target:t.header.titleCmp.el,scope:t,left:t.navigateAccordionHeader,right:t.navigateAccordionHeader,up:t.navigateAccordionHeader,down:t.navigateAccordionHeader,home:t.navigateAccordionHeader,end:t.navigateAccordionHeader,space:t.toggleCollapse,enter:t.toggleCollapse,del:{alt:!0,fn:t.maybeClose}}),t.accordionBodyKeyNav=new Ext.util.KeyNav({target:t.body,scope:t,up:{ctrl:!0,fn:t.navigateAccordionBody}})),t.defaultButton&&(e=t.defaultButtonTarget?t[t.defaultButtonTarget]:t.body,t.defaultButtonKeyNav=new Ext.util.KeyNav({target:e,scope:t,defaultEventAction:"stopEvent",enter:t.fireDefaultButton}))},onHide:function(e,t,i){var n=this,r=n.dd;n.floatedFromCollapse&&n.slideOutFloatedPanel(!0),n.draggable&&r&&r.endDrag(),n.collapsed&&n.placeholder?(n.splitter&&(Ext.suspendLayouts(),n.splitter.hide(),Ext.resumeLayouts()),n.placeholder.hide()):n.callParent([e,t,i])},onRemoved:function(e){this.placeholder&&!e&&this.ownerCt.remove(this.placeholder,!1),this.callParent(arguments)},onShow:function(){this.collapsed&&this.isPlaceHolderCollapse()?(this.splitter&&(Ext.suspendLayouts(),this.splitter.show(),Ext.resumeLayouts()),this.setHiddenState(!0),this.placeholderCollapse()):this.callParent(arguments)},placeholderCollapse:function(e,t){var i,n=this,r=n.ownerCt,o=e||n.collapseDirection,s=Ext.panel.Panel.floatCls,a=n.collapseTool,e=n.getPlaceholder(o);return(Ext.Component.layoutSuspendCount||n.isLayoutSuspended())&&(t=!1),n.fireEvent("beginfloat",n),n.isCollapsingOrExpanding=1,n.setHiddenState(!0),n.collapsed=o,e.rendered?(e.el.dom.parentNode!==n.el.dom.parentNode&&n.el.dom.parentNode.insertBefore(e.el.dom,n.el.dom),e.hidden=!1,e.setHiddenState(!1),e.el.show(),r.updateLayout()):r.insert(r.items.indexOf(n),e),n.rendered?(n.focusPlaceholderExpandTool=n.focusPlaceHolder=!1,a&&Ext.ComponentManager.getActiveComponent()===a?n.focusPlaceholderExpandTool=!0:n.containsFocus&&(n.focusPlaceHolder=!0),n.el.setVisibilityMode(n.placeholderCollapseHideMode),t?(n.el.addCls(s),e.el.hide(),i=n.convertCollapseDir(o),n.el.slideOut(i,{preserveScroll:!0,duration:Ext.Number.from(t,Ext.fx.Anim.prototype.duration),listeners:{scope:n,afteranimate:function(){var e=this.placeholder.el;this.el.removeCls(s),e.show(),this.ownerCt?(e.setStyle("display","none"),e.slideIn(i,{easing:"linear",duration:100,listeners:{afteranimate:this.doPlaceholderCollapse,scope:this}})):this.doPlaceholderCollapse()}}})):(n.el.hide(),n.doPlaceholderCollapse())):(n.isCollapsingOrExpanding=0,n.preventCollapseFire||n.fireEvent("collapse",n)),n},doPlaceholderCollapse:function(){var e,t=this,i=t.placeholder,n=i.expandTool;t.focusPlaceholderExpandTool&&n?n.focus():t.focusPlaceHolder&&i.focus(),t.focusPlaceholderExpandTool=!1,i.setHiddenState(!1),i.rendered&&((e=i.ariaEl.dom).setAttribute("aria-hidden",!1),e.setAttribute("aria-expanded",!1)),(e=t.ariaEl.dom).setAttribute("aria-hidden",!0),e.setAttribute("aria-expanded",!1),t.isCollapsingOrExpanding=0,t.fireEvent("collapse",t),t.fireEvent("endfloat",t)},placeholderExpand:function(e){var t,i=this,n=i.collapsed,r=i.placeholder.expandTool,o=Ext.panel.Panel.floatCls,s=i.ownerLayout?i.ownerLayout.centerRegion:null;return Ext.Component.layoutSuspendCount&&(e=!1),i.floatedFromCollapse&&(t=i.getPosition(!0),i.slideOutFloatedPanelBegin(),i.slideOutFloatedPanelEnd(),i.floated=!1),r&&Ext.ComponentManager.getActiveComponent()===r&&(i.focusHeaderCollapseTool=!0,r._ariaRole=r.ariaEl.dom.getAttribute("role"),r._ariaLabel=r.ariaEl.dom.getAttribute("aria-label"),r.ariaEl.dom.setAttribute("role","presentation"),r.ariaEl.dom.removeAttribute("aria-label")),e?(Ext.suspendLayouts(),i.placeholder.hide(),i.el.show(),i.collapsed=!1,i.setHiddenState(!1),s&&!t&&(s.hidden=!0),Ext.resumeLayouts(!0),s.hidden=!1,i.floatedFromCollapse||i.fireEvent("beginfloat",i),i.el.addCls(o),i.isCollapsingOrExpanding=2,t?(s=i.getXY(),i.setLocalXY(t[0],t[1]),i.setXY([s[0],s[1]],{duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{scope:i,afteranimate:function(){this.el.removeCls(o),this.isCollapsingOrExpanding=0,this.fireEvent("expand",this),this.fireEvent("endfloat",this)}}})):(i.el.hide(),i.placeholder.el.show(),i.placeholder.hidden=!1,i.setHiddenState(!1),i.el.slideIn(i.convertCollapseDir(n),{preserveScroll:!0,duration:Ext.Number.from(e,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:i.doPlaceholderExpand,scope:i}}))):(i.floated=i.collapsed=!1,i.doPlaceholderExpand(!0)),i},doPlaceholderExpand:function(e){e=!0===e;var t=this,i=t.placeholder,n=t.collapseTool,r=i.expandTool;e&&(Ext.suspendLayouts(),t.show()),t.el.removeCls(Ext.panel.Panel.floatCls),i.hide(),e?Ext.resumeLayouts(!0):t.updateLayout(),t.focusHeaderCollapseTool&&n&&n.focus(),t.focusHeaderCollapseTool=!1,i.ariaEl.dom.setAttribute("aria-expanded",!0),t.ariaEl.dom.setAttribute("aria-expanded",!0),r&&r._ariaRole&&(r.ariaEl.dom.setAttribute("role",r._ariaRole),r.ariaEl.dom.setAttribute("aria-label",r._ariaLabel),r._ariaRole=r._ariaLabel=null),t.isCollapsingOrExpanding=0,t.fireEvent("expand",t),t.fireEvent("endfloat",t)},remove:function(e,t){var i=this.dockedItems;return i&&i.contains(e)?this.removeDocked(e,t):this.callParent([e,t]),e},removeBodyCls:function(e){return(this.rendered?this.body:this.getProtoBody()).removeCls(e),this},removeUIClsFromElement:function(e){var t=this.callParent(arguments);return this.removeBodyCls([Ext.baseCSSPrefix+e,this.baseCls+"-body-"+e,this.baseCls+"-body-"+this.ui+"-"+e]),t},restoreDimension:function(){var e=this.collapseDirection;return"top"===e||"bottom"===e?"height":"width"},restoreHiddenDocked:function(){this.setDockedItemsVisibility(this.hiddenOnCollapse,!0)},setBodyStyle:function(e,t){var i=this.rendered?this.body:this.getProtoBody();return Ext.isFunction(e)&&(e=e()),1===arguments.length?(Ext.isString(e)&&(e=Ext.Element.parseStyles(e)),i.setStyle(e)):i.setStyle(e,t),this},setBorder:function(e,t){t||(t=this.header,e=e?!0===e?"1px":this.unitizeBox(e):0,t&&(t.isHeader?t.setBorder(e):t.border=e),this.rendered&&!1!==this.bodyBorder&&this.body.setStyle("border-width",e),this.updateLayout(),this.border=e)},setCollapsed:function(e){this[e?"collapse":"expand"]()},setDockedItemsVisibility:function(e,t){var i,n,r=this.getDockedItems(),o=r.length,s=0;for(!1!==this.header&&(n=this.getReExpander());s<o;s++)(i=r[s])&&i!==n&&i.el&&e.add(i.el);e.setStyle("visibility",t?"":"hidden"),e.clear()},setGlyph:function(e){var t=this.glyph,i=this.header,n=this.placeholder;e!==t&&(this.glyph=e,i?i.isHeader?i.setGlyph(e):i.glyph=e:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),n&&n.setGlyph&&n.setGlyph(e),this.fireEvent("glyphchange",this,e,t))},setIcon:function(e){var t=this.icon,i=this.header,n=this.placeholder;e!==t&&(this.icon=e,i?i.isHeader?i.setIcon(e):i.icon=e:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),n&&n.setIcon&&n.setIcon(e),this.fireEvent("iconchange",this,e,t))},setIconCls:function(e){var t=this.iconCls,i=this.header,n=this.placeholder;e!==t&&(this.iconCls=e,i?i.isHeader?i.setIconCls(e):i.iconCls=e:(this.rendered||this.afterHeaderInit)&&this.updateHeader(),n&&n.setIconCls&&n.setIconCls(e),this.fireEvent("iconclschange",this,e,t))},setTitle:function(e){var t=this,i=t.title,n=t.header,r=t.reExpander,o=t.placeholder;e!==i&&(t.title=e,n?n.isHeader&&n.setTitle(e):(t.rendered||t.afterHeaderInit)&&t.updateHeader(),t.headingEl&&t.headingEl.setHtml(e),r&&r.setTitle(e),o&&o.setTitle&&o.setTitle(e),t.fireEvent("titlechange",t,e,i))},setHiddenDocked:function(){var e=new Ext.dom.CompositeElement;this.hiddenOnCollapse.add(this.body),e.add(this.body),this.setDockedItemsVisibility(e,!1)},setUI:function(e){this.callParent(arguments),this.header&&this.header.rendered&&this.header.setUI(e)},toggleCollapse:function(){return this.collapsed||this.floatedFromCollapse?this.expand():this.collapse()},updateCollapseTool:function(){var e,t=this,i=t.collapseTool;!i&&t.collapsible&&(t.collapseDirection=t.collapseDirection||t.getHeaderPosition()||"top",e={xtype:"tool",handler:t.toggleCollapse,scope:t},t.isAccordionPanel&&(e.focusable=!1,e.ariaRole="presentation"),t.collapseTool=t.expandTool=i=Ext.widget(e)),i&&(t.collapsed&&!t.isPlaceHolderCollapse()?(i.setType("expand-"+t.getOppositeDirection(t.collapseDirection)),i.setTooltip(t.expandToolText)):(i.setType("collapse-"+t.collapseDirection),i.setTooltip(t.collapseToolText)))},navigateAccordionHeader:function(e){var t;switch(e.getKey()){case e.UP:case e.LEFT:t=this.findAccordionSibling("prev");break;case e.DOWN:case e.RIGHT:t=this.findAccordionSibling("next");break;case e.HOME:t=this.findAccordionSibling("first");break;case e.END:t=this.findAccordionSibling("last");break;case e.DELETE:(t=this.findAccordionSibling("prev")||this.findAccordionSibling("next"))||(e.doNotClose=!0)}e.stopEvent(),t&&t!==this&&t.header.titleCmp.focus()},navigateAccordionBody:function(e){var t;e.getKey()===e.UP&&(t=this),e.stopEvent(),t&&t.header.titleCmp.focus()},findAccordionSibling:function(e,t){var i,n=this,r="[isAccordionPanel]";switch(e){case"prev":(i=n.prev(r))||(n.accordionWrapOver?i=n.ownerCt.child(r+":last"):t&&(i=n));break;case"next":(i=n.next(r))||(n.accordionWrapOver?i=n.ownerCt.child(r+":first"):t&&(i=n));break;case"first":i=n.ownerCt.child(r+":first");break;case"last":i=n.ownerCt.child(r+":last")}return i},fireDefaultButton:function(e){var t=this,i=(t.lookupReferenceHolder(!1)||t).lookupReference(t.defaultButton);if(i&&i.click)return i.click(e),e.stopEvent(),!1;i?Ext.raise({msg:'Component referenced by defaultButton config "'+t.defaultButton+'" in '+t.xtype+" "+t.id+" does not have click() method",component:i}):Ext.raise({msg:'No component found for defaultButton reference "'+t.defaultButton+'" in '+t.xtype+" "+t.id,panel:t})},maybeClose:function(e){this.closable&&(this.navigateAccordionHeader(e),e.doNotClose||this.close())},canFocus:function(e,t){return this.collapsed?!(!this.placeholder||!this.placeholder.canFocus(e,t)):this.mixins.focusable.canFocus.call(this,e,t)},focus:function(){var e=this.placeholder;this.collapsed&&e&&e.canFocus()?e.focus.apply(e,arguments):this.callParent(arguments)},onFocusEnter:function(e){var t=this.ariaEl.dom;this.callParent([e]),this.isAccordionPanel&&t&&t.setAttribute("aria-selected",!0)},onFocusLeave:function(e){var t=this.ariaEl.dom;this.callParent([e]),this.isAccordionPanel&&t&&t.setAttribute("aria-selected","false")},updateHeaderPosition:function(e){var t=this.header;t&&t.isHeader&&t.setDock(e)},updateIconAlign:function(e){var t=this.header;t&&t.isHeader&&t.setIconAlign(e)},updateTitleAlign:function(e){var t=this.header;t&&t.isHeader&&t.setTitleAlign(e)},updateTitleRotation:function(e){var t=this.header;t&&t.isHeader&&t.setTitleRotation(e)},unghost:function(e,t,i){var n=this.el,r=this.ghostPanel;r&&(n.show(),n.setVisibilityMode(this.elVisMode),!1!==e?!1!==t&&this.setPagePosition(r.getXY()):n.hide(),r.el.hide(),r.setHiddenState(!0))},updateHeader:function(e){var t,i=this,n=i.header,r=i.getTitle(),o=i.tools,s=i.getIcon(),a=i.getGlyph(),l=i.getIconCls(),d=a||s||l,c=i.ariaEl.dom,u=i.getHeaderPosition(),u="left"===u||"right"===u;Ext.isObject(n)||!1!==n&&(e||r||d||o&&o.length||i.collapsible&&!i.titleCollapse)?(n&&n.isHeader?(n.dockToEl=!0,n.show()):(n=i.header=Ext.widget(Ext.merge({xtype:"header",title:r,titleAlign:i.getTitleAlign(),vertical:u,dock:i.getHeaderPosition()||"top",dockToEl:!0,titleRotation:i.getTitleRotation(),textCls:i.headerTextCls,iconCls:l,iconAlign:i.getIconAlign(),icon:s,glyph:a,baseCls:i.baseCls+"-header",tools:o,ui:i.ui,id:i.id+"_header",overCls:i.headerOverCls,indicateDrag:i.draggable,frame:(i.frame||i.alwaysFramed)&&i.frameHeader,ignoreParentFrame:i.frame||i.overlapHeader,ignoreBorderManagement:i.frame||i.ignoreHeaderBorderManagement,isAccordionHeader:i.isAccordionPanel,ownerCt:i,synthetic:!0,listeners:i.collapsible&&i.titleCollapse?{click:i.toggleCollapse,scope:i}:null},i.header)),i.addDocked(n,0)),i.isAccordionPanel?c?(c.setAttribute("aria-labelledby",n.id+"-title"),c.removeAttribute("aria-label")):((t=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=n.id+"-title",delete t["aria-label"]):r?"tabpanel"!==i.ariaRole&&(c?(c.setAttribute("aria-labelledby",n.id+"-title-textEl"),c.removeAttribute("aria-label")):((t=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=n.id+"-title-textEl",delete t["aria-label"])):i.ariaRenderAttributes&&delete i.ariaRenderAttributes["aria-label"]):(n&&n.hide(),r=Ext.util.Format.stripTags(r),c?c.hasAttribute("aria-labelledby")||(r?c.setAttribute("aria-label",r):c.removeAttribute("aria-label")):(t=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]||(r?t["aria-label"]=r:delete t["aria-label"])),i.isViewportBorderChild&&!i.hasOwnProperty("ariaRole")&&(i.ariaRole="region"),"region"!==i.ariaRole||r||Ext.ariaWarn(i,"Panel "+i.id+" is a region section of the application, but it does not have a title. Per WAI-ARIA, all regions should have a heading element that contains region's title."),r&&"region"===i.ariaRole?(n=i.headingEl)?n.setHtml(r):i.rendered?(i.headingEl=Ext.dom.Helper.insertFirst(i.el,{tag:"div",id:i.id+"-headingEl",role:"heading",class:Ext.baseCSSPrefix+"hidden-clip",style:"height:0",html:r},!0),c.removeAttribute("aria-label"),c.setAttribute("aria-labelledby",i.id+"-headingEl")):(i.headingText=i.title,(t=i.ariaRenderAttributes||(i.ariaRenderAttributes={}))["aria-labelledby"]=i.id+"-headingEl",delete t["aria-label"]):i.headingEl&&(i.headingEl.destroy(),i.headingEl=null)},statics:{floatCls:Ext.baseCSSPrefix+"border-region-slide-in"},privates:{addUIToElement:function(){this.callParent(arguments),this.addBodyCls(this.baseCls+"-body-"+this.ui)},applyTargetCls:function(e){this.getProtoBody().addCls(e)},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.protoBody||this.frameBody||this.el},initDraggable:function(){this.simpleDrag?this.initSimpleDraggable():this.dd=new Ext.panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},initResizable:function(e){this.callParent([e]),this.collapsed&&this.resizer.disable()},initSimpleDraggable:function(){var e=this,t=e.draggable;e.header||t.delegate||e.updateHeader(!0),(e.header||t.delegate)&&(t=Ext.apply({el:e.el,delegate:e.header&&e.header.el},t),(e.constrain||e.constrainHeader)&&(t.constrain=e.constrain,t.constrainDelegate=e.constrainHeader,t.constrainTo=e.constrainTo||e.container),t=e.dd=new Ext.util.ComponentDragger(e,t),e.relayEvents(t,["dragstart","drag","dragend"]))},removeUIFromElement:function(){this.callParent(arguments),this.removeBodyCls(this.baseCls+"-body-"+this.ui)},setupRenderTpl:function(e){this.callParent(arguments),this.setupDockingRenderTpl(e)},slideOutFloatedPanel:function(e){function t(){r.slideOutFloatedPanelEnd(),r.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in"),r.fireEvent("endfloat",r)}var i,n,r=this,o=r.el;if(!r.isSliding&&!r.destroyed){if(r.isSliding=!0,r.floated=!1,r.slideOutFloatedPanelBegin(),e)return o.hide(),t();"string"==typeof r.collapsed&&(i=r.convertCollapseDir(r.collapsed)),r.fireEvent("beginfloat",r),o.slideOut(i,{preserveScroll:!0,duration:Ext.Number.from(r.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:t}}),this.containsFocus&&(n=this.findFocusTarget())&&n.focus()}},slideOutFloatedPanelBegin:function(){var e=this,t=(e.placeholder.el,e.el,e.bodyMousedownListener);e.collapsed=e.floatedFromCollapse,e.setHiddenState(!0),e.floatedFromCollapse=null,Ext.destroy(e.pointerLeaveListener,e.phHoverListeners,e.elHoverListeners),t&&(e.bodyMousedownListener=t.destroy())},slideOutFloatedPanelEnd:function(e){this.collapseTool&&this.collapseTool.el.show(),this.slideOutTask.cancel(),this.isSliding=!1,e||this.fireEvent("unfloat",this)}}},function(){var e=this.prototype;e.animCollapse=Ext.enableFx,e.placeholderCollapseHideMode=Ext.Element.VISIBILITY}),Ext.define("Ext.rtl.panel.Panel",{override:"Ext.panel.Panel",rtlCollapseDirs:{top:"top",right:"left",bottom:"bottom",left:"right"},convertCollapseDir:function(e){return!!Ext.rootInheritedState.rtl!==this.isLocalRtl()&&(e=this.rtlCollapseDirs[e]),this.callParent(arguments)}}),Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:!0,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",childEls:["table","tbody"],tableAttrs:null,getItemSizePolicy:function(e){return this.autoSizePolicy},initInheritedState:function(e,t){t.inShrinkWrapTable=!0},getLayoutItems:function(){for(var e,t=[],i=this.callParent(),n=i.length,r=0;r<n;r++)(e=i[r]).hidden||t.push(e);return t},getHiddenItems:function(){for(var e,t=[],i=this.owner.items.items,n=i.length,r=0;r<n;++r)(e=i[r]).rendered&&e.hidden&&t.push(e);return t},renderChildren:function(){for(var e,t,i,n,r,o=this,s=o.getLayoutItems(),a=o.tbody.dom,l=a.rows,d=s.length,c=o.getHiddenItems(),u=o.calculateCells(s),h=0;h<d;h++)if(e=(r=u[h]).rowIdx,t=r.cellIdx,i=s[h],(n=l[e])||(n=a.insertRow(e),o.trAttrs&&n.set(o.trAttrs)),r=Ext.get(n.cells[t]||n.insertCell(t)),i.rendered?o.isValidParent(i,r,e,t,a)||o.moveItem(i,r,0):o.renderItem(i,r,0),o.tdAttrs&&r.set(o.tdAttrs),i.tdAttrs&&r.set(i.tdAttrs),r.set({colSpan:i.colspan||1,rowSpan:i.rowspan||1,cls:o.cellCls+" "+(i.cellCls||"")}),!u[h+1]||u[h+1].rowIdx!==e)for(t++;n.cells[t];)n.deleteCell(t);for(e++;a.rows[e];)a.deleteRow(e);for(h=0,d=c.length;h<d;++h)o.ensureInDocument(c[h].getEl())},ensureInDocument:function(e){for(var t=e.dom.parentNode;t;){if("BODY"===t.tagName.toUpperCase())return;t=t.parentNode}Ext.getDetachedBody().appendChild(e)},calculate:function(e){var t,i,n,r,o;e.hasDomProp("containerChildrenSizeDone")?(o=e.targetContext,t=e.widthModel.shrinkWrap,r=(n=(i=e.heightModel.shrinkWrap)||t)&&this.table.dom,o=n&&o.getPaddingInfo(),t&&e.setContentWidth(r.offsetWidth+o.width,!0),i&&e.setContentHeight(r.offsetHeight+o.height,!0)):this.done=!1},calculateCells:function(e){for(var t,i,n=[],r=0,o=0,s=0,a=this.columns||1/0,l=[],d=e.length,c=0;c<d;c++){for(t=e[c];a<=o||0<l[o];)if(a<=o)for(r++,i=s=o=0;i<a;i++)0<l[i]&&l[i]--;else o++;for(n.push({rowIdx:r,cellIdx:s}),i=t.colspan||1;i;--i)l[o]=t.rowspan||1,++o;++s}return n},getRenderTree:function(){for(var e,t,i,n,r=this,o=r.getLayoutItems(),s=[],a=Ext.apply({tag:"table",id:r.owner.id+"-table","data-ref":"table",role:"presentation",cls:r.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",id:r.owner.id+"-tbody","data-ref":"tbody",role:"presentation",cn:s}},r.tableAttrs),l=r.tdAttrs,d=o.length,c=r.calculateCells(o),u=0;u<d;u++)e=o[u],i=(t=c[u]).rowIdx,n=t.cellIdx,(t=s[i])||(t=s[i]={tag:"tr",role:"presentation",cn:[]},r.trAttrs&&Ext.apply(t,r.trAttrs)),n=t.cn[n]={tag:"td",role:"presentation"},l&&Ext.apply(n,l),Ext.apply(n,{colSpan:e.colspan||1,rowSpan:e.rowspan||1,cls:r.cellCls+" "+(e.cellCls||"")}),r.configureItem(e),n.cn=e.getRenderTree();return a},isValidParent:function(e,t,i,n){return 3===arguments.length?this.table.isAncestor(e.el):e.el.dom.parentNode===this.tbody.dom.rows[i].cells[n]}}),Ext.define("Ext.container.ButtonGroup",{extend:"Ext.panel.Panel",alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",requires:["Ext.layout.container.Table"],mixins:["Ext.util.FocusableContainer"],baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:!0,frameHeader:!1,titleAlign:"center",noTitleCls:"notitle",bodyAriaRole:"toolbar",focusableContainerEl:"body",initComponent:function(){var e=this.columns;e&&(this.layout=Ext.apply({},{columns:e},this.layout)),this.title||this.addClsWithUI(this.noTitleCls),this.callParent()},onBeforeAdd:function(e){e.isButton&&(this.defaultButtonUI&&"default"===e.ui&&!e.hasOwnProperty("ui")?e.ui=this.defaultButtonUI:e.ui=e.ui+"-toolbar"),this.callParent(arguments)},beforeRender:function(){this.callParent(),this.afterHeaderInit&&!this.header&&this.title&&((this.bodyAriaRenderAttributes||(this.bodyAriaRenderAttributes={}))["aria-label"]=this.title)},updateHeader:function(e){var t,i=this,n=i.body;i.callParent([e]),(e=i.header)?n?(n.dom.setAttribute("aria-labelledby",e.id+"-title-textEl"),n.dom.removeAttribute("aria-label")):((t=i.bodyAriaRenderAttributes||(i.bodyAriaRenderAttributes={}))["aria-labelledby"]=e.id+"-title-textEl",delete t["aria-label"]):i.title&&(n?(n.dom.setAttribute("aria-label",i.title),n.dom.removeAttribute("aria-labelledby")):((t=i.bodyAriaRenderAttributes||(i.bodyAriaRenderAttributes={}))["aria-label"]=i.title,delete t["aria-labelledby"]))},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e}}}),Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,clearPropertiesOnDestroy:!1,clearPrototypeOnDestroy:!1,disabled:0,constructor:function(e){Ext.apply(this,e)},destroy:function(){this.unbind(),this.callParent()},bind:function(e){(this.target=e).on("beforedestroy",this.disable,this),this.onContainerAdd(e)},unbind:function(){var e=this.target;e&&!e.destroyed&&(this.onContainerRemove(e,e),e.un("beforedestroy",this.disable,this)),this.items=Ext.destroy(this.items)},disable:function(){++this.disabled},enable:function(){0<this.disabled&&--this.disabled},handleAdd:function(e,t){this.disabled||(Ext.ComponentQuery.is(t,this.selector)&&this.onItemAdd(t.ownerCt,t),t.isQueryable&&this.onContainerAdd(t))},onItemAdd:function(e,t){var i=this.items,n=this.addHandler;this.disabled||(n&&n.call(this.scope||t,t),i&&i.add(t)),t.clearPropertiesOnDestroy=t.clearPrototypeOnDestroy=!1},onItemRemove:function(e,t){var i=this.items,n=this.removeHandler;this.disabled||(n&&n.call(this.scope||t,t),i&&i.remove(t))},onContainerAdd:function(e,t){var i,n,r,o;if(e.isContainer&&e.on({scope:this,add:this.handleAdd,dockedadd:this.handleAdd,remove:this.handleRemove,dockedremove:this.handleRemove}),!0!==t)for(r=0,n=(i=e.query(this.selector)).length;r<n;++r)o=i[r],this.onItemAdd(o.ownerCt,o);for(r=0,n=(i=e.query(">container")).length;r<n;++r)this.onContainerAdd(i[r],!0);e.clearPropertiesOnDestroy=e.clearPrototypeOnDestroy=!1},handleRemove:function(e,t){this.disabled||(Ext.ComponentQuery.is(t,this.selector)&&this.onItemRemove(e,t),t.isQueryable&&this.onContainerRemove(e,t))},onContainerRemove:function(e,t){var i,n,r,o;if(!t.destroyed&&t.isContainer&&(this.removeCtListeners(t),!t.destroying)){for(n=0,r=(i=t.query(this.selector)).length;n<r;++n)o=i[n],this.onItemRemove(o.ownerCt,o);for(n=0,r=(i=t.query("container")).length;n<r;++n)this.removeCtListeners(i[n])}this.invalidateItems(!0)},removeCtListeners:function(e){e.un({scope:this,add:this.handleAdd,dockedadd:this.handleAdd,remove:this.handleRemove,dockedremove:this.handleRemove})},getItems:function(){var e=this.items;return e||(e=this.items=new Ext.util.MixedCollection).addAll(this.target.query(this.selector)),e},invalidateItems:function(e){var t=this.invalidateHandler;e&&t&&t.call(this.scope||this,this),this.items=Ext.destroy(this.items)}}),Ext.define("Ext.plugin.Responsive",{extend:"Ext.mixin.Responsive",alias:"plugin.responsive",id:"responsive",isPlugin:!0,constructor:function(e){var t=e.cmp,e=Ext.apply({responsiveConfig:t.responsiveConfig,responsiveFormulas:t.responsiveFormulas},e);delete e.cmp,(this.cmp=t)||Ext.raise("Responsive plugin must be constructed by Component"),this.initConfig(e),this.transformed&&(t.setConfig(this.transformed),this.transformed=null)},init:Ext.emptyFn,privates:{transformInstanceConfig:function(e){var t=this.callParent([e]);t.ptype&&delete(t=Ext.apply({},t)).ptype,this.transformed=t;e=Ext.apply({},e);return delete e.ptype,delete e.responsiveConfig,delete e.responsiveFormulas,e},updateResponsiveState:function(){var e=this.getResponsiveState();this.cmp.setConfig(e)}}}),Ext.define("Ext.plugin.Viewport",{extend:"Ext.plugin.Responsive",alias:"plugin.viewport",setCmp:function(e){(this.cmp=e)&&!e.isViewport&&(this.decorate(e),e.renderConfigs&&e.flushRenderConfigs(),e.setupViewport())},statics:{decorate:function(e){Ext.applyIf(e.prototype||e,{ariaRole:"application",viewportCls:Ext.baseCSSPrefix+"viewport"}),Ext.override(e,{isViewport:!0,preserveElOnDestroy:!0,initComponent:function(){this.callParent(),this.setupViewport()},getSizeModel:function(){var e=Ext.layout.SizeModel.configured;return e.pairsByHeightOrdinal[e.ordinal]},handleViewportResize:function(){var e=Ext.dom.Element,t=e.getViewportWidth(),e=e.getViewportHeight();t===this.width&&e===this.height||this.setSize(t,e)},setupViewport:function(){var e=this,t=document.body;t.id||(t.id=e.id),t.setAttribute("data-componentid",e.id),e.ariaStaticRoles[e.ariaRole]||t.setAttribute("role",e.ariaRole),t=e.el=Ext.getBody(),Ext.fly(document.documentElement).addCls(e.viewportCls),t.setHeight=t.setWidth=Ext.emptyFn,t.dom.scroll="no",e.allowDomMove=!1,e.renderTo=t,Ext.supports.Touch&&e.addMeta("apple-mobile-web-app-capable","yes"),Ext.getScrollbarSize(),e.width=e.height=void 0,e.initialViewportHeight=Ext.Element.getViewportHeight(),e.initialViewportWidth=Ext.Element.getViewportWidth()},afterLayout:function(e){Ext.supports.Touch&&(document.body.scrollTop=0),this.callParent([e])},onRender:function(){var e=this,t=(e.getOverflowEl(),Ext.getBody());e.callParent(arguments),Ext.setViewportScroller(e.getScrollable()||{x:!1,y:!1,element:t}),e.getOverflowEl()!==t&&t.setStyle("overflow","hidden"),e.width=e.initialViewportWidth,e.height=e.initialViewportHeight,e.initialViewportWidth=e.initialViewportHeight=null},initInheritedState:function(e,t){var i=Ext.rootInheritedState;e!==i?this.initInheritedState(this.inheritedState=i,this.inheritedStateInner=Ext.Object.chain(i)):this.callParent([e,t])},doDestroy:function(){var e,t=Ext.rootInheritedState;for(e in t)"rtl"!==e&&delete t[e];this.removeUIFromElement(),this.el.removeCls(this.baseCls),Ext.fly(document.body.parentNode).removeCls(this.viewportCls),this.callParent()},addMeta:function(e,t){var i=document.createElement("meta");i.setAttribute("name",e),i.setAttribute("content",t),Ext.getHead().appendChild(i)},privates:{applyTargetCls:function(e){this.el===this.getTargetEl()?this.el.addCls(e):this.callParent([e])},disableTabbing:function(){var e=this.el;e&&e.saveTabbableState({skipSelf:!0})},enableTabbing:function(){var e=this.el;e&&e.restoreTabbableState(!0)}}})}},privates:{updateResponsiveState:function(){this.cmp.handleViewportResize(),this.callParent()}}},function(e){e.prototype.decorate=e.decorate}),Ext.define("Ext.container.Viewport",{extend:"Ext.container.Container",requires:["Ext.plugin.Viewport"],mixins:["Ext.mixin.Responsive"],alias:"widget.viewport",alternateClassName:"Ext.Viewport",ariaRole:"application",privates:{updateResponsiveState:function(){this.handleViewportResize(),this.mixins.responsive.updateResponsiveState.call(this)}}},function(){Ext.plugin.Viewport.decorate(this)}),Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:!0,setsItemSize:!0,beginLayoutCycle:function(e){var t,i,n,r,o,s=0;for(this.callParent(arguments),o=(n=e.childItems).length,r=0;r<o&&(!(t=(i=n[r]).target.anchorSpec)||(i.widthModel.calculated&&t.right&&(s|=1),i.heightModel.calculated&&t.bottom&&(s|=2),3!==s));++r);e.anchorDimensions=s,this.sanityCheck(e)},calculateItems:function(e,t){var i,n,r,o,s,a=e.childItems,l=a.length,d=t.gotHeight,c=t.gotWidth,u=t.height,h=t.width,t=(c?1:0)|(d?2:0),e=e.anchorDimensions;if(!e)return!0;for(o=0;o<l;o++)r=(n=a[o]).getMarginInfo(),i=n.target.anchorSpec,c&&n.widthModel.calculated&&(s=i.right(h)-r.width,s=this.adjustWidthAnchor(s,n),n.setWidth(s)),d&&n.heightModel.calculated&&(r=i.bottom(u)-r.height,r=this.adjustHeightAnchor(r,n),n.setHeight(r));return(t&e)===e},sanityCheck:function(e){for(var t,i,n,r=e.widthModel.shrinkWrap,o=e.heightModel.shrinkWrap,s=e.childItems,a=0,l=s.length;a<l;++a)(t=(i=(n=s[a]).target).anchorSpec)&&(n.widthModel.calculated&&t.right&&r&&Ext.log({level:"warn",msg:"Right anchor on "+i.id+" in shrinkWrap width container"}),n.heightModel.calculated&&t.bottom&&o&&Ext.log({level:"warn",msg:"Bottom anchor on "+i.id+" in shrinkWrap height container"}))},anchorFactory:{offset:function(t){return function(e){return e+t}},ratio:function(t){return function(e){return Math.floor(e*t)}},standard:function(t){return function(e){return e-t}}},parseAnchor:function(e,t,i){if(e&&"none"!==e){var n=this.anchorFactory;if(this.parseAnchorRE.test(e))return n.standard(i-t);if(-1!==e.indexOf("%"))return n.ratio(.01*parseFloat(e.replace("%","")));if(e=parseInt(e,10),!isNaN(e))return n.offset(e)}return null},adjustWidthAnchor:function(e,t){return e},adjustHeightAnchor:function(e,t){return e},configureItem:function(e){var t,i,n=this.owner,r=e.anchor;this.callParent(arguments),e.anchor||!e.items||Ext.isNumber(e.width)||(e.anchor=r=this.defaultAnchor),n.anchorSize?"number"==typeof n.anchorSize?t=n.anchorSize:(t=n.anchorSize.width,i=n.anchorSize.height):(t=n.initialConfig.width,i=n.initialConfig.height),r&&(r=r.split(" "),e.anchorSpec={right:this.parseAnchor(r[0],e.initialConfig.width,t),bottom:this.parseAnchor(r[1],e.initialConfig.height,i)})},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(e){var t=e.anchorSpec,i="$",n=this.sizePolicy;return t&&(e=this.owner.getSizeModel(),t.right&&!e.width.shrinkWrap&&(n=n.r),t.bottom&&!e.height.shrinkWrap&&(i="b")),n[i]}}),Ext.define("Ext.dashboard.Panel",{extend:"Ext.panel.Panel",xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:!0,closable:!0,collapsible:!0,animCollapse:!0,titleCollapse:!0,stateful:!0,draggable:{moveOnDrag:!1},animateClose:!0,loadMask:!0,loadMessage:"Loading...",minHeight:90,resizable:!0,resizeHandles:"s",doClose:function(){this.animateClose?this.closing||(this.closing=!0,this.el.animate({opacity:0,callback:this.finishClose,scope:this})):this.finishClose()},finishClose:function(){var e=this.closeAction;this.closing=!1,this.fireEvent("close",this),Ext.suspendLayouts(),this[e](),Ext.resumeLayouts(!0),"hide"===e&&this.el.setOpacity(1)},afterRender:function(){this.callParent(),this.loading&&this.onViewBeforeLoad()},getLoadMask:function(){var e,t=this.rendered&&this.loadMask;return t&&!t.isComponent&&(e={target:this},!0===t?t=e:Ext.apply(e,t),this.loadMask=t=Ext.ComponentManager.create(e,"loadmask")),t||null},onAdd:function(e){this.callParent(arguments),e.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=!0;var e=this.getLoadMask();e&&e.show()},onViewLoaded:function(){this.loading=!1;var e=this.getLoadMask();e&&e.hide();e=this.items.getAt(0);!e.getTitle||(e=e.getTitle())&&this.setTitle(e)},setBox:function(e){this.setSize(e.width,e.height)},getState:function(){var e=this.callParent()||{};return e.collapsed||this.addPropertyToState(e,"height",this.rendered?this.getHeight():this.height||this.minHeight||100),e}}),Ext.define("Ext.dashboard.Column",{extend:"Ext.container.Container",xtype:"dashboard-column",requires:["Ext.layout.container.Anchor","Ext.dashboard.Panel"],layout:"anchor",isDashboardColumn:!0,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:!0,onRemove:function(e,t){var i,n,r,o,s=this,a=s.ownerCt,l=0;if(a&&0===s.items.getCount()&&(n=(i=Ext.Array.filter(a.query(">"+s.xtype+"[rowIndex="+s.rowIndex+"]"),function(e){return e!==s})).length,!s.destroying&&!s.destroyed)){if(a.remove(s),1===n)i[0].columnWidth=1;else{for(o=0;o<n;o++)l+=i[o].columnWidth||0;for(o=0;o<n;o++)r=i[o].columnWidth,i[o].columnWidth=Math.floor(r/l*100)/100}t&&a.updateLayout()}}}),Ext.define("Ext.layout.container.Column",{extend:"Ext.layout.container.Auto",alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",clearSide:"left",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:!0,manageOverflow:!0,setsItemSize:!0,needsItemSize:!0,isItemShrinkWrap:function(e){return!0},getItemSizePolicy:function(e,t){return e.columnWidth&&!(t=t||this.owner.getSizeModel()).width.shrinkWrap?this.columnWidthSizePolicy:this.autoSizePolicy},calculateItems:function(e,t){var i,n,r,o,s,a,l=this.columnCount,d=e.targetContext,c=e.childItems,u=c.length,h=0,f=t.gotWidth;if(!1===f)d.domBlock(this,"width"),i=!0;else{if(!f)return!0;n=t.width}for(r=0;r<u;++r)o=c[r],l&&(r%l?o.setProp("clear",null):o.setProp("clear",this.clearSide)),s=o.getMarginInfo().width,o.widthModel.calculated||("number"!=typeof(a=o.getProp("width"))&&(o.block(this,"width"),i=!0),h+=a+s);if(!i){for(n=n<h?0:n-h,r=0;r<u;++r)(o=c[r]).widthModel.calculated&&(s=o.marginInfo.width,a=o.target.columnWidth,a=Math.floor(a*n)-s,h+=(a=o.setWidth(a))+s);e.setContentWidth(h+e.paddingContext.getPaddingInfo().width)}return!i}}),Ext.define("Ext.rtl.layout.container.Column",{override:"Ext.layout.container.Column",getRenderData:function(){var e=this.callParent();return this.owner.getInherited().rtl&&(this.clearSide="right",e.innerCtCls=(e.innerCtCls||"")+" "+Ext.baseCSSPrefix+"rtl"),e}}),Ext.define("Ext.dd.DragTracker",{uses:["Ext.util.Region"],mixins:{observable:"Ext.util.Observable"},active:!1,trackOver:!1,tolerance:5,autoStart:!1,constructor:function(e){var t=this;Ext.apply(t,e),t.dragRegion=new Ext.util.Region(0,0,0,0),t.el&&t.initEl(t.el),t.mixins.observable.constructor.call(t),t.disabled&&t.disable(),Ext.supports.Touch&&Ext.getWin().on({touchstart:"onWindowTouchStart",scope:t,capture:!0})},initEl:function(e){var t,i,n=this,r=n.delegate;n.el=e=Ext.get(e),e.addCls(Ext.baseCSSPrefix+"unselectable"),r&&r.isElement&&(n.handle=r),n.delegate=n.handle?void 0:n.delegate,Ext.supports.Touch&&(i=(t=Ext.ComponentManager.fromElement(e))&&t.getScrollable())&&(t=i.getElement(),i=!(n.handle&&!t.contains(n.handle))&&(!(n.delegate&&!t.down(n.delegate))&&(i.getX()||i.getY()))),n.handle||(n.handle=e),n.handleListeners={scope:n,delegate:n.delegate,dragstart:n.onDragStart},i?(n.handleListeners.longpress=n.onMouseDown,n.handleListeners.mousedown={fn:n.onMouseDown,delegate:n.delegate,translate:!1},n.handleListeners.contextmenu=function(e){e.stopEvent()}):n.handleListeners.mousedown=n.onMouseDown,Ext.supports.TouchEvents||!n.trackOver&&!n.overCls||Ext.apply(n.handleListeners,{mouseover:n.onMouseOver,mouseout:n.onMouseOut}),n.mon(n.handle,n.handleListeners),n.keyNav=new Ext.util.KeyNav({target:e,up:n.onResizeKeyDown,left:n.onResizeKeyDown,right:n.onResizeKeyDown,down:n.onResizeKeyDown,scope:n})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},destroy:function(){this.endDrag({}),this.el=this.handle=this.onBeforeStart=this.onStart=this.onDrag=this.onEnd=this.onCancel=null,this.callParent()},onWindowTouchStart:function(e){this.mouseIsDown&&this.onMouseUp(e)},onMouseOver:function(e,t){var i,n,r,o,s,a=this;if(!a.disabled&&(e.within(e.target,!0,!0)||a.delegate)){if(i=a.handleCls,a.mouseIsOut=!1,i)for(r=0,o=a.handleEls.length;r<o;r++)s=(s=(n=a.handleEls[r]).delegateCls)||(n.delegateCls=[i,"-",n.region,"-over"].join("")),n.addCls([s,a.overCls]);a.fireEvent("mouseover",a,e,a.delegate?e.getTarget(a.delegate,t):a.handle)}},onMouseOut:function(e){var t,i,n;if(this.mouseIsDown)this.mouseIsOut=!0;else{if(this.handleCls)for(i=0,n=this.handleEls.length;i<n;i++)(t=this.handleEls[i]).removeCls([t.delegateCls,this.overCls]);this.fireEvent("mouseout",this,e)}},onMouseDown:function(e,t){var i=this,n=e.parentEvent||e;i.disabled||n.dragTracked||(i.dragTarget=i.delegate?t:i.handle.dom,i.startXY=i.lastXY=e.getXY(),i.startRegion=Ext.fly(i.dragTarget).getRegion(),!1!==i.fireEvent("mousedown",i,e)&&!1!==i.fireEvent("beforedragstart",i,e)&&!1!==i.onBeforeStart(e)&&(i.mouseIsDown=!0,n.dragTracked=!0,i.el.setCapture(),e.stopPropagation(),!1===i.preventDefault&&"touch"!==e.pointerType||e.preventDefault(),Ext.getDoc().on({scope:i,capture:!0,mouseup:i.onMouseUp,mousemove:i.onMouseMove,selectstart:i.stopSelect}),i.dragEnded=!1,i.tolerance?i.autoStart&&(i.timer=Ext.defer(i.triggerStart,!0===i.autoStart?1e3:i.autoStart,i,[e])):i.triggerStart()))},onMouseMove:function(e,t){var i=this,n=e.getXY(),r=i.startXY;if(e.stopPropagation(),!1!==i.preventDefault&&e.preventDefault(),!i.dragEnded){if(i.lastXY=n,!i.active){if(!(Math.max(Math.abs(r[0]-n[0]),Math.abs(r[1]-n[1]))>i.tolerance))return;i.triggerStart(e)}!1===i.fireEvent("mousemove",i,e)?i.onMouseUp(e):(i.onDrag(e),i.fireEvent("drag",i,e))}},onMouseUp:function(e){this.mouseIsDown=!1,this.mouseIsOut&&(this.mouseIsOut=!1,this.onMouseOut(e)),!1!==this.preventDefault&&e.preventDefault(),Ext.isIE&&document.releaseCapture&&document.releaseCapture(),this.fireEvent("mouseup",this,e),this.endDrag(e)},endDrag:function(e){var t=this,i=t.active;Ext.getDoc().un({mousemove:t.onMouseMove,mouseup:t.onMouseUp,selectstart:t.stopSelect,capture:!0,scope:t}),t.clearStart(),t.active=!1,t.dragEnded=!0,i?(t.onEnd(e),t.fireEvent("dragend",t,e)):t.onCancel(e),t._constrainRegion=null},triggerStart:function(e){this.clearStart(),this.active=!0,this.onStart(e),this.fireEvent("dragstart",this,e)},clearStart:function(){var e=this.timer;e&&(clearTimeout(e),this.timer=null)},stopSelect:function(e){return e.stopEvent(),!1},onBeforeStart:function(e){},onStart:function(e){},onDrag:function(e){},onCancel:function(e){},onEnd:function(e){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var e=this;if(e.constrainTo){if(e.constrainTo instanceof Ext.util.Region)return e.constrainTo;e._constrainRegion||(e._constrainRegion=Ext.fly(e.constrainTo).getViewRegion())}else e._constrainRegion||(e._constrainRegion=e.getDragCt().getViewRegion());return e._constrainRegion},getXY:function(e){return e?this.constrainModes[e](this,this.lastXY):this.lastXY},getOffset:function(e){var t=this.getXY(e),e=this.startXY;return[t[0]-e[0],t[1]-e[1]]},onDragStart:function(e){e.stopPropagation()},constrainModes:{point:function(e,t){var i=e.dragRegion,e=e.getConstrainRegion();return e?(i.x=i.left=i[0]=i.right=t[0],i.y=i.top=i[1]=i.bottom=t[1],i.constrainTo(e),[i.left,i.top]):t},dragTarget:function(e,t){var i,n=e.startXY,r=e.startRegion.copy(),e=e.getConstrainRegion();return e&&(r.translateBy(t[0]-n[0],t[1]-n[1]),r.right>e.right&&(t[0]+=i=e.right-r.right,r.left+=i),r.left<e.left&&(t[0]+=e.left-r.left),r.bottom>e.bottom&&(t[1]+=i=e.bottom-r.bottom,r.top+=i),r.top<e.top&&(t[1]+=e.top-r.top)),t}}}),Ext.define("Ext.resizer.SplitterTracker",{extend:"Ext.dd.DragTracker",requires:["Ext.util.Region"],enabled:!0,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var e=Ext.dom.Element,t=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});t.unselectable(),t.setSize(e.getDocumentWidth(),e.getDocumentHeight()),t.show()},getPrevCmp:function(){return this.getSplitter().previousSibling(":not([hidden])")},getNextCmp:function(){return this.getSplitter().nextSibling(":not([hidden])")},onBeforeStart:function(e){var t=this.getPrevCmp(),i=this.getNextCmp(),n=this.getSplitter().collapseEl,e=e.getTarget();return!(!t||!i)&&((!n||e!==n.dom)&&(!i.collapsed&&!t.collapsed&&(this.prevBox=t.getEl().getBox(),this.nextBox=i.getEl().getBox(),this.constrainTo=i=this.calculateConstrainRegion(),i||!1)))},onMouseDown:function(e,t){this.callParent([e,t]),this.mouseIsDown&&this.getSplitter().el.dom===t&&Ext.dom.Element.maskIframes()},onMouseUp:function(e){this.callParent([e]),Ext.dom.Element.unmaskIframes()},onStart:function(e){var t=this.getSplitter();this.createDragOverlay(),t.addCls(t.baseCls+"-active")},onResizeKeyDown:function(e){var t=this,i=t.getSplitter(),n=e.getKey(),r="vertical"===i.orientation?0:1,n=n===e.UP||n===e.LEFT?-1:1;!t.active&&t.onBeforeStart(e)&&(Ext.fly(e.target).on("keyup",t.onResizeKeyUp,t),t.triggerStart(e),t.onMouseDown(e),t.startXY=i.getXY(),t.lastKeyDownXY=Ext.Array.slice(t.startXY),(e=t.easing=new Ext.fx.easing.Linear).setStartTime(Ext.Date.now()),e.setStartValue(1),e.setEndValue(4),e.setDuration(2e3)),t.active&&(t.lastKeyDownXY[r]=Math.round(t.lastKeyDownXY[r]+n*t.easing.getValue()),t.lastXY=t.lastKeyDownXY,i.setXY(t.getXY("dragTarget")))},onResizeKeyUp:function(e){this.onMouseUp(e)},calculateConstrainRegion:function(){var e,t=this.getSplitter(),i=t.getWidth(),n=t.defaultSplitMin,r=t.orientation,o=this.prevBox,s=this.getPrevCmp(),a=this.nextBox,t=this.getNextCmp(),a="vertical"===r?(r={prevCmp:s,nextCmp:t,prevBox:o,nextBox:a,defaultMin:n,splitWidth:i},e=new Ext.util.Region(o.y,this.getVertPrevConstrainRight(r),o.bottom,this.getVertPrevConstrainLeft(r)),new Ext.util.Region(a.y,this.getVertNextConstrainRight(r),a.bottom,this.getVertNextConstrainLeft(r))):(e=new Ext.util.Region(o.y+(s.minHeight||n),o.right,(s.maxHeight?o.y+s.maxHeight:a.bottom-(t.minHeight||n))+i,o.x),new Ext.util.Region((t.maxHeight?a.bottom-t.maxHeight:o.y+(s.minHeight||n))-i,a.right,a.bottom-(t.minHeight||n),a.x));return e.intersect(a)},performResize:function(e,t){for(var i,n,r=this.getSplitter(),o=r.orientation,s=this.getPrevCmp(),a=this.getNextCmp(),r=r.ownerCt,l=r.query(">[flex]"),d=l.length,c="vertical"===o,u=0,o=c?"width":"height";u<d;u++)i=l[u],n=c?i.getWidth():i.getHeight(),i.flex=n;t=c?t[0]:t[1],s&&(n=this.prevBox[o]+t,s.flex?s.flex=n:s[o]=n),a&&(n=this.nextBox[o]-t,a.flex?a.flex=n:a[o]=n),r.updateLayout()},endDrag:function(){this.overlay&&(this.overlay.destroy(),delete this.overlay),this.callParent(arguments)},onEnd:function(e){var t=this.getSplitter();t.removeCls(t.baseCls+"-active"),this.performResize(e,this.getResizeOffset())},onDrag:function(e){var t=this.getOffset("dragTarget"),i=this.getSplitter(),n=i.getEl();"vertical"===i.orientation?n.setX(this.startRegion.left+t[0]):n.setY(this.startRegion.top+t[1])},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(e){return(e.prevCmp.maxWidth?e.prevBox.x+e.prevCmp.maxWidth:e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin))+e.splitWidth},getVertPrevConstrainLeft:function(e){return e.prevBox.x+(e.prevCmp.minWidth||e.defaultMin)},getVertNextConstrainRight:function(e){return e.nextBox.right-(e.nextCmp.minWidth||e.defaultMin)},getVertNextConstrainLeft:function(e){return(e.nextCmp.maxWidth?e.nextBox.right-e.nextCmp.maxWidth:e.prevBox.x+(e.prevBox.minWidth||e.defaultMin))-e.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}}),Ext.define("Ext.rtl.resizer.SplitterTracker",{override:"Ext.resizer.SplitterTracker",getVertPrevConstrainLeft:function(e){return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl?(e.prevCmp.maxWidth?e.prevBox.right-e.prevCmp.maxWidth:e.nextBox.x+(e.nextCmp.minWidth||e.defaultMin))-e.splitWidth:this.callParent(arguments)},getVertPrevConstrainRight:function(e){return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl?e.prevBox.right-(e.prevCmp.minWidth||e.defaultMin):this.callParent(arguments)},getVertNextConstrainLeft:function(e){return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl?e.nextBox.x+(e.nextCmp.minWidth||e.defaultMin):this.callParent(arguments)},getVertNextConstrainRight:function(e){return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl?(e.nextCmp.maxWidth?e.nextBox.x+e.nextCmp.maxWidth:e.prevBox.right-(e.prevBox.minWidth||e.defaultMin))+e.splitWidth:this.callParent(arguments)},getResizeOffset:function(){var e=this.getOffset("dragTarget");return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl&&(e[0]=-e[0]),e}}),Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:"Ext.resizer.SplitterTracker",onStart:function(e){Ext.apply(this.getSplitter().el.dom.style,{top:0,left:0}),this.callParent(arguments)},endDrag:function(){this.callParent(arguments),this.getSplitter().el.dom.style.left=0},performResize:function(e,t){var i,n=this.getPrevCmp(),r=this.getNextCmp(),o=this.getSplitter().ownerCt,s=t[0];n&&r&&(n.width=i=this.prevBox.width+s,r.width=t=this.nextBox.width-s,s=(n.columnWidth+r.columnWidth)/(i+t),n.columnWidth=i*s,r.columnWidth=t*s),o.updateLayout()}}),Ext.define("Ext.layout.container.ColumnSplitter",{extend:"Ext.resizer.Splitter",xtype:"columnsplitter",requires:["Ext.layout.container.ColumnSplitterTracker"],isSplitter:!0,synthetic:!0,cls:Ext.baseCSSPrefix+"splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var e=this.callParent();return e.xclass=this.trackerClass,e}}),Ext.define("Ext.layout.container.Dashboard",{extend:"Ext.layout.container.Column",alias:"layout.dashboard",requires:["Ext.layout.container.ColumnSplitter"],type:"dashboard",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},getColumns:function(e){var t=Ext.Array;return t.filter(t.from(e),function(e){return e.target&&!0!==e.target.isSplitter})},beginLayout:function(e){this.callParent([e]);for(var t,i,n,r,o,s,a,l=e.childItems,d=e.rows=[],c=l.length,u=2,h=0,f=this.owner.getMaxColumns(),g=0;g<c;++g)h+=(o=(s=(i=l[g]).target)&&s.isSplitter)?0:1,(1<u+(a=o?0:s.columnWidth||1)||f&&f<h)&&(n&&(n.orphan=1,n.el.setHeight(0)),u=0,h=1,d.length&&(t=d.length-1,this.syncFirstLast(this.getColumns(d[t].items))),d.push(r={index:d.length,items:[],maxHeight:0})),u+=a,r.items.push(i),i.row=r,s.rowIndex=r.index,o&&i.el.setHeight(1),n=i;d.length&&this.syncFirstLast(this.getColumns(d[d.length-1].items))},beforeLayoutCycle:function(e){var t=this.owner.items;this.splitterGen!==t.generation&&(this.syncSplitters(),this.splitterGen=t.generation),this.callParent(arguments)},finishedLayout:function(e){var t,i,n,r,o,s=e.childItems,a=s.length;for(this.callParent([e]),n=0;n<a;n+=2)t=(r=(i=s[n]).target).lastBox,(o=i.row).maxHeight=Math.max(o.maxHeight,t.height),r.width=t.width;for(n=1;n<a;n+=2)r=(i=s[n]).target,i.orphan||r.el.setHeight(i.row.maxHeight)},syncSplitters:function(){for(var e,t=this.owner,i=t.items.items,n=i.length,r=!0,o=!1;0<n--;)e=i[n],o?e.isSplitter?o=!1:(r&&(r=!1,t.suspendLayouts()),t.add(n+1,this.getSplitterConfig())):e.isSplitter?(r&&(r=!1,t.suspendLayouts()),t.remove(e)):o=!0;for(;i.length&&(e=i[0]).isSplitter;)r&&(r=!1,t.suspendLayouts()),t.remove(e);r||t.resumeLayouts()},syncFirstLast:function(e){for(var t,i,n=this.firstColumnCls,r=this.lastColumnCls,o=[n,r],s=(e=Ext.Array.from(e)).length,a=0;a<s;++a)t=e[a].target,i=a===s-1,a?i?(t.addCls(r),t.removeCls(n)):t.removeCls(o):i?t.addCls(o):(t.addCls(n),t.removeCls(r))}}),Ext.define("Ext.dd.DDTarget",{extend:"Ext.dd.DragDrop",constructor:function(e,t,i){e&&this.initTarget(e,t,i)},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return"DDTarget "+this.id}}),Ext.define("Ext.dd.ScrollManager",{singleton:!0,requires:["Ext.dd.DragDropManager"],dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var e=Ext.dd.DragDropManager;e.fireEvents=Ext.Function.createSequence(e.fireEvents,this.onFire,this),e.stopDrag=Ext.Function.createSequence(e.stopDrag,this.onStop,this),this.doScroll=this.doScroll.bind(this),this.ddmInstance=e,this.els={},this.dragEl=null,this.proc={}},onStop:function(e){var t=Ext.dd.ScrollManager;t.dragEl=null,t.clearProc()},triggerRefresh:function(){this.ddmInstance.dragCurrent&&this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)},doScroll:function(){var e,t,i,n,r,o,s=this;s.ddmInstance.dragCurrent&&(t=(e=s.proc).el,i=e.component,n=((r=e.el.ddScrollConfig)&&r.increment?r:s).increment,o=function(){s.triggerRefresh()},(r=(r&&"animate"in r?r:s).animate)&&(!0===r?r={callback:o}:r.callback=r.callback?Ext.Function.createSequence(r.callback,o):o),i?(n*=s.dirTrans[e.dir],"up"===e.dir||"down"===e.dir?i.scrollBy(0,n,r):i.scrollBy(n,0,r)):t.scroll(e.dir,n,r),r||o())},clearProc:function(){var e=this.proc;e.id&&clearInterval(e.id),e.id=0,e.el=null,e.dir=""},startProc:function(e,t){var i=this.proc;this.clearProc(),i.el=e,i.dir=t,t=e.ddScrollConfig?e.ddScrollConfig.ddGroup:void 0,e=(e.ddScrollConfig&&e.ddScrollConfig.frequency?e.ddScrollConfig:this).frequency,void 0!==t&&this.ddmInstance.dragCurrent.ddGroup!==t||(i.id=Ext.interval(this.doScroll,e))},onFire:function(e,t){var i,n,r,o,s,a,l,d=this;if(!t&&d.ddmInstance.dragCurrent){for(o in d.dragEl&&d.dragEl===d.ddmInstance.dragCurrent||(d.dragEl=d.ddmInstance.dragCurrent,d.refreshCache()),i=e.getPoint(),n=d.proc,r=d.els)if(a=(s=r[o])._region,l=s.ddScrollConfig||d,a&&a.contains(i)&&s.isScrollable()){if(a.bottom-i.y<=l.vthresh)return void(n.el!==s&&d.startProc(s,"down"));if(a.right-i.x<=l.hthresh)return void(n.el!==s&&d.startProc(s,"right"));if(i.y-a.top<=l.vthresh)return void(n.el!==s&&d.startProc(s,"up"));if(i.x-a.left<=l.hthresh)return void(n.el!==s&&d.startProc(s,"left"))}d.clearProc()}},register:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.register(e[t]);else e=Ext.get(e),this.els[e.id]=e},unregister:function(e){if(Ext.isArray(e))for(var t=0,i=e.length;t<i;t++)this.unregister(e[t]);else e=Ext.get(e),delete this.els[e.id]},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:!0,animDuration:.4,ddGroup:void 0,refreshCache:function(){var e,t=this.els;for(e in t)"object"==typeof t[e]&&(t[e]._region=t[e].getRegion())}}),Ext.define("Ext.dd.DropTarget",{extend:"Ext.dd.DDTarget",requires:["Ext.dd.ScrollManager"],constructor:function(e,t){this.el=Ext.get(e),Ext.apply(this,t),this.containerScroll&&Ext.dd.ScrollManager.register(this.el),this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:!0}])},containerScroll:!1,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:!0,isNotifyTarget:!0,notifyEnter:function(e,t,i){return this.overClass&&this.el.addCls(this.overClass),this.dropAllowed},notifyOver:function(e,t,i){return this.dropAllowed},notifyOut:function(e,t,i){this.overClass&&this.el.removeCls(this.overClass)},notifyDrop:function(e,t,i){return this.overClass&&this.el.removeCls(this.overClass),!1},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.el),this.callParent()}}),Ext.define("Ext.dashboard.DropZone",{extend:"Ext.dd.DropTarget",ddScrollConfig:{vthresh:75,hthresh:-1,animate:!0,increment:200},containerScroll:!0,overClass:Ext.baseCSSPrefix+"dashboard-dd-over",constructor:function(e,t){(this.dashboard=e).body.ddScrollConfig=this.ddScrollConfig,this.callParent([e.body,t])},getOverEvent:function(e,t,i){for(var n,r,o,s,a,l,d,c,u=this.dashboard,h=u.body,f=u.items.items,g=h.getBox(),p=f.length,m=t.getXY(),x=m[0]-g.x+h.getScrollLeft(),E=m[1]-g.y+h.getScrollTop(),y={columnIndex:0,column:null,dashboard:u,above:null,extensible:!1,beforeAfter:0,data:i,panel:i.panel,rawEvent:t,source:e,status:this.dropAllowed},v=0;v<p;v+=2){if(a=(s=f[v]).lastBox.width,f[v+1]&&(a+=f[v+1].lastBox.width),t.within(s.el)){if(y.columnIndex=v,y.column=s,y.extensible=this.isRowExtensible(s.rowIndex),n=Math.min(80,.2*a),y.beforeAfter=n=y.extensible&&(x<n?-1:a-n<x?1:0),!n||!y.extensible)for(o=0,l=(d=s.items.items).length;o<l;++o){if(E<(r=(c=d[o]).el.getHeight())/2){y.above=c;break}E-=r}break}x-=a}return y},notifyOver:function(e,t,i){var n=this.dashboard,r=this.getOverEvent(e,t,i),o=r.column&&r.column.el,s=e.proxy,a=r.above,l=0,t=n.hasListeners;return i.lastOver=r,t.validatedrop&&!1===n.fireEvent("validatedrop",r)||t.beforedragover&&!1===n.fireEvent("beforedragover",r)||(i=e.panelProxy.getProxy(),s.getProxy().setWidth("auto"),o?(l=s=o.getWidth(),r.beforeAfter?(e.panelProxy.moveProxy(o.dom,o.dom.firstChild),l=s/2,i.setWidth(l)):(a?e.panelProxy.moveProxy(a.el.dom.parentNode,a.el.dom):e.panelProxy.moveProxy(o.dom,null),i.setWidth("auto")),i.setStyle({float:"none",clear:"none","margin-left":0<r.beforeAfter?s-l-o.getPadding("lr")+"px":"","margin-top":"7px"})):(o=n.body.getPadding("lr"),i.setStyle({float:"left",clear:"left",margin:"0 7px 0 7px"}),i.setWidth(n.body.getWidth()-o),e.panelProxy.moveProxy(n.body.dom.firstChild.firstChild,null)),this.scrollPos=n.body.getScroll(),t.dragover&&n.fireEvent("dragover",r)),r.status},isRowExtensible:function(e){var t=this.dashboard,i=t.getMaxColumns()||1;return Ext.Array.from(t.query(">dashboard-column[rowIndex="+e+"]")).length<i},notifyDrop:function(e,t,i){this.callParent(arguments);var n=this.dashboard,r=i.lastOver,o=r.panel,s=o.ownerCt,a=r.column,l=a?r.beforeAfter:1,d=s.items.indexOf(o),c=a?r.above?a.items.indexOf(r.above):a.items.getCount():0,u=n.hasListeners;if(s===a){if(1===s.items.getCount())return;if(!l&&(d<c&&--c,d===c))return}u.validatedrop&&!1===n.fireEvent("validatedrop",r)||u.beforedrop&&!1===n.fireEvent("beforedrop",r)||(Ext.suspendLayouts(),o.isMoving=!0,l&&((d=n.items.indexOf(a))<0?d=n.items.getCount():0<l&&++d,l=n.createColumn(),a?(l.columnWidth=a.columnWidth=a.columnWidth/2,delete a.width):l.columnWidth=1,a=n.insert(d,l),c=0),o.el.dom.style.display="",a.insert(c,o),o.isMoving=!1,a.updateLayout(),Ext.resumeLayouts(!0),u.drop&&n.fireEvent("drop",r))}}),Ext.define("Ext.dashboard.Part",{mixins:["Ext.mixin.Factoryable","Ext.mixin.Identifiable"],requires:["Ext.util.ObjectTemplate"],alias:"part.part",factoryConfig:{type:"part"},isPart:!0,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(e){this.initConfig(e)},applyViewTemplate:function(e){return Ext.isObject(e)||Ext.raise("The viewTemplate for "+this.$className+" is not an Object"),Ext.util.ObjectTemplate.create(e,this.viewTemplateOptions)},displayForm:function(e,t,i,n){i.call(n||this,{})},createView:function(e){var t=this.getViewTemplate().apply(e);return t.dashboard=this.getDashboard(),t.part=this,t._partConfig=e,t}}),Ext.define("Ext.dashboard.Dashboard",{extend:"Ext.panel.Panel",xtype:"dashboard",requires:["Ext.layout.container.Dashboard","Ext.dashboard.DropZone","Ext.dashboard.Column","Ext.dashboard.Part"],isDashboard:!0,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",defaultType:"dashboard-column",scrollable:!0,layout:null,stateful:!1,idSeed:1,config:{parts:null},renderConfig:{maxColumns:4},initComponent:function(){this.layout||(this.layout={type:"dashboard"}),this.callParent()},applyParts:function(e,t){var i,n;for(i in t=t||new Ext.util.Collection({decoder:Ext.Factory.part}),e)n=e[i],Ext.isString(n)&&(n={type:n}),n.id=i,n.dashboard=this,t.add(n);return t},getPart:function(e){return this.getParts().getByKey(e)},addNew:function(t,i,n){var r=this;r.getPart(t).displayForm(null,null,function(e){e.type=t,r.addView(e,i,n)})},addView:function(e,t,i){var n,r=this.query("dashboard-column"),o=r.length,s=t||0,t=e.id?e:this.createView(e),e=this.columnWidths;return o||(r=[n=this.add(0,this.createColumn({columnWidth:Ext.isArray(e)?e[0]:1}))],o=1),o<=s&&(s=o-1,i=1),!i&&(n=r[s])?n.add(t):(0<i&&++s,n=this.createColumn(),e&&(n.columnWidth=e[s]||(e[s]=1)),n.items||(n.items=[]),n.items.push(t),(n=this.add(n)).items.first())},createColumn:function(e){var t=this.cycleLayout;return Ext.apply({items:[],bubbleEvents:["add","remove","childmove","resize"],listeners:{remove:this.onRemoveItem,expand:t,collapse:t,scope:this}},e)},createView:function(e){var t=e.type,e=this.getPart(t).createView(e);return e.id||(e.id=this.id+"_"+t+this.idSeed++),e.bubbleEvents=Ext.Array.from(e.bubbleEvents).concat(["expand","collapse"]),e.stateful=this.stateful,e},initEvents:function(){this.callParent(),this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},cycleLayout:function(){this.updateLayout()},doDestroy:function(){this.dd&&Ext.destroy(this.dd),this.callParent()},applyState:function(e){delete e.items;this.callParent([e]);var t,i,n=e.columnWidths,r=this.items.items,o=r.length;if(n)for(i=n.length,this.columnWidths=[],t=0;t<o;++t)this.columnWidths.push(r[t].columnWidth=t<i?n[t]:1/o)},getState:function(){for(var e,t=[],i=this.items.items,n=this.callParent()||{},r=i.length,o=0;o<r;++o)(e=i[o]).isSplitter||t.push(e.columnWidth);return n.columnWidths=t,n.idSeed=this.idSeed,n.items=this.serializeItems(),this.columnWidths=t,n},initItems:function(){var e,t=this.defaultContent;this.stateful&&(t=(e=Ext.state.Manager.get(this.getStateId()))&&e.items||t),!this.items&&t&&(this.items=this.deserializeItems(t)),this.callParent()},deserializeItems:function(e){for(var t,i,n,r=e.length,o=[],s=this.columnWidths,a=this.getMaxColumns(),l=0;l<r;++l)n=e[l],i=Math.min(n.columnIndex||0,a-1),delete n.columnIndex,(t=o[i])||(o[i]=t=this.createColumn(),(i=s&&s[i])&&(t.columnWidth=i)),n=this.createView(n),t.items.push(n);for(l=0,r=o.length;l<r;++l)(t=o[l]).columnWidth||(t.columnWidth=1/r);return o},serializeItem:function(e){return Ext.apply({type:e.part.id,id:e.id,columnIndex:e.columnIndex},e._partConfig)},serializeItems:function(){for(var e,t,i,n,r,o=this.items.items,s=o.length,a=[],l=0,d=0;d<s;++d)if(!(i=o[d]).isSplitter){for(n=0,r=(t=i.items.items).length;n<r;++n)(e=t[n]).columnIndex=l,a.push(this.serializeItem(e));++l}return a},onRemoveItem:function(e,t){t.stateful&&!t.isMoving&&Ext.state.Manager.clear(t.getStateId())}}),Ext.define("Ext.dd.DragZone",{extend:"Ext.dd.DragSource",constructor:function(e,t){this.callParent([e,t]),(t=this.containerScroll)&&(e=this.scrollEl||e,e=Ext.get(e),Ext.isObject(t)&&(e.ddScrollConfig=t),Ext.dd.ScrollManager.register(e))},getDragData:function(e){return Ext.dd.Registry.getHandleFromEvent(e)},onInitDrag:function(e,t){return this.proxy.update(this.dragData.ddel.cloneNode(!0)),this.onStartDrag(e,t),!0},getRepairXY:function(e){return Ext.fly(this.dragData.ddel).getXY()},destroy:function(){this.containerScroll&&Ext.dd.ScrollManager.unregister(this.scrollEl||this.el),this.callParent()}}),Ext.define("Ext.dd.Registry",{singleton:!0,constructor:function(){this.elements={},this.handles={},this.autoIdSeed=0},getId:function(e,t){if("string"==typeof e)return e;var i=e.id;return i||!1===t||(i="extdd-"+ ++this.autoIdSeed,e.id=i),i},register:function(e,t){if(t=t||{},"string"==typeof e&&(e=document.getElementById(e)),t.ddel=e,!1!==(this.elements[this.getId(e)]=t).isHandle&&(this.handles[t.ddel.id]=t),t.handles)for(var i=t.handles,n=0,r=i.length;n<r;n++)this.handles[this.getId(i[n])]=t},unregister:function(e){var t,i,n,r=this.getId(e,!1),e=this.elements[r];if(e&&(delete this.elements[r],e.handles))for(i=0,n=(t=e.handles).length;i<n;i++)delete this.handles[this.getId(t[i],!1)]},getHandle:function(e){return"string"!=typeof e&&(e=e.id),this.handles[e]},getHandleFromEvent:function(e){e=e.getTarget();return e?this.handles[e.id]:null},getTarget:function(e){return"string"!=typeof e&&(e=e.id),this.elements[e]},getTargetFromEvent:function(e){e=e.getTarget();return e?this.elements[e.id]||this.handles[e.id]:null}}),Ext.define("Ext.dd.DropZone",{extend:"Ext.dd.DropTarget",requires:["Ext.dd.Registry"],getTargetFromEvent:function(e){return Ext.dd.Registry.getTargetFromEvent(e)},onNodeEnter:function(e,t,i,n){},onNodeOver:function(e,t,i,n){return this.dropAllowed},onNodeOut:function(e,t,i,n){},onNodeDrop:function(e,t,i,n){return!1},onContainerOver:function(e,t,i){return this.dropNotAllowed},onContainerDrop:function(e,t,i){return!1},notifyEnter:function(e,t,i){return this.callParent([e,t,i]),this.dropNotAllowed},notifyOver:function(e,t,i){var n=this,r=n.getTargetFromEvent(t);return r?(n.lastOverNode!==r&&(n.lastOverNode&&n.onNodeOut(n.lastOverNode,e,t,i),n.onNodeEnter(r,e,t,i),n.lastOverNode=r),n.onNodeOver(r,e,t,i)):(n.lastOverNode&&(n.onNodeOut(n.lastOverNode,e,t,i),n.lastOverNode=null),n.onContainerOver(e,t,i))},notifyOut:function(e,t,i){this.callParent([e,t,i]),this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null)},notifyDrop:function(e,t,i){var n=this.getTargetFromEvent(t),n=n?this.onNodeDrop(n,e,t,i):this.onContainerDrop(e,t,i);return this.lastOverNode&&(this.onNodeOut(this.lastOverNode,e,t,i),this.lastOverNode=null),n},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}}),Ext.define("Ext.dom.Layer",{extend:"Ext.Element",alternateClassName:"Ext.Layer",isLayer:!0,constructor:function(e,t){e=e||{};var i,n,r=this,o=Ext.DomHelper,s=e.parentEl,a=s?Ext.getDom(s):document.body,l=e.hideMode,s=Ext.baseCSSPrefix+(e.fixed?"fixed-layer":"layer");t&&((i=Ext.getDom(t)).parentNode||a.appendChild(i)),i=i||o.append(a,e.dh||{tag:"div",cls:s}),e.id&&(i.id=e.id),(a=i.id)&&(n=Ext.cache[a])&&(delete Ext.cache[a],n.dom=null),this.callParent([i]),t&&r.addCls(s),e.preventSync&&(r.preventSync=!0),e.cls&&r.addCls(e.cls),r.constrain=!1!==e.constrain,l?r.setVisibilityMode(Ext.Element[l.toUpperCase()]):e.useDisplay?r.setVisibilityMode(Ext.Element.DISPLAY):r.setVisibilityMode(Ext.Element.VISIBILITY),e.shadow?(r.shadowOffset=e.shadowOffset||4,l={offset:r.shadowOffset,fixed:e.fixed},!0!==e.shadow&&(l.mode=e.shadow),r.enableShadow(l)):r.shadowOffset=0,e.shim&&r.enableShim({fixed:e.fixed}),!0===e.hidden?r.hide():!1===e.hidden&&r.show()}}),Ext.define("Ext.event.publisher.MouseEnterLeave",{extend:"Ext.event.publisher.Dom",type:"mouseEnterLeave"},function(e){var o={mouseover:"mouseenter",mouseout:"mouseleave"};Ext.supports.MouseEnterLeave||e.override({handledDomEvents:["mouseover","mouseout"],handledEvents:["mouseenter","mouseleave"],publishDelegatedDomEvent:function(e){var t,i,n,r=(e=this.callParent([e])).getTarget();(t=e.getRelatedTarget())&&Ext.fly(r).contains(t)||(r=r.id)&&(i=Ext.cache[r])&&(r=o[e.type],e=e.chain({type:r}),i.hasListeners[r]&&(n=(n=i.events[r])&&n.directs)&&(e.setCurrentTarget(i.dom),n.fire(e,e.target)))}}),e.instance=new e}),Ext.define("Ext.flash.Component",{extend:"Ext.Component",alternateClassName:"Ext.FlashComponent",alias:"widget.flash",flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",swfWidth:"100%",swfHeight:"100%",expressInstall:!1,renderTpl:['<div id="{swfId}" role="application"></div>'],initComponent:function(){"swfobject"in window||Ext.raise("The SWFObject library is not loaded. Ext.flash.Component requires SWFObject version 2.2 or later: http://code.google.com/p/swfobject/"),this.url||Ext.raise('The "url" config is required for Ext.flash.Component'),this.callParent()},beforeRender:function(){this.callParent(),Ext.applyIf(this.renderData,{swfId:this.getSwfId()})},afterRender:function(){var e=this,t=Ext.apply({},e.flashParams),i=Ext.apply({},e.flashVars);e.callParent(),t=Ext.apply({allowScriptAccess:"always",bgcolor:e.backgroundColor,wmode:e.wmode},t),i=Ext.apply({allowedDomain:document.location.hostname},i),new swfobject.embedSWF(e.url,e.getSwfId(),e.swfWidth,e.swfHeight,e.flashVersion,e.expressInstall?e.statics.EXPRESS_INSTALL_URL:void 0,i,t,e.flashAttributes,e.swfCallback.bind(e))},swfCallback:function(e){e.success?(this.swf=Ext.get(e.ref),this.onSuccess(),this.fireEvent("success",this)):(this.onFailure(),this.fireEvent("failure",this))},getSwfId:function(){return this.swfId||(this.swfId="extswf"+this.getAutoId())},onSuccess:function(){this.swf.setStyle("visibility","inherit")},onFailure:Ext.emptyFn,doDestroy:function(){var e=this.swf;e&&(swfobject.removeSWF(this.getSwfId()),this.swf=Ext.destroy(e)),this.callParent()},statics:{EXPRESS_INSTALL_URL:"http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf"}}),Ext.define("Ext.form.action.Action",{alternateClassName:"Ext.form.Action",submitEmptyText:!0,constructor:function(e){e&&Ext.apply(this,e);e=e.params;Ext.isString(e)&&(this.params=Ext.Object.fromQueryString(e))},run:Ext.emptyFn,onFailure:function(e){var t=this.form,i=t&&!t.destroying&&!t.destroyed;this.response=e,this.failureType=Ext.form.action.Action.CONNECT_FAILURE,i&&t.afterAction(this,!1)},processResponse:function(e){return!(this.response=e).responseText&&!e.responseXML||(this.result=this.handleResponse(e))},getUrl:function(){return this.url||this.form.url},getMethod:function(){return(this.method||this.form.method||"POST").toUpperCase()},getParams:function(){return Ext.apply({},this.params,this.form.baseParams)},createCallback:function(){return{success:this.onSuccess,failure:this.onFailure,scope:this,timeout:1e3*(this.timeout||this.form.timeout)}},statics:{CLIENT_INVALID:"client",SERVER_INVALID:"server",CONNECT_FAILURE:"connect",LOAD_FAILURE:"load"}}),Ext.define("Ext.form.action.Load",{extend:"Ext.form.action.Action",requires:["Ext.data.Connection"],alternateClassName:"Ext.form.Action.Load",alias:"formaction.load",type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(),{method:this.getMethod(),url:this.getUrl(),headers:this.headers,params:this.getParams()}))},onSuccess:function(e){var t=this.processResponse(e),i=this.form,e=i&&!i.destroying&&!i.destroyed;if(!0===t||!t.success||!t.data)return this.failureType=Ext.form.action.Action.LOAD_FAILURE,void(e&&i.afterAction(this,!1));e&&(i.clearInvalid(),i.setValues(t.data),i.afterAction(this,!0))},handleResponse:function(e){var t,i=this.form.reader;return i?(i=(t=i.read(e)).records&&t.records[0]?t.records[0].data:null,{success:t.success,data:i}):Ext.decode(e.responseText)}}),Ext.define("Ext.form.action.Submit",{extend:"Ext.form.action.Action",alternateClassName:"Ext.form.Action.Submit",alias:"formaction.submit",type:"submit",run:function(){var e=this.form;!1===this.clientValidation||e.isValid()?this.doSubmit():(this.failureType=Ext.form.action.Action.CLIENT_INVALID,e.afterAction(this,!1))},doSubmit:function(){var e,t=Ext.apply(this.createCallback(),{url:this.getUrl(),method:this.getMethod(),headers:this.headers}),i=this.form,n=this.jsonSubmit||i.jsonSubmit,r=n?"jsonData":"params";i.hasUpload()?(e=this.buildForm(),t.form=e.formEl,t.isUpload=!0):t[r]=this.getParams(n),Ext.Ajax.request(t),e&&this.cleanup(e)},cleanup:function(e){for(var t,i=e.formEl,n=e.uploadEls,r=e.uploadFields,o=r.length,s=0;s<o;++s)(t=r[s]).clearOnSubmit||t.restoreInput(n[s]);i&&Ext.removeNode(i)},getParams:function(e){var t=this.callParent(),e=this.form.getValues(!1,!1,!1!==this.submitEmptyText,e,!0);return Ext.apply({},e,t)},buildForm:function(){for(var e,t,i,n,r,o,s,a=this,l=[],d=a.form,c=a.getParams(),u=[],h=[],f=d.getFields().items,g=f.length,p=0;p<g;++p)(t=f[p]).isFileUpload()&&u.push(t);for(i in c)if(c.hasOwnProperty(i))if(n=c[i],Ext.isArray(n))for(o=n.length,r=0;r<o;r++)l.push(a.getFieldConfig(i,n[r]));else l.push(a.getFieldConfig(i,n));for((d={tag:"form",role:"presentation",action:a.getUrl(),method:a.getMethod(),target:a.target?Ext.isString(a.target)?a.target:Ext.fly(a.target).dom.name:"_self",style:"display:none",cn:l}).target||Ext.raise("Invalid form target."),u.length&&(d.encoding=d.enctype="multipart/form-data"),e=Ext.DomHelper.append(Ext.getBody(),d),g=u.length,p=0;p<g;++p)s=u[p].extractFileInput(),e.appendChild(s),h.push(s);return{formEl:e,uploadFields:u,uploadEls:h}},getFieldConfig:function(e,t){return{tag:"input",type:"hidden",name:e,value:Ext.String.htmlEncode(t)}},onSuccess:function(e){var t=this.form,i=t&&!t.destroying&&!t.destroyed,n=!0,e=this.processResponse(e);!0===e||e.success||(e.errors&&i&&t.markInvalid(e.errors),this.failureType=Ext.form.action.Action.SERVER_INVALID,n=!1),i&&t.afterAction(this,n)},handleResponse:function(e){var t,i,n,r,o,s=this.form.errorReader;if(s){if(t=[],r=(s=s.read(e)).records)for(i=0,n=r.length;i<n;i++)t[i]=r[i].data;t.length<1&&(t=null),o={success:s.success,errors:t}}else try{o=Ext.decode(e.responseText)}catch(e){o={success:!1,errors:[]}}return o}}),Ext.define("Ext.form.action.StandardSubmit",{extend:"Ext.form.action.Submit",alias:"formaction.standardsubmit",doSubmit:function(){var e=this.buildForm();e.formEl.submit(),this.cleanup(e)}}),Ext.define("Ext.util.ComponentDragger",{extend:"Ext.dd.DragTracker",autoStart:500,constructor:function(e,t){this.comp=e,this.initialConstrainTo=t.constrainTo,this.callParent([t])},onStart:function(e){var t=this,i=t.comp;t.dragTarget=t.el,t.startRegion=t.el.getRegion(),t.startPosition=i.getXY(),i.ghost&&!i.liveDrag&&(t.proxy=i.ghost()),(t.constrain||t.constrainDelegate)&&(t.constrainTo=t.calculateConstrainRegion()),i.beginDrag&&i.beginDrag(),i.el.shim&&Ext.dom.Element.maskIframes()},calculateConstrainRegion:function(){var e=this.comp,t=this.initialConstrainTo||this.comp.el.dom.parentNode,i=e.constraintInsets,n=(this.proxy||e).el,r=n.shadow,r=r&&!this.constrainDelegate&&e.constrainShadow&&!r.disabled?r.getShadowSize():0,t=t instanceof Ext.util.Region?t.copy():Ext.fly(t).getConstrainRegion();return i&&(i=Ext.isObject(i)?i:Ext.Element.parseBox(i),t.adjust(i.top,i.right,i.bottom,i.left)),r&&t.adjust(r[0],-r[1],-r[2],r[3]),this.constrainDelegate&&(r=Ext.fly(this.handle).getRegion(),n=n.getRegion(),t.adjust(n.top-r.top,n.right-r.right,n.bottom-r.bottom,n.left-r.left)),t},onDrag:function(e){var t=this.proxy&&!this.comp.liveDrag?this.proxy:this.comp,i=this.getOffset(this.constrain||this.constrainDelegate?"dragTarget":null);t.setPagePosition(this.startPosition[0]+i[0],this.startPosition[1]+i[1])},onEnd:function(e){var t=this.comp;t.destroyed||t.destroying||(this.proxy&&!t.liveDrag&&t.unghost(),t.endDrag&&t.endDrag(),t.el.shim&&Ext.dom.Element.unmaskIframes())}}),Ext.define("Ext.window.Window",{extend:"Ext.panel.Panel",alternateClassName:"Ext.Window",requires:["Ext.util.ComponentDragger","Ext.util.Region"],alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:!0,draggable:!0,constrain:!1,constrainHeader:!1,plain:!1,minimizable:!1,maximizable:!1,minHeight:50,minWidth:50,expandOnShow:!0,collapsible:!1,closable:!0,hidden:!0,autoRender:!0,hideMode:"offsets",floating:!0,alignOnScroll:!1,itemCls:Ext.baseCSSPrefix+"window-item",overlapHeader:!0,ignoreHeaderBorderManagement:!0,alwaysFramed:!0,isRootCfg:{isRoot:!0},isWindow:!0,ariaRole:"dialog",focusable:!0,tabGuard:!0,closeToolText:"Close dialog",keyMap:{scope:"this",ESC:"onEsc"},maskClickAction:"focus",disableCloseToolFocus:!0,initComponent:function(){this.frame=!1,this.callParent(),this.plain&&this.addClsWithUI("plain"),this.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var e=this.callParent();return e.tabIndex=-1,e},getFocusEl:function(){return this.getDefaultFocus()||this.el},getState:function(){var e=this.callParent()||{},t=!!this.maximized,i=this.ghostBox,i=(e.maximized=t)?this.restorePos:i?[i.x,i.y]:this.getPosition(!0);return Ext.apply(e,{size:t?this.restoreSize:this.getSize(),pos:i}),e},applyState:function(e){e&&(this.maximized=e.maximized,this.maximized?(this.hasSavedRestore=!0,this.restoreSize=e.size,this.restorePos=e.pos):Ext.apply(this,{width:e.size.width,height:e.size.height,x:e.pos[0],y:e.pos[1]}))},onRender:function(e,t){this.callParent(arguments),this.header&&this.header.on({scope:this,click:this.onHeaderClick}),this.maximizable&&this.header.on({scope:this,dblclick:this.toggleMaximize})},afterRender:function(){var e=this.header;this.maximized&&(this.maximized=!1,this.maximize(null,!0),e&&e.removeCls(e.indicateDragCls)),this.callParent(),this.initTabGuards()},onEsc:function(e){e.stopEvent(),this.close()},doDestroy:function(){this.rendered&&(Ext.un("resize",this.onWindowResize,this),delete this.animateTarget,this.hide()),this.callParent()},addTools:function(){var e=[];this.callParent(),this.minimizable&&e.push({type:"minimize",handler:"minimize",scope:this}),this.maximizable&&e.push({type:"maximize",handler:"toggleMaximize",scope:this}),e.length&&this.addTool(e)},addTool:function(e){this.callParent([e]),this.rendered&&this.tabGuard&&this.initTabGuards()},add:function(){var e=this.callParent(arguments);return this.rendered&&this.tabGuard&&this.initTabGuards(),e},remove:function(){var e=this.callParent(arguments);return this.rendered&&this.tabGuard&&this.initTabGuards(),e},addDocked:function(){var e=this.callParent(arguments);return this.rendered&&this.tabGuard&&this.initTabGuards(),e},removeDocked:function(){var e=this.callParent(arguments);return this.rendered&&this.tabGuard&&this.initTabGuards(),e},onShow:function(){this.callParent(arguments),this.expandOnShow&&this.expand(!1),this.syncMonitorWindowResize(),this.rendered&&this.tabGuard&&this.initTabGuards()},doClose:function(){var e=this;e.hidden?(e.fireEvent("close",e),"destroy"!==e.closeAction||e.destroying||e.destroyed||e.destroy()):e.hide(e.animateTarget,e.doClose,e)},afterHide:function(){this.syncMonitorWindowResize(),this.callParent(arguments),this.rendered&&this.tabGuard&&this.initTabGuards()},onWindowResize:function(){var e;this.destroyed||(this.maximized?this.fitContainer():(((e=this.getSizeModel()).width.natural||e.height.natural)&&this.updateLayout(),this.doConstrain()))},minimize:function(){return this.fireEvent("minimize",this),this},resumeHeaderLayout:function(e){this.header.resumeLayouts(e?this.isRootCfg:null)},afterCollapse:function(){var e=this.header,t=this.tools;e&&this.maximizable&&(e.suspendLayouts(),t.maximize.hide(),this.resumeHeaderLayout(!0)),this.resizer&&this.resizer.disable(),this.callParent(arguments)},afterExpand:function(){var e,t=this.header,i=this.tools;t&&(t.suspendLayouts(),this.maximizable&&(i.maximize.show(),e=!0),this.resumeHeaderLayout(e)),this.resizer&&this.resizer.enable(),this.callParent(arguments)},maximize:function(e,t){var i,n=this,r=n.header,o=n.tools,s=n.width,a=n.height;return n.maximized||n.maximizing||(n.maximizing=!0,n.expand(!1),n.hasSavedRestore||(n.restoreSize={width:s||null,height:a||null},n.restorePos=t?[n.x||0,n.y||0]:n.getPosition()),r&&(r.suspendLayouts(),o.maximize&&o.maximize.setType("restore"),n.collapseTool&&(n.collapseTool.hide(),i=!0),n.resumeHeaderLayout(i)),n.el.disableShadow(),n.dd&&(n.dd.disable(),r&&r.removeCls(r.indicateDragCls)),n.resizer&&n.resizer.disable(),n.el.addCls(Ext.baseCSSPrefix+"window-maximized"),n.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct"),n.syncMonitorWindowResize(),n.fitContainer(e=e||n.animateTarget?{callback:function(){n.maximizing=!1,n.maximized=!0,t||n.fireEvent("maximize",n)}}:null),e||(n.maximizing=!1,n.maximized=!0,t||n.fireEvent("maximize",n))),n},restore:function(e){var t,i=this,n=i.tools,r=i.header,o=i.restoreSize;return i.maximized&&(i.hasSavedRestore=null,i.removeCls(Ext.baseCSSPrefix+"window-maximized"),r&&(r.suspendLayouts(),n.maximize&&n.maximize.setType("maximize"),i.collapseTool&&(i.collapseTool.show(),t=!0),i.resumeHeaderLayout(t)),o.x=i.restorePos[0],o.y=i.restorePos[1],i.setBox(o,e=e||i.animateTarget?{callback:function(){i.el.enableShadow(null,!0),i.maximized=!1,i.fireEvent("restore",i)}}:null),i.restorePos=i.restoreSize=null,i.dd&&(i.dd.enable(),r&&r.addCls(r.indicateDragCls)),i.resizer&&i.resizer.enable(),i.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct"),i.syncMonitorWindowResize(),e||(i.el.enableShadow(null,!0),i.maximized=!1,i.fireEvent("restore",i))),i},syncMonitorWindowResize:function(){var e=this,t=e._monitoringResize,i=e.monitorResize||e.constrain||e.constrainHeader||e.maximized,n=e.hidden||e.destroying||e.destroyed;i&&!n?t||(Ext.on("resize",e.onWindowResize,e,{buffer:1}),e._monitoringResize=!0):t&&(Ext.un("resize",e.onWindowResize,e),e._monitoringResize=!1)},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var e=this.callParent(arguments);return e.xtype="window",e.focusOnToFront=!1,e},getDefaultFocus:function(){var e,t,i=this.defaultFocus;return void 0!==i&&(Ext.isNumber(i)?e=this.query("button")[i]:Ext.isString(i)?(t=i,Ext.validIdRe.test(t)&&(e=this.down(Ext.makeIdSelector(t))),e=e||this.down(t)):i.focus&&(e=i)),e},privates:{initDraggable:function(){this.initSimpleDraggable()},onHeaderClick:function(e,t){var i;e.el.contains(t.getTarget())&&(i=this.getDefaultFocus())&&i.focus()},initResizable:function(e){this.callParent([e]),(this.maximized||this.maximizing)&&this.resizer.disable()},initSimpleDraggable:function(){var e;this.callParent(),((e=this.dd)&&this.maximized||this.maximizing)&&e.disable()},onTabGuardFocusEnter:function(e,t){var i,n,r=this.el,o=this.tabGuardBeforeEl,s=this.tabGuardAfterEl,a=e.relatedTarget,l=r.findTabbableElements({skipSelf:!0});l[0]===o.dom&&l.shift(),l[l.length-1]===s.dom&&l.pop(),0===l.length?n=r:i=a!==r.dom&&r.contains(a)?!!e.forwardTab:t===o.dom,(n=n||(i?l[0]:l[l.length-1]))&&n.focus()}}}),Ext.define("Ext.form.Labelable",{extend:"Ext.Mixin",requires:["Ext.XTemplate","Ext.overrides.dom.Element"],isLabelable:!0,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl","ariaErrorEl","ariaStatusEl","ariaHelpEl","labelTextEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{childElCls} {unselectableCls}" style="{labelStyle}"','<tpl if="inputId && !skipLabelForAttribute"> for="{inputId}"</tpl>'," {labelAttrTpl}>",'<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<span id="{id}-labelTextEl" data-ref="labelTextEl" class="{labelTextCls}">','<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">{labelSeparator}</tpl>',"</tpl>","</span>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" role="presentation"',' class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}",'<tpl if="renderAriaElements">','<tpl if="ariaHelp">','<span id="{id}-ariaHelpEl" data-ref="ariaHelpEl"',' class="'+Ext.baseCSSPrefix+'hidden-offsets">',"{ariaHelp}","</span>","</tpl>",'<span id="{id}-ariaStatusEl" data-ref="ariaStatusEl" aria-hidden="true"',' class="'+Ext.baseCSSPrefix+'hidden-offsets">',"{ariaStatus}","</span>",'<span id="{id}-ariaErrorEl" data-ref="ariaErrorEl" aria-hidden="true" aria-live="assertive"',' class="'+Ext.baseCSSPrefix+'hidden-clip">',"</span>","</tpl>","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="presentation" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{tipAnchorTarget}">',"</div>","</div>","</tpl>",{disableFormats:!0}],activeErrorsTpl:void 0,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],ariaActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl for="errors" between=". ">{.}</tpl>',"</tpl>"],isFieldLabelable:!0,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",labelTextCls:Ext.baseCSSPrefix+"form-item-label-text",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",noLabelCls:Ext.baseCSSPrefix+"form-item-no-label",fieldBodyCls:"",extraFieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:void 0,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:!1,hideEmptyLabel:!0,preventMark:!1,autoFitErrors:!0,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:!0,ariaHelp:void 0,ariaErrorText:"Input error. {0}.",labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var e,t=this.tip;t||(e={id:"ext-form-error-tip",sticky:!0,ui:"form-invalid"},Ext.supports.Touch&&(e.dismissDelay=0,e.anchor="top",e.showDelay=0,e.showOnTap=!0,e.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.activeTarget.el).getWidth()}}),t=this.tip=Ext.create("Ext.tip.QuickTip",e),(e=Ext.apply({},t.tagConfig)).attribute="errorqtip",t.setTagConfig(e))},destroyTip:function(){this.tip=Ext.destroy(this.tip)}},initLabelable:function(){var e=this,t=e.padding;t&&(e.padding=void 0,e.extraMargins=Ext.Element.parseBox(t)),Ext.isIE8&&(e.restoreDisplay=Ext.Function.createDelayed(e.doRestoreDisplay,0,e)),e.activeErrorsTpl||("title"===e.msgTarget?e.activeErrorsTpl=e.plaintextActiveErrorsTpl:e.activeErrorsTpl=e.htmlActiveErrorsTpl),e.addCls([e.formItemCls,e.formItemCls+"-"+e.ui]),e.lastActiveError="",e.enableBubble("errorchange")},trimLabelSeparator:function(){var e=this.labelSeparator,t=this.fieldLabel||"";return t.substr(t.length-1)===e?t.slice(0,-1):t},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(e){e=e||"";var t=this,i=t.labelSeparator,n=(t.labelEl,t.errorWrapEl),r="top"!==t.labelAlign,o=t.noLabelCls,s=t.errorWrapUnderSideLabelCls;t.fieldLabel=e,t.rendered&&(Ext.isEmpty(e)&&t.hideEmptyLabel?(t.addCls(o),r&&n&&n.removeCls(s)):(i&&(e=t.trimLabelSeparator()+i),t.labelTextEl.dom.innerHTML=e,t.removeCls(o),r&&n&&n.addCls(s)),t.updateLayout())},setHideLabel:function(e){e!==this.hideLabel&&(this.hideLabel=e,this.rendered&&(this[e?"addCls":"removeCls"](this.noLabelCls),this.updateLayout()))},setHideEmptyLabel:function(e){e!==this.hideEmptyLabel&&(this.hideEmptyLabel=e,this.rendered&&!this.hideLabel&&(e=e&&!this.getFieldLabel(),this[e?"addCls":"removeCls"](this.noLabelCls),this.updateLayout()))},getInsertionRenderData:function(e,t){for(var i,n,r=t.length;r--;)(n=this[i=t[r]])&&"string"!=typeof n&&(n.isTemplate||(n=Ext.XTemplate.getTpl(this,i)),n=n.apply(e)),e[i]=n||"";return e},getLabelableRenderData:function(){var e,t=this,i=t.labelAlign,n="top"===i,r="right"===i,o="side"===t.msgTarget,s="under"===t.msgTarget,a=t.errorMsgCls,l=t.labelPad,d=t.labelWidth,c=t.labelClsExtra||"",u=o?t.errorWrapSideCls:t.errorWrapUnderCls,h="",f="",g=t.hasVisibleLabel(),p=t.autoFitErrors,i=t.defaultBodyWidth;return n?(c+=" "+t.topLabelCls,l&&(f="padding-bottom:"+l+"px;"),o&&!p&&(c+=" "+t.topLabelSideErrorCls)):(r&&(c+=" "+t.rightLabelCls),l&&(h+=t.getHorizontalPaddingStyle()+l+"px;"),h+="width:"+(d+(l||0))+"px;",f="width:"+d+"px"),g&&!n&&s&&(u+=" "+t.errorWrapUnderSideLabelCls),i&&(e="min-width:"+i+"px;max-width:"+i+"px;"),p={id:t.id,inputId:t.getInputId(),labelCls:t.labelCls,labelClsExtra:c,labelStyle:h+(t.labelStyle||""),labelInnerStyle:f,labelInnerCls:t.labelInnerCls,labelTextCls:t.labelTextCls,skipLabelForAttribute:!!t.skipLabelForAttribute,unselectableCls:Ext.Element.unselectableCls,bodyStyle:e,baseBodyCls:t.baseBodyCls,fieldBodyCls:t.fieldBodyCls,extraFieldBodyCls:t.extraFieldBodyCls,errorWrapCls:t.errorWrapCls,errorWrapExtraCls:u,renderError:o||s,invalidMsgCls:o?t.invalidIconCls:s?t.invalidUnderCls:"",errorMsgCls:a,growCls:t.grow?t.growCls:"",tipAnchorTarget:t.id+"-inputEl",errorWrapStyle:o&&!p?"visibility:hidden":"display:none",fieldLabel:t.getFieldLabel(),labelSeparator:t.labelSeparator,renderAriaElements:!!t.renderAriaElements,ariaStatus:""},t.ariaHelp&&(p.ariaHelp=Ext.String.htmlEncode(t.ariaHelp)),t.getInsertionRenderData(p,t.labelableInsertions),p},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){this.setFieldDefaults(this.getInherited().fieldDefaults),this.ownerLayout&&this.addCls(Ext.baseCSSPrefix+this.ownerLayout.type+"-form-item"),this.hasVisibleLabel()||this.addCls(this.noLabelCls)},onLabelRender:function(){var e,t,i={},n=Ext.Element,r=this.errorWrapEl;if(r&&r.setVisibilityMode("side"!==this.msgTarget||this.autoFitErrors?n.DISPLAY:n.VISIBILITY),this.extraMargins){for(t in e=this.el.getMargin())e.hasOwnProperty(t)&&(i["margin-"+t]=e[t]+this.extraMargins[t]+"px");this.el.setStyle(i)}},hasVisibleLabel:function(){return!this.hideLabel&&!(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return!!this.getActiveError()},setActiveError:function(e){this.setActiveErrors(e)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(e){var t,i,n,r=this,o=r.errorWrapEl,s=r.msgTarget,a="side"===s,l="qtip"===s,d=r.ariaErrorEl;e=Ext.Array.from(e),i=r.lookupTpl("activeErrorsTpl"),r.activeErrors=e,t=r.activeError=i.apply({fieldLabel:r.fieldLabel,errors:e,listCls:Ext.baseCSSPrefix+"list-plain"}),r.renderActiveError(),r.rendered&&(n=r.getActionEl(),a?r.errorEl.dom.setAttribute("data-errorqtip",t):l?n.dom.setAttribute("data-errorqtip",t):"title"===s&&n.dom.setAttribute("title",t),"title"!==s&&d&&(i=r.lookupTpl("ariaActiveErrorsTpl").apply({errors:e}),n=Ext.String.formatEncode(r.ariaErrorText,i,r.fieldLabel),d.dom.innerHTML!==n&&(d.dom.innerHTML=n),r.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(i)),(a||l)&&Ext.form.Labelable.initTip(),r.msgTargets[s]||(s=Ext.get(s))&&(s.dom.innerHTML=t)),o&&(o.setVisible(0<e.length),a&&r.autoFitErrors&&r.labelEl.addCls(r.topLabelSideErrorCls),r.updateLayout())},unsetActiveError:function(){var e,t=this,i=t.errorWrapEl,n=t.ariaErrorEl,r=t.msgTarget,o=t.restoreDisplay;t.hasActiveError()&&(delete t.activeError,delete t.activeErrors,t.renderActiveError(),t.rendered&&(e=t.getActionEl(),"qtip"===r?e.dom.removeAttribute("data-errorqtip"):"title"===r&&e.dom.removeAttribute("title"),"title"!==r&&n&&(n.dom.innerHTML=t.ariaStatusEl.dom.innerHTML=""),t.msgTargets[r]||(n=Ext.get(r))&&(n.dom.innerHTML=""),i&&(i.hide(),"side"===r&&t.autoFitErrors&&t.labelEl.removeCls(t.topLabelSideErrorCls),t.updateLayout(),o&&(t.el.dom.style.display="block",t.restoreDisplay()))))},doRestoreDisplay:function(){var e=this.el;e&&e.dom&&(e.dom.style.display="")},renderActiveError:function(){var e=this,t=e.getActiveError(),i=!!t;t!==e.lastActiveError&&(e.lastActiveError=t,e.fireEvent("errorchange",e,t)),!e.rendered||e.destroyed||e.preventMark||(e.toggleInvalidCls(i),e.errorEl&&(e.errorEl.dom.innerHTML=t))},toggleInvalidCls:function(e){this.el[e?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(e){for(var t in e)this.hasOwnProperty(t)||(this[t]=e[t])}},function(){Ext.supports.Touch&&(this.prototype.msgTarget="side")}),Ext.define("Ext.rtl.form.Labelable",{override:"Ext.form.Labelable",getHorizontalPaddingStyle:function(){return this.getInherited().rtl?"padding-left:":"padding-right:"}}),Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:!0,config:{validation:null,validationField:null},disabled:!1,submitValue:!0,validateOnChange:!0,valuePublishEvent:"change",suspendCheckChange:0,dirty:!1,initField:function(){var e,t,i=this.valuePublishEvent;this.initValue();var n=this.name;if(n&&-1<Ext.Array.indexOf(["tagName","nodeName","children","childNodes"],n)&&Ext.log.warn(['It is recommended to not use "',n,'" as a field name, because it ',"can cause naming collisions during form submission."].join("")),Ext.isString(i))this.on(i,this.publishValue,this);else for(t=0,e=i.length;t<e;++t)this.on(i[t],this.publishValue,this)},initValue:function(){"value"in this&&(this.suspendCheckChange++,this.setValue(this.value),this.suspendCheckChange--),this.initialValue=this.originalValue=this.lastValue=this.getValue()},cleanupField:function(){delete this._ownerRecord},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(e){return this.value=e,this.checkChange(),this},isEqual:function(e,t){return String(e)===String(t)},isEqualAsString:function(e,t){return String(Ext.valueFrom(e,""))===String(Ext.valueFrom(t,""))},getSubmitData:function(){var e=null;return!this.disabled&&this.submitValue&&((e={})[this.getName()]=""+this.getValue()),e},getModelData:function(e,t){var i=null;return this.disabled||!this.submitValue&&t||((i={})[this.getFieldIdentifier()]=this.getValue()),i},reset:function(){this.beforeReset(),this.setValue(this.originalValue),this.clearInvalid(),delete this.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue(),this.checkDirty()},checkChange:function(){var e,t,i=this;i.suspendCheckChange||i.destroying||i.destroyed||(e=i.getValue(),t=i.lastValue,i.didValueChange(e,t)&&(i.lastValue=e,i.fireEvent("change",i,e,t),i.onChange(e,t)))},didValueChange:function(e,t){return!this.isEqual(e,t)},onChange:function(e){this.validateOnChange&&this.validate(),this.checkDirty()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},isDirty:function(){return!this.disabled&&!this.isEqual(this.getValue(),this.originalValue)},checkDirty:function(){var e=this.isDirty();e!==this.wasDirty&&(this.dirty=e,this.fireEvent("dirtychange",this,e),this.onDirtyChange(e),this.wasDirty=e)},onDirtyChange:Ext.emptyFn,getErrors:function(e){var t,i=[],n=this.getValidationField(),r=this.getValidation();return n&&!0!==(t=n.validate(e,null,null,this._ownerRecord))&&i.push(t),r&&!0!==r&&i.push(r),i},isValid:function(){return this.disabled||Ext.isEmpty(this.getErrors())},validate:function(){return this.checkValidityChange(this.isValid())},checkValidityChange:function(e){return e!==this.wasValid&&(this.wasValid=e,this.fireEvent("validitychange",this,e)),e},setValidationField:function(e,t){this.callParent([e]),this._ownerRecord=t},batchChanges:function(e){try{this.suspendCheckChange++,e()}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return!1},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(e,t){t&&this.validate()},privates:{resetToInitialValue:function(){var e=this.originalValue;this.originalValue=this.initialValue,this.reset(),this.originalValue=e}}}),Ext.define("Ext.form.field.Base",{extend:"Ext.Component",mixins:["Ext.form.Labelable","Ext.form.field.Field"],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],requires:["Ext.util.DelayedTask","Ext.XTemplate"],focusable:!0,shrinkWrap:!0,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',"<tpl if=\"ariaEl == 'inputEl'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"</tpl>",'<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:!0}],defaultBindProperty:"value",autoEl:{role:"presentation"},subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",isTextInput:!0,invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:!0,readOnly:!1,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:!0,hasFocus:!1,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:!1,stretchInputElFixed:!0,ariaEl:"inputEl",renderAriaElements:!0,initComponent:function(){var e=this;e.callParent(),e.subTplData=e.subTplData||{},e.initLabelable(),e.initField(),e.initDefaultName(),e.readOnly&&e.addCls(e.readOnlyCls),e.addCls(Ext.baseCSSPrefix+"form-type-"+e.inputType),e.format&&e.formatText&&!e.ariaHelp&&(e.ariaHelp=Ext.String.format(e.formatText,e.format))},initDefaultName:function(){this.name||(this.name=this.getInputId())},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(e){var t=this,i=t.id,n=t.inputType,r=t.getInputId(),r=Ext.apply({ui:t.ui,id:r,cmpId:i,name:t.name||r,disabled:t.disabled,readOnly:t.readOnly,value:t.getRawValue(),type:n,fieldCls:t.fieldCls,fieldStyle:t.getFieldStyle(),childElCls:e.childElCls,tabIdx:t.tabIndex,inputCls:t.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(t.isTextInput?"text":n),ariaEl:t.ariaEl},t.subTplData);return t.ariaRole&&(e={},t.ariaStaticRoles[t.ariaRole]||(e["aria-hidden"]=!!t.hidden,e["aria-disabled"]=!!t.disabled,n={"aria-invalid":!1,"aria-readonly":!!t.readOnly},t.ariaLabel&&(e["aria-label"]=Ext.String.htmlEncode(t.ariaLabel)),(e=Ext.apply(e,t.getAriaAttributes()))["aria-describedby"]||(t.ariaHelp?n["aria-describedby"]=i+"-ariaStatusEl "+i+"-ariaHelpEl":n["aria-describedby"]=i+"-ariaStatusEl"),r.inputElAriaAttributes=n),"native"!==t.ariaRole&&(e.role=t.ariaRole),t.ariaLabel&&(e["aria-label"]=t.ariaLabel),t.format&&t.formatText&&!r.title&&(e.title=Ext.String.formatEncode(t.formatText,t.format)),r.ariaElAttributes=e),t.getInsertionRenderData(r,t.subTplInsertions),r},getSubTplMarkup:function(e){var t=this.getSubTplData(e),i=this.lookupTpl("preSubTpl"),n=this.lookupTpl("postSubTpl"),e="";return i&&(e+=i.apply(t)),e+=this.lookupTpl("fieldSubTpl").apply(t),n&&(e+=n.apply(t)),e},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(e){var t=this.inputEl;t&&t.applyStyles(e),this.fieldStyle=e},getFieldStyle:function(){var e=this.fieldStyle;return Ext.isObject(e)?Ext.DomHelper.generateStyles(e,null,!0):e||""},onRender:function(){this.callParent(arguments),this.mixins.labelable.self.initTip(),this.renderActiveError()},beforeBlur:function(e){this.validateOnBlur&&this.validate()},onFocusLeave:function(e){this.callParent([e]),this.completeEdit()},completeEdit:Ext.emptyFn,isFileUpload:function(){return"file"===this.inputType},getSubmitData:function(){var e,t=null;return!this.disabled&&this.submitValue&&null!==(e=this.getSubmitValue())&&((t={})[this.getName()]=e),t},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var e=this.inputEl?this.inputEl.getValue():Ext.valueFrom(this.rawValue,"");return this.rawValue=e},setRawValue:function(e){var t=this,i=t.rawValue;return t.transformRawValue.$nullFn||(e=t.transformRawValue(e)),e=Ext.valueFrom(e,""),void 0!==i&&i===e||(t.rawValue=e,t.inputEl&&(t.bindChangeEvents(!1),t.inputEl.dom.value=e,t.bindChangeEvents(!0))),t.rendered&&t.reference&&t.publishState("rawValue",e),e},transformRawValue:Ext.identityFn,valueToRaw:function(e){return""+Ext.valueFrom(e,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var e=this.rawToValue(this.processRawValue(this.getRawValue()));return this.value=e},setValue:function(e){return this.setRawValue(this.valueToRaw(e)),this.mixins.field.setValue.call(this,e)},onBoxReady:function(){this.callParent(arguments),this.setReadOnlyOnBoxReady&&this.setReadOnly(this.readOnly)},onDisable:function(){var e=this.inputEl;this.callParent(),e&&(e.dom.disabled=!0,this.hasActiveError()&&(this.clearInvalid(),this.hadErrorOnDisable=!0)),!1===this.wasValid&&this.checkValidityChange(!0)},onEnable:function(){var e=this,t=e.inputEl,i=e.preventMark;e.callParent(),t&&(t.dom.disabled=!1),void 0!==e.wasValid&&(e.forceValidation=!0,e.preventMark=!e.hadErrorOnDisable,t=e.isValid(),e.forceValidation=!1,e.preventMark=i,e.checkValidityChange(t)),delete e.hadErrorOnDisable},setReadOnly:function(e){var t=this.inputEl,i=this.readOnly;this[(e=!!e)?"addCls":"removeCls"](this.readOnlyCls),this.readOnly=e,t?(t.dom.readOnly=e,t.dom.setAttribute("aria-readonly",e)):this.rendering&&(this.setReadOnlyOnBoxReady=!0),e!==i&&this.fireEvent("writeablechange",this,e)},fireKey:function(e,t){e.isSpecialKey()&&this.fireEvent("specialkey",this,e,t)},initEvents:function(){var e,t,i=this,n=i.inputEl,r=i.onFieldMutation,o=i.checkChangeEvents,s=o.length;if(n)for(i.mon(n,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",i.fireKey,i),e=0;e<s;++e)"propertychange"===(t=o[e])&&(i.usesPropertychange=!0),"textInput"===t&&(i.usesTextInput=!0),i.mon(n,t,r,i);i.callParent()},onFieldMutation:function(e){this.readOnly||"propertychange"===e.type&&this.ignoreChangeRe.test(e.browserEvent.propertyName)||this.startCheckChangeTask()},startCheckChangeTask:function(){var e=this.checkChangeTask;e||(this.checkChangeTask=e=new Ext.util.DelayedTask(this.doCheckChangeTask,this)),this.bindNotifyListener||(this.bindNotifyListener=Ext.on("beforebindnotify",this.onBeforeNotify,this,{destroyable:!0})),e.delay(this.checkChangeBuffer)},doCheckChangeTask:function(){var e=this.bindNotifyListener;e&&(e.destroy(),this.bindNotifyListener=null),this.checkChange()},publishValue:function(){this.rendered&&!this.getErrors().length&&this.publishState("value",this.getValue())},onDirtyChange:function(e){this[e?"addCls":"removeCls"](this.dirtyCls),this.rendered&&this.reference&&this.publishState("dirty",e)},isValid:function(){var e=this.disabled;return this.forceValidation||!e?this.validateValue(this.processRawValue(this.getRawValue())):e},validateValue:function(e){var t=this.getErrors(e),e=Ext.isEmpty(t);return this.preventMark||(e?this.clearInvalid():this.markInvalid(t)),e},markInvalid:function(e){var t=this.getActiveError();this.setActiveErrors(Ext.Array.from(e)),t!==(t=this.getActiveError())&&(this.setError(t),!this.ariaStaticRoles[this.ariaRole]&&this.inputEl&&this.inputEl.dom.setAttribute("aria-invalid",!0))},clearInvalid:function(){var e=this.hasActiveError();delete this.hadErrorOnDisable,this.unsetActiveError(),e&&(this.setError(""),!this.ariaStaticRoles[this.ariaRole]&&this.inputEl&&this.inputEl.dom.setAttribute("aria-invalid",!1))},setError:function(e){var t=this.msgTarget;this.rendered&&("title"===t||"qtip"===t?(t="qtip"===t?"data-errorqtip":"title",this.getActionEl().dom.setAttribute(t,e||"")):this.updateLayout())},renderActiveError:function(){var e=this.hasActiveError(),t=this.invalidCls+"-field";this.inputEl&&this.inputEl[e?"addCls":"removeCls"]([t,t+"-"+this.ui]),this.mixins.labelable.renderActiveError.call(this)},doDestroy:function(){var e=this.checkChangeTask;e&&e.cancel(),Ext.destroy(this.bindNotifyListener),this.cleanupField(),this.callParent()},privates:{applyBind:function(e,t){var i=t&&t.value,e=this.callParent([e,t]);return e&&(t=e.value,this.hasBindingValue=!!t,t!==i&&this.getInherited().modelValidation&&this.updateValueBinding(e)),e},applyRenderSelectors:function(){this.callParent(),this.inputEl||(this.inputEl=this.el.getById(this.getInputId()))},bindChangeEvents:function(e){var t=e?"resumeEvent":"suspendEvent",e=this.inputEl;this.usesPropertychange&&e[t]("propertychange"),this.usesTextInput&&e[t]("textInput")},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.lookupTpl("labelableRenderTpl")),this.callParent()},onBeforeNotify:function(){this.checkChangeTask.cancel(),this.checkChange()},updateValueBinding:function(e){var t=e.value,i=e.$fieldBinding;i&&(i.destroy(),e.$fieldBinding=null),t&&t.bindValidationField&&(this.fieldBinding=t.bindValidationField("setValidationField",this))}},deprecated:{5:{methods:{doComponentLayout:function(){this.bindChangeEvents(!1),this.callParent(arguments),this.bindChangeEvents(!0)}}}}}),Ext.define("Ext.form.field.VTypes",function(){var t=/^[a-zA-Z_]+$/,i=/^[a-zA-Z0-9_]+$/,n=/^(")?(?:[^\."\s])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,r=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:!0,alternateClassName:"Ext.form.VTypes",email:function(e){return n.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return r.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return t.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return i.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()),Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",requires:["Ext.util.ClickRepeater"],mixins:["Ext.mixin.Factoryable"],factoryConfig:{defaultType:"trigger"},repeatClick:!1,hidden:!1,hideOnReadOnly:void 0,tooltip:null,weight:0,preventMouseDown:!0,focusOnMousedown:!1,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>','<tpl if="ariaRole"> role="{ariaRole}"<tpl else> role="presentation"</tpl>',">","{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(e,t){return e.weight-t.weight}},constructor:function(e){var t=this;Ext.apply(t,e),t.compat4Mode&&(e=t.cls,t.focusCls=[t.focusCls,e+"-focus"],t.overCls=[t.overCls,e+"-over"],t.clickCls=[t.clickCls,e+"-click"]),t.validIdRe.test(t.id)||Ext.raise('Invalid trigger "id": "'+t.id+'"')},afterFieldRender:function(){var e=this.tooltip;this.initEvents(),e&&(this.tooltip=null,this.setTooltip(e))},destroy:function(){this.clickRepeater=this.el=Ext.destroy(this.clickRepeater,this.el),this.callParent()},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var e=this.el;this.hidden=!0,e&&e.hide()},initEvents:function(){var e=this,t=e.isFieldEnabled,i=e.getStateEl(),n=e.el;i.addClsOnOver(e.overCls,t,e),i.addClsOnClick(e.clickCls,t,e),e.repeatClick?e.clickRepeater=new Ext.util.ClickRepeater(n,{preventDefault:!0,handler:e.onClick,listeners:{mousedown:e.onClickRepeaterMouseDown,mouseup:e.onClickRepeaterMouseUp,scope:e},scope:e}):e.field.mon(n,{click:e.onClick,mousedown:e.onMouseDown,scope:e})},isFieldEnabled:function(){return!this.field.disabled},isVisible:function(){var e=this.field,t=!1;return!this.hidden&&e&&this.rendered&&!this.destroyed||(t=!0),!t},onClick:function(){var e=arguments,t=this.clickRepeater?e[1]:e[0],i=this.handler,e=this.field;i&&!e.readOnly&&this.isFieldEnabled()&&Ext.callback(this.handler,this.scope,[e,this,t],0,e)},resolveListenerScope:function(e){return this.field.resolveSatelliteListenerScope(this,e)},onMouseDown:function(e){"touch"===e.pointerType||this.field.containsFocus&&!this.focusOnMousedown||this.field.focus(),this.preventMouseDown&&e.preventDefault()},onClickRepeaterMouseDown:function(e,t){t.parentEvent&&"mousedown"!==t.parentEvent.type||this.field.inputEl.focus(),t.preventDefault()},onClickRepeaterMouseUp:function(e){var t=this.field;Ext.callback(this.endHandler,this.scope,[t,this,e],0,t)},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){(this.el=this.field.triggerWrap.selectNode("#"+this.domId,!1)).setVisibilityMode(Ext.Element.DISPLAY),this.rendered=!0},renderBody:function(e){var t=this.bodyTpl;return Ext.apply(e,this.getBodyRenderData()),t?Ext.XTemplate.getTpl(this,"bodyTpl").apply(e):""},renderTrigger:function(e){var t=this,i=t.width,n=t.hidden?"display:none;":"";return i&&(n+="width:"+i),Ext.XTemplate.getTpl(t,"renderTpl").apply({$trigger:t,fieldData:e,ui:e.ui,childElCls:e.childElCls,triggerId:t.domId=t.field.id+"-trigger-"+t.id,cls:t.cls,triggerStyle:n,extraCls:t.extraCls,baseCls:t.baseCls,ariaRole:t.ariaRole})},setHidden:function(e){e!==this.hidden&&this[e?"hide":"show"]()},setTooltip:function(e){var t=this.el;e!==this.tooltip&&(this.tooltip=e,t&&t.dom.setAttribute("data-qtip",Ext.htmlEncode(e)))},setVisible:function(e){this.setHidden(!e)},show:function(){var e=this.el;this.hidden=!1,e&&e.show()}}),Ext.define("Ext.form.field.Text",{extend:"Ext.form.field.Base",alias:"widget.textfield",requires:["Ext.form.field.VTypes","Ext.form.trigger.Trigger","Ext.util.TextMetrics"],alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:!1,triggers:void 0},renderConfig:{editable:!0},growMin:30,growMax:800,growAppend:"W",allowBlank:!0,validateBlank:!1,allowOnlyWhitespace:!0,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",placeholderCoverCls:Ext.baseCSSPrefix+"placeholder-label",requiredCls:Ext.baseCSSPrefix+"form-required-field",ariaRole:"textbox",repeatTriggerClick:!1,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",emptyClsElements:null,needArrowKeys:!0,squashMouseUp:{mouseup:function(e){this.selectOnFocus&&this.inputEl.dom.select()},translate:!1,single:!0,preventDefault:!0},childEls:["triggerWrap","inputWrap","placeholderLabel"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap"',"<tpl if=\"ariaEl == 'triggerWrap'\">",'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",' class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap"',' role="presentation" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:['<tpl if="!Ext.supports.Placeholder">','<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{id}" class="{placeholderCoverCls} {placeholderCoverCls}-{ui}">{placeholder}</label>',"</tpl>","</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var e=this,t=e.emptyCls;!1===e.allowOnlyWhitespace&&(e.allowBlank=!1),e.size&&Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.'),e.size&&(e.defaultBodyWidth=6.5*e.size+20),e.onTrigger1Click||(e.onTrigger1Click=e.onTriggerClick),e.callParent(),e.readOnly&&e.setReadOnly(e.readOnly),e.fieldFocusCls=e.baseCls+"-focus",e.emptyUICls=t+" "+t+"-"+e.ui,e.addStateEvents("change")},initEvents:function(){var e=this,t=e.inputEl;e.callParent(),(e.selectOnFocus||e.emptyText)&&e.mon(t,"mousedown",e.onMouseDown,e),(e.maskRe||e.vtype&&!0!==e.disableKeyFilter&&(e.maskRe=Ext.form.field.VTypes[e.vtype+"Mask"]))&&e.mon(t,"keypress",e.filterKeys,e),e.enableKeyEvents&&e.mon(t,{scope:e,keyup:e.onKeyUp,keydown:e.onKeyDown,keypress:e.onKeyPress})},isEqual:function(e,t){return this.isEqualAsString(e,t)},onChange:function(e,t){this.callParent([e,t]),this.autoSize()},getSubTplData:function(e){var t,i=this,n=i.getRawValue(),r=i.emptyText&&n.length<1,o=i.maxLength;return i.enforceMaxLength&&o!==Number.MAX_VALUE||(o=void 0),i.emptyText&&(t=i.emptyText),(r=(n=Ext.apply(i.callParent([e]),{triggerWrapCls:i.triggerWrapCls,inputWrapCls:i.inputWrapCls,placeholderCoverCls:i.placeholderCoverCls,triggers:i.orderedTriggers,maxLength:o,readOnly:!i.editable||i.readOnly,placeholder:t,value:n,fieldCls:i.fieldCls+(i.allowBlank?"":" "+i.requiredCls)+(r?" "+i.emptyUICls:"")})).inputElAriaAttributes)&&(r["aria-required"]=!i.allowBlank),n},onRender:function(){var e,t=this.getTriggers(),i=[];if(Ext.supports.FixedTableWidthBug&&(this.el._needsTableWidthFix=!0),this.callParent(),t){for(e in this.invokeTriggers("onFieldRender"),t)i.push(t[e].el);this.triggerEl=this.triggerCell=new Ext.CompositeElement(i,!0)}this.inputCell=this.inputWrap},afterRender:function(){this.autoSize(),this.callParent(),this.invokeTriggers("afterFieldRender"),this.emptyClsElements=[this.inputEl]},onMouseDown:function(){this.hasFocus||(this.squashMouseUp.scope=this,Ext.getDoc().on(this.squashMouseUp))},applyTriggers:function(e){var t,i,n,r,o=this,s=o.getHideTrigger(),a=o.readOnly,l=o.orderedTriggers=[],d=o.repeatTriggerClick;if(o.rendered&&Ext.raise("Cannot set triggers after field has already been rendered."),(o.triggerCls&&!e||o.trigger1Cls)&&Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger<n>Cls' are deprecated.  Use 'triggers' instead."),!e)for(e={},o.triggerCls&&!o.trigger1Cls&&(o.trigger1Cls=o.triggerCls),r=1;n=o["trigger"+r+"Cls"];r++)e["trigger"+r]={cls:n,extraCls:Ext.baseCSSPrefix+"trigger-index-"+r,handler:"onTrigger"+r+"Click",compat4Mode:!0,scope:o};for(t in e)e.hasOwnProperty(t)&&((i=e[t]).field=o,i.id=t,(a&&!1!==i.hideOnReadOnly||s&&!1!==i.hidden)&&(i.hidden=!0),d&&!1!==i.repeatClick&&(i.repeatClick=!0),i=e[t]=Ext.form.trigger.Trigger.create(i),l.push(i));return Ext.Array.sort(l,Ext.form.trigger.Trigger.weightComparator),e},invokeTriggers:function(e,t){var i,n,r=this.getTriggers();if(r)for(i in r)r.hasOwnProperty(i)&&(n=r[i])[e].apply(n,t||[])},getTrigger:function(e){return this.getTriggers()[e]},updateHideTrigger:function(e){this.invokeTriggers(e?"hide":"show")},updateEditable:function(e,t){this.setReadOnlyAttr(!e||this.readOnly)},setReadOnly:function(e){var t,i,n=this.getTriggers(),r=this.getHideTrigger();if(e=!!e,this.callParent([e]),this.rendered&&this.setReadOnlyAttr(e||!this.editable),n)for(i in n)!0!==(t=n[i]).hideOnReadOnly&&(!1===t.hideOnReadOnly||r)||t.setVisible(!e)},setReadOnlyAttr:function(e){var t="readonly",i=this.inputEl.dom;e?i.setAttribute(t,t):i.removeAttribute(t),this.ariaStaticRoles[this.ariaRole]||this.inputEl.dom.setAttribute("aria-readonly",!!e)},processRawValue:function(e){var t,i=this.stripCharsRe;return i&&(i.global||(t="g",t+=i.ignoreCase?"i":"",t+=i.multiline?"m":"",i=new RegExp(i.source,t)),(i=e.replace(i,""))!==e&&(this.setRawValue(i),this.lastValue===e&&(this.lastValue=i),e=i)),e},onDisable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="on")},onEnable:function(){this.callParent(),Ext.isIE&&(this.inputEl.dom.unselectable="")},onKeyDown:function(e){this.fireEvent("keydown",this,e)},onKeyUp:function(e){this.fireEvent("keyup",this,e)},onKeyPress:function(e){this.fireEvent("keypress",this,e)},getEmptyText:function(){return this.emptyText},setEmptyText:function(e){var t=this.inputEl;return e=e||"",this.emptyText=e,this.rendered&&(Ext.supports.Placeholder&&!this.simulatePlaceholder?e?t.dom.setAttribute("placeholder",e):t.dom.removeAttribute("placeholder"):this.placeholderLabel.setHtml(e),this.refreshEmptyText()),this},afterFirstLayout:function(){var e;this.callParent(),Ext.isIE&&this.disabled&&((e=this.inputEl)&&(e.dom.unselectable="on"))},toggleInvalidCls:function(e){var t=e?"addCls":"removeCls";this.callParent([e]),this.triggerWrap[t](this.triggerWrapInvalidCls),this.inputWrap[t](this.inputWrapInvalidCls)},onFieldMutation:function(e){this.refreshEmptyText(),this.callParent([e])},refreshEmptyText:function(){var e,t,i,n=this.inputEl,r=this.emptyClsElements;if(n)for(e=this.getValue(),t=!(n.dom.value||Ext.isArray(e)&&e.length),this.placeholderLabel&&this.placeholderLabel.setDisplayed(t),i=0;i<r.length;i++)r[i].toggleCls(this.emptyUICls,t)},setValue:function(e){return e=this.callParent([e]),this.refreshEmptyText(),e},onFocus:function(e){var t,i=this;i.callParent([e]),Ext.asap(function(){i.destroyed||document.activeElement!==i.inputEl.dom||(t=i.inputEl.dom.value.length,i.selectText(i.selectOnFocus?0:t,t))}),i.emptyText&&i.autoSize(),i.addCls(i.fieldFocusCls),i.triggerWrap.addCls(i.triggerWrapFocusCls),i.inputWrap.addCls(i.inputWrapFocusCls),i.invokeTriggers("onFieldFocus",[e])},onBlur:function(e){this.callParent([e]),this.removeCls(this.fieldFocusCls),this.triggerWrap.removeCls(this.triggerWrapFocusCls),this.inputWrap.removeCls(this.inputWrapFocusCls),this.invokeTriggers("onFieldBlur",[e])},filterKeys:function(e){var t;e.ctrlKey&&!e.altKey||e.isSpecialKey()||(t=String.fromCharCode(e.getCharCode()),this.maskRe.test(t)||e.stopEvent())},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(e){this.callParent([e]),e.hasOwnProperty("value")&&this.setValue(e.value)},getErrors:function(e){e=arguments.length?null==e?"":e:this.processRawValue(this.getRawValue());var t,i,n=this,r=n.callParent([e]),o=n.validator,s=n.vtype,a=Ext.form.field.VTypes,l=n.regex,d=Ext.String.format;if(Ext.isFunction(o)&&!0!==(t=o.call(n,e))&&r.push(t),(n.allowOnlyWhitespace?e:Ext.String.trim(e)).length<1){if(n.allowBlank||r.push(n.blankText),!n.validateBlank)return r;i=!0}return!i&&e.length<n.minLength&&r.push(d(n.minLengthText,n.minLength)),e.length>n.maxLength&&r.push(d(n.maxLengthText,n.maxLength)),s&&(a[s](e,n)||r.push(n.vtypeText||a[s+"Text"])),l&&!l.test(e)&&r.push(n.regexText||n.invalidText),r},selectText:function(e,t){var i=this.inputEl.dom,n=i.value.length;0<n&&(e=void 0===e?0:Math.min(e,n),t=void 0===t?n:Math.min(t,n),i.setSelectionRange?i.setSelectionRange(e,t):i.createTextRange&&((i=i.createTextRange()).moveStart("character",e),i.moveEnd("character",t-n),i.select()))},getGrowWidth:function(){return this.inputEl.dom.value},autoSize:function(){var e,t,i,n,r,o=this;if(o.grow&&o.rendered&&o.getSizeModel().width.auto){for(t in n=o.inputEl,e=o.getTriggers(),i=0,r=Ext.util.Format.htmlEncode(o.getGrowWidth()||(o.hasFocus?"":o.emptyText)||""),r+=o.growAppend,e)i+=e[t].el.getWidth();r=n.getTextWidth(r)+i+o.inputWrap.getBorderWidth("lr")+o.triggerWrap.getBorderWidth("lr"),r=Math.min(Math.max(r,o.growMin),o.growMax),o.bodyEl.setWidth(r),o.updateLayout(),o.fireEvent("autosize",o,r)}},doDestroy:function(){this.invokeTriggers("destroy"),Ext.destroy(this.triggerRepeater),this.callParent()},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var e,t=this.getTriggers(),i=0;if(t&&this.rendered)for(e in t)t.hasOwnProperty(e)&&(i+=t[e].el.getWidth());return i}}}}}),Ext.define("Ext.form.field.TextArea",{extend:"Ext.form.field.Text",alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",requires:["Ext.XTemplate","Ext.util.DelayedTask"],fieldSubTpl:['<textarea id="{id}" data-ref="inputEl" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:!0}],growMin:60,growMax:1e3,growAppend:"\n-",enterIsSpecial:!1,preventScrollbars:!1,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",ariaAttributes:{"aria-multiline":!0},constructor:function(e){this.callParent([e]),this.cols&&Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.'),this.rows&&Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')},getSubTplData:function(e){var t=this.getFieldStyle(),i=this.callParent(arguments);return this.grow&&this.preventScrollbars&&(i.fieldStyle=(t||"")+";overflow:hidden;height:"+this.growMin+"px"),i},afterRender:function(){this.callParent(arguments),this.needsMaxCheck=this.enforceMaxLength&&this.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength,this.needsMaxCheck&&this.inputEl.on("paste",this.onPaste,this)},transformRawValue:function(e){return this.stripReturns(e)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(e){return e=this.stripReturns(e),this.callParent([e])},stripReturns:function(e){return e&&"string"==typeof e&&(e=e.replace(this.returnRe,"")),e},onPaste:function(){this.pasteTask||(this.pasteTask=new Ext.util.DelayedTask(this.pasteCheck,this)),this.pasteTask.delay(1)},pasteCheck:function(){var e=this.getValue(),t=this.maxLength;e.length>t&&(e=e.substr(0,t),this.setValue(e))},fireKey:function(e){var t=e.getKey();e.isSpecialKey()&&(this.enterIsSpecial||t!==e.ENTER||e.hasModifier())&&this.fireEvent("specialkey",this,e),t===e.ENTER&&e.stopPropagation(),!this.needsMaxCheck||t===e.BACKSPACE||t===e.DELETE||e.isNavKeyPress()||this.isCutCopyPasteSelectAll(e,t)||this.getValue().length>=this.maxLength&&e.stopEvent()},isCutCopyPasteSelectAll:function(e,t){return!!e.ctrlKey&&(t===e.A||t===e.C||t===e.V||t===e.X)},autoSize:function(){var e,t,i,n=this;n.grow&&n.rendered&&n.getSizeModel().height.auto&&(t=(e=n.inputEl).getWidth(!0),i=Ext.util.Format.htmlEncode(e.dom.value)||"&#160;",i=(i+=n.growAppend).replace(/\n/g,"<br/>"),e=Ext.util.TextMetrics.measure(e,i,t).height+e.getPadding("tb")+n.inputWrap.getBorderWidth("tb")+n.triggerWrap.getBorderWidth("tb"),e=Math.min(Math.max(e,n.growMin),n.growMax),n.bodyEl.setHeight(e),n.updateLayout(),n.fireEvent("autosize",n,e))},doDestroy:function(){var e=this.pasteTask;e&&e.cancel(),this.callParent()}}),Ext.define("Ext.window.MessageBox",{extend:"Ext.window.Window",requires:["Ext.toolbar.Toolbar","Ext.form.field.Text","Ext.form.field.TextArea","Ext.button.Button","Ext.layout.container.Anchor","Ext.layout.container.HBox","Ext.ProgressBar"],alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:!1,scrollable:!0,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:!0,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:!0,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(e){e=this.buttonIds[e];return new Ext.button.Button({handler:this.btnCallback,itemId:e,scope:this,text:this.buttonText[e],minWidth:75})},btnCallback:function(t,e){var i,n,r=this;!e||"keydown"!==e.type||e.isSpecialKey()?((r.cfg.prompt||r.cfg.multiline)&&(i=(n=r.cfg.multiline?r.textArea:r.textField).getValue(),n.reset()),r.hide(),r.userCallback(t.itemId,i,r.cfg)):e.getTarget(null,null,!0).on({keyup:function(e){r.btnCallback(t,e)},single:!0})},hide:function(){var e=this.cfg?this.cfg.cls:"";this.progressBar.reset(),e&&this.removeCls(e),this.callParent(arguments)},constructor:function(e){var t=this;t.callParent(arguments),t.minWidth=t.defaultMinWidth=t.minWidth||t.defaultMinWidth,t.maxWidth=t.defaultMaxWidth=t.maxWidth||t.defaultMaxWidth,t.minHeight=t.defaultMinHeight=t.minHeight||t.defaultMinHeight,t.maxHeight=t.defaultMaxHeight=t.maxHeight||t.defaultMaxHeight},initComponent:function(e){var t,i,n=this,r=n.id;for(n.title=n.title||"&#160;",n.iconCls=n.iconCls||"",n.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[n.iconComponent=new Ext.Component({cls:n.baseIconCls}),n.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[n.msg=new Ext.Component({id:r+"-msg",cls:n.baseCls+"-text"}),n.textField=new Ext.form.field.Text({id:r+"-textfield",enableKeyEvents:!0,ariaAttributes:{"aria-labelledby":n.msg.id},listeners:{keydown:n.onPromptKey,scope:n}}),n.textArea=new Ext.form.field.TextArea({id:r+"-textarea",height:75,ariaAttributes:{"aria-labelledby":n.msg.id}})]})]}),n.progressBar=new Ext.ProgressBar({id:r+"-progressbar",margin:"0 10 10 10"}),n.items=[n.topContainer,n.progressBar],n.msgButtons=[],t=0;t<4;t++)i=n.makeButton(t),n.msgButtons[i.itemId]=i,n.msgButtons.push(i);n.bottomTb=new Ext.toolbar.Toolbar({id:r+"-toolbar",ui:"footer",dock:"bottom",enableFocusableContainer:!1,ariaRole:null,layout:{pack:"center"},items:[n.msgButtons[0],n.msgButtons[1],n.msgButtons[2],n.msgButtons[3]]}),n.dockedItems=[n.bottomTb],n.on("close",n.onClose,n),n.callParent()},afterRender:function(){this.callParent(arguments),this.textField.labelEl.dom.removeAttribute("for"),this.textArea.labelEl.dom.removeAttribute("for")},onClose:function(){var e=this.msgButtons[3];e&&this.btnCallback(e)},onPromptKey:function(e,t){t.keyCode!==t.RETURN&&10!==t.keyCode||(this.msgButtons.ok.isVisible()?this.msgButtons.ok.handler.call(this,this.msgButtons.ok):this.msgButtons.yes.isVisible()&&this.msgButtons.yes.handler.call(this,this.msgButtons.yes))},reconfigure:function(e){var t,i,n,r,o,s,a=this,l=0,d=!0,c=a.buttonText,u=a.resizer,h=a.header,f=h&&!h.isHeader,g=e&&(e.message||e.msg),p=e.buttonTips;a.updateButtonText(),a.cfg=e=e||{},o=e.wait,e.width&&(i=e.width),e.height&&(s=e.height),a.minWidth=e.minWidth||a.defaultMinWidth,a.maxWidth=e.maxWidth||a.defaultMaxWidth,a.minHeight=e.minHeight||a.defaultMinHeight,a.maxHeight=e.maxHeight||a.defaultMaxHeight,"maskClickAction"in e?a.maskClickAction=e.maskClickAction:delete a.maskClickAction,u&&(t=u.resizeTracker,u.minWidth=t.minWidth=a.minWidth,u.maxWidth=t.maxWidth=a.maxWidth,u.minHeight=t.minHeight=a.minHeight,u.maxHeight=t.maxHeight=a.maxHeight),delete a.defaultFocus,e.defaultFocus&&(a.defaultFocus=e.defaultFocus),a.animateTarget=e.animateTarget||void 0,a.modal=!1!==e.modal,t=(null!=e.title?e:f&&null!=h.title?h:a).title,f=(null!=e.iconCls?e:f&&null!=h.iconCls?h:a).iconCls,a.setTitle(t),a.setIconCls(f),l=Ext.isObject(e.buttons)?(a.buttonText=e.buttons,0):(a.buttonText=e.buttonText||a.buttonText,Ext.isNumber(e.buttons)?e.buttons:0),Ext.each(a.buttonIds,function(e){a.msgButtons[e].setTooltip(p&&p[e]||null)}),l|=a.updateButtonText(),a.buttonText=c,Ext.suspendLayouts(),a.width=a.height=null,(i||s)&&(i&&a.setWidth(i),s&&a.setHeight(s)),a.rendered||a.render(Ext.getBody()),a.closable=!1!==e.closable&&!o,(h=a.header)&&((s=h.child("[type=close]"))&&s.setVisible(a.closable),e.title||a.closable||e.iconCls?h.show():h.hide()),a.liveDrag=!e.proxyDrag,a.userCallback=Ext.Function.bindCallback(e.callback||e.fn||Ext.emptyFn,e.scope||Ext.global),a.setIcon(e.icon),h=a.msg,g?(h.setHtml(g),h.show(),a.ariaEl.dom.setAttribute("aria-describedby",h.id)):(h.hide(),a.ariaEl.dom.removeAttribute("aria-describedby")),g=a.textArea,h=a.textField,e.prompt||e.multiline?(a.multiline=e.multiline,e.multiline?(g.setValue(e.value),g.setHeight(e.defaultTextHeight||a.defaultTextHeight),g.show(),h.hide(),a.defaultFocus=g):(h.setValue(e.value),g.hide(),h.show(),a.defaultFocus=h),a.ariaEl.dom.removeAttribute("aria-describedby")):(g.hide(),h.hide()),h=a.progressBar,e.progress||o?(h.show(),a.updateProgress(0,e.progressText),a.defaultFocus=h,o&&h.wait(!0===o?e.waitConfig:o)):h.hide(),r=a.msgButtons;for(n=0;n<4;n++)l&Math.pow(2,n)?(a.defaultFocus||(a.defaultFocus=r[n]),r[n].show(),d=!1):r[n].hide();d?a.bottomTb.hide():a.bottomTb.show(),Ext.resumeLayouts(!0)},updateButtonText:function(){var e,t,i=this.buttonText,n=0;for(e in i)i.hasOwnProperty(e)&&(t=this.msgButtons[e])&&(this.cfg&&this.cfg.buttonText&&(n|=Math.pow(2,Ext.Array.indexOf(this.buttonIds,e))),t.text!==i[e]&&t.setText(i[e]));return n},show:function(e){var t,i=this;return e=e||{},Ext.Component.layoutSuspendCount?Ext.on({resumelayouts:function(){i.show(e)},single:!0}):(i.reconfigure(e),e.cls&&i.addCls(e.cls),t=i.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])"),i.preventFocusOnActivate=!t.length,i.callParent()),i},onShow:function(){this.callParent(arguments),this.center()},updateText:function(e){this.msg.setHtml(e)},setIcon:function(e,t,i){var n=this.iconComponent,r=this.messageIconCls;return r&&n.removeCls(r),e?(n.show(),(t||i)&&n.setSize(t||n.getWidth(),i||n.getHeight()),n.addCls(Ext.baseCSSPrefix+"dlg-icon"),n.addCls(this.messageIconCls=e)):(n.removeCls(Ext.baseCSSPrefix+"dlg-icon"),n.hide()),this},updateProgress:function(e,t,i){return this.progressBar.updateProgress(e,t),i&&this.updateText(i),this},onEsc:function(){!1!==this.closable&&this.callParent(arguments)},confirm:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,icon:this.QUESTION,message:t,buttons:this.YESNO,callback:i,scope:n}),this.show(e)},prompt:function(e,t,i,n,r,o){return Ext.isString(e)&&(e={prompt:!0,title:e,minWidth:this.minPromptWidth,message:t,buttons:this.OKCANCEL,callback:i,scope:n,multiline:r,value:o}),this.show(e)},wait:function(e,t,i){return Ext.isString(e)&&(e={title:t,message:e,closable:!1,wait:!0,modal:!0,minWidth:this.minProgressWidth,waitConfig:i}),this.show(e)},alert:function(e,t,i,n){return Ext.isString(e)&&(e={title:e,message:t,buttons:this.OK,fn:i,scope:n,minWidth:this.minWidth}),this.show(e)},progress:function(e,t,i){return Ext.isString(e)&&(e={title:e,message:t,progress:!0,progressText:i}),this.show(e)}},function(e){Ext.onInternalReady(function(){Ext.MessageBox=Ext.Msg=new e})}),Ext.define("Ext.form.Basic",{extend:"Ext.util.Observable",alternateClassName:"Ext.form.BasicForm",requires:["Ext.util.MixedCollection","Ext.form.action.Load","Ext.form.action.Submit","Ext.form.action.StandardSubmit","Ext.window.MessageBox","Ext.data.ErrorCollection","Ext.util.DelayedTask"],taskDelay:10,constructor:function(e,t){var i=this;i.owner=e,i.fieldMonitors={validitychange:i.checkValidityDelay,enable:i.checkValidityDelay,disable:i.checkValidityDelay,dirtychange:i.checkDirtyDelay,errorchange:i.checkErrorDelay,scope:i},i.checkValidityTask=new Ext.util.DelayedTask(i.checkValidity,i),i.checkDirtyTask=new Ext.util.DelayedTask(i.checkDirty,i),i.checkErrorTask=new Ext.util.DelayedTask(i.checkError,i),i.monitor=new Ext.container.Monitor({selector:"[isFormField]:not([excludeForm])",scope:i,addHandler:i.onFieldAdd,removeHandler:i.onFieldRemove,invalidateHandler:i.onMonitorInvalidate}),i.monitor.bind(e),Ext.apply(i,t),Ext.isString(i.paramOrder)&&(i.paramOrder=i.paramOrder.split(/[\s,|]/)),(t=i.reader)&&!t.isReader&&("string"==typeof t&&(t={type:t}),i.reader=Ext.createByAlias("reader."+t.type,t)),(t=i.errorReader)&&!t.isReader&&("string"==typeof t&&(t={type:t}),i.errorReader=Ext.createByAlias("reader."+t.type,t)),i.callParent()},initialize:function(){this.initialized=!0,this.onValidityChange(!this.hasInvalidField())},timeout:30,paramsAsHash:!1,waitTitle:"Please Wait...",trackResetOnLoad:!1,wasDirty:!1,destroy:function(){var e=this,t=e.monitor;t&&(t.unbind(),e.monitor=null),e.clearListeners(),e.checkValidityTask.cancel(),e.checkDirtyTask.cancel(),e.checkErrorTask.cancel(),e.checkValidityTask=e.checkDirtyTask=e.checkErrorTask=null,e.callParent()},onFieldAdd:function(e){e.on(this.fieldMonitors),this.onMonitorInvalidate()},onFieldRemove:function(e){e.un(this.fieldMonitors),this.onMonitorInvalidate()},onMonitorInvalidate:function(){this.initialized&&this.checkValidityDelay()},getFields:function(){return this.monitor.getItems()},getBoundItems:function(){var e=this._boundItems;return e&&0!==e.getCount()||(e=this._boundItems=new Ext.util.MixedCollection).addAll(this.owner.query("[formBind]")),e},hasInvalidField:function(){return!!this.getFields().findBy(function(e){var t,i=e.preventMark;return e.preventMark=!0,t=e.isValid(),e.preventMark=i,!t})},isValid:function(){var e;return Ext.suspendLayouts(),e=this.getFields().filterBy(function(e){return!e.validate()}),Ext.resumeLayouts(!0),e.length<1},checkValidity:function(){var e;this.destroyed||(e=!this.hasInvalidField())!==this.wasValid&&(this.onValidityChange(e),this.fireEvent("validitychange",this,e),this.wasValid=e)},checkValidityDelay:function(){var e=this.taskDelay;e?this.checkValidityTask.delay(e):this.checkValidity()},checkError:function(){this.fireEvent("errorchange",this)},checkErrorDelay:function(){var e=this.taskDelay;e?this.checkErrorTask.delay(e):this.checkError()},onValidityChange:function(e){var t,i,n,r,o=this.getBoundItems();if(o)for(n=(t=o.items).length,i=0;i<n;i++)(r=t[i]).disabled===e&&r.setDisabled(!e)},isDirty:function(){return!!this.getFields().findBy(function(e){return e.isDirty()})},checkDirtyDelay:function(){var e=this.taskDelay;e?this.checkDirtyTask.delay(e):this.checkDirty()},checkDirty:function(){var e;this.destroyed||(e=this.isDirty())!==this.wasDirty&&(this.fireEvent("dirtychange",this,e),this.wasDirty=e)},hasUpload:function(){return!!this.getFields().findBy(function(e){return e.isFileUpload()})},doAction:function(e,t){return Ext.isString(e)&&(e=Ext.ClassManager.instantiateByAlias("formaction."+e,Ext.apply({},t,{form:this}))),!1!==this.fireEvent("beforeaction",this,e)&&(this.beforeAction(e),Ext.defer(e.run,100,e)),this},submit:function(e){var t=(e=e||{}).standardSubmit||this.standardSubmit?"standardsubmit":this.api?"directsubmit":"submit";return this.doAction(t,e)},load:function(e){return this.doAction(this.api?"directload":"load",e)},updateRecord:function(e){if(!(e=e||this._record))return Ext.raise("A record is required."),this;for(var t,i=e.self.fields,n=this.getFieldValues(),r={},o=0,s=i.length;o<s;++o)t=i[o].name,n.hasOwnProperty(t)&&(r[t]=n[t]);return e.beginEdit(),e.set(r),e.endEdit(),this},loadRecord:function(e){return this._record=e,this.setValues(e.getData())},getRecord:function(){return this._record},beforeAction:function(e){for(var t,i,n=this,r=e.waitMsg,o=Ext.baseCSSPrefix+"mask-loading",s=n.getFields().items,a=s.length,l=0;l<a;l++)(t=s[l]).isFormField&&t.syncValue&&t.syncValue();r&&(!0===(i=n.waitMsgTarget)?n.owner.el.mask(r,o):i?(i=n.waitMsgTarget=Ext.get(i)).mask(r,o):(n.floatingAncestor=n.owner.up("[floating]"),n.floatingAncestor&&(n.savePreventFocusOnActivate=n.floatingAncestor.preventFocusOnActivate,n.floatingAncestor.preventFocusOnActivate=!0),Ext.MessageBox.wait(r,e.waitTitle||n.waitTitle)))},afterAction:function(e,t){var i,n,r=this;e.waitMsg&&(i=Ext.MessageBox,!0===(n=r.waitMsgTarget)?r.owner.el.unmask():n?n.unmask():i.hide()),r.floatingAncestor&&(r.floatingAncestor.preventFocusOnActivate=r.savePreventFocusOnActivate),t?(e.reset&&r.reset(),Ext.callback(e.success,e.scope||e,[r,e]),r.fireEvent("actioncomplete",r,e)):(Ext.callback(e.failure,e.scope||e,[r,e]),r.fireEvent("actionfailed",r,e))},findField:function(t){return this.getFields().findBy(function(e){return e.id===t||e.name===t||e.dataIndex===t})},markInvalid:function(e){var t,i,n,r,o=this;function s(e,t){e=o.findField(e);e&&e.markInvalid(t)}if(Ext.isArray(e))for(i=e.length,t=0;t<i;t++)s((n=e[t]).id||n.field,n.msg||n.message);else if(e instanceof Ext.data.ErrorCollection)for(i=e.items.length,t=0;t<i;t++)s((n=e.items[t]).field,n.message);else for(r in e)e.hasOwnProperty(r)&&s(r,e[r]);return this},setValues:function(e){var t,i,n,r=this;function o(e,t){e=r.findField(e);e&&(e.setValue(t),r.trackResetOnLoad&&e.resetOriginalValue())}if(Ext.suspendLayouts(),Ext.isArray(e))for(i=e.length,t=0;t<i;t++)o((n=e[t]).id,n.value);else Ext.iterate(e,o);return Ext.resumeLayouts(!0),this},getValues:function(e,t,i,n,r){for(var o,s,a,l,d,c={},u=this.getFields().items,h=u.length,f=Ext.isArray,g=0;g<h;g++)if(o=u[g],(!t||o.isDirty())&&(s=o[n?"getModelData":"getSubmitData"](i,r),Ext.isObject(s)))for(d in s)s.hasOwnProperty(d)&&(a=s[d],i&&""===a&&(a=o.emptyText||""),o.isRadio?c[d]=c[d]||a:o.isCheckbox&&null===a||(c.hasOwnProperty(d)?(f(l=c[d])||(l=c[d]=[l]),f(a)?c[d]=l.concat(a):l.push(a)):c[d]=a));return e&&(c=Ext.Object.toQueryString(c)),c},getFieldValues:function(e){return this.getValues(!1,e,!1,!0)},clearInvalid:function(){Ext.suspendLayouts();for(var e=this.getFields().items,t=e.length,i=0;i<t;i++)e[i].clearInvalid();return Ext.resumeLayouts(!0),this},reset:function(e){Ext.suspendLayouts();for(var t=this.getFields().items,i=t.length,n=0;n<i;n++)t[n].reset();return Ext.resumeLayouts(!0),!0===e&&delete this._record,this},applyToFields:function(e){for(var t=this.getFields().items,i=t.length,n=0;n<i;n++)Ext.apply(t[n],e);return this},applyIfToFields:function(e){for(var t=this.getFields().items,i=t.length,n=0;n<i;n++)Ext.applyIf(t[n],e);return this}}),Ext.define("Ext.form.FieldAncestor",{extend:"Ext.Mixin",requires:["Ext.container.Monitor"],mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"},before:{doDestroy:"onBeforeDestroy"}},initFieldAncestor:function(){this.monitor=new Ext.container.Monitor({scope:this,selector:"[isFormField]:not([excludeForm])",addHandler:this.onChildFieldAdd,removeHandler:this.onChildFieldRemove}),this.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(e){var t=e.fieldDefaults,i=this.fieldDefaults;i&&(e.fieldDefaults=t?Ext.apply(Ext.Object.chain(t),i):i)},onChildFieldAdd:function(e){this.mon(e,"errorchange",this.handleFieldErrorChange,this),this.mon(e,"validitychange",this.handleFieldValidityChange,this)},onChildFieldRemove:function(e){this.mun(e,"errorchange",this.handleFieldErrorChange,this),this.mun(e,"validitychange",this.handleFieldValidityChange,this)},initFieldDefaults:function(){this.fieldDefaults||(this.fieldDefaults={})},handleFieldValidityChange:function(e,t){e!==this&&(this.fireEvent("fieldvaliditychange",this,e,t),this.onFieldValidityChange(e,t))},handleFieldErrorChange:function(e,t){e!==this&&(this.fireEvent("fielderrorchange",this,e,t),this.onFieldErrorChange(e,t))},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,onBeforeDestroy:function(){this.monitor=Ext.destroy(this.monitor)}}),Ext.define("Ext.layout.component.field.FieldContainer",{extend:"Ext.layout.component.Auto",alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:!0,waitForOuterWidthInDom:!0,beginLayout:function(e){var t=this.owner.containerEl;this.callParent([e]),e.hasRawContent=!0,t.setStyle("width",""),t.setStyle("height",""),e.containerElContext=e.getEl("containerEl")},calculateOwnerHeightFromContentHeight:function(e,t){return this.callParent([e,t])+this.getHeightAdjustment()},calculateOwnerWidthFromContentWidth:function(e,t){return this.callParent([e,t])+this.getWidthAdjustment()},measureContentHeight:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent([e]):NaN},measureContentWidth:function(e){return e.hasDomProp("containerLayoutDone")?this.callParent([e]):NaN},publishInnerHeight:function(e,t){t-=this.getHeightAdjustment(),e.containerElContext.setHeight(t)},publishInnerWidth:function(e,t){t-=this.getWidthAdjustment(),e.containerElContext.setWidth(t)},privates:{getHeightAdjustment:function(){var e=this.owner,t=0;return"top"===e.labelAlign&&e.hasVisibleLabel()&&(t+=e.labelEl.getHeight()),"under"===e.msgTarget&&e.hasActiveError()&&(t+=e.errorWrapEl.getHeight()),t+e.bodyEl.getPadding("tb")},getWidthAdjustment:function(){var e=this.owner,t=0;return"top"!==e.labelAlign&&e.hasVisibleLabel()&&(t+=e.labelWidth+(e.labelPad||0)),"side"===e.msgTarget&&e.hasActiveError()&&(t+=e.errorWrapEl.getWidth()),t+e.bodyEl.getPadding("lr")}}}),Ext.define("Ext.form.FieldContainer",{extend:"Ext.container.Container",mixins:{labelable:"Ext.form.Labelable",fieldAncestor:"Ext.form.FieldAncestor"},requires:"Ext.layout.component.field.FieldContainer",alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:!0,autoEl:{tag:"div",role:"presentation"},childEls:["containerEl"],combineLabels:!1,labelConnector:", ",combineErrors:!1,maskOnDisable:!1,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}"','<tpl if="ariaAttributes">','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',"<tpl else>",' role="presentation"',"</tpl>",">","{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){this.initLabelable(),this.initFieldAncestor(),this.callParent(),this.initMonitor()},onAdd:function(e){e.isLabelable&&Ext.isGecko&&Ext.firefoxVersion<37&&"absolute"===this.layout.type&&!this.hideLabel&&"top"!==this.labelAlign&&(e.x+=this.labelWidth+this.labelPad),this.callParent(arguments),e.isLabelable&&this.combineLabels&&(e.oldHideLabel=e.hideLabel,e.hideLabel=!0),this.updateLabel()},onRemove:function(e,t){this.callParent(arguments),t||(e.isLabelable&&this.combineLabels&&(e.hideLabel=e.oldHideLabel),this.updateLabel())},initRenderData:function(){var e=this.callParent();return e.containerElCls=this.containerElCls,e=Ext.applyIf(e,this.getLabelableRenderData()),"top"!==this.labelAlign&&"under"!==this.msgTarget||(e.extraFieldBodyCls+=" "+Ext.baseCSSPrefix+"field-container-body-vertical"),e.tipAnchorTarget=this.id+"-containerEl",e},getFieldLabel:function(){var e=this.fieldLabel||"";return!e&&this.combineLabels&&(e=Ext.Array.map(this.query("[isFieldLabelable]"),function(e){return e.getFieldLabel()}).join(this.labelConnector)),e},getSubTplData:function(){var e=this.initRenderData();return Ext.apply(e,this.subTplData),e},getSubTplMarkup:function(e){var t=this.lookupTpl("fieldSubTpl");return t.renderContent||this.setupRenderTpl(t),t.apply(this.getSubTplData(e))},updateLabel:function(){this.labelEl&&this.setFieldLabel(this.getFieldLabel())},onFieldErrorChange:function(){var e,t;this.combineErrors&&(e=this.getActiveError(),t=Ext.Array.filter(this.query("[isFormField]"),function(e){return e.hasActiveError()}),(t=this.getCombinedErrors(t))?this.setActiveErrors(t):this.unsetActiveError(),e!==this.getActiveError()&&this.updateLayout())},getCombinedErrors:function(e){for(var t,i,n,r,o,s,a=[],l=e.length,d=0;d<l;d++)for(r=(i=(t=e[d]).getActiveErrors()).length,n=0;n<r;n++)o=i[n],s=t.getFieldLabel(),a.push((s?s+": ":"")+o);return a},privates:{applyTargetCls:function(e){var t=this.containerElCls;this.containerElCls=t?t+" "+e:e},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){return this.hasOwnProperty("renderTpl")||(this.renderTpl=this.lookupTpl("labelableRenderTpl")),this.callParent()}}}),Ext.define("Ext.layout.container.CheckboxGroup",{extend:"Ext.layout.container.Container",alias:["layout.checkboxgroup"],autoFlex:!0,type:"checkboxgroup",createsInnerCt:!0,childEls:["innerCt"],renderTpl:'<table id="{ownerId}-innerCt" data-ref="innerCt" class="'+Ext.baseCSSPrefix+'table-plain" cellpadding="0"role="presentation" style="{tableStyle}"><tbody role="presentation"><tr role="presentation"><tpl for="columns"><td class="{parent.colCls}" valign="top" style="{style}" role="presentation">{% this.renderColumn(out,parent,xindex-1) %}</td></tpl></tr></tbody></table>',lastOwnerItemsGeneration:null,initLayout:function(){var e=this.owner;this.columnsArray=Ext.isArray(e.columns),this.autoColumns=!e.columns||"auto"===e.columns,this.autoColumns||(this.vertical=e.vertical||1===e.columns||1===e.columns.length),this.callParent()},beginLayout:function(e){var t,i,n,r,o,s=0,a=0,l=this.autoFlex,d=this.innerCt.dom.style;if(this.callParent(arguments),t=this.rowNodes[0].children,e.innerCtContext=e.getEl("innerCt",this),e.widthModel.shrinkWrap)d.tableLayout="auto",d.width="";else{if(i=t.length,this.columnsArray){for(n=0;n<i;n++)(r=this.owner.columns[n])<1&&(s+=r,a++);for(n=0;n<i;n++)o=(r=this.owner.columns[n])<1?r/s*100+"%":r+"px",t[n].style.width=o}else for(n=0;n<i;n++)o=l?1/i*100+"%":"",t[n].style.width=o,a++;a?a<i?(d.tableLayout="fixed",d.width="100%"):(d.tableLayout="auto",d.width=l?"100%":""):(d.tableLayout="fixed",d.width="")}},cacheElements:function(){this.callParent(),this.rowNodes=this.innerCt.query("tr",!0),this.tBodyNode=this.rowNodes[0].parentNode},calculate:function(e){var t,i,n,r,o;e.getDomProp("containerChildrenSizeDone")?(o=e.innerCtContext,t=e.widthModel.shrinkWrap,n=(i=e.heightModel.shrinkWrap)||t,r=o.el.dom,o=n&&o.getPaddingInfo(),t&&e.setContentWidth(r.offsetWidth+o.width,!0),i&&e.setContentHeight(r.offsetHeight+o.height,!0)):this.done=!1},doRenderColumn:function(e,t,i){for(var n,r,o=t.$layout,s=o.owner,t=t.columnCount,a=s.items.items,l=a.length,d=s.vertical?(n=i*(s=Math.ceil(l/t)),l=Math.min(l,n+s),1):(n=i,t);n<l;n+=d)r=a[n],o.configureItem(r),r=r.getRenderTree(),Ext.DomHelper.generateMarkup(r,e)},getColumnCount:function(){var e=this.owner,t=e.columns;return this.columnsArray?t.length:Ext.isNumber(t)?t:e.items.length},getItemSizePolicy:function(e){return this.autoSizePolicy},getRenderData:function(){var e,t,i,n,r=this.callParent(),o=this.owner,s=this.getColumnCount(),a=this.autoFlex,l=0,d=0;if(this.columnsArray)for(e=0;e<s;e++)(t=this.owner.columns[e])<1&&(l+=t,d++);for(r.colCls=o.groupCls,r.columnCount=s,r.columns=[],e=0;e<s;e++)i=r.columns[e]={},this.columnsArray?(n=(t=this.owner.columns[e])<1?t/l*100+"%":t+"px",i.style="width:"+n):(i.style="width:"+1/s*100+"%",d++);return r.tableStyle=d?d<s?"table-layout:fixed;width:100%":a?"table-layout:auto;width:100%":"table-layout:auto;":"table-layout:fixed;",r},isValidParent:Ext.returnTrue,setupRenderTpl:function(e){this.callParent(arguments),e.renderColumn=this.doRenderColumn},renderChildren:function(){var e=this.owner.items.generation;this.lastOwnerItemsGeneration!==e&&(this.lastOwnerItemsGeneration=e,this.renderItems(this.getLayoutItems()))},renderItems:function(e){var t,i,n,r,o,s,a=this,l=e.length;if(l){for(Ext.suspendLayouts(),i=a.autoColumns?(n=l,1):(n=a.columnsArray?a.owner.columns.length:a.owner.columns,Math.ceil(l/n)),s=0;s<l;s++)t=e[s],r=a.getRenderRowIndex(s,i,n),o=a.getRenderColumnIndex(s,i,n),t.rendered?a.isItemAtPosition(t,r,o)||a.moveItem(t,r,o):a.renderItem(t,r,o);a.pruneRows(i,n),Ext.resumeLayouts(!0)}},isItemAtPosition:function(e,t,i){return e.el.dom===this.getItemNodeAt(t,i)},getRenderColumnIndex:function(e,t,i){return this.vertical?Math.floor(e/t):e%i},getRenderRowIndex:function(e,t,i){return this.vertical?e%t:Math.floor(e/i)},getItemNodeAt:function(e,t){t=this.getColumnNodeAt(e,t);return this.vertical?t.children[e]:t.children[0]},getRowNodeAt:function(e){var t;return e=this.vertical?0:e,(t=this.rowNodes[e])||((t=this.rowNodes[e]=document.createElement("tr")).role="presentation",this.tBodyNode.appendChild(t)),t},getColumnNodeAt:function(e,t,i){return(i=i||this.getRowNodeAt(e)).children[t]||Ext.fly(i).appendChild({tag:"td",cls:this.owner.groupCls,vAlign:"top",role:"presentation"},!0)},pruneRows:function(e,t){var i,n,r,o,s,a=this.tBodyNode.children;for(e=this.vertical?1:e;a.length>e;)(n=a[a.length-1]).parentNode.removeChild(n);for(o=e-1;0<=o;o--){for(i=(n=a[o]).children;i.length>t;)r=i[i.length-1],n.removeChild(r);if(0<o)for(s=i.length-1;0<=s&&0===(r=i[s]).children.length;s--)n.removeChild(r)}},renderItem:function(e,t,i){var n;this.configureItem(e),n=this.vertical?t:0,i=Ext.get(this.getColumnNodeAt(t,i)),e.render(i,n)},moveItem:function(e,t,i){var n=this.vertical?t:0,i=this.getColumnNodeAt(t,i),n=i.children[n];i.insertBefore(e.el.dom,n||null)}}),Ext.define("Ext.form.CheckboxManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(t,i){return this.filterBy(function(e){return e.name===t&&e.getFormId()===i})}}),Ext.define("Ext.form.field.Checkbox",{extend:"Ext.form.field.Base",alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",requires:["Ext.XTemplate","Ext.form.CheckboxManager"],stretchInputElFixed:!1,childEls:["boxLabelEl","innerWrapEl","displayEl"],fieldSubTpl:['<div id="{cmpId}-innerWrapEl" data-ref="innerWrapEl" role="presentation"',' class="{wrapInnerCls}">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<span id="{cmpId}-displayEl" data-ref="displayEl" role="presentation" class="{fieldCls} {typeCls} ','{typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}">','<input type="{inputType}" id="{id}" name="{inputName}" data-ref="inputEl" {inputAttrTpl}','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="checked"> checked="checked"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{checkboxCls}" autocomplete="off" hidefocus="true" ','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',"/>","</span>",'<tpl if="!labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {noBoxLabelCls} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:!0,compiled:!0}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:!0,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:!1,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-no-box-label",inputValue:"on",checkChangeEvents:[],changeEventName:"change",inputType:"checkbox",isTextInput:!1,ariaRole:"native",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",_checkboxCls:Ext.baseCSSPrefix+"form-cb-input",initComponent:function(){var e=this.value;void 0!==e&&(this.checked=this.isChecked(e,this.inputValue)),this.callParent(),this.getManager().add(this)},initDefaultName:Ext.emptyFn,initValue:function(){var e=!!this.checked;this.originalValue=this.initialValue=this.lastValue=e,this.setValue(e)},getElConfig:function(){return this.isChecked(this.rawValue,this.inputValue)&&this.addCls(this.checkedCls),this.fieldLabel||(this.skipLabelForAttribute=!0),this.callParent()},getModelData:function(){var e=this.callParent(arguments);return e&&(e[this.getName()]=this.getSubmitValue()),e},getSubTplData:function(e){var t=this,i=t.boxLabel,n=t.boxLabelAlign,r="before"===n,i=Ext.apply(t.callParent([e]),{inputType:t.inputType,checkboxCls:t._checkboxCls,disabled:t.readOnly||t.disabled,checked:!!t.checked,wrapInnerCls:t.wrapInnerCls,boxLabel:i,boxLabelCls:t.boxLabelCls,boxLabelAlign:n,labelAlignedBefore:r,afterLabelCls:r?t.afterLabelCls:"",noBoxLabelCls:i?"":t.noBoxLabelCls,inputName:t.name||t.id}),t=i.inputElAriaAttributes;return t&&delete t["aria-readonly"],i},initEvents:function(){var e=this;e.callParent(),e.inputEl.on(e.changeEventName,e.onChangeEvent,e,{delegated:!1}),Ext.isIE?e.bodyEl.on("mousedown",e.onBodyElMousedown,e):Ext.isMac&&(Ext.isGecko||Ext.isSafari)&&(e.boxLabelEl.on("mousedown",e.onBoxLabelOrInputMousedown,e),e.inputEl.on("mousedown",e.onBoxLabelOrInputMousedown,e))},setBoxLabel:function(e){this.boxLabel=e,this.rendered&&(this.boxLabelEl.setHtml(e),this.boxLabelEl[e?"removeCls":"addCls"](this.noBoxLabelCls),this.updateLayout())},onBodyElMousedown:function(e){e.target!==this.inputEl.dom&&e.preventDefault()},onBoxLabelOrInputMousedown:function(e){this.inputEl.focus(),e.preventDefault()},onChangeEvent:function(e){this.updateValueFromDom()},updateValueFromDom:function(){var e=this.inputEl&&this.inputEl.dom;e&&(this.checked=this.rawValue=this.value=e.checked,this.checkChange())},updateCheckedCls:function(e){e=null!=e?e:this.getValue(),this[e?"addCls":"removeCls"](this.checkedCls)},getRawValue:function(){var e=this.inputEl&&this.inputEl.dom;return(e||this).checked},getValue:function(){var e=this.inputEl&&this.inputEl.dom;return(e||this).checked},getSubmitValue:function(){var e=this.uncheckedValue,e=Ext.isDefined(e)?e:null;return this.getValue()?this.inputValue:e},isChecked:function(e,t){return!0===e||"true"===e||("on"===t||!t&&0!==t||!Ext.isString(e)&&!Ext.isNumber(e)?"1"===e||1===e||this.onRe.test(e):e==t)},setRawValue:function(e){var t=this,i=t.inputEl&&t.inputEl.dom,e=t.isChecked(e,t.inputValue);return i&&(t.duringSetRawValue=!0,i.checked=e,t.duringSetRawValue=!1,t.updateCheckedCls(e)),t.checked=t.rawValue=e,t.duringSetValue||(t.lastValue=e),e},setValue:function(e){var t,i,n,r;if(Ext.isArray(e))for(n=(t=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;++i)(r=t[i]).setValue(Ext.Array.contains(e,r.inputValue));else this.duringSetValue=!0,this.callParent(arguments),delete this.duringSetValue;return this},valueToRaw:Ext.identityFn,onChange:function(e,t){var i=this.handler;this.updateCheckedCls(e),i&&Ext.callback(i,this.scope,[this,e],0,this),this.callParent(arguments),this.reference&&this.publishState&&this.publishState("checked",e)},resetOriginalValue:function(e){var t,i,n;if(!e)for(i=(t=this.getManager().getByName(this.name,this.getFormId()).items).length,n=0;n<i;++n)t[n]!==this&&t[n].resetOriginalValue(!0);this.callParent()},doDestroy:function(){this.getManager().removeAtKey(this.id),this.callParent()},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var e=this.inputEl&&this.inputEl.dom;this.callParent(),e&&(e.disabled=this.readOnly)},setReadOnly:function(e){var t=this.inputEl&&this.inputEl.dom;t&&(t.disabled=!!e||this.disabled),this.callParent(arguments)},getFormId:function(){var e;return this.formId||(e=this.up("form"))&&(this.formId=e.id),this.formId},getFocusClsEl:function(){return this.displayEl}}),Ext.define("Ext.form.CheckboxGroup",{extend:"Ext.form.FieldContainer",xtype:"checkboxgroup",isCheckboxGroup:!0,mixins:{field:"Ext.form.field.Field"},requires:["Ext.layout.container.CheckboxGroup","Ext.form.field.Checkbox","Ext.form.field.Base"],columns:"auto",vertical:!1,allowBlank:!0,blankText:"You must select at least one item in this group",defaultType:"checkboxfield",defaultBindProperty:"value",groupCls:Ext.baseCSSPrefix+"form-check-group",extraFieldBodyCls:Ext.baseCSSPrefix+"form-checkboxgroup-body",layout:"checkboxgroup",componentCls:Ext.baseCSSPrefix+"form-checkboxgroup",ariaRole:"group",ariaEl:"containerEl",skipLabelForAttribute:!0,ariaRenderAttributes:{"aria-invalid":!1},initComponent:function(){this.name=this.name||this.id,this.callParent(),this.initField()},initRenderData:function(){var e,t=this.callParent();return t.inputId=this.id+"-"+this.ariaEl,(e=t.ariaAttributes)&&(e["aria-labelledby"]||(e["aria-labelledby"]=this.id+"-labelTextEl")),t},initValue:function(){var e=this.value;this.originalValue=this.lastValue=e||this.getValue(),e&&this.setValue(e)},onAdd:function(e){var t,i,n;if(e.isCheckbox)null==e.name&&(e.name=this.name),this.mon(e,"change",this.checkChange,this);else if(e.isContainer)for(n=0,i=(t=e.items.items).length;n<i;n++)this.onAdd(t[n]);this.callParent(arguments)},onRemove:function(e){var t,i,n;if(e.isCheckbox)this.mun(e,"change",this.checkChange,this);else if(e.isContainer)for(n=0,i=(t=e.items.items).length;n<i;n++)this.onRemove(t[n]);this.callParent(arguments)},isEqual:function(e,t){var i=Ext.Object.toQueryString;return i(e)===i(t)},getErrors:function(){var e=[];return!this.allowBlank&&Ext.isEmpty(this.getChecked())&&e.push(this.blankText),e},getBoxes:function(e){return this.query("[isCheckbox]"+(e||""))},eachBox:function(e,t){Ext.Array.forEach(this.getBoxes(),e,t||this)},getChecked:function(){return this.getBoxes("[checked]")},isDirty:function(){for(var e=this.getBoxes(),t=e.length,i=0;i<t;i++)if(e[i].isDirty())return!0},setReadOnly:function(e){for(var t=this.getBoxes(),i=t.length,n=0;n<i;n++)t[n].setReadOnly(e);this.readOnly=e},reset:function(){var n=this,e=n.hasActiveError(),t=n.preventMark;n.preventMark=!0,n.batchChanges(function(){for(var e=n.getBoxes(),t=e.length,i=0;i<t;i++)e[i].reset()}),n.preventMark=t,n.unsetActiveError(),e&&n.updateLayout()},resetOriginalValue:function(){for(var e=this.getBoxes(),t=e.length,i=0;i<t;i++)e[i].resetOriginalValue();this.originalValue=this.getValue(),this.checkDirty()},setValue:function(e){var t,i,n,r,o=this.getBoxes(),s=o.length;return this.batchChanges(function(){for(Ext.suspendLayouts(),t=0;t<s;t++)i=o[t],n=i.getName(),r=!1,e&&(r=Ext.isArray(e[n])?Ext.Array.contains(e[n],i.inputValue):e[n]),i.setValue(r);Ext.resumeLayouts(!0)}),this},getValue:function(){for(var e,t,i,n={},r=this.getBoxes(),o=r.length,s=0;s<o;s++)e=(i=r[s]).getName(),t=i.inputValue,i.getValue()&&(n.hasOwnProperty(e)?(i=n[e],Ext.isArray(i)||(i=n[e]=[i]),i.push(t)):n[e]=t);return n},getSubmitData:function(){return null},getModelData:function(){return null},validate:function(){var e,t,i;return this.disabled?t=!0:(e=this.getErrors(),t=Ext.isEmpty(e),i=this.wasValid,t?this.unsetActiveError():this.setActiveError(e)),t!==i&&(this.wasValid=t,this.fireEvent("validitychange",this,t),this.updateLayout()),t}},function(){this.borrow(Ext.form.field.Base,["markInvalid","clearInvalid","setError"])}),Ext.define("Ext.form.FieldSet",{extend:"Ext.container.Container",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.fieldset",uses:["Ext.form.field.Checkbox","Ext.panel.Tool","Ext.layout.container.Anchor","Ext.layout.component.FieldSet"],checkboxUI:"default",collapsed:!1,toggleOnTitleClick:!0,baseCls:Ext.baseCSSPrefix+"fieldset",layout:"anchor",descriptionText:"{0} field set",expandText:"Expand field set",componentLayout:"fieldset",ariaRole:"group",focusable:!1,autoEl:"fieldset",checkbox:null,childEls:["body"],renderTpl:["{%this.renderLegend(out,values);%}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body {baseCls}-body-{ui} {bodyTargetCls}" ','role="presentation"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>"],stateEvents:["collapse","expand"],maskOnDisable:!1,initComponent:function(){var e=this,t=e.baseCls;e.ariaRole&&!e.ariaLabel&&(e.ariaLabel=Ext.String.formatEncode(e.descriptionText,e.title||"")),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-expanded"]=!e.collapsed,e.initFieldAncestor(),e.callParent(),e.layout.managePadding=e.layout.manageOverflow=!1,e.collapsed&&(e.addCls(t+"-collapsed"),e.collapse()),(e.title||e.checkboxToggle||e.collapsible)&&(e.addTitleClasses(),e.legend=e.createLegendCt()),e.initMonitor()},initRenderData:function(){var e=this.callParent();return e.bodyTargetCls=this.bodyTargetCls,this.protoBody.writeTo(e),delete this.protoBody,e},doDestroy:function(){var e=this.legend;e&&(delete e.ownerCt,e.destroy(),this.legend=null),this.callParent()},getState:function(){var e=this.callParent();return e=this.addPropertyToState(e,"collapsed")},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn,collapsedHorizontal:function(){return!0},collapsedVertical:function(){return!0},createLegendCt:function(){var e=this,t=[],i={baseCls:e.baseCls+"-header",layout:"container",ui:e.ui,id:e.id+"-legend",autoEl:"legend",ariaRole:null,items:t,ownerCt:e,shrinkWrap:!0,ownerLayout:e.componentLayout};return e.checkboxToggle?t.push(e.createCheckboxCmp()):e.collapsible&&t.push(e.createToggleCmp()),t.push(e.createTitleCmp()),new Ext.container.Container(i)},createTitleCmp:function(){var e=this,t={html:e.title,ui:e.ui,cls:e.baseCls+"-header-text",id:e.id+"-legendTitle",ariaRole:"presentation"};return e.collapsible&&e.toggleOnTitleClick&&(t.listeners={click:{element:"el",scope:e,fn:e.toggle}},t.cls+=" "+e.baseCls+"-header-text-collapsible"),e.titleCmp=new Ext.Component(t),e.titleCmp},createCheckboxCmp:function(){var e=this,t=e.baseCls+"-header-checkbox";return t+=" "+t+"-"+e.ui,e.checkboxCmp=e=new Ext.form.field.Checkbox(Ext.apply({hideEmptyLabel:!0,name:e.checkboxName||e.id+"-checkbox",cls:t,id:e.id+"-legendChk",ui:e.checkboxUI,checked:!e.collapsed,msgTarget:"none",listeners:{change:e.onCheckChange,scope:e},ariaLabel:e.expandText},e.checkbox)),e},createToggleCmp:function(){var e;return this.toggleCmp=e=new Ext.panel.Tool({cacheHeight:!1,cls:this.baseCls+"-header-tool-"+this.ui,type:"toggle",handler:this.toggle,id:this.id+"-legendToggle",scope:this,ariaRole:"checkbox",ariaLabel:this.expandText,ariaRenderAttributes:{"aria-checked":!this.collapsed}}),e},doRenderLegend:function(e,t){var i=t.$comp,t=i.legend;t&&(t.ownerLayout.configureItem(t),i.setLegendCollapseImmunity(t),t=t.getRenderTree(),Ext.DomHelper.generateMarkup(t,e))},getCollapsed:function(){return!!this.collapsed&&"top"},getCollapsedDockedItems:function(){var e=this.legend;return e?[e]:[]},setTitle:function(e){var t=this,i=t.legend;return t.title=e,t.ariaLabel=Ext.String.formatEncode(t.descriptionText,e||""),t.rendered?(i||(t.legend=i=t.createLegendCt(),t.addTitleClasses(),i.ownerLayout.configureItem(i),t.setLegendCollapseImmunity(i),i.render(t.el,0)),t.titleCmp.update(e),t.ariaEl.dom.setAttribute("aria-label",t.ariaLabel)):i?t.titleCmp.update(e):(t.addTitleClasses(),t.legend=t.createLegendCt()),t},addTitleClasses:function(){var e=this.title,t=this.baseCls;e&&this.addCls(t+"-with-title"),(e||this.checkboxToggle||this.collapsible)&&this.addCls(t+"-with-legend")},expand:function(){return this.setExpanded(!0)},collapse:function(){return this.setExpanded(!1)},setCollapsed:function(e){this.setExpanded(!e)},setExpanded:function(e){var t=this,i=t.checkboxCmp,n=t.toggleCmp,r=e?"expand":"collapse";return t.rendered&&!1===t.fireEvent("before"+r,t)||(e=!!e,i?i.setValue(e):n&&n.ariaEl.dom&&n.ariaEl.dom.setAttribute("aria-checked",e),e?t.removeCls(t.baseCls+"-collapsed"):t.addCls(t.baseCls+"-collapsed"),t.ariaEl.dom&&t.ariaEl.dom.setAttribute("aria-expanded",!!e),t.collapsed=!e,e?delete t.getInherited().collapsed:t.getInherited().collapsed=!0,t.rendered&&(t.updateLayout({isRoot:!1}),t.fireEvent(r,t))),t},getRefItems:function(e){var t=this.callParent(arguments),i=this.legend;return i&&(t.unshift(i),e&&t.unshift.apply(t,i.getRefItems(!0))),t},toggle:function(){this.setExpanded(!!this.collapsed)},privates:{applyTargetCls:function(e){this.bodyTargetCls=e},finishRender:function(){var e=this.legend;this.callParent(),e&&e.finishRender()},getProtoBody:function(){var e=this.protoBody;return e||(this.protoBody=e=new Ext.util.ProtoElement({styleProp:"bodyStyle",styleIsText:!0})),e},getDefaultContentTarget:function(){return this.body},getTargetEl:function(){return this.body||this.frameBody||this.el},initPadding:function(e){var t,i=this.getProtoBody(),n=this.padding;void 0!==n&&(Ext.isIE8&&(n=this.parseBox(n),(t=Ext.Element.parseBox(0)).top=n.top,n.top=0,i.setStyle("padding",this.unitizeBox(t))),e.setStyle("padding",this.unitizeBox(n)))},onCheckChange:function(e,t){this.setExpanded(t)},setLegendCollapseImmunity:function(e){e.collapseImmune=!0,e.getInherited().collapseImmune=!0},setupRenderTpl:function(e){this.callParent(arguments),e.renderLegend=this.doRenderLegend}}}),Ext.define("Ext.form.Label",{extend:"Ext.Component",alias:"widget.label",requires:["Ext.util.Format"],autoEl:"label",maskOnDisable:!1,getElConfig:function(){return this.html=this.text?Ext.util.Format.htmlEncode(this.text):this.html||"",Ext.apply(this.callParent(),{htmlFor:this.forId||""})},setText:function(e,t){return(t=!1!==t)?(this.text=e,delete this.html):(this.html=e,delete this.text),this.rendered&&(this.el.dom.innerHTML=!1!==t?Ext.util.Format.htmlEncode(e):e,this.updateLayout()),this}}),Ext.define("Ext.form.Panel",{extend:"Ext.panel.Panel",mixins:{fieldAncestor:"Ext.form.FieldAncestor"},alias:"widget.form",alternateClassName:["Ext.FormPanel","Ext.form.FormPanel"],requires:["Ext.form.Basic","Ext.util.TaskRunner"],layout:"anchor",bodyAriaRole:"form",basicFormConfigs:["api","baseParams","errorReader","jsonSubmit","method","paramOrder","paramsAsHash","reader","standardSubmit","timeout","trackResetOnLoad","url","waitMsgTarget","waitTitle"],initComponent:function(){this.frame&&(this.border=!1),this.initFieldAncestor(),this.callParent(),this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete","validitychange","dirtychange"]),this.pollForChanges&&this.startPolling(this.pollInterval||500)},initItems:function(){this.callParent(),this.initMonitor(),this.form=this.createForm()},afterFirstLayout:function(){this.callParent(arguments),this.form.initialize()},createForm:function(){for(var e,t={},i=this.basicFormConfigs,n=i.length,r=0;r<n;++r)t[e=i[r]]=this[e];return new Ext.form.Basic(this,t)},getForm:function(){return this.form},loadRecord:function(e){return this.getForm().loadRecord(e)},getRecord:function(){return this.getForm().getRecord()},updateRecord:function(e){return this.getForm().updateRecord(e)},getValues:function(e,t,i,n){return this.getForm().getValues(e,t,i,n)},isDirty:function(){return this.form.isDirty()},isValid:function(){return this.form.isValid()},reset:function(e){return this.form.reset(e)},hasInvalidField:function(){return this.form.hasInvalidField()},doDestroy:function(){this.stopPolling(),this.form.destroy(),this.callParent()},load:function(e){this.form.load(e)},submit:function(e){this.form.submit(e)},startPolling:function(e){this.stopPolling();e=new Ext.util.TaskRunner(e);e.start({interval:0,run:this.checkChange,scope:this}),this.pollTask=e},stopPolling:function(){var e=this.pollTask;e&&(e.stopAll(),delete this.pollTask)},checkChange:function(){for(var e=this.form.getFields().items,t=e.length,i=0;i<t;i++)e[i].checkChange()}}),Ext.define("Ext.form.RadioManager",{extend:"Ext.util.MixedCollection",singleton:!0,getByName:function(t,i){return this.filterBy(function(e){return e.name===t&&e.getFormId()===i})},getWithValue:function(t,i,n){return this.filterBy(function(e){return e.name===t&&e.inputValue==i&&e.getFormId()===n})},getChecked:function(t,i){return this.findBy(function(e){return e.name===t&&e.checked&&e.getFormId()===i})}}),Ext.define("Ext.form.field.Radio",{extend:"Ext.form.field.Checkbox",alias:["widget.radiofield","widget.radio"],alternateClassName:"Ext.form.Radio",requires:["Ext.form.RadioManager"],isRadio:!0,inputType:"radio",formId:null,getGroupValue:function(){var e=this.getManager().getChecked(this.name,this.getFormId());return e?e.inputValue:null},onRemoved:function(){this.callParent(arguments),this.formId=null},setValue:function(e){var t;return Ext.isBoolean(e)?this.callParent(arguments):(t=this.getManager().getWithValue(this.name,e,this.getFormId()).getAt(0))&&t.setValue(!0),this},getSubmitValue:function(){return this.checked?this.inputValue:null},onChange:function(e,t){var i,n,r,o,s=this.ownerCt;if(this.callParent(arguments),e)for(n=(o=this.getManager().getByName(this.name,this.getFormId()).items).length,i=0;i<n;i++)(r=o[i])!==this&&r.updateValueFromDom();s&&s.isRadioGroup&&s.simpleValue&&s.checkChange()},getManager:function(){return Ext.form.RadioManager}}),Ext.define("Ext.form.RadioGroup",{extend:"Ext.form.CheckboxGroup",xtype:"radiogroup",isRadioGroup:!0,requires:["Ext.form.field.Radio"],allowBlank:!0,blankText:"You must select one item in this group",defaultType:"radiofield",local:!1,simpleValue:!1,defaultBindProperty:"value",groupCls:Ext.baseCSSPrefix+"form-radio-group",ariaRole:"radiogroup",initRenderData:function(){var e=this.callParent(),t=e.ariaAttributes;return t&&(t["aria-required"]=!this.allowBlank,t["aria-invalid"]=!1),e},lookupComponent:function(e){e=this.callParent([e]);return this.local&&(e.formId=this.getId()),e},getBoxes:function(e,t){return(t||this).query("[isRadio]"+(e||""))},checkChange:function(){var e=this.getValue(),t="object"==typeof e&&Ext.Object.getKeys(e)[0];(this.simpleValue||t&&!Ext.isArray(e[t]))&&this.callParent(arguments)},isEqual:function(e,t){return this.simpleValue?e===t:this.callParent([e,t])},getValue:function(){var e,t,i,n=this.items.items;if(this.simpleValue){for(e=n.length;0<e--;)if((t=n[e]).checked){i=t.inputValue;break}}else i=this.callParent();return i},setValue:function(e){var t,i,n,r,o,s,a,l=this.items;if(Ext.suspendLayouts(),this.simpleValue){for(o=0,s=l.length;o<s;++o)if((i=l.items[o]).inputValue===e){i.setValue(!0);break}}else if(Ext.isObject(e))for(a in n=(i=l.first())?i.getFormId():null,e)for(t=e[a],s=(r=Ext.form.RadioManager.getWithValue(a,t,n).items).length,o=0;o<s;++o)r[o].setValue(!0);return Ext.resumeLayouts(!0),this},markInvalid:function(e){var t=this.ariaEl.dom;this.callParent([e]),t&&t.setAttribute("aria-invalid",!0)},clearInvalid:function(){var e=this.ariaEl.dom;this.callParent(),e&&e.setAttribute("aria-invalid",!1)}},function(){Ext.isGecko&&this.override({onFocusEnter:function(e){var t,i,n,e=e.toComponent;if(e.isRadio)for(i=0,n=(t=e.getManager().getByName(e.name,e.getFormId()).items).length;i<n;i++)t[i].disableTabbing()},onFocusLeave:function(e){var t,i,n,e=e.fromComponent;if(e.isRadio)for(i=0,n=(t=e.getManager().getByName(e.name,e.getFormId()).items).length;i<n;i++)t[i].enableTabbing()}})}),Ext.define("Ext.form.action.DirectAction",{extend:"Ext.Mixin",mixinConfig:{id:"directaction"},resolveMethod:function(e){var t=this.form,i=Ext.direct.Manager.resolveApi(t.api,this);return i||Ext.raise("Cannot resolve Ext Direct API method for "+e+" action; form "+t.id+" has no api object defined"),(i=i[e])||Ext.raise("Cannot resolve Ext Direct API method "+fnName+" for "+e+" action"),i}}),Ext.define("Ext.form.action.DirectLoad",{extend:"Ext.form.action.Load",alternateClassName:"Ext.form.Action.DirectLoad",alias:"formaction.directload",requires:["Ext.direct.Manager"],mixins:["Ext.form.action.DirectAction"],type:"directload",run:function(){var e=this.form,t=this.metadata||e.metadata,i=this.timeout||e.timeout,n=this.resolveMethod("load"),t=n.directCfg.method.getArgs({params:this.getParams(),paramOrder:e.paramOrder,paramsAsHash:e.paramsAsHash,options:null!=i?{timeout:1e3*i}:null,metadata:t,callback:this.onComplete,scope:this});n.apply(window,t)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.action.DirectSubmit",{extend:"Ext.form.action.Submit",alternateClassName:"Ext.form.Action.DirectSubmit",alias:"formaction.directsubmit",requires:["Ext.direct.Manager"],mixins:["Ext.form.action.DirectAction"],type:"directsubmit",doSubmit:function(){var e=this.form,t=this.metadata||e.metadata,i=this.timeout||e.timeout,n=this.resolveMethod("submit"),e=this.buildForm(),t=n.directCfg.method.getArgs({params:e.formEl,options:null!=i?{timeout:1e3*i}:null,metadata:t,callback:this.onComplete,scope:this});n.apply(window,t),this.cleanup(e)},processResponse:function(e){return this.result=e},onComplete:function(e){e?this.onSuccess(e):this.onFailure(null)}}),Ext.define("Ext.form.field.Picker",{extend:"Ext.form.field.Text",alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",requires:["Ext.util.KeyNav"],config:{triggers:{picker:{handler:"onTriggerClick",scope:"this",focusOnMousedown:!0}}},renderConfig:{editable:!0},keyMap:{scope:"this",DOWN:"onDownArrow",ESC:"onEsc"},keyMapTarget:"inputEl",isPickerField:!0,matchFieldWidth:!0,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",isExpanded:!1,applyTriggers:function(e){var t=e.picker;return t.cls||(t.cls=this.triggerCls),this.callParent([e])},getSubTplData:function(e){var t=this.callParent([e]);return this.ariaStaticRoles[this.ariaRole]||(e=t.ariaElAttributes)&&(e["aria-haspopup"]=!0,e["aria-expanded"]=!1),t},initEvents:function(){this.callParent(),Ext.isGecko&&this.inputEl.dom.setAttribute("autocomplete","off")},updateEditable:function(e,t){e?this.inputEl.un("click",this.onTriggerClick,this):this.inputEl.on("click",this.onTriggerClick,this),this.callParent([e,t])},onEsc:function(e){Ext.isIE&&e.preventDefault(),this.isExpanded&&(this.collapse(),e.stopEvent())},onDownArrow:function(e){150<e.time-this.lastDownArrow&&delete this.lastDownArrow,this.isExpanded?!e.stopped&&e.time-this.lastDownArrow<150&&delete this.lastDownArrow:(e.stopEvent(),this.onTriggerClick(e),this.lastDownArrow=e.time)},expand:function(){var e,t,i,n=this;!n.rendered||n.isExpanded||n.destroyed||(e=n.bodyEl,t=n.getPicker(),i=Ext.getDoc(),t.setMaxHeight(t.initialConfig.maxHeight),n.matchFieldWidth&&t.setWidth(n.bodyEl.getWidth()),t.show(),n.isExpanded=!0,n.alignPicker(),e.addCls(n.openCls),n.ariaStaticRoles[n.ariaRole]||(n.ariaEl.dom.hasAttribute("aria-owns")||n.ariaEl.dom.setAttribute("aria-owns",(t.listEl||t.el).id),n.ariaEl.dom.setAttribute("aria-expanded",!0)),n.touchListeners=i.on({translate:!1,touchstart:n.collapseIf,scope:n,delegated:!1,destroyable:!0}),n.scrollListeners=Ext.on({scroll:n.onGlobalScroll,scope:n,destroyable:!0}),Ext.on("resize",n.alignPicker,n,{buffer:1}),n.fireEvent("expand",n),n.onExpand())},onExpand:Ext.emptyFn,alignPicker:function(){var e;this.rendered&&!this.destroyed&&(e=this.getPicker()).isVisible()&&e.isFloating()&&this.doAlign()},doAlign:function(){var e,t=this.picker;t.el.alignTo(this.triggerWrap,this.pickerAlign,this.pickerOffset),e=t.floatParent?t.getOffsetsTo(t.floatParent.getTargetEl()):t.getXY(),t.x=e[0],t.y=e[1],e=t.el.getY()<this.inputEl.getY(),this.bodyEl[e?"addCls":"removeCls"](this.openCls+"-above"),t[e?"addCls":"removeCls"](t.baseCls+"-above")},collapse:function(){var e,t,i=this;!i.isExpanded||i.destroyed||i.destroying||(e=i.openCls,(t=i.picker).hide(),i.isExpanded=!1,i.bodyEl.removeCls([e,e+"-above"]),t.el.removeCls(t.baseCls+"-above"),i.ariaStaticRoles[i.ariaRole]||i.ariaEl.dom.setAttribute("aria-expanded",!1),i.touchListeners.destroy(),i.scrollListeners.destroy(),Ext.un("resize",i.alignPicker,i),i.fireEvent("collapse",i),i.onCollapse())},onCollapse:Ext.emptyFn,collapseIf:function(e){this.destroyed||e.within(this.bodyEl,!1,!0)||this.owns(e.target)||Ext.fly(e.target).isFocusable()||this.collapse()},getPicker:function(){var e=this.picker;return e||(this.creatingPicker=!0,this.picker=e=this.createPicker(),delete(e.ownerCmp=this).creatingPicker),this.picker},onFocusLeave:function(e){this.collapse(),this.callParent([e])},getRefItems:function(){var e=[];return this.picker&&(e[0]=this.picker),e},createPicker:Ext.emptyFn,onTriggerClick:function(e){this.readOnly||this.disabled||(this.isExpanded?this.collapse():this.expand())},doDestroy:function(){var e=this.picker;Ext.un("resize",this.alignPicker,this),Ext.destroy(this.keyNav,e),e&&(this.picker=e.pickerField=null),this.callParent()},privates:{onGlobalScroll:function(e){this.picker.owns(e.getElement())||this.collapse()}}}),Ext.define("Ext.selection.Model",{extend:"Ext.mixin.Observable",alternateClassName:"Ext.AbstractSelectionModel",alias:"selection.abstract",requires:["Ext.util.Bag"],mixins:["Ext.util.StoreHolder","Ext.mixin.Factoryable"],factoryConfig:{defaultType:"dataviewmodel"},$configPrefixed:!1,$configStrict:!1,config:{store:null,selected:{}},isSelectionModel:!0,allowDeselect:void 0,toggleOnClick:!0,ordered:!1,selected:null,pruneRemoved:!0,suspendChange:0,ignoreRightMouseSelection:!1,constructor:function(e){this.modes={SINGLE:!0,SIMPLE:!0,MULTI:!0},this.callParent([e]),this.setSelectionMode(this.mode),"SINGLE"!==this.selectionMode&&(this.allowDeselect=!0)},updateStore:function(e,t){this.bindStore(e,!t)},applySelected:function(e){return e.isBag||e.isCollection||(e=new Ext.util[this.ordered?"Collection":"Bag"](Ext.apply({rootProperty:"data"},e))),e},getStoreListeners:function(){return{add:this.onStoreAdd,clear:this.onStoreClear,remove:this.onStoreRemove,update:this.onStoreUpdate,idchanged:this.onIdChanged,load:this.onStoreLoad,refresh:this.onStoreRefresh,pageadd:this.onPageAdd,pageremove:this.onPageRemove}},onBindStore:function(e,t,i){i||this.updateSelectedInstances(this.selected)},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){this.suspendChange&&--this.suspendChange},selectAll:function(e){var t=this.store.getRange(),i=this.getSelection().length;this.suspendChanges(),this.doSelect(t,!0,e),this.destroyed||(this.resumeChanges(),e||this.maybeFireSelectionChange(this.getSelection().length!==i))},deselectAll:function(e){for(var t,i=this.getSelection(),n={},r=this.store,o=i.length,s=0,a=i.length;s<a;s++)t=i[s],n[t.id]=r.indexOf(t);i=Ext.Array.sort(i,function(e,t){return n[e.id]<n[t.id]?-1:1}),this.suspendChanges(),this.doDeselect(i,e),this.destroyed||(this.resumeChanges(),e||this.maybeFireSelectionChange(this.getSelection().length!==o))},getSelectionStart:function(){return this.selectionStart},setSelectionStart:function(e){this.selectionStart=e},selectWithEvent:function(e,t){var i=this.isSelected(e),n=t.shiftKey;switch(this.selectionMode){case"MULTI":this.selectWithEventMulti(e,t,i);break;case"SIMPLE":this.selectWithEventSimple(e,t,i);break;case"SINGLE":this.selectWithEventSingle(e,t,i)}this.destroyed||n||(this.isSelected(e)?this.selectionStart=e:this.selectionStart=null)},vetoSelection:function(e){return!!e.stopSelection||("keydown"===e.type||0===e.button?"mousedown"===e.type:!(!this.ignoreRightMouseSelection&&!this.isSelected(e.record))||void 0)},onNavigate:function(e){if(e.record&&!this.vetoSelection(e.keyEvent)){this.onBeforeNavigate(e);var t=this,i=e.keyEvent,n=i.ctrlKey||e.ctrlKey,r=e.recordIndex,o=e.record,s=e.previousRecord,a=t.isSelected(o),l=t.selectionStart&&t.isSelected(e.previousRecord)?t.selectionStart:t.selectionStart=e.previousRecord,d=e.previousRecordIndex,c=i.getCharCode(),u=c===i.SPACE,h=e.record!==e.previousRecord,f=c===i.UP||c===i.PAGE_UP||c===i.HOME||c===i.LEFT&&h?"up":c===i.DOWN||c===i.PAGE_DOWN||c===i.END||c===i.RIGHT&&h?"down":null;switch(t.selectionMode){case"MULTI":t.setSelectionStart(e.selectionStart),c===i.A&&n?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):u?i.shiftKey?t.selectRange(l,o,n):a?t.allowDeselect&&t.doDeselect(o):t.doSelect(o,n):i.shiftKey&&l?("up"===f&&d<=r?t.deselectRange(s,r+1):"down"===f&&r<=d?t.deselectRange(s,r-1):l!==o&&t.selectRange(l,o,n),t.lastSelected=o):c?n||t.doSelect(o,!1):t.selectWithEvent(o,i);break;case"SIMPLE":c===i.A&&n?(t.selected.beginUpdate(),t.selectRange(0,t.store.getCount()-1),t.selected.endUpdate()):a?t.doDeselect(o):t.doSelect(o,!0);break;case"SINGLE":n||(f?t.doSelect(o,!1):!u&&c||t.selectWithEvent(o,i))}i.shiftKey||t.destroyed||!t.isSelected(o)||(t.selectionStart=o,t.selectionStartIdx=r)}},selectRange:function(e,t,i){var n,r,o,s,a,l,d,c=this,u=c.store,h=c.selected.items;if(!c.isLocked()){for(e=(n=c.normalizeRowRange(e,t))[0],t=n[1],s=[],r=e;r<=t;r++)c.isSelected(u.getAt(r))||s.push(u.getAt(r));if(!i){for(a=[],c.suspendChanges(),r=0,o=h.length;r<o;++r)d=h[r],((l=u.indexOf(d))<e||t<l)&&a.push(d);for(r=0,o=a.length;r<o&&(c.doDeselect(a[r]),!c.destroyed);++r);c.destroyed||c.resumeChanges()}c.destroyed||(s.length?c.doMultiSelect(s,!0):a&&c.maybeFireSelectionChange(0<a.length))}},deselectRange:function(e,t){var i,n,r,o,s=this.store;if(!this.isLocked()){for(e=(i=this.normalizeRowRange(e,t))[0],t=i[1],r=[],n=e;n<=t;n++)o=s.getAt(n),this.isSelected(o)&&r.push(o);r.length&&this.doDeselect(r)}},normalizeRowRange:function(e,t){var i=this.store;return Ext.isNumber(e)||(e=i.indexOf(e)),e=Math.max(0,e),Ext.isNumber(t)||(t=i.indexOf(t)),(t=Math.min(t,i.getCount()-1))<e&&(i=t,t=e,e=i),[e,t]},select:function(e,t,i){!Ext.isDefined(e)||Ext.isArray(e)&&!e.length||this.doSelect(e,t,i)},deselect:function(e,t){this.doDeselect(e,t)},doSelect:function(e,t,i){var n;if(!this.locked&&null!=e){if("number"==typeof e){if(!(n=this.store.getAt(e)))return;e=[n]}"SINGLE"===this.selectionMode?(e.isModel&&(e=[e]),e.length&&this.doSingleSelect(e[0],i)):this.doMultiSelect(e,t,i)}},doMultiSelect:function(e,t,i){var n,r,o,s,a=this,l=a.selected,d=!1;if(!a.locked){if(r=(e=Ext.isArray(e)?e:[e]).length,!t&&0<l.getCount()){if(t=a.deselectDuringSelect(e,i),a.destroyed)return;if(t[0])return void a.maybeFireSelectionChange(0<t[1]&&!i);d=0<t[1]}for(s=function(){l.getCount()||(a.selectionStart=o),i||l.add(o),d=!0},n=0;n<r;n++)if(o=e[n],!a.isSelected(o)&&(a.onSelectChange(o,!0,i,s),a.destroyed))return;a.lastSelected=o,i&&l.add(e),a.maybeFireSelectionChange(d&&!i)}},deselectDuringSelect:function(e,t){var i,n,r=this.selected.getRange(),o=r.length,s=0,a=!1;for(this.suspendChanges(),this.deselectingDuringSelect=!0,n=0;n<o;++n)if(i=r[n],Ext.Array.contains(e,i)||(this.doDeselect(i,t)?++s:a=!0),this.destroyed){a=!0,s=0;break}return this.deselectingDuringSelect=!1,this.destroyed||this.resumeChanges(),[a,s]},doDeselect:function(e,t){var i,n,r,o=this,s=o.selected,a=0,l=0,d=0;if(o.locked||!o.store)return!1;if("number"==typeof e){if(!(n=o.store.getAt(e)))return!1;e=[n]}else Ext.isArray(e)||(e=[e]);for(r=function(){++d,t||s.remove(n),n===o.selectionStart&&(o.selectionStart=null)},i=e.length,o.suspendChanges();a<i;a++)if(n=e[a],o.isSelected(n)&&(o.lastSelected===n&&(o.lastSelected=s.last()),++l,o.onSelectChange(n,!1,t,r),o.destroyed))return!1;return o.resumeChanges(),t&&s.remove(e),o.maybeFireSelectionChange(0<d&&!t),d===l},doSingleSelect:function(t,i){var e,n=this,r=!1,o=n.selected;n.locked||n.isSelected(t)||(e=function(){if(o.getCount()){n.suspendChanges();var e=n.deselectDuringSelect([t],i);if(n.destroyed)return;if(n.resumeChanges(),e[0])return!1}n.lastSelected=t,o.getCount()||(n.selectionStart=t),o.add(t),r=!0},n.onSelectChange(t,!0,i,e),r&&!n.destroyed&&n.maybeFireSelectionChange(!i))},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.fireEvent("selectionchange",this,this.getSelection())},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(e){e=e?e.toUpperCase():"SINGLE",this.selectionMode=this.modes[e]?e:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(e){this.locked=!!e},isRangeSelected:function(e,t){var i,n=this.store,r=this.normalizeRowRange(e,t);for(e=r[0],t=r[1],i=e;i<=t;i++)if(!this.isSelected(n.getAt(i)))return!1;return!0},isSelected:function(e){return e=Ext.isNumber(e)?this.store.getAt(e):e,!!this.selected&&this.selected.contains(e)},hasSelection:function(){var e=this.getSelected();return!(!e||!e.getCount())},refresh:function(){var e,t,i,n,r,o,s=this,a=s.store,l=[],d=[],c=s.getSelection(),u=c.length,h=s.getSelected();if(a&&(h.isCollection||h.isBag||h.isRows)&&h.getCount()){for((i=a.getData()).getSource&&(t=i.getSource())&&(i=t),s.refreshing=!0,h.beginUpdate(),s.suspendChanges(),o=0;o<u&&(n=c[o],(r=i.get(n.getId()))?l.push(r):s.pruneRemoved||d.push(n),"SINGLE"!==s.mode||!d.length);o++);h.getCount()!==l.length+d.length&&(e=!0),s.clearSelections(),l.length&&s.doSelect(l,!1,!0),d.length&&(h.add(d),s.lastSelected||(s.lastSelected=d[d.length-1])),s.resumeChanges(),e?h.endUpdate():h.updating--,s.refreshing=!1,s.maybeFireSelectionChange(e)}},clearSelections:function(){var e=this.getSelected();e&&e.clear(),this.lastSelected=null},onStoreAdd:Ext.emptyFn,onStoreClear:function(){this.store.isLoading()&&!this.store.clearing||!this.hasSelection()||(this.clearSelections(),this.maybeFireSelectionChange(!0))},onStoreRemove:function(e,t,i,n){var r,o,s,a,l=t;if(this.selectionStart&&Ext.Array.contains(t,this.selectionStart)&&(this.selectionStart=null),!n&&!this.locked&&this.pruneRemoved){if(a=e.isMoving(null,!0))for(l=null,r=0,o=t.length;r<o;++r)a[(s=t[r]).id]||(l=l||[]).push(s);l&&this.deselect(l)}},onPageRemove:function(e,t,i){this.onStoreRemove(this.store,i)},onPageAdd:function(e,t,i){for(var n,r=i.length,o=0;o<r;o++)n=i[o],this.selected.get(n.id)&&this.selected.replace(n)},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearSelections(),this.bindStore(null),this.selected=Ext.destroy(this.selected),this.callParent()},onStoreUpdate:Ext.emptyFn,onIdChanged:function(e,t,i,n){this.selected.updateKey(t,i)},onStoreRefresh:function(){this.updateSelectedInstances(this.selected)},updateSelectedInstances:function(e){var t,i,n,r,o,s,a=this,l=a.getStore(),d=a.lastSelected,c=0,u=a.pruneRemovedOnRefresh();if(!l||!l.isBufferedStore){if(i=(t=e.getRange()).length,d&&(a.lastSelected=l.getById(d.id),s=a.lastSelected!==d),a.refreshing=!0,l)for(n=0;n<i;++n)r=t[n],(o=l.getById(r.id))?o!==r&&e.add(o):u&&(e.remove(r),++c);else c=e.getCount(),e.removeAll();a.refreshing=!1,a.maybeFireSelectionChange(0<c),s&&a.fireEvent("lastselectedchanged",a,a.getSelection(),d)}},pruneRemovedOnRefresh:function(){return this.pruneRemoved},onStoreLoad:Ext.emptyFn,onSelectChange:function(e,t,i,n){t=t?"select":"deselect";!1!==(i||this.fireEvent("before"+t,this,e))&&!1!==n()&&(i||this.destroyed||this.fireEvent(t,this,e))},onEditorKey:Ext.emptyFn,beforeViewRender:function(e){Ext.Array.include(this.views||(this.views=[]),e)},onHeaderClick:Ext.emptyFn,resolveListenerScope:function(e){var t,i=this.view;return i&&(t=i.resolveSatelliteListenerScope(this,e)),t||this.callParent([e])},bindComponent:Ext.emptyFn,privates:{onBeforeNavigate:Ext.privateFn,getLastSelected:function(){return this.lastSelected},selectWithEventMulti:function(e,t,i){var n,r,o,s=t.shiftKey,a=t.ctrlKey,t=s?this.getSelectionStart():null,l=this.getSelection(),d=l.length;if(s&&t)this.selectRange(t,e,a);else if(a&&i)this.allowDeselect&&this.doDeselect(e,!1);else if(a)this.doSelect(e,!0,!1);else if(i&&!s&&!a&&1<d){if(this.allowDeselect){for(n=[],r=0;r<d;++r)(o=l[r])!==e&&n.push(o);this.doDeselect(n)}}else i||this.doSelect(e,!1)},selectWithEventSimple:function(e,t,i){i?this.doDeselect(e):this.doSelect(e,!0)},selectWithEventSingle:function(e,t,i){var n=this.allowDeselect;n&&!t.ctrlKey&&(n=this.toggleOnClick),n&&i?this.doDeselect(e):this.doSelect(e,!1)}}}),Ext.define("Ext.selection.DataViewModel",{extend:"Ext.selection.Model",alias:"selection.dataviewmodel",requires:["Ext.util.KeyNav"],deselectOnContainerClick:!0,bindComponent:function(e){var t,i=this;i.view!==e&&(i.view&&(i.navigationModel=null,Ext.destroy(i.viewListeners,i.navigationListeners)),(i.view=e)&&((t=i.getViewListeners()).scope=i,t.destroyable=!0,i.navigationModel=e.getNavigationModel(),i.viewListeners=e.on(t),i.navigationListeners=i.navigationModel.on({navigate:i.onNavigate,scope:i,destroyable:!0})))},getViewListeners:function(){var e={};return e[this.view.triggerCtEvent]=this.onContainerClick,e},onUpdate:function(e){var t=this.view;t&&this.isSelected(e)&&t.onItemSelect(e)},onContainerClick:function(){this.deselectOnContainerClick&&this.deselectAll()},onSelectChange:function(e,t,i,n){var r=this.view,o=t?"select":"deselect",s=this.store.indexOf(e);!1!==(i||this.fireEvent("before"+o,this,e,s))&&!1!==n()&&(r&&!r.destroyed&&(t?r.onItemSelect(e):r.onItemDeselect(e)),i||this.destroyed||this.fireEvent(o,this,e,s))},destroy:function(){this.bindComponent(),Ext.destroy(this.keyNav),this.callParent()}}),Ext.define("Ext.view.NavigationModel",{mixins:["Ext.util.Observable","Ext.mixin.Factoryable","Ext.util.StoreHolder"],alias:"view.navigation.default",config:{store:null},focusCls:Ext.baseCSSPrefix+"view-item-focused",constructor:function(){this.mixins.observable.constructor.call(this)},bindComponent:function(e){this.view!==e&&(this.view=e,this.bindView(e))},bindView:function(e){var t=e.dataSource;this.initKeyNav(e),t.isEmptyStore||this.setStore(t),(t=this.getViewListeners()).destroyable=!0,this.viewListeners=this.viewListeners||[],this.viewListeners.push(e.on(t))},updateStore:function(e){this.mixins.storeholder.bindStore.apply(this,[e])},getViewListeners:function(){return{containermousedown:this.onContainerMouseDown,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemMouseDown,scope:this}},initKeyNav:function(e){var t=this;t.keyNav=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:"itemkeydown",defaultEventAction:"stopEvent",processEvent:t.processViewEvent,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t})},processViewEvent:function(e,t,i,n,r){return r},addKeyBindings:function(e){this.keyNav.addBindings(e)},enable:function(){this.keyNav.enable(),this.disabled=!1},disable:function(){this.keyNav.disable(),this.disabled=!0},onContainerMouseDown:function(e,t){Ext.getScrollbarSize().width&&(e.el.getClientRegion().contains(t.getPoint())||(t.preventDefault(),e.lastFocused="scrollbar"))},onItemMouseDown:function(e,t,i,n,r){"touch"!==r.pointerType&&this.setPosition(n)},onItemClick:function(e,t,i,n,r){this.record===t?this.fireNavigateEvent(r):this.setPosition(n,r)},setPosition:function(e,t,i,n,r){var o,s,a=this,l=a.view,d=l.getSelectionModel(),c=l.dataSource;if(null!=e&&l.all.getCount()?"number"==typeof e?(s=Math.max(Math.min(e,c.getCount()-1),0),o=c.getAt(e)):e.isEntity?(o=c.getById(e.id),-1===(s=c.indexOf(o))&&(o=c.getAt(0),s=0)):e.tagName?(o=l.getRecord(e),s=c.indexOf(o)):o=s=null:a.record=a.recordIndex=null,o===a.record)return a.recordIndex=s,a.focusPosition(s);a.item&&a.item.removeCls(a.focusCls),a.previousRecordIndex=a.recordIndex,a.previousRecord=a.record,a.previousItem=a.item,a.recordIndex=s,a.record=o,n=n||a.record===a.lastFocused,o?a.focusPosition(a.recordIndex):r||(a.item=null),i||d.fireEvent("focuschange",d,a.previousRecord,a.record),!n&&t&&a.fireNavigateEvent(t)},focusPosition:function(e){var t=this;null!=e&&-1!==e?(e.isEntity&&(e=t.view.dataSource.indexOf(e)),t.item=t.view.all.item(e),t.item?(t.lastFocused=t.record,t.lastFocusedIndex=t.recordIndex,t.focusItem(t.item)):t.record=null):t.item=null},focusItem:function(e){e.addCls(this.focusCls),e.focus()},getPosition:function(){return this.record?this.recordIndex:null},getRecordIndex:function(){return this.recordIndex},getItem:function(){return this.item},getRecord:function(){return this.record},getLastFocused:function(){return-1===this.view.dataSource.indexOf(this.lastFocused)?null:this.lastFocused},onKeyUp:function(e){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1),this.setPosition(t,e)},onKeyDown:function(e){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0),this.setPosition(t,e)},onKeyRight:function(e){var t=this.recordIndex+1;t>this.view.all.getCount()-1&&(t=0),this.setPosition(t,e)},onKeyLeft:function(e){var t=this.recordIndex-1;t<0&&(t=this.view.all.getCount()-1),this.setPosition(t,e)},onKeyPageDown:Ext.emptyFn,onKeyPageUp:Ext.emptyFn,onKeyHome:function(e){this.setPosition(0,e)},onKeyEnd:function(e){this.setPosition(this.view.all.getCount()-1,e)},onKeySpace:function(e){this.fireNavigateEvent(e)},onKeyEnter:function(e){e.stopEvent(),e.view.fireEvent("itemclick",e.view,e.record,e.item,e.recordIndex,e)},onSelectAllKeyPress:function(e){this.fireNavigateEvent(e)},fireNavigateEvent:function(e){this.fireEvent("navigate",{navigationModel:this,keyEvent:e,previousRecordIndex:this.previousRecordIndex,previousRecord:this.previousRecord,previousItem:this.previousItem,recordIndex:this.recordIndex,record:this.record,item:this.item})},destroy:function(){this.setStore(null),Ext.destroy(this.viewListeners,this.keyNav),this.callParent()}}),Ext.define("Ext.rtl.view.NavigationModel",{override:"Ext.view.NavigationModel",initKeyNav:function(e){var t=this.self.prototype;e.getInherited().rtl&&(this.onKeyLeft=t.onKeyRight,this.onKeyRight=t.onKeyLeft),this.callParent([e])}}),Ext.define("Ext.view.AbstractView",{extend:"Ext.Component",requires:["Ext.LoadMask","Ext.CompositeElementLite","Ext.selection.DataViewModel","Ext.view.NavigationModel","Ext.util.CSS"],mixins:["Ext.util.StoreHolder"],isDataView:!0,inheritableStatics:{getRecord:function(e){return this.getBoundView(e).getRecord(e)},getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},defaultBindProperty:"store",renderBuffer:document.createElement("div"),statics:{updateDelay:200,queueRecordChange:function(e,t,i,n,r){var o,s,a,l,d,c=this.changeQueue||(this.changeQueue={}),u=i.internalId,n=c[u]||(c[u]={operation:n,record:i,data:{},views:[]}),h=n.data;if(Ext.Array.include(n.views,e),r&&(o=r.length)){for(s=0;s<o;s++)a=r[s],l=i.data[a],h.hasOwnProperty(a)?i.isEqual(h[a],l)&&(delete h[a],d=!0):h[a]=l;d&&!Ext.Object.getKeys(h).length&&delete c[u]}else Ext.apply(h,i.data);this.flushQueueTask||(this.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(this.onFlushTick,this):Ext.Function.bind(this.onFlushTick,this),interval:Ext.view.AbstractView.updateDelay,repeat:1})),this.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var e,t,i,n,r,o,s;if(Ext.isScrolling)this.flushQueueTask.start();else{for(r in i=this.changeQueue,this.changeQueue={},i)for(t=(e=(n=i[r]).views).length,o=0;o<t;o++)(s=e[o]).destroyed||s.handleUpdate(s.dataSource,n.record,n.operation,Ext.Object.getKeys(n.data));Ext.AnimationQueue.stop(this.flushChangeQueue,this)}}},config:{selection:null,store:"ext-empty-store",navigationModel:{type:"default"},selectionModel:{type:"dataviewmodel"}},publishes:["selection"],twoWayBindable:["selection"],throttledUpdate:!1,deferInitialRefresh:!1,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:!0,loadingUseMsg:!0,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:!0,trackOver:!1,blockRefresh:!1,preserveScrollOnRefresh:!1,preserveScrollOnReload:!1,autoDestroyBoundStore:!0,ariaRole:"listbox",itemAriaRole:"option",last:!1,focusable:!0,tabIndex:0,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:!0,updateSuspendCounter:0,addCmpEvents:Ext.emptyFn,constructor:function(e){e&&e.selModel&&(e.selectionModel=e.selModel),this.callParent([e])},initComponent:function(){var e=this,t=Ext.isDefined,i=e.itemTpl,n={};i&&(Ext.isArray(i)?("string"!=typeof i[i.length-1]&&(n=(i=i.slice(0)).pop()),i=i.join("")):Ext.isObject(i)&&(n=Ext.apply(n,i.initialConfig),i=i.html),e.itemSelector||(e.itemSelector="."+e.itemCls),i=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',e.itemCls,i,e.itemAriaRole),e.tpl=new Ext.XTemplate(i,n)),t(e.tpl)&&t(e.itemSelector)||Ext.raise({sourceClass:"Ext.view.View",tpl:e.tpl,itemSelector:e.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."}),e.callParent(),e.tpl=e.lookupTpl("tpl"),(t(e.overCls)||t(e.overClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead."),e.overItemCls=e.overCls||e.overClass,delete e.overCls,delete e.overClass),(t(e.selectedCls)||t(e.selectedClass))&&(Ext.isDefined(Ext.global.console)&&Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead."),e.selectedItemCls=e.selectedCls||e.selectedClass,delete e.selectedCls,delete e.selectedClass),e.overItemCls&&(e.trackOver=!0),e.addCmpEvents(),t=e.store=Ext.data.StoreManager.lookup(e.store||"ext-empty-store"),e.dataSource||(e.dataSource=t),e.bindStore(t,!0),e.getNavigationModel().bindComponent(this),e.all||(e.all=new Ext.CompositeElementLite),e.scrollState={top:0,left:0},e.savedTabIndexAttribute="data-savedtabindex-"+e.id},getElConfig:function(){var e=this.mixins.renderable.getElConfig.call(this);return this.focusable&&(e.tabIndex=0),e},onRender:function(e,t){var i=this.loadMask;this.callParent([e,t]),i&&this.createMask(i)},beforeLayout:function(){this.callParent(),this.refreshNeeded&&!this.pendingRefresh&&(this.refreshCounter?this.refreshView():this.doFirstRefresh(this.dataSource))},onMaskBeforeShow:function(){var e=this.loadingHeight;e&&e>this.getHeight()&&(this.hasLoadingHeight=!0,this.oldMinHeight=this.minHeight,this.minHeight=e,this.updateLayout())},onMaskHide:function(){!this.destroying&&this.hasLoadingHeight&&(this.minHeight=this.oldMinHeight,this.updateLayout(),delete this.hasLoadingHeight)},beforeRender:function(){this.callParent(),this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(),this.focusable&&(this.focusEl=this.el)},getRefItems:function(){var e=this.loadMask,t=[];return e&&e.isComponent&&t.push(e),t},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t=this.getSelectionModel(),e?t.select(e):t.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var i=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(i),this.ignoreNextSelection=!1)},applySelectionModel:function(e,t){var i,n=this,r=n.grid;return t?(t.destroyed||t.un({scope:n,selectionchange:n.updateBindSelection,lastselectedchanged:n.updateBindSelection}),Ext.destroy(n.selModelRelayer),e=Ext.Factory.selection(e)):e&&e.isSelectionModel?e.locked=n.disableSelection:(i=n.simpleSelect?"SIMPLE":n.multiSelect?"MULTI":"SINGLE","string"==typeof e&&(e={type:e}),e=Ext.Factory.selection(Ext.apply({allowDeselect:n.allowDeselect||n.multiSelect,mode:i,locked:n.disableSelection},e))),"SINGLE"!==e.mode&&((i=(r||n).ariaEl.dom)?i.setAttribute("aria-multiselectable",!0):r||((n.ariaRenderAttributes||(n.ariaRenderAttributes={}))["aria-multiselectable"]=!0)),n.selModelRelayer=n.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.on({scope:n,lastselectedchanged:n.updateBindSelection,selectionchange:n.updateBindSelection}),e},updateSelectionModel:function(e){this.selModel=e},applyNavigationModel:function(e){return Ext.Factory.viewNavigation(e)},onFocusEnter:function(e){var t,i=this,n=i.getNavigationModel();"scrollbar"!==t?(i.toggleChildrenTabbability(!1),!i.itemFocused&&i.all.getCount()&&(t=e.event.getTarget()===i.tabGuardEl?i.all.getCount()-1:n.getLastFocused(),n.setPosition(t||0,e.event,null,!t),i.itemFocused=null!=n.getPosition()),i.itemFocused&&(i.el.dom.setAttribute("tabIndex",-1),i.tabGuardEl&&i.tabGuardEl.setAttribute("tabIndex",-1)),i.callParent([e])):e.relatedTarget.focus()},onFocusLeave:function(e){this.itemFocused&&!this.refreshing&&(this.getNavigationModel().setPosition(null,e.event,null,!0),this.itemFocused=!1,this.el.dom.setAttribute("tabIndex",0),this.tabGuardEl&&this.tabGuardEl.setAttribute("tabIndex",0)),this.callParent([e])},onRemoved:function(e){this.callParent([e]),e||this.onFocusLeave({})},refresh:function(){var e,t,i,n,r=this,o=r.all,s=o.getCount(),a=r.refreshCounter,l=r.getSelectionModel(),d=a&&o.getCount()&&r.preserveScrollOnRefresh&&r.getScrollable(),c=r.bufferedRenderer;r.rendered&&!r.destroyed&&(r.hasListeners.beforerefresh&&!1===r.fireEvent("beforerefresh",r)||(r.refreshing=!0,i=r.saveFocusState(),e=r.getTargetEl(),t=r.getViewRange(),e.dom,d&&((n=d.getPosition()).x||n.y||(n=null)),a?(r.clearViewEl(),r.refreshCounter++):r.refreshCounter=1,r.tpl.append(e,r.collectData(t,o.startIndex||0)),t.length<1?(r.addEmptyText(),o.clear()):(r.collectNodes(e.dom),r.updateIndexes(0)),i(),!1!==r.refreshSelmodelOnRefresh&&l.refresh(),r.refreshNeeded=!1,r.refreshSize(o.getCount()!==s),r.fireItemMutationEvent("refresh",r,t),d&&d.scrollTo(n),r.viewReady||(r.viewReady=!0,r.fireEvent("viewready",r)),r.refreshing=!1,c&&c.refreshSize(),r.cleanupData()),r.tabGuardEl||(r.tabGuardEl=r.el.createChild({cls:Ext.baseCSSPrefix+"tab-guard "+Ext.baseCSSPrefix+"tab-guard-after",tabIndex:"0"},null,!0)))},addEmptyText:function(){var e=this.getStore();this.emptyText&&!e.isLoading()&&(!this.deferEmptyText||1<this.refreshCounter||e.isLoaded())&&(this.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",this.getTargetEl().dom,this.emptyText))},getEmptyText:function(){return this.emptyText},setEmptyText:function(e){return this.emptyText!==e&&(this.emptyText=e,this.refresh()),this},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(e){var t=this.getSizeModel();this.getScrollable();(t.height.shrinkWrap||t.width.shrinkWrap||e)&&this.updateLayout()},afterFirstLayout:function(e,t){var i=this.getScrollable();i&&i.on({scroll:this.onViewScroll,scrollend:this.onViewScrollEnd,scope:this,onFrame:!!Ext.global.requestAnimationFrame}),this.callParent([e,t])},clearViewEl:function(){for(var e=this.getTargetEl(),t=this.all,i=this.getStore(),n=this.getNodeContainer()===e,r=t.slice(),o=[],s=t.startIndex;s<=t.endIndex;s++)o.push(i.getByInternalId(t.item(s,!0).getAttribute("data-recordId")));this.fireItemMutationEvent("itemremove",o,t.startIndex||0,r,this),this.clearEmptyEl(),this.all.clear(!n),(e=n?e.dom:this.getNodeContainer())&&(e.innerHTML="")},clearEmptyEl:function(){var e=this.emptyEl;e&&Ext.removeNode(e),this.emptyEl=null},onViewScroll:function(e,t,i){this.fireEvent("scroll",this,t,i)},onViewScrollEnd:function(e,t,i){this.fireEvent("scrollend",this,t,i)},saveScrollState:function(){var e=this.scrollState;this.rendered&&(e.left=this.getScrollX(),e.top=this.getScrollY())},restoreScrollState:function(){var e=this.scrollState;this.rendered&&(this.setScrollX(e.left),this.setScrollY(e.top))},prepareData:function(e,t,i){var n,r,o;if(i)for(r in n=i.getAssociatedData())n.hasOwnProperty(r)&&(o||(e=Ext.Object.chain(e),o=!0),e[r]=n[r]);return e},collectData:function(e,t){for(var i,n=[],r=0,o=e.length;r<o;r++)i=e[r],n[r]=this.prepareData(i.data,t+r,i);return n},cleanupData:Ext.emptyFn,bufferRender:function(e,t){var i,n,r,o=this.renderBuffer,s=document.createDocumentFragment();for(this.tpl.overwrite(o,this.collectData(e,t)),r=0,n=(i=Ext.fly(o).query(this.getItemSelector())).length;r<n;r++)s.appendChild(i[r]);return{fragment:s,children:i}},nodeContainerSelector:null,getNodeContainer:function(){var e=this.getTargetEl(),t=this.nodeContainerSelector;return t?e.down(t,!0):e},setItemsDraggable:function(e){var t="#"+this.id+" "+this.getItemSelector(),i=this.viewStyleSheet;e?(i=i||(Ext.view.AbstractView.prototype.viewStyleSheet=Ext.util.CSS.createStyleSheet("","AbstractView")),Ext.util.CSS.createRule(i,t,"touch-action: pinch-zoom double-tap-zoom;-ms-touch-action: pinch-zoom double-tap-zoom;-webkit-user-drag: none;")):i&&Ext.util.CSS.deleteRule(t)},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(e,t,i,n,r){r&&r.filtered||!this.getNode(t)||(this.throttledUpdate?this.statics().queueRecordChange(this,e,t,i,n):this.handleUpdate(e,t,i,n,r))},handleUpdate:function(e,t){var i,n,r=this,o=r.getSelectionModel();if(r.viewReady&&!r.refreshNeeded&&(i=r.dataSource.indexOf(t),-1<i&&r.getNode(t)))return n=r.bufferRender([t],i).children[0],r.all.replaceElement(i,n,!0),r.updateIndexes(i,i),o.onUpdate(t),r.refreshSizePending=!0,o.isSelected(t)&&r.onItemSelect(t),r.hasListeners.itemupdate&&r.fireEvent("itemupdate",t,i,n,r),n},onReplace:function(e,t,i,n){var r,o,s,a=this,l=a.all,d=a.getSelectionModel(),c=t;a.rendered&&(o=(r=a.bufferRender(n,t,!0)).fragment,r=r.children,l.item(t)?l.item(t).insertSibling(o,"before",!0):a.appendNodes(o),l.insert(t,r),i.length&&(s=a.saveFocusState()),o=(t+=n.length)+i.length-1,o=l.removeRange(t,o,!0),!1!==a.refreshSelmodelOnRefresh&&d.refresh(),a.updateIndexes(t),a.fireItemMutationEvent("itemremove",i,c,o,a),a.fireItemMutationEvent("itemadd",n,c,r,a),s(),a.refreshSize())},onAdd:function(e,t,i){var n,r=this,o=r.getSelectionModel();r.rendered&&!r.refreshNeeded&&(0===r.all.getCount()?(r.refresh(),n=r.all.slice()):(n=r.doAdd(t,i),!1!==r.refreshSelmodelOnRefresh&&o.refresh(),r.updateIndexes(i),r.refreshSizePending=!0),r.fireItemMutationEvent("itemadd",t,i,n,r))},appendNodes:function(e){var t=this.all,i=t.getCount();this.nodeContainerSelector?this.getNodeContainer().appendChild(e):t.item(i-1).insertSibling(e,"after")},doAdd:function(e,t){var i=this.bufferRender(e,t,!0),n=i.fragment,r=i.children,o=this.all,s=o.getCount(),e=o.startIndex||0,i=o.endIndex||s-1;return 0===s||i<t?this.appendNodes(n):t<=e?o.item(e).insertSibling(n,"before",!0):o.item(t).insertSibling(r,"before",!0),o.insert(t,r),r},onRemove:function(e,t,i){var n,r,o,s,a,l,d=this,c=d.all;if(d.rendered&&!d.refreshNeeded&&c.getCount()){if(0===d.dataSource.getCount())d.refresh();else{for(l=d.saveFocusState(),s=[],r=t.length-1;0<=r;--r)o=t[r],n=i+r,s&&(a=c.item(n),s[r]=a?a.dom:void 0),c.item(n)&&d.doRemove(o,n);d.fireItemMutationEvent("itemremove",t,i,s,d),l(),d.updateIndexes(i)}d.refreshSizePending=!0}},doRemove:function(e,t){this.all.removeElement(t,!0)},eventLifecycleMap:{refresh:"onViewRefresh",itemremove:"onItemRemove",itemadd:"onItemAdd"},fireItemMutationEvent:function(e){this.ownerGrid&&this.ownerGrid[this.eventLifecycleMap[e]].apply(this.ownerGrid,Ext.Array.slice(arguments,1)),this.fireEvent.apply(this,arguments)},saveFocusState:function(){var e=this,t=e.dataSource||e.store,i=e.getNavigationModel(),n=i.recordIndex,r=i.record,o=e.el.contains(Ext.Element.getActiveElement());return r?(o&&e.el.dom.focus(),function(){t.getCount()&&(n=Math.min(n,e.all.getCount()-1),i.setPosition(t.contains(r)?r:n,null,null,!0,!o))}):Ext.emptyFn},refreshNode:function(e){Ext.isNumber(e)&&(e=this.store.getAt(e)),this.onUpdate(this.dataSource,e)},updateIndexes:function(e,t){var i,n,r=this.all.elements,o=this.getViewRange(),s=this.id;for(e=e||0,t=t||(0===t?0:r.length-1),n=e;n<=t;n++)(i=r[n]).setAttribute("data-recordIndex",n),i.setAttribute("data-recordId",o[n].internalId),i.setAttribute("data-boundView",s)},bindStore:function(e,t){var i=this.getSelectionModel(),n=this.getNavigationModel();i&&!i.destroyed&&(i.bindStore(e,t),i.bindComponent(e?this:null)),this.mixins.storeholder.bindStore.apply(this,arguments),n&&!n.destroyed&&n.setStore(e),e&&this.componentLayoutCounter&&!this.blockRefresh&&this.doFirstRefresh(e,!t)},doFirstRefresh:function(e,t){this.deferInitialRefresh&&!t?Ext.defer(this.doFirstRefresh,1,this,[e,!0]):e&&!this.deferRefreshForLoad(e)&&this.refresh()},onUnbindStore:function(e){this.setMaskBind(null),this.dataSource===e&&(this.dataSource=null)},onBindStore:function(e,t){this.store.isBufferedStore&&(this.store.preserveScrollOnReload=this.preserveScrollOnReload),t&&t.isBufferedStore&&delete t.preserveScrollOnReload,this.setMaskBind(e),this.dataSource||(this.dataSource=e)},setMaskBind:function(e){var t=this.loadMask;this.rendered&&t&&e&&!t.bindStore&&(t=this.createMask()),t&&t.bindStore&&t.bindStore(e)},getStoreListeners:function(){return{refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onBeginUpdate:function(){++this.updateSuspendCounter,Ext.suspendLayouts()},onEndUpdate:function(){this.updateSuspendCounter&&--this.updateSuspendCounter,Ext.resumeLayouts(!0),this.refreshSizePending&&(this.refreshSize(!0),this.refreshSizePending=!1)},onDataRefresh:function(e){var t=this.preserveScrollOnRefresh;e.loadCount>this.lastRefreshLoadCount&&(this.preserveScrollOnRefresh=this.preserveScrollOnReload),this.refreshView(),this.preserveScrollOnRefresh=t,this.lastRefreshLoadCount=e.loadCount},refreshView:function(e){var t=this.blockRefresh||!this.rendered||this.up("[collapsed],[isCollapsingOrExpanding],[hidden]"),i=this.bufferedRenderer;t?this.refreshNeeded=!0:i?i.refreshView(e):this.refresh()},findItemByChild:function(e){return Ext.fly(e).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(e){return e.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){for(var e=[],t=this.getSelectionModel().getSelection(),i=t.length,n=0;n<i;n++)e.push(this.getNode(t[n]));return e},getRecords:function(e){for(var t=[],i=0,n=e.length,r=this.dataSource.data;i<n;i++)t[t.length]=r.getByKey(e[i].getAttribute("data-recordId"));return t},getRecord:function(e){return this.dataSource.getByInternalId(Ext.getDom(e).getAttribute("data-recordId"))},isSelected:function(e){e=this.getRecord(e);return this.getSelectionModel().isSelected(e)},select:function(e,t,i){this.getSelectionModel().select(e,t,i)},deselect:function(e,t){this.getSelectionModel().deselect(e,t)},getNode:function(e){var t;return this.rendered&&(e||0===e)&&(t=Ext.isString(e)?document.getElementById(e):e.isModel?this.getNodeByRecord(e):Ext.isNumber(e)?this.all.elements[e]:(e.target&&e.target.nodeType&&(e=e.target),Ext.fly(e).findParent(this.itemSelector,this.getTargetEl()))),t||null},getNodeByRecord:function(e){e=this.store.indexOf(e);return this.all.elements[e]||null},getNodes:function(e,t){return void 0!==t&&t++,this.all.slice(e,t)},indexOf:function(e){return(e=this.getNode(e))||0===e?e.getAttribute("data-recordIndex")?Number(e.getAttribute("data-recordIndex")):this.all.indexOf(e):-1},doDestroy:function(){var e=this,t=e.updateSuspendCounter,i=e.tabGuardEl;for(e.all&&!e.all.destroyed&&e.all.clear(),i&&i.parentNode&&i.parentNode.removeChild(i),e.emptyEl=null,e.setItemsDraggable(!1),e.bindStore(null),e.selModelRelayer&&e.selModelRelayer.destroy(),Ext.destroy(e.navigationModel,e.selectionModel,e.loadMask);t--;)Ext.resumeLayouts(!0);e.callParent()},onItemSelect:function(e){e=this.getNode(e);return e&&(Ext.fly(e).addCls(this.selectedItemCls),e.setAttribute("aria-selected","true")),e},onItemDeselect:function(e){e=this.getNode(e);return e&&(Ext.fly(e).removeCls(this.selectedItemCls),e.setAttribute("aria-selected","false")),e},getItemSelector:function(){return this.itemSelector},addItemCls:function(e,t){e=this.getNode(e);e&&Ext.fly(e).addCls(t)},removeItemCls:function(e,t){e=this.getNode(e);e&&Ext.fly(e).removeCls(t)},setStore:function(e){this.store!==e&&(this.isConfiguring?this.store=e:this.bindStore(e,!1))},privates:{deferRefreshForLoad:function(e){return e.isLoading()},toggleChildrenTabbability:function(e){var t=this.getTargetEl();e?t.restoreTabbableState(!0):t.saveTabbableState({skipSelf:!0,includeSaved:!1})},collectNodes:function(e){var t=this.all,i={role:this.itemAriaRole};t.fill(Ext.fly(e).query(this.getItemSelector()),t.startIndex||0),this.focusable&&(i.tabindex="-1"),t.set(i)},createMask:function(e){var t=this,i=t.getStore();return!i||i.isEmptyStore||i.loadsSynchronously()||(i={target:t,msg:t.loadingText,useMsg:t.loadingUseMsg,store:i},t.loadingCls&&(i.msgCls=t.loadingCls),Ext.isObject(e)&&(i=Ext.apply(i,e)),t.loadMask=new Ext.LoadMask(i),t.loadMask.on({scope:t,beforeshow:t.onMaskBeforeShow,hide:t.onMaskHide})),t.loadMask},getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection().length},getSelectedRecords:function(){return Ext.global.console&&Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel"),this.selModel.getSelection()},select:function(e,t,i){Ext.global.console&&Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()");var n=this.getSelectionModel();return n.select.apply(n,arguments)},clearSelections:function(){return Ext.global.console&&Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()"),this.getSelectionModel().deselectAll()}})})}),Ext.define("Ext.view.View",{extend:"Ext.view.AbstractView",alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,keyEventRe:/^key/,manageLayoutScroll:!1,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",keyup:"KeyUp",keypress:"KeyPress",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var e=this;e.callParent(),e.mon(e.el,{scope:e,click:e.handleEvent,longpress:e.handleEvent,mousedown:e.handleEvent,mouseup:e.handleEvent,dblclick:e.handleEvent,contextmenu:e.handleEvent,keydown:e.handleEvent,keyup:e.handleEvent,keypress:e.handleEvent,mouseover:e.handleMouseOver,mouseout:e.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(e){var t=this.getTargetSelector(),t=e.getTarget(t);this.destroyed||(t?this.mouseOverItem!==t&&this.el.contains(t)&&(this.mouseOverItem=e.item=t,e.newType="mouseenter",this.handleEvent(e)):this.handleEvent(e))},handleMouseOut:function(e){var t,i=this.getTargetSelector(),n=e.getTarget(i),i=e.getRelatedTarget(i);(n!==i||null===n&&null===i)&&(this.destroyed||(n&&(t=this.self.getBoundView(n))?(e.item=n,e.newType="mouseleave",t.handleEvent(e),t.mouseOverItem=null):this.handleEvent(e)))},handleEvent:function(e){var t=this.keyEventRe.test(e.type);e.isInputFieldEvent=Ext.fly(e.target).isInputField(),e.view=this,e.item=e.getTarget(this.itemSelector),e.item&&(e.record=this.getRecord(e.item)),!1===this.processUIEvent(e)||this.destroyed||this.processSpecialEvent(e),t&&!e.isInputFieldEvent&&(e.getKey()!==e.SPACE&&!e.isNavKeyPress(!0)||e.preventDefault()),e.view=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(e){if(Ext.getBody().isAncestor(e.target)){var t=this,i=e.item,n=t.self,r=n.EventMap,o=n.TouchEventMap,s=e.record,a=e.type,l=a;if(e.newType&&(l=e.newType),i){if(l=o[l]||l,n=e.recordIndex=t.indexInStore?t.indexInStore(s):t.indexOf(i),!s||!1===t.processItemEvent(s,i,n,e))return!1;if(!1===t["onBeforeItem"+r[l]](s,i,n,e)||!1===t.fireEvent("beforeitem"+l,t,s,i,n,e)||!1===t["onItem"+r[l]](s,i,n,e))return!1;t.fireEvent("item"+l,t,s,i,n,e)}else{if(a=o[a]||a,!1===t.processContainerEvent(e)||!1===t["onBeforeContainer"+r[a]](e)||!1===t.fireEvent("beforecontainer"+a,t,e)||!1===t["onContainer"+r[a]](e))return!1;t.fireEvent("container"+a,t,e)}return!0}},onItemMouseEnter:function(e,t,i,n){this.trackOver&&this.highlightItem(t)},onItemMouseLeave:function(e,t,i,n){this.trackOver&&this.clearHighlight()},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onItemKeyUp:Ext.emptyFn,onItemKeyPress:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onBeforeItemKeyUp:Ext.emptyFn,onBeforeItemKeyPress:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onContainerKeyUp:Ext.emptyFn,onContainerKeyPress:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,onBeforeContainerKeyUp:Ext.emptyFn,onBeforeContainerKeyPress:Ext.emptyFn,setHighlightedItem:function(e){var t=this,i=t.highlightedItem,n=t.overItemCls;i!==e&&(i&&(Ext.fly(i).removeCls(n),Ext.isIE8&&(t.repaintBorder(i),t.repaintBorder(i.nextSibling)),t.hasListeners.unhighlightitem&&t.fireEvent("unhighlightitem",t,i)),(t.highlightedItem=e)&&(Ext.fly(e).addCls(t.overItemCls),Ext.isIE8&&t.repaintBorder(e.nextSibling),t.hasListeners.highlightitem&&t.fireEvent("highlightitem",t,e)))},highlightItem:function(e){this.setHighlightedItem(e)},clearHighlight:function(){this.setHighlightedItem(void 0)},handleUpdate:function(e,t){var i,n,r;this.viewReady&&(i=this.getNode(t),n=this.callParent(arguments),(r=this.highlightedItem)&&r===i&&(delete this.highlightedItem,n&&this.highlightItem(n)))},refresh:function(){this.clearHighlight(),this.callParent(arguments)},focusNode:function(e){var t=Ext.fly(this.getNode(e)),i=this.el,n=0,r=0,e=i.getRegion();e.bottom=e.top+i.dom.clientHeight,e.right=e.left+i.dom.clientWidth,t&&((i=t.getRegion()).top<e.top?n=i.top-e.top:i.bottom>e.bottom&&(n=i.bottom-e.bottom),i.left<e.left?r=i.left-e.left:i.right>e.right&&(r=i.right-e.right),(r||n)&&this.scrollBy(r,n,!1),t.set({tabIndex:-1}),t.focus())},privates:{repaintBorder:function(e){e=this.getNode(e);e&&(e.className=e.className)}}}),Ext.define("Ext.view.BoundListKeyNav",{extend:"Ext.view.NavigationModel",alias:"view.navigation.boundlist",navigateOnSpace:!0,initKeyNav:function(e){var t=this,i=e.pickerField;t.keyNav||(t.callParent([e]),t.keyNav.map.addBinding({key:Ext.event.Event.ESC,fn:t.onKeyEsc,scope:t})),i&&(i.rendered?t.fieldKeyNav=new Ext.util.KeyNav({disabled:!0,target:i.inputEl,forceKeyDown:!0,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,tab:t.onKeyTab,space:t.onKeySpace,enter:t.onKeyEnter,A:{ctrl:!0,handler:t.onSelectAllKeyPress},priority:1001,scope:t}):i.on("render",Ext.Function.bind(t.initKeyNav,t,[e],0),t,{single:!0}))},processViewEvent:function(e,t,i,n,r){return r.within(e.listWrap)?r:r.getKey()===r.ESC?(Ext.fly(r.target).isInputField()&&(r.target=r.target.parentNode),r):void 0},enable:function(){this.fieldKeyNav.enable(),this.callParent()},disable:function(){this.fieldKeyNav.disable(),this.callParent()},onItemMouseDown:function(e,t,i,n,r){this.callParent([e,t,i,n,r]),"mouse"===r.pointerType&&r.preventDefault()},onKeyUp:function(e){var t=this.view,i=t.all,n=t.highlightedItem,n=n?t.indexOf(n):-1,i=0<n?n-1:i.getCount()-1;this.setPosition(i),e.preventDefault()},onKeyDown:function(e){var t=this.view,i=t.all,n=t.highlightedItem,n=n?t.indexOf(n):-1,n=n<i.getCount()-1?n+1:0;this.setPosition(n),e.preventDefault()},onKeyLeft:Ext.returnTrue,onKeyRight:Ext.returnTrue,onKeyTab:function(e){var t=this.view,i=t.pickerField;return t.isVisible()&&(i.selectOnTab&&this.selectHighlighted(e),i.collapse&&i.collapse()),!0},onKeyEnter:function(e){var t=this.view,i=t.getSelectionModel(),n=t.pickerField,t=i.getCount();return e.stopEvent(),this.selectHighlighted(e),!n.multiSelect&&t===i.getCount()&&n.collapse&&n.collapse(),n.fireEvent("specialkey",n,e,{fromBoundList:!0}),!1},onKeySpace:function(){return this.navigateOnSpace&&this.callParent(arguments),!0},onKeyEsc:function(){this.view.pickerField&&this.view.pickerField.collapse()},focusItem:function(e){var t=this.view;"number"==typeof e&&(e=t.all.item(e)),e&&(e=e.dom,t.highlightItem(e),t.getScrollable().scrollIntoView(e,!1))},selectHighlighted:function(e){var t,i=this.view,n=i.getSelectionModel(),r=this.recordIndex;i.all.getCount()&&(t=this.getRecord())&&(e.getKey()!==e.ENTER&&n.isSelected(t)||(n.selectWithEvent(t,e),i.store.data.contains(t)||this.setPosition(Math.min(r,i.store.getCount()-1))))},destroy:function(){this.fieldKeyNav=Ext.destroy(this.fieldKeyNav),this.callParent()}}),Ext.define("Ext.layout.component.BoundList",{extend:"Ext.layout.component.Auto",alias:"layout.boundlist",type:"component",beginLayout:function(e){var t=this.owner,i=t.pagingToolbar;this.scrollPos=t.listWrap.getScroll(),this.callParent(arguments),t.floating&&(e.savedXY=t.getXY(),t.setXY([0,-9999])),i&&(e.toolbarContext=e.context.getCmp(i)),e.listContext=e.getEl("listWrap")},beginLayoutCycle:function(e){var t=this.owner;this.callParent(arguments),e.heightModel.auto&&(t.el.setHeight("auto"),t.listWrap.setHeight("auto"))},getLayoutItems:function(){var e=this.owner.pagingToolbar;return e?[e]:[]},isValidParent:function(){return!0},finishedLayout:function(e){var t=e.savedXY,i=this.owner.listWrap,n=this.scrollPos;this.callParent(arguments),t&&this.owner.setXY(t),i.setScrollLeft(n.left),i.setScrollTop(n.top)},measureContentWidth:function(e){return this.owner.listWrap.getWidth()},measureContentHeight:function(e){return this.owner.listWrap.getHeight()},publishInnerHeight:function(e,t){var i=e.toolbarContext,n=0;i&&(n=i.getProp("height")),void 0===n?this.done=!1:e.listContext.setHeight(t-e.getFrameInfo().height-n)},calculateOwnerHeightFromContentHeight:function(e){var t=this.callParent(arguments),i=e.toolbarContext;return i&&(t+=i.getProp("height")),t}}),Ext.define("Ext.toolbar.Item",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn}),Ext.define("Ext.toolbar.TextItem",{extend:"Ext.toolbar.Item",requires:["Ext.toolbar.Toolbar","Ext.XTemplate"],alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var e=this.text;this.callParent(),e&&(this.html=e)},setText:function(e){this.update(e)}}),Ext.define("Ext.form.trigger.Spinner",{extend:"Ext.form.trigger.Trigger",alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:!0,vertical:!0,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',destroy:function(){this.spinnerEl&&(this.spinnerEl.destroy(),this.spinnerEl=this.upEl=this.downEl=null),this.callParent()},getBodyRenderData:function(){return{vertical:this.vertical,upDisabledCls:this.upEnabled?"":this.spinnerUpCls+"-disabled",downDisabledCls:this.downEnabled?"":this.spinnerDownCls+"-disabled",spinnerCls:this.spinnerCls,spinnerUpCls:this.spinnerUpCls,spinnerDownCls:this.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(){var e=this,t=arguments,i=e.clickRepeater?t[1]:t[0],t=e.field;t.readOnly||t.disabled||(e.upEl.contains(i.target)?Ext.callback(e.upHandler,e.scope,[t,e,i],0,t):e.downEl.contains(i.target)&&Ext.callback(e.downHandler,e.scope,[t,e,i],0,t)),t.inputEl.focus()},onFieldRender:function(){var e,t=this.vertical;this.callParent(),e=(this.spinnerEl=this.el.select("."+this.spinnerCls,!0)).elements,this.upEl=t?e[0]:e[1],this.downEl=t?e[1]:e[0]},setUpEnabled:function(e){this.upEl[e?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(e){this.downEl[e?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}}),Ext.define("Ext.form.field.Spinner",{extend:"Ext.form.field.Text",alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",requires:["Ext.form.trigger.Spinner","Ext.util.KeyNav"],config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",endHandler:"onSpinEnd",scope:"this"}}},spinUpEnabled:!0,spinDownEnabled:!0,keyNavEnabled:!0,mouseWheelEnabled:!0,repeatTriggerClick:!0,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(e){var t=e.spinner;return t.upEnabled=this.spinUpEnabled,t.downEnabled=this.spinDownEnabled,this.callParent([e])},onRender:function(){var e=this,t=e.getTrigger("spinner");e.callParent(),e.keyNavEnabled&&(e.spinnerKeyNav=new Ext.util.KeyNav(e.inputEl,{scope:e,up:e.spinUp,down:e.spinDown}),e.inputEl.on({keyup:e.onInputElKeyUp,scope:e})),e.mouseWheelEnabled&&e.mon(e.bodyEl,"mousewheel",e.onMouseWheel,e),e.spinUpEl=t.upEl,e.spinDownEl=t.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){this.spinUpEnabled&&!this.disabled&&(this.fireEvent("spin",this,"up"),this.fireEvent("spinup",this),this.onSpinUp())},spinDown:function(){this.spinDownEnabled&&!this.disabled&&(this.fireEvent("spin",this,"down"),this.fireEvent("spindown",this),this.onSpinDown())},setSpinUpEnabled:function(e){this.spinUpEnabled!==(this.spinUpEnabled=e)&&this.rendered&&this.getTrigger("spinner").setUpEnabled(e)},setSpinDownEnabled:function(e){this.spinDownEnabled!==(this.spinDownEnabled=e)&&this.rendered&&this.getTrigger("spinner").setDownEnabled(e)},onMouseWheel:function(e){var t;this.hasFocus&&(0<(t=e.getWheelDelta())?this.spinUp():t<0&&this.spinDown(),e.stopEvent(),this.onSpinEnd())},onInputElKeyUp:function(e){e.keyCode!==e.UP&&e.keyCode!==e.DOWN||this.onSpinEnd()},doDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav"),this.callParent()}},function(e){e.prototype.onSpinEnd=Ext.Function.createBuffered(function(){this.fireEvent("spinend",this)},100)}),Ext.define("Ext.form.field.Number",{extend:"Ext.form.field.Spinner",alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:!0,allowDecimals:!0,decimalSeparator:null,submitLocaleSeparator:!0,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:!1,initComponent:function(){null===this.decimalSeparator&&(this.decimalSeparator=Ext.util.Format.decimalSeparator),this.callParent(),this.setMinValue(this.minValue),this.setMaxValue(this.maxValue)},getSubTplData:function(e){var t=this.minValue,i=this.maxValue,n=this.callParent([e]),r=n.inputElAriaAttributes;return r&&(t>Number.NEGATIVE_INFINITY&&(r["aria-valuemin"]=t),i<Number.MAX_VALUE&&(r["aria-valuemax"]=i),null!=(e=this.getValue())&&t<=e&&e<=i&&(r["aria-valuenow"]=e)),n},setValue:function(e){var t;return this.hasFocus&&(t=(t=this.getBind())&&t.value)&&t.syncing&&e===this.value?this:this.callParent([e])},getErrors:function(e){e=0<arguments.length?e:this.processRawValue(this.getRawValue());var t,i=this,n=i.callParent([e]),r=Ext.String.format;return e.length<1||(e=String(e).replace(i.decimalSeparator,"."),isNaN(e)&&n.push(r(i.nanText,e)),t=i.parseValue(e),0===i.minValue&&t<0?n.push(this.negativeText):t<i.minValue&&n.push(r(i.minText,i.minValue)),t>i.maxValue&&n.push(r(i.maxText,i.maxValue))),n},rawToValue:function(e){var t=this.fixPrecision(this.parseValue(e));return null===t&&(t=e||null),t},valueToRaw:function(e){var t=this.decimalSeparator;return e=this.parseValue(e),e=this.fixPrecision(e),e=Ext.isNumber(e)?e:parseFloat(String(e).replace(t,".")),e=isNaN(e)?"":String(e).replace(".",t)},getSubmitValue:function(){var e=this.callParent();return this.submitLocaleSeparator||(e=e.replace(this.decimalSeparator,".")),e},onChange:function(e){var t=this.ariaEl.dom;this.toggleSpinners(),this.callParent(arguments),t&&(Ext.isNumber(e)&&isFinite(e)?t.setAttribute("aria-valuenow",e):t.removeAttribute("aria-valuenow"))},toggleSpinners:function(){var e,t=this.getValue(),i=null===t;(this.spinUpEnabled||this.spinUpDisabledByToggle)&&(e=i||t<this.maxValue,this.setSpinUpEnabled(e,!0)),(this.spinDownEnabled||this.spinDownDisabledByToggle)&&(e=i||t>this.minValue,this.setSpinDownEnabled(e,!0))},setMinValue:function(e){var t=this,i=t.ariaEl.dom;t.minValue=e=Ext.Number.from(e,Number.NEGATIVE_INFINITY),t.toggleSpinners(),i&&(e>Number.NEGATIVE_INFINITY?i.setAttribute("aria-valuemin",e):i.removeAttribute("aria-valuemin")),!0!==t.disableKeyFilter&&(i=t.baseChars+"",t.allowExponential?i+=t.decimalSeparator+"e+-":(t.allowDecimals&&(i+=t.decimalSeparator),t.minValue<0&&(i+="-")),i=Ext.String.escapeRegex(i),t.maskRe=new RegExp("["+i+"]"),t.autoStripChars&&(t.stripCharsRe=new RegExp("[^"+i+"]","gi")))},setMaxValue:function(e){var t=this.ariaEl.dom;this.maxValue=e=Ext.Number.from(e,Number.MAX_VALUE),t&&(e<Number.MAX_VALUE?t.setAttribute("aria-valuemax",e):t.removeAttribute("aria-valuemax")),this.toggleSpinners()},parseValue:function(e){return e=parseFloat(String(e).replace(this.decimalSeparator,".")),isNaN(e)?null:e},fixPrecision:function(e){var t=isNaN(e),i=this.decimalPrecision;return t||!e?t?"":e:((!this.allowDecimals||i<=0)&&(i=0),parseFloat(Ext.Number.toFixed(parseFloat(e),i)))},onBlur:function(e){var t=this.rawToValue(this.getRawValue());Ext.isEmpty(t)||this.setValue(t),this.callParent([e])},setSpinUpEnabled:function(e,t){this.callParent(arguments),t?this.spinUpDisabledByToggle=!e:delete this.spinUpDisabledByToggle},onSpinUp:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()+this.step,this.minValue,this.maxValue))},setSpinDownEnabled:function(e,t){this.callParent(arguments),t?this.spinDownDisabledByToggle=!e:delete this.spinDownDisabledByToggle},onSpinDown:function(){this.readOnly||this.setSpinValue(Ext.Number.constrain(this.getValue()-this.step,this.minValue,this.maxValue))},setSpinValue:function(e){this.enforceMaxLength&&this.fixPrecision(e).toString().length>this.maxLength||this.setValue(e)}}),Ext.define("Ext.toolbar.Paging",{extend:"Ext.toolbar.Toolbar",xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",requires:["Ext.toolbar.TextItem","Ext.form.field.Number"],mixins:["Ext.util.StoreHolder"],displayInfo:!1,prependButtons:!1,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,emptyPageData:{total:0,currentPage:0,pageCount:0,toRecord:0,fromRecord:0},defaultBindProperty:"store",getPagingItems:function(){var e=this,t={scope:e,blur:e.onPagingBlur};return t[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=e.onPagingKeyDown,[{itemId:"first",tooltip:e.firstText,overflowText:e.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:!0,handler:e.moveFirst,scope:e},{itemId:"prev",tooltip:e.prevText,overflowText:e.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:!0,handler:e.movePrevious,scope:e},"-",e.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:!1,minValue:1,hideTrigger:!0,enableKeyEvents:!0,keyNavEnabled:!1,selectOnFocus:!0,submitValue:!1,isFormField:!1,width:e.inputItemWidth,margin:"-1 2 3 2",listeners:t},{xtype:"tbtext",itemId:"afterTextItem",html:Ext.String.format(e.afterPageText,1)},"-",{itemId:"next",tooltip:e.nextText,overflowText:e.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:!0,handler:e.moveNext,scope:e},{itemId:"last",tooltip:e.lastText,overflowText:e.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:!0,handler:e.moveLast,scope:e},"-",{itemId:"refresh",tooltip:e.refreshText,overflowText:e.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:e.store.isLoading(),handler:e.doRefresh,scope:e}]},initComponent:function(){var e,t=this,i=t.items||t.buttons||[];t.bindStore(t.store||"ext-empty-store",!0),t.store&&!t.store.nextPage&&Ext.raise("Store is not compatible with this component (does not support paging)"),e=t.getPagingItems(),t.prependButtons?t.items=i.concat(e):t.items=e.concat(i),delete t.buttons,t.displayInfo&&(t.items.push("->"),t.items.push({xtype:"tbtext",itemId:"displayItem"})),t.callParent()},beforeRender:function(){this.callParent(arguments),this.updateBarInfo()},onAdded:function(e){var t=this.store,i=this._autoStore;void 0===i&&(this._autoStore=i=!(t&&!t.isEmptyStore)),i&&((t=this._storeChangeListener)&&(t.destroy(),t=null),(i=e&&e.store)&&(t=e.on({destroyable:!0,scope:this,storechange:"onOwnerStoreChange"})),this._storeChangeListener=t,this.onOwnerStoreChange(e,i)),this.callParent(arguments)},onOwnerStoreChange:function(e,t){this.setStore(t||Ext.getStore("ext-empty-store"))},updateBarInfo:function(){this.store.isLoading()||(this.calledInternal=!0,this.onLoad(),this.calledInternal=!1)},updateInfo:function(){var e=this.child("#displayItem"),t=this.store,i=this.getPageData();e&&(i=0===t.getCount()?this.emptyMsg:Ext.String.format(this.displayMsg,i.fromRecord,i.toRecord,i.total),e.setText(i))},onLoad:function(){var e,t,i,n,r,o=this,s=0===o.store.getCount();if(s)i=t=0,n=Ext.String.format(o.afterPageText,0);else{if(t=(e=o.getPageData()).currentPage,(i=e.pageCount)<t)return void(0<i?o.store.loadPage(i):o.getInputItem().reset());n=Ext.String.format(o.afterPageText,isNaN(i)?1:i)}Ext.suspendLayouts(),(r=o.child("#afterTextItem"))&&r.update(n),(r=o.getInputItem())&&r.setDisabled(s).setValue(t),o.setChildDisabled("#first",1===t||s),o.setChildDisabled("#prev",1===t||s),o.setChildDisabled("#next",t===i||s),o.setChildDisabled("#last",t===i||s),o.setChildDisabled("#refresh",!1),o.updateInfo(),Ext.resumeLayouts(!0),o.calledInternal||o.fireEvent("change",o,e||o.emptyPageData)},setChildDisabled:function(e,t){e=this.child(e);e&&e.setDisabled(t)},getPageData:function(){var e=this.store,t=e.getTotalCount(),i=Math.ceil(t/e.pageSize),n=Math.min(e.currentPage*e.pageSize,t);return{total:t,currentPage:e.currentPage,pageCount:Ext.Number.isFinite(i)?i:1,fromRecord:(e.currentPage-1)*e.pageSize+1,toRecord:n||t}},onLoadError:function(){this.setChildDisabled("#refresh",!1)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(e){var t,i=this.getInputItem(),n=!1;return i&&(t=i.getValue(),n=parseInt(t,10),!t||isNaN(n))?(i.setValue(e.currentPage),!1):n},onPagingBlur:function(e){var t,i=this.getInputItem();i&&(t=this.getPageData().currentPage,i.setValue(t))},onPagingKeyDown:function(e,t){this.processKeyEvent(e,t)},processKeyEvent:function(e,t){var i,n=t.getKey(),r=this.getPageData(),o=t.shiftKey?10:1;n===t.RETURN?(t.stopEvent(),!1!==(i=this.readPageFromInput(r))&&(i=Math.min(Math.max(1,i),r.pageCount))!==r.currentPage&&!1!==this.fireEvent("beforechange",this,i)&&this.store.loadPage(i)):n===t.HOME||n===t.END?(t.stopEvent(),i=n===t.HOME?1:r.pageCount,e.setValue(i)):n!==t.UP&&n!==t.PAGE_UP&&n!==t.DOWN&&n!==t.PAGE_DOWN||(t.stopEvent(),(i=this.readPageFromInput(r))&&(n!==t.DOWN&&n!==t.PAGE_DOWN||(o*=-1),1<=(i+=o)&&i<=r.pageCount&&e.setValue(i)))},beforeLoad:function(){this.setChildDisabled("#refresh",!0)},moveFirst:function(){return!1!==this.fireEvent("beforechange",this,1)&&(this.store.loadPage(1),!0)},movePrevious:function(){var e=this.store,t=e.currentPage-1;return 0<t&&!1!==this.fireEvent("beforechange",this,t)&&(e.previousPage(),!0)},moveNext:function(){var e=this.store,t=this.getPageData().pageCount,i=e.currentPage+1;return i<=t&&!1!==this.fireEvent("beforechange",this,i)&&(e.nextPage(),!0)},moveLast:function(){var e=this.getPageData().pageCount;return!1!==this.fireEvent("beforechange",this,e)&&(this.store.loadPage(e),!0)},doRefresh:function(){var e=this.store,t=e.currentPage;return!1!==this.fireEvent("beforechange",this,t)&&(e.loadPage(t),!0)},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onBindStore:function(){this.rendered&&this.updateBarInfo()},doDestroy:function(){var e=this._storeChangeListener;e&&(e.destroy(),this._storeChangeListener=null),this.bindStore(null),this.callParent()}}),Ext.define("Ext.view.BoundList",{extend:"Ext.view.View",alias:"widget.boundlist",alternateClassName:"Ext.BoundList",requires:["Ext.view.BoundListKeyNav","Ext.layout.component.BoundList","Ext.toolbar.Paging"],mixins:["Ext.mixin.Queryable"],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:!1,trackOver:!0,preserveScrollOnRefresh:!0,enableInitialSelection:!1,refreshSelmodelOnRefresh:!0,componentLayout:"boundlist",navigationModel:"boundlist",scrollable:!0,ariaEl:"listEl",tabIndex:-1,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',Ext.baseCSSPrefix,'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:!0}],focusOnToFront:!1,alignOnScroll:!1,initComponent:function(){var e=this,t=e.baseCls,i=e.itemCls;e.selectedItemCls=t+"-selected",e.trackOver&&(e.overItemCls=t+"-item-over"),e.itemSelector="."+i,e.floating&&e.addCls(t+"-floating"),e.tpl?e.tpl.isTemplate||(e.tpl=new Ext.XTemplate(e.tpl)):e.generateTpl(),e.pageSize&&(e.pagingToolbar=e.createPagingToolbar()),e.callParent()},generateTpl:function(){this.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+this.itemCls+'">'+this.getInnerTpl(this.displayField)+"</li>","</tpl>")},setDisplayField:function(e){this.displayField=e,this.generateTpl()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=this.callParent(),t=this.pagingToolbar;return t&&e.push(t),e},createPagingToolbar:function(){return new Ext.toolbar.Paging({id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:!1,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var e=this.tpl;e.field=this.pickerField,e.store=this.store,this.callParent(),e.field=e.store=null,this.ariaStaticRoles[this.ariaRole]||this.refreshAriaAttributes()},refreshAriaAttributes:function(){for(var e,t,i,n=this.store,r=this.getSelectionModel(),o=!n.isFiltered()&&n.getTotalCount()||n.getCount(),s=this.getNodes(),a=this.pickerField&&this.pickerField.multiSelect,l=0,d=s.length;l<d;l++)e=s[l],t=null,o!==d&&(t=this.getRecord(e),i=n.indexOf(t),e.setAttribute("aria-setsize",o),e.setAttribute("aria-posinset",i)),a&&(t=t||this.getRecord(e),e.setAttribute("aria-selected",r.isSelected(t)))},bindStore:function(e,t){var i=this.pagingToolbar;this.callParent(arguments),i&&i.bindStore(e,t)},getInnerTpl:function(e){return"{"+e+"}"},onShow:function(){var e=this.pickerField;this.callParent(),e&&e.rendered&&!e.hasFocus&&e.focus()},afterComponentLayout:function(e,t,i,n){var r=this.pickerField;this.callParent([e,t,i,n]),r&&r.alignPicker&&r.alignPicker()},onItemSelect:function(e){e=this.callParent([e]);return e&&(this.ariaSelectable?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected")),e},onItemDeselect:function(e){e=this.callParent([e]);return e&&this.ariaSelectable&&(this.pickerField&&this.pickerField.multiSelect?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected")),e},onItemClick:function(e){var t,i,n=this.pickerField;n&&(t=n.valueField,i=this.getSelectionModel().getSelection(),!n.multiSelect&&i.length&&(i=i[0])&&n.isEqual(e.get(t),i.get(t))&&n.collapse&&n.collapse())},onContainerClick:function(e){var t=this.pagingToolbar;return!(t&&t.rendered&&e.within(t.el))&&(!((Ext.isIE10||Ext.isIE11)&&(t=this.listWrap.getClientRegion(),!e.getPoint().isContainedBy(t)))&&void 0)},doDestroy:function(){this.pagingToolbar=Ext.destroy(this.pagingToolbar),this.callParent()},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var e=this.pagingToolbar;this.callParent(arguments),e&&e.finishRender()}}}),Ext.define("Ext.form.field.ComboBox",{extend:"Ext.form.field.Picker",requires:["Ext.util.DelayedTask","Ext.view.BoundList","Ext.data.StoreManager"],alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:["Ext.util.StoreHolder"],config:{filters:null,selection:null,valueNotFoundText:null,displayTpl:null,delimiter:", ",displayField:"text"},publishes:["selection"],twoWayBindable:["selection"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",collapseOnSelect:!1,hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",autoDestroyBoundStore:!0,childEls:{hiddenDataEl:!0},filtered:!1,afterRender:function(){this.callParent(arguments),this.setHiddenValue(this.value)},multiSelect:!1,triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:!0,autoLoadOnValue:!1,pageSize:0,anyMatch:!1,caseSensitive:!1,autoSelect:!0,autoSelectLast:!0,typeAhead:!1,typeAheadDelay:250,selectOnTab:!0,forceSelection:!1,growToLongestValue:!0,clearFilterOnBlur:!0,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:!0,clearValueOnEmpty:!0,newlineRe:/\r?\n/g,getGrowWidth:function(){var e,t,i,n,r,o,s,a=this.inputEl.dom.value;if(this.growToLongestValue)for(e=this.displayField,i=(t=this.store).data.length,r=n=0;r<i;r++)n<(s=(o=t.getAt(r).data[e]).length)&&(n=s,a=o);return a},initComponent:function(){var e,t=this,i=Ext.isDefined,n=t.store,r=t.transform;t.typeAhead&&t.multiSelect&&Ext.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them."),t.typeAhead&&!t.editable&&Ext.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),t.selectOnFocus&&!t.editable&&Ext.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings."),"pinList"in t&&(t.collapseOnSelect=!t.pinList),r&&(e=Ext.getDom(r))&&(t.store||(n=Ext.Array.map(Ext.Array.from(e.options),function(e){return[e.value,e.text]})),t.name||(t.name=e.name),"value"in t||(t.value=e.value)),t.displayTpl||t.setDisplayTpl(!1),t.bindStore(n||"ext-empty-store",!0,!0),n="local"===t.queryMode,i(t.queryDelay)||(t.queryDelay=n?10:500),i(t.minChars)||(t.minChars=n?0:4),t.callParent(),t.doQueryTask=new Ext.util.DelayedTask(t.doRawQuery,t),e&&(t.transformInPlace&&(t.render(e.parentNode,e),delete t.renderTo),Ext.removeNode(e))},initEvents:function(){this.callParent(),this.altArrowKeyNav=new Ext.util.KeyNav({target:this.inputEl,forceKeyDown:!0,priority:1002,scope:this,down:{alt:!0,handler:this.onAltDownArrow},up:{alt:!0,handler:this.onAltUpArrow}})},getSubTplData:function(e){var t=this.id,i=this.callParent([e]);return this.ariaStaticRoles[this.ariaRole]||(e=i.ariaElAttributes)&&(e["aria-owns"]=t+"-inputEl "+t+"-picker-listEl",e["aria-autocomplete"]="list"),i},getSubTplMarkup:function(e){var t="",i=this.callParent(arguments);return this.hiddenName&&(t='<div id="'+e.id+'-hiddenDataEl" data-ref="hiddenDataEl" class="'+this.hiddenDataCls+'" role="presentation"></div>'),t+i},applyDisplayTpl:function(e){return e?e.isTemplate||(e=new Ext.XTemplate(e)):(e=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+this.getDisplayField()+'"]]}<tpl if="xindex < xcount">'+this.getDelimiter()+"</tpl></tpl>")).auto=!0,e},applyFilters:function(e,t){var i=this;return null===e||e.isFilterCollection?e:(e&&((t=t||this.getFilters()).beginUpdate(),t.splice(0,t.length,e),t.each(function(e){e.ownerId=i.id}),t.endUpdate()),t)},applyValueNotFoundText:function(e){var t=this.valueNotFoundRecord||(this.valueNotFoundRecord=new Ext.data.Model);return t.set(this.displayField,e),this.valueField&&this.displayField!==this.valueField&&t.set(this.valueField,e),e},getFilters:function(e){var t=this.filters;return t||!1===e||(t=new Ext.util.FilterCollection,this.setFilters(t)),t},updateFilters:function(e,t){t&&t.un("endupdate","onEndUpdateFilters",this),e&&e.on("endupdate","onEndUpdateFilters",this),this.onEndUpdateFilters(e)},onEndUpdateFilters:function(t){var i,n=this,e=n.filtered,r=!!t&&0<t.length;(e||r)&&(n.filtered=r,i=[],(r=n.store.getFilters()).each(function(e){e.ownerId!==n.id||t.contains(e)||i.push(e)}),r.splice(0,i,t.items))},clearLocalFilter:function(){var e=this.queryFilter;e&&(this.queryFilter=null,this.changingFilters=!0,this.store.removeFilter(e,!0),this.changingFilters=!1)},completeEdit:function(e){this.callParent([e]),this.doQueryTask.cancel(),this.assertValue(),this.queryFilter&&"local"===this.queryMode&&this.clearFilterOnBlur&&this.clearLocalFilter()},onFocus:function(e){this.callParent([e]),"all"!==this.triggerAction&&this.queryFilter&&"local"===this.queryMode&&this.clearFilterOnBlur&&(delete this.lastQuery,this.doRawQuery())},onAltDownArrow:function(e){return e.stopEvent(),this.isExpanded||this.onDownArrow(e),!1},onAltUpArrow:function(e){return e.stopEvent(),this.isExpanded&&this.onEsc(e),!1},assertValue:function(){var e,t=this,i=t.getRawValue(),n=t.getDisplayValue(),r=t.lastSelectedRecords,o=!1;t.forceSelection?t.multiSelect?i!==n&&t.setRawValue(n):((e=t.findRecordByDisplay(i))?t.getDisplayValue([t.getRecordDisplayData(e)])===n&&(o=!(e=null)):!r||t.allowBlank&&!t.rawValue?t.displayTplData&&t.displayTplData.length&&(e=t.findRecordByValue(t.displayTplData[0][t.valueField])):e=r[0],e?(t.select(e,!0),t.fireEvent("select",t,e)):o||(r&&delete t.lastSelectedRecords,t.setRawValue(""))):(o=t.getValue())&&o==i&&(!(e=t.findRecordByDisplay(o))||e===(r&&r[0])&&t.displayField===t.valueField||(t.select(e,!0),t.fireEvent("select",t,e))),t.collapse()},onTypeAhead:function(){var e,t=this.displayField,i=this.store.findRecord(t,this.getRawValue());i&&(i=(e=i.get(t)).length,0!==(t=this.getRawValue().length)&&t!==i&&(this.lastMutatedValue=e,this.setRawValue(e),this.selectText(t,e.length)))},resetToDefault:Ext.emptyFn,beforeReset:function(){this.callParent(),this.clearLocalFilter()},onUnbindStore:function(){var e=this.picker;this.queryFilter&&!this.store.destroyed&&this.clearLocalFilter(),e&&e.bindStore(null),this.pickerSelectionModel.destroy()},onBindStore:function(e,t){var i,n=this,r=n.picker;e&&(e.autoCreated&&(n.queryMode="local",n.valueField=n.displayField="field1",e.expanded||(n.displayField="field2"),n.getDisplayTpl().auto&&n.setDisplayTpl(null)),Ext.isDefined(n.valueField)||(n.valueField=n.displayField),(i={byValue:{rootProperty:"data",unique:!1}}).byValue.property=n.valueField,e.setExtraKeys(i),n.displayField===n.valueField?e.byText=e.byValue:(i.byText={rootProperty:"data",unique:!1},i.byText.property=n.displayField,e.setExtraKeys(i)),i={rootProperty:"data",extraKeys:{byInternalId:{property:"internalId"},byValue:{property:n.valueField,rootProperty:"data"}},listeners:{beginupdate:n.onValueCollectionBeginUpdate,endupdate:n.onValueCollectionEndUpdate,scope:n}},n.valueCollection=new Ext.util.Collection(i),n.pickerSelectionModel=new Ext.selection.DataViewModel({mode:n.multiSelect?"SIMPLE":"SINGLE",ordered:!0,deselectOnContainerClick:!1,enableInitialSelection:!1,pruneRemoved:!1,selected:n.valueCollection,store:e,listeners:{scope:n,lastselectedchanged:n.updateBindSelection}}),t||n.resetToDefault(),r&&(n.pickerSelectionModel.on({scope:n,beforeselect:n.onBeforeSelect,beforedeselect:n.onBeforeDeselect}),r.setSelectionModel(n.pickerSelectionModel),r.getStore()!==e&&r.bindStore(e)))},bindStore:function(e,t,i){var n=this.queryFilter;this.mixins.storeholder.bindStore.call(this,e,i),(e=this.getStore())&&n&&!t&&e.getFilters().add(n),i||!e||e.isEmptyStore||this.setValueOnData()},getStoreListeners:function(e){if(!e.isEmptyStore){var t={datachanged:this.onDataChanged,load:this.onLoad,exception:this.onException,update:this.onStoreUpdate,remove:this.checkValueOnChange};return e.getRemoteFilter()||(t.filterchange=this.checkValueOnChange),t}},onDataChanged:function(){this.grow&&this.growToLongestValue&&this.autoSize()},checkValueOnChange:function(){var e=this;!e.destroying&&e.getStore().isLoaded()&&(e.multiSelect||!e.forceSelection||e.changingFilters||e.findRecordByValue(e.value)||"local"!=e.queryMode&&e.hasFocus||e.setValue(null))},onStoreUpdate:function(e,t){this.updateValue()},onException:function(){this.collapse()},onLoad:function(e,t,i){var n=!this.valueCollection.byValue.get(this.value);!i||!n||e.lastOptions&&"rawQuery"in e.lastOptions||this.setValueOnData(),this.checkValueOnChange()},setValueOnData:function(){this.setValue(this.value),this.isExpanded&&this.getStore().getCount()&&this.doAutoSelect()},doRawQuery:function(){var e=this.inputEl.dom.value;this.multiSelect&&(e=e.split(this.delimiter).pop()),this.doQuery(e,!1,!0)},doQuery:function(e,t,i){var n=this,r=n.getStore().getFilters(),t=n.beforeQuery({lastQuery:n.lastQuery||"",query:e||"",rawQuery:i,forceAll:t,combo:n,cancel:!1});return!1===t||t.cancel?(n.startCheckChangeTask(),!1):(r=!!e&&(!n.queryFilter||n.queryFilter&&r.indexOf(n.queryFilter)<0),n.queryCaching&&!r&&t.query===n.lastQuery?(n.getPicker().refresh(),n.expand(),n.afterQuery(t)):(n.lastQuery=t.query,"local"===n.queryMode?n.doLocalQuery(t):n.doRemoteQuery(t)),!0)},beforeQuery:function(e){return!1===this.fireEvent("beforequery",e)?e.cancel=!0:e.cancel||e.query.length<this.minChars&&!e.forceAll&&(e.cancel=!0),e},doLocalQuery:function(e){var t=this,i=e.query,n=t.getStore(),r=i;if(t.clearLocalFilter(),i){if(t.enableRegEx)try{r=new RegExp(r)}catch(e){r=null}null!==r&&(t.changingFilters=!0,i=t.queryFilter=new Ext.util.Filter({id:t.id+"-filter",anyMatch:t.anyMatch,caseSensitive:t.caseSensitive,root:"data",property:t.displayField,value:r}),n.addFilter(i,!0),t.changingFilters=!1)}t.store.getCount()||t.getPicker().emptyText?(t.getPicker().refresh(),t.expand()):t.collapse(),t.afterQuery(e)},doRemoteQuery:function(e){function t(){i.destroyed||i.afterQuery(e)}var i=this;i.expand(),i.pageSize?i.loadPage(1,{rawQuery:e.rawQuery,callback:t}):i.store.load({params:i.getParams(e.query),rawQuery:e.rawQuery,callback:t})},afterQuery:function(e){this.store.getCount()&&(this.typeAhead&&this.doTypeAhead(e),e.rawQuery&&(!this.picker||this.picker.getSelectionModel().hasSelection())||this.doAutoSelect()),this.startCheckChangeTask()},loadPage:function(e,t){this.store.loadPage(e,Ext.apply({params:this.getParams(this.lastQuery)},t))},onPageChange:function(e,t){return this.loadPage(t),!1},getParams:function(e){var t={},i=this.queryParam;return i&&(t[i]=e),t},doAutoSelect:function(){var e,t,i=this.store,n=this.picker,r=0;n&&this.autoSelect&&0<i.getCount()&&(this.autoSelectLast&&(t=(e=n.getSelectionModel()).lastSelected)&&e.selected.length&&-1<i.indexOf(t)&&(r=t),n.getNavigationModel().setPosition(r))},doTypeAhead:function(e){this.typeAheadTask||(this.typeAheadTask=new Ext.util.DelayedTask(this.onTypeAhead,this)),(e.query.length>e.lastQuery.length||!Ext.String.startsWith(e.lastQuery,e.query))&&this.typeAheadTask.delay(this.typeAheadDelay)},onTriggerClick:function(e){var t=this;t.readOnly||t.disabled||(t.isExpanded?t.collapse():e&&"keydown"===e.type&&e.altKey?(e=t.autoSelect,t.autoSelect=!1,t.expand(),t.autoSelect=e):"all"===t.triggerAction?t.doQuery(t.allQuery,!0):"last"===t.triggerAction?t.doQuery(t.lastQuery,!0):t.doQuery(t.getRawValue(),!1,!0))},onFieldMutation:function(e){var t=this,i=e.getKey(),n=i===e.BACKSPACE||i===e.DELETE,r=t.inputEl.dom.value,o=r.length;t.readOnly||r===t.lastMutatedValue&&!n||i===e.TAB||(t.lastMutatedValue=r,t.refreshEmptyText(),!o||"keyup"===e.type&&e.isSpecialKey()&&!n?(o||i&&!n||(++t.suspendCheckChange,t.multiSelect||(t.value=null,t.displayTplData=void 0),t.clearValueOnEmpty&&(t.valueCollection.beginUpdate(),t.pickerSelectionModel.deselectAll(),t.valueCollection.removeAll(),t.valueCollection.endUpdate()),t.collapse(),t.queryFilter&&t.clearLocalFilter(),t.lastQuery=null,--t.suspendCheckChange),t.callParent([e])):t.doQueryTask.delay(t.queryDelay))},doDestroy:function(){this.doQueryTask.cancel(),this.typeAheadTask&&(this.typeAheadTask.cancel(),this.typeAheadTask=null),this.bindStore(null),Ext.destroy(this.altArrowKeyNav,this.valueCollection),this.callParent()},onAdded:function(){this.callParent(arguments),this.picker&&(this.picker.ownerCt=this.up("[floating]"),this.picker.registerWithOwnerCt())},createPicker:function(){var e=this,t=Ext.apply({xtype:"boundlist",id:e.id+"-picker",pickerField:e,selectionModel:e.pickerSelectionModel,floating:!0,hidden:!0,store:e.getPickerStore(),displayField:e.displayField,preserveScrollOnRefresh:!0,pageSize:e.pageSize,tpl:e.tpl,ariaSelectable:e.ariaSelectable},e.listConfig,e.defaultListConfig),t=e.picker=Ext.widget(t);return e.pageSize&&t.pagingToolbar.on("beforechange",e.onPageChange,e),t.initialConfig.maxHeight||t.on({beforeshow:e.onBeforePickerShow,scope:e}),t.getSelectionModel().on({beforeselect:e.onBeforeSelect,beforedeselect:e.onBeforeDeselect,focuschange:e.onFocusChange,scope:e}),t.getNavigationModel().navigateOnSpace=!1,t},getPickerStore:function(){return this.store},onBeforePickerShow:function(e){var t=this.getPosition()[1]-Ext.getBody().getScroll().top,i=Ext.Element.getViewportHeight()-t-this.getHeight();e.maxHeight=Math.max(t,i)-5},onBeforeSelect:function(e,t,i){return this.fireEvent("beforeselect",this,t,i)},onBeforeDeselect:function(e,t,i){return this.fireEvent("beforedeselect",this,t,i)},onFocusChange:function(e,t,i){var n=this.picker,r=this.inputEl;i&&((i=Ext.get(n.getNodeByRecord(i)))?r.dom.setAttribute("aria-activedescendant",i.id):r.dom.removeAttribute("aria-activedescendant"))},getSelection:function(){var e=this.getPicker().getSelectionModel();return e.getSelection().length?e.getLastSelected():null},updateSelection:function(e){var t;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t=this.getPicker().getSelectionModel(),e?(t.select(e),this.hasHadSelection=!0):t.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var i=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(i),this.ignoreNextSelection=!1)},onValueCollectionBeginUpdate:Ext.emptyFn,onValueCollectionEndUpdate:function(){var e=this,t=e.store,i=e.valueCollection.getRange(),n=i[0],r=i.length;e.updateBindSelection(e.pickerSelectionModel,i),e.isSelectionUpdating()||(Ext.suspendLayouts(),e.lastSelection=i,r&&(e.lastSelectedRecords=i),e.updateValue(),r&&(!e.multiSelect&&t.contains(n)||e.collapseOnSelect||!t.getCount())&&(e.updatingValue=!0,e.collapse(),e.updatingValue=!1),Ext.resumeLayouts(!0),e.suspendCheckChange||(e.multiSelect||(i=n),e.fireEvent("select",e,i)))},isSelectionUpdating:function(){var e=this.pickerSelectionModel;return e.deselectingDuringSelect||e.refreshing},onExpand:function(){var e=this.getPicker(),t=e.getNavigationModel();t&&t.enable(),this.doAutoSelect(),(e=Ext.get(e.highlightedItem))&&this.inputEl.dom.setAttribute("aria-activedescendant",e.id)},onCollapse:function(){var e=this.getPicker().getNavigationModel();e&&e.disable(),this.updatingValue&&this.doQueryTask.cancel(),this.inputEl.dom.removeAttribute("aria-activedescendant")},select:function(e,t){var i,n=this.picker;e&&e.isModel&&!0===t&&n&&(i=!n.getSelectionModel().isSelected(e)),i||this.suspendEvent("select"),this.setValue(e),this.resumeEvent("select")},findRecord:function(e,t){var i=this.store,t=i.findExact(e,t);return-1!==t&&i.getAt(t)},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(e){var t=this.store.byValue.get(e),e=!1;return t&&(e=t[0]||t),e},findRecordByDisplay:function(e){var t=this.store.byText.get(e),e=!1;return t&&(e=t[0]||t),e},addValue:function(e){if(null!=e)return this.doSetValue(e,!0)},setValue:function(e){var t,i=this;if(i.hasFocus){if((t=(t=i.getBind())&&t.value)&&t.syncing){if(Ext.isEmpty(e)&&Ext.isEmpty(i.value)||e===i.value)return i;if(Ext.isArray(e)&&Ext.isArray(i.value)&&Ext.Array.equals(e,i.value))return i}}else i.lastSelectedRecords=null;return null!=e?i.doSetValue(e):(i.suspendEvent("select"),i.valueCollection.beginUpdate(),i.pickerSelectionModel.deselectAll(),i.valueCollection.endUpdate(),i.resumeEvent("select")),i},setRawValue:function(e){this.callParent([e]),this.lastMutatedValue=e},doSetValue:function(e,t){var i,n,r,o,s,a=this,l=a.getStore(),d=l.getModel(),c=[],u=[],h=a.autoLoadOnValue,f=0<l.getCount()||l.isLoaded(),g=l.hasPendingLoad(),p=h&&!f&&!g,m=a.forceSelection,x=a.pickerSelectionModel,E=a.displayField===a.valueField,y=l.isEmptyStore,h=a.lastSelection;if(t&&!a.multiSelect&&Ext.raise("Cannot add values to non multiSelect ComboBox"),(g||p||!f||y)&&(e.isModel||(a.value=t?Ext.Array.from(a.value).concat(e):e,a.setHiddenValue(a.value),a.setRawValue(E?e:""),E&&!Ext.isEmpty(e)&&a.inputEl&&a.emptyText&&a.inputEl.removeCls(a.emptyUICls)),p&&!y&&l.load(),!e.isModel||y))return a;for(i=0,n=(e=t?Ext.Array.from(a.value).concat(e):Ext.Array.from(e)).length;i<n;i++)(r=e[i])&&r.isModel||(r=(r=a.findRecordByValue(s=r))||a.valueCollection.find(a.valueField,s)),r||(m?a.valueNotFoundRecord&&(r=a.valueNotFoundRecord):!r&&e[i]&&((s={})[a.displayField]=e[i],a.valueField&&a.displayField!==a.valueField&&(s[a.valueField]=e[i]),r=new d(s))),r&&(c.push(r),u.push(r.get(a.valueField)));if(h)if((n=h.length)===c.length)for(i=0;!o&&i<n;i++)-1===Ext.Array.indexOf(a.lastSelection,c[i])&&(o=!0);else o=!0;else o=c.length;return o?(a.suspendEvent("select"),a.valueCollection.beginUpdate(),c.length?x.select(c,!1):x.deselectAll(),a.valueCollection.endUpdate(),a.resumeEvent("select")):a.updateValue(),a},updateValue:function(){for(var e,t,i=this,n=i.valueCollection.getRange(),r=n.length,o=[],s=i.displayTplData||(i.displayTplData=[]),a=i.inputEl,l=s.length=0;l<r;l++)e=n[l],s.push(i.getRecordDisplayData(e)),e!==i.valueNotFoundRecord&&o.push(e.get(i.valueField));i.setHiddenValue(o),i.value=i.multiSelect?o:o[0],Ext.isDefined(i.value)||(i.value=void 0),i.displayTplData=s,t=i.getDisplayValue(),i.setRawValue(t),i.refreshEmptyText(),i.checkChange(),a&&i.typeAhead&&i.hasFocus&&i.selectText(t.length)},setHiddenValue:function(e){var t,i,n,r,o,s,a=this.hiddenName;if(this.hiddenDataEl&&a){for(e=Ext.Array.from(e),r=(n=(i=this.hiddenDataEl.dom).childNodes)[0],o=e.length,s=n.length,!r&&0<o&&(this.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a})),s=1,r=i.firstChild);o<s;)i.removeChild(n[0]),--s;for(;s<o;)i.appendChild(r.cloneNode(!0)),++s;for(t=0;t<o;t++)n[t].value=e[t]}},getDisplayValue:function(e){return e=e||this.displayTplData,(this.getDisplayTpl().apply(e)||"").replace(this.newlineRe,"")},getRecordDisplayData:function(e){return e.data},getValue:function(){var e=this,t=e.getStore(),i=e.picker,n=e.getRawValue(),r=e.value;return t.isEmptyStore||e.getDisplayValue()===n||(e.displayTplData=void 0,i&&(e.valueCollection.suspendEvents(),i.getSelectionModel().deselectAll(),e.valueCollection.resumeEvents(),e.lastSelection=null),r=t.isLoaded()&&(e.multiSelect||e.forceSelection)?e.value=void 0:e.value=n),e.value=null==r?null:r,e.value},getSubmitValue:function(){var e=this.getValue();return Ext.isEmpty(e)&&(e=""),e},isEqual:function(e,t){var i,n,r=Ext.Array.from;if(e=r(e),t=r(t),(n=e.length)!==t.length)return!1;for(i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0},clearValue:function(){this.setValue(null)}}),Ext.define("Ext.picker.Month",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.util.ClickRepeater","Ext.Date","Ext.button.Button"],alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",isMonthPicker:!0,focusable:!0,childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:!0,footerButtonUI:"default",measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,alignOnScroll:!1,initComponent:function(){var e=this;e.selectedCls=e.baseCls+"-selected",e.small&&e.addCls(e.smallCls),e.setValue(e.value),e.activeYear=e.getYear((new Date).getFullYear()-4,-4),e.showButtons&&(e.okBtn=new Ext.button.Button({ui:e.footerButtonUI,text:e.okText,handler:e.onOkClick,scope:e}),e.cancelBtn=new Ext.button.Button({ui:e.footerButtonUI,text:e.cancelText,handler:e.onCancelClick,scope:e})),this.callParent()},beforeRender:function(){var e=0,t=[],i=Ext.Date.getShortMonthName,n=this.monthOffset,r=this.monthMargin,o="";for(this.padding&&!this.width&&this.cacheWidth(),this.callParent();e<n;++e)t.push(i(e),i(e+n));Ext.isDefined(r)&&(o="margin: 0 "+r+"px;"),Ext.apply(this.renderData,{months:t,years:this.getYears(),showButtons:this.showButtons,monthStyle:o})},cacheWidth:function(){var e=this.parseBox(this.padding),t=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});this.self.prototype.width=t.getWidth()+e.left+e.right,t.destroy()},afterRender:function(){var e=this,t=e.bodyEl;e.callParent(),e.up("[floating=true]")&&e.el.on("mousedown",e.onElClick,e,{translate:!1}),t.on({scope:e,click:"onBodyClick",dblclick:"onBodyClick"}),e.years=t.select("."+e.baseCls+"-year a"),e.months=t.select("."+e.baseCls+"-month a"),e.backRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:Ext.Function.bind(e.adjustYear,e,[-e.totalYears])}),e.prevEl.addClsOnOver(e.baseCls+"-yearnav-prev-over"),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:Ext.Function.bind(e.adjustYear,e,[e.totalYears])}),e.nextEl.addClsOnOver(e.baseCls+"-yearnav-next-over"),e.updateBody(),Ext.isDefined(e.monthMargin)||(Ext.picker.Month.prototype.monthMargin=e.calculateMonthMargin())},calculateMonthMargin:function(){for(var e=this.months,t=e.first().getMargin("l");t&&this.getLargest()>this.measureMaxHeight;)--t,e.setStyle("margin","0 "+t+"px");return t},getLargest:function(e){var t=0;return this.months.each(function(e){e=e.getHeight();t<e&&(t=e)}),t},setValue:function(e){var t=this,i=t.activeYear;return e?Ext.isDate(e)?t.value=[e.getMonth(),e.getFullYear()]:t.value=[e[0],e[1]]:t.value=[null,null],t.rendered&&(null!==(e=t.value[1])&&(e<i||e>i+t.yearOffset)&&(t.activeYear=e-t.yearOffset+1),t.updateBody()),t},getValue:function(){return this.value},hasSelection:function(){var e=this.value;return null!==e[0]&&null!==e[1]},getYears:function(){for(var e=this.yearOffset,t=this.activeYear,i=t+e,n=t,r=[];n<i;++n)r.push(n,n+e);return r},updateBody:function(){var e,t,i,n,r,o=this.years,s=this.months,a=this.getYears(),l=this.selectedCls,d=this.getYear(null),c=this.value[0],u=this.monthOffset;if(this.rendered){for(o.removeCls(l),s.removeCls(l),n=(t=o.elements).length,i=0;i<n;i++)r=Ext.fly(t[i]),e=a[i],(r.dom.innerHTML=e)===d&&r.addCls(l);null!==c&&(c<u?c*=2:c=2*(c-u)+1,s.item(c).addCls(l))}},getYear:function(e,t){var i=this.value[1];return t=t||0,null===i?e:i+t},onElClick:function(e){e.stopEvent()},onBodyClick:function(e,t){var i="dblclick"===e.type;e.getTarget("."+this.baseCls+"-month")?(e.stopEvent(),this.onMonthClick(t,i)):e.getTarget("."+this.baseCls+"-year")&&(e.stopEvent(),this.onYearClick(t,i))},adjustYear:function(e){"number"!=typeof e&&(e=this.totalYears),this.activeYear+=e,this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(e,t){var i=this;i.value[0]=i.resolveOffset(i.months.indexOf(e),i.monthOffset),i.updateBody(),i.fireEvent("month"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},onYearClick:function(e,t){var i=this;i.value[1]=i.activeYear+i.resolveOffset(i.years.indexOf(e),i.yearOffset),i.updateBody(),i.fireEvent("year"+(t?"dbl":"")+"click",i,i.value),i.fireEvent("select",i,i.value)},resolveOffset:function(e,t){return e%2==0?e/2:t+Math.floor(e/2)},doDestroy:function(){Ext.destroy(this.backRepeater,this.nextRepeater,this.okBtn,this.cancelBtn),this.callParent()},privates:{finishRenderChildren:function(){this.callParent(arguments),this.showButtons&&(this.okBtn.finishRender(),this.cancelBtn.finishRender())}}}),Ext.define("Ext.picker.Date",{extend:"Ext.Component",requires:["Ext.XTemplate","Ext.button.Button","Ext.button.Split","Ext.util.ClickRepeater","Ext.util.KeyNav","Ext.fx.Manager","Ext.picker.Month"],alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",ariaMinText:"This date is before the minimum date",maxText:"This date is after the maximum date",ariaMaxText:"This date is after the maximum date",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date is disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:!0,disableAnim:!1,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",footerButtonUI:"default",isDatePicker:!0,alignOnScroll:!1,ariaRole:"region",focusable:!0,childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:!0,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="presentation">','<div class="{baseCls}-header">','<div id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="presentation" title="{prevText}"></div>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month" role="heading">{%this.renderMonthBtn(values, out)%}</div>','<div id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="presentation" title="{nextText}"></div>',"</div>",'<table role="grid" id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" tabindex="0" aria-readonly="true">',"<thead>",'<tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" aria-label="{.}">','<div role="presentation" class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr>","</thead>","<tbody>",'<tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell">','<div hidefocus="on" class="{parent.baseCls}-date"></div>',"</td>","</tpl>","</tr>","</tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>",'<div id="{id}-todayText" class="'+Ext.baseCSSPrefix+'hidden-clip">{todayText}.</div>','<div id="{id}-ariaMinText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaMinText}.</div>','<div id="{id}-ariaMaxText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaMaxText}.</div>','<div id="{id}-ariaDisabledDaysText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaDisabledDaysText}.</div>','<div id="{id}-ariaDisabledDatesText" class="'+Ext.baseCSSPrefix+'hidden-clip">{ariaDisabledDatesText}.</div>',"</div>",{firstInitial:function(e){return Ext.picker.Date.prototype.getDayInitial(e)},isEndOfWeek:function(e){return--e%7==0&&0!==e?'</tr><tr role="row">':""},renderTodayBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.todayBtn.getRenderTree(),t)},renderMonthBtn:function(e,t){Ext.DomHelper.generateMarkup(e.$comp.monthBtn.getRenderTree(),t)}}],initHour:12,numDays:42,initComponent:function(){var e=this,t=Ext.Date.clearTime;e.selectedCls=e.baseCls+"-selected",e.disabledCellCls=e.baseCls+"-disabled",e.prevCls=e.baseCls+"-prevday",e.activeCls=e.baseCls+"-active",e.cellCls=e.baseCls+"-cell",e.nextCls=e.baseCls+"-prevday",e.todayCls=e.baseCls+"-today",e.format||(e.format=Ext.Date.defaultFormat),e.dayNames||(e.dayNames=Ext.Date.dayNames),e.dayNames=e.dayNames.slice(e.startDay).concat(e.dayNames.slice(0,e.startDay)),e.callParent(),e.value=e.value?t(e.value,!0):t(new Date),e.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var e=[],t=this.monthBtn,i=this.todayBtn;return t&&e.push(t),i&&e.push(i),e},beforeRender:function(){var e=this,t=Ext.String.htmlEncode,i=new Array(e.numDays),n=Ext.Date.format(new Date,e.format);e.padding&&!e.width&&e.cacheWidth(),e.monthBtn=new Ext.button.Split({ownerCt:e,ownerLayout:e.getComponentLayout(),text:"",tooltip:e.monthYearText,tabIndex:-1,ariaRole:"presentation",listeners:{click:e.doShowMonthPicker,arrowclick:e.doShowMonthPicker,scope:e}}),e.showToday&&(e.todayBtn=new Ext.button.Button({ui:e.footerButtonUI,ownerCt:e,ownerLayout:e.getComponentLayout(),text:Ext.String.format(e.todayText,n),tooltip:Ext.String.format(e.todayTip,n),tooltipType:"title",tabIndex:-1,ariaRole:"presentation",handler:e.selectToday,scope:e})),e.callParent(),Ext.applyIf(e,{renderData:{}}),Ext.apply(e.renderData,{dayNames:e.dayNames,showToday:e.showToday,prevText:t(e.prevText),nextText:t(e.nextText),todayText:t(e.todayText),ariaMinText:t(e.ariaMinText),ariaMaxText:t(e.ariaMaxText),ariaDisabledDaysText:t(e.ariaDisabledDaysText),ariaDisabledDatesText:t(e.ariaDisabledDatesText),days:i}),e.protoEl.unselectable()},cacheWidth:function(){var e=this.parseBox(this.padding),t=Ext.getBody().createChild({cls:this.baseCls+" "+this.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});this.self.prototype.width=t.getWidth()+e.left+e.right,t.destroy()},onRender:function(e,t){var i=this,n="div."+i.baseCls+"-date";i.callParent(arguments),i.cells=i.eventEl.select("tbody td"),i.textNodes=i.eventEl.query(n),i.eventEl.set({"aria-labelledby":i.monthBtn.id}),i.mon(i.eventEl,{scope:i,mousewheel:i.handleMouseWheel,click:{fn:i.handleDateClick,delegate:n}})},initEvents:function(){var e=this;e.callParent(),e.pickerField&&e.el.on("mousedown",e.onMouseDown,e),e.monthBtn.el.on("mousedown",e.onMouseDown,e),e.prevRepeater=new Ext.util.ClickRepeater(e.prevEl,{handler:e.showPrevMonth,scope:e,mousedownStopEvent:!0}),e.nextRepeater=new Ext.util.ClickRepeater(e.nextEl,{handler:e.showNextMonth,scope:e,mousedownStopEvent:!0}),e.keyNav=new Ext.util.KeyNav(e.eventEl,Ext.apply({scope:e,left:function(e){e.ctrlKey?this.showPrevMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-1)),e.preventDefault()},right:function(e){e.ctrlKey?this.showNextMonth():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,1)),e.preventDefault()},up:function(e){e.ctrlKey?this.showNextYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,-7)),e.preventDefault()},down:function(e){e.ctrlKey?this.showPrevYear():this.update(Ext.Date.add(this.activeDate,Ext.Date.DAY,7)),e.preventDefault()},pageUp:function(e){e.ctrlKey?this.showPrevYear():this.showPrevMonth(),e.preventDefault()},pageDown:function(e){e.ctrlKey?this.showNextYear():this.showNextMonth(),e.preventDefault()},home:function(e){this.update(Ext.Date.getFirstDateOfMonth(this.activeDate)),e.preventDefault()},end:function(e){this.update(Ext.Date.getLastDateOfMonth(this.activeDate)),e.preventDefault()},tab:function(e){return this.handleTabKey(e),!0},enter:function(e){this.handleDateClick(e,this.activeCell.firstChild)},space:function(e){var t,i,n,r=this.pickerField;this.setValue(new Date(this.activeCell.firstChild.dateValue)),r&&(t=this.startValue,i=this.value,(n=r.getValue())&&t&&n.getTime()===i.getTime()?r.setValue(t):r.setValue(i)),e.preventDefault()}},e.keyNavConfig)),e.disabled&&e.syncDisabled(!0,!0),e.update(e.value)},onMouseDown:function(e){e.preventDefault()},handleTabKey:function(e){var t=this,i=t.getSelectedDate(t.activeDate),n=t.handler;t.disabled||!i.dateValue||Ext.fly(i.parentNode).hasCls(t.disabledCellCls)?t.fireEventArgs("tabout",[t]):(t.setValue(new Date(i.dateValue)),t.fireEvent("select",t,t.value),n&&Ext.callback(n,t.scope,[t,t.value],null,t,t),t.onSelect())},getSelectedDate:function(e){var t,i,n=e.getTime(),r=this.cells,e=this.selectedCls,o=r.elements,s=o.length;for(r.removeCls(e),i=0;i<s;i++)if((t=o[i].firstChild).dateValue===n)return t;return null},initDisabledDays:function(){var e,t,i,n,r=this.disabledDates,o="(?:";if(!this.disabledDatesRE&&r){for(e=r.length-1,i=r.length,t=0;t<i;t++)n=r[t],o+=Ext.isDate(n)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(n,this.format))+"$":n,t!==e&&(o+="|");this.disabledDatesRE=new RegExp(o+")")}},setDisabledDates:function(e){return Ext.isArray(e)?(this.disabledDates=e,this.disabledDatesRE=null):this.disabledDatesRE=e,this.initDisabledDays(),this.update(this.value,!0),this},setDisabledDays:function(e){return this.disabledDays=e,this.update(this.value,!0)},setMinDate:function(e){return this.minDate=e,this.update(this.value,!0)},setMaxDate:function(e){return this.maxDate=e,this.update(this.value,!0)},setValue:function(e){return this.value=Ext.Date.clearTime(e||new Date,!0),this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(e){return e.substr(0,1)},onEnable:function(){this.callParent(),this.syncDisabled(!1,!0),this.update(this.activeDate)},onShow:function(){this.callParent(),this.syncDisabled(!1),this.pickerField&&(this.startValue=this.pickerField.getValue())},onHide:function(){this.callParent(),this.syncDisabled(!0)},onDisable:function(){this.callParent(),this.syncDisabled(!0,!0)},getActive:function(){return this.activeDate||this.value},runAnimation:function(e){var t=this.monthPicker,i={duration:200,callback:function(){t.setVisible(!e)}};e?t.el.slideOut("t",i):t.el.slideIn("t",i)},hideMonthPicker:function(e){var t=this.monthPicker;return t&&t.isVisible()&&(this.shouldAnimate(e)?this.runAnimation(!0):t.hide()),this},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(e){var t,i=this.el;return this.rendered&&!this.disabled&&((t=this.createMonthPicker()).isVisible()||(t.setValue(this.getActive()),t.setSize(i.getSize()),t.floatParent=null,t.setPosition(-i.getBorderWidth("l"),-i.getBorderWidth("t")),this.shouldAnimate(e)?this.runAnimation(!1):t.show())),this},shouldAnimate:function(e){return Ext.isDefined(e)?e:!this.disableAnim},createMonthPicker:function(){var e=this,t=e.monthPicker;return t||(e.monthPicker=t=new Ext.picker.Month({renderTo:e.el,ownerCmp:e,floating:!0,padding:e.padding,shadow:!1,small:!1===e.showToday,footerButtonUI:e.footerButtonUI,listeners:{scope:e,cancelclick:e.onCancelClick,okclick:e.onOkClick,yeardblclick:e.onOkClick,monthdblclick:e.onOkClick}}),e.disableAnim||t.el.setStyle("display","none"),t.hide(),e.on("beforehide",e.doHideMonthPicker,e)),t},onOkClick:function(e,t){var i=t[0],n=t[1],t=new Date(n,i,this.getActive().getDate());t.getMonth()!==i&&(t=Ext.Date.getLastDateOfMonth(new Date(n,i,1))),this.setValue(t),this.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate),this.hideMonthPicker()},showPrevMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(e){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(e){e.stopEvent(),this.disabled||(0<(e=e.getWheelDelta())?this.showPrevMonth():e<0&&this.showNextMonth())},handleDateClick:function(e,t){var i=this,n=i.handler;e.stopEvent(),i.disabled||!t.dateValue||Ext.fly(t.parentNode).hasCls(i.disabledCellCls)||(i.setValue(new Date(t.dateValue)),i.fireEvent("select",i,i.value),n&&Ext.callback(n,i.scope,[i,i.value],null,i,i),i.onSelect())},onSelect:function(){this.hideOnSelect&&this.hide()},selectToday:function(){var e=this,t=e.todayBtn,i=e.handler;return t&&!t.disabled&&(e.setValue(Ext.Date.clearTime(new Date)),e.fireEvent("select",e,e.value),i&&Ext.callback(i,e.scope,[e,e.value],null,e,e),e.onSelect()),e},selectedUpdate:function(e){var t,i,n=this,r=e.getTime(),o=n.cells,s=n.selectedCls,a=o.getCount();for(n.eventEl.dom.setAttribute("aria-busy","true"),(i=n.activeCell)&&(Ext.fly(i).removeCls(s),i.setAttribute("aria-selected",!1)),t=0;t<a;t++)if(i=o.item(t),n.textNodes[t].dateValue===r){n.activeCell=i.dom,n.eventEl.dom.setAttribute("aria-activedescendant",i.dom.id),i.dom.setAttribute("aria-selected",!0),i.addCls(s),n.fireEvent("highlightitem",n,i);break}n.eventEl.dom.removeAttribute("aria-busy")},fullUpdate:function(e){var t,r,i,n,o,s,a=this,l=a.cells.elements,d=a.textNodes,c=a.disabledCellCls,u=Ext.Date,h=0,f=0,g=+u.clearTime(e,!0),p=+u.clearTime(new Date),m=a.minDate?u.clearTime(a.minDate,!0):Number.NEGATIVE_INFINITY,x=a.maxDate?u.clearTime(a.maxDate,!0):Number.POSITIVE_INFINITY,E=a.disabledDatesRE,y=a.disabledDatesText,v=!!a.disabledDays&&a.disabledDays.join(""),b=a.disabledDaysText,C=a.format,S=u.getDaysInMonth(e),w=u.getFirstDateOfMonth(e).getDay()-a.startDay,P=u.add(e,u.MONTH,-1),T=a.ariaTitleDateFormat;for(w<0&&(w+=7),S+=w,t=u.getDaysInMonth(P)-w,r=new Date(P.getFullYear(),P.getMonth(),t,a.initHour),a.showToday&&(P=(P=u.clearTime(new Date))<m||x<P||E&&C&&E.test(u.dateFormat(P,C))||v&&-1!==v.indexOf(P.getDay()),a.todayDisabled=P,a.disabled||a.todayBtn.setDisabled(P)),i=function(e,t){var i=l[e],n=[];i.hasAttribute("id")||i.setAttribute("id",a.id+"-cell-"+e),s=+u.clearTime(r,!0),i.firstChild.dateValue=s,i.setAttribute("aria-label",u.format(r,T)),i.removeAttribute("aria-describedby"),i.removeAttribute("data-qtip"),s==p&&(t+=" "+a.todayCls,n.push(a.id+"-todayText")),s==g?(a.activeCell=i,a.eventEl.dom.setAttribute("aria-activedescendant",i.id),i.setAttribute("aria-selected",!0),t+=" "+a.selectedCls,a.fireEvent("highlightitem",a,i)):i.setAttribute("aria-selected",!1),s<m?(t+=" "+c,n.push(a.id+"-ariaMinText"),i.setAttribute("data-qtip",a.minText)):x<s?(t+=" "+c,n.push(a.id+"-ariaMaxText"),i.setAttribute("data-qtip",a.maxText)):v&&-1!==v.indexOf(r.getDay())?(i.setAttribute("data-qtip",b),n.push(a.id+"-ariaDisabledDaysText"),t+=" "+c):E&&C&&(s=u.dateFormat(r,C),E.test(s)&&(i.setAttribute("data-qtip",y.replace("%0",s)),n.push(a.id+"-ariaDisabledDatesText"),t+=" "+c)),n.length&&i.setAttribute("aria-describedby",n.join(" ")),i.className=t+" "+a.cellCls},a.eventEl.dom.setAttribute("aria-busy","true");h<a.numDays;++h)o=h<w?(n=++t,a.prevCls):S<=h?(n=++f,a.nextCls):(n=h-w+1,a.activeCls),d[h].innerHTML=n,r.setDate(r.getDate()+1),i(h,o);a.eventEl.dom.removeAttribute("aria-busy"),a.monthBtn.setText(Ext.Date.format(e,a.monthYearFormat))},update:function(e,t){var i=this.activeDate;return this.rendered&&(this.activeDate=e,!t&&i&&this.el&&i.getMonth()===e.getMonth()&&i.getFullYear()===e.getFullYear()?this.selectedUpdate(e,i):this.fullUpdate(e,i)),this},doDestroy:function(){this.rendered&&Ext.destroy(this.keyNav,this.monthPicker,this.monthBtn,this.nextRepeater,this.prevRepeater,this.todayBtn,this.todayElSpan),this.callParent()},privates:{finishRenderChildren:function(){this.callParent(),this.monthBtn.finishRender(),this.showToday&&this.todayBtn.finishRender()},getFocusEl:function(){return this.eventEl},syncDisabled:function(e,t){var i=this.keyNav,n=this.todayBtn;i&&(i.setDisabled(e),this.prevRepeater.setDisabled(e),this.nextRepeater.setDisabled(e)),t&&n&&n.setDisabled(this.todayDisabled||e)}}}),Ext.define("Ext.form.field.Date",{extend:"Ext.form.field.Picker",alias:"widget.datefield",requires:["Ext.picker.Date"],alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",ariaFormat:"M j Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",ariaDisabledDaysText:"This day of week is disabled",disabledDatesText:"Disabled",ariaDisabledDatesText:"This date cannot be selected",minText:"The date in this field must be equal to or after {0}",ariaMinText:"The date must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",ariaMaxText:"The date must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",formatText:"Expected date format {0}.",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:!0,useStrict:void 0,initTime:"12",initTimeFormat:"H",matchFieldWidth:!1,startDay:0,valuePublishEvent:["select","blur"],componentCls:Ext.baseCSSPrefix+"form-field-date",ariaRole:"combobox",rawDate:null,rawDateText:"",initComponent:function(){var e=Ext.isString,t=this.minValue,i=this.maxValue;e(t)&&(this.minValue=this.parseDate(t)),e(i)&&(this.maxValue=this.parseDate(i)),this.disabledDatesRE=null,this.initDisabledDays(),this.callParent()},getSubTplData:function(e){var t=this.callParent([e]);return this.ariaStaticRoles[this.ariaRole]||(e=t.ariaElAttributes)&&(e["aria-owns"]=this.id+"-inputEl "+this.id+"-picker-eventEl",e["aria-autocomplete"]="none"),t},initValue:function(){var e=this,t=e.value;Ext.isString(t)?(e.value=e.rawToValue(t),e.rawDate=e.value,e.rawDateText=e.parseDate(e.value)):(e.value=t||null,e.rawDate=e.value,e.rawDateText=e.value?e.parseDate(e.value):""),e.callParent()},initDisabledDays:function(){if(this.disabledDates){for(var e,t=this.disabledDates,i=t.length-1,n="(?:",r=t.length,o=0;o<r;o++)e=t[o],n+=Ext.isDate(e)?"^"+Ext.String.escapeRegex(e.dateFormat(this.format))+"$":e,o!==i&&(n+="|");this.disabledDatesRE=new RegExp(n+")")}},setDisabledDates:function(e){var t=this.picker;this.disabledDates=e,this.initDisabledDays(),t&&t.setDisabledDates(this.disabledDatesRE)},setDisabledDays:function(e){var t=this.picker;this.disabledDays=e,t&&t.setDisabledDays(e)},setMinValue:function(e){var t=this.picker,e=Ext.isString(e)?this.parseDate(e):e;this.minValue=e,t&&(t.minText=Ext.String.format(this.minText,this.formatDate(this.minValue)),t.setMinDate(e))},setMaxValue:function(e){var t=this.picker,e=Ext.isString(e)?this.parseDate(e):e;this.maxValue=e,t&&(t.maxText=Ext.String.format(this.maxText,this.formatDate(this.maxValue)),t.setMaxDate(e))},getErrors:function(e){e=0<arguments.length?e:this.formatDate(this.processRawValue(this.getRawValue()));var t,i,n=this,r=Ext.String.format,o=Ext.Date.clearTime,s=n.callParent([e]),a=n.disabledDays,l=n.disabledDatesRE,d=n.minValue,c=n.maxValue,u=a?a.length:0,h=0;if(null===e||e.length<1)return s;if(i=e,!(e=n.parseDate(e)))return s.push(r(n.invalidText,i,Ext.Date.unescapeFormat(n.format))),s;if(i=e.getTime(),d&&i<o(d).getTime()&&s.push(r(n.minText,n.formatDate(d))),c&&i>o(c).getTime()&&s.push(r(n.maxText,n.formatDate(c))),a)for(t=e.getDay();h<u;h++)if(t===a[h]){s.push(n.disabledDaysText);break}return c=n.formatDate(e),l&&l.test(c)&&s.push(r(n.disabledDatesText,c)),s},rawToValue:function(e){return e===this.rawDateText?this.rawDate:this.parseDate(e)||e||null},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},setValue:function(e){var t=this;t.lastValue=t.rawDateText,t.lastDate=t.rawDate,Ext.isDate(e)?(t.rawDate=e,t.rawDateText=t.formatDate(e)):(t.rawDate=t.rawToValue(e),t.rawDateText=t.formatDate(e),t.rawDate===e&&(t.rawDate=null,t.rawDateText="")),t.callParent(arguments)},checkChange:function(){var e,t,i,n=this;n.suspendCheckChange||(e=n.getRawValue(),t=n.lastValue,i=n.lastDate,!n.destroyed&&n.didValueChange(e,t)&&(n.rawDate=n.rawToValue(e),n.rawDateText=n.formatDate(e),n.lastValue=e,n.lastDate=n.rawDate,n.fireEvent("change",n,n.getValue(),i),n.onChange(e,t)))},safeParse:function(e,t){var i=Ext.Date,n=null,r=this.useStrict;return i.formatContainsHourInfo(t)?n=i.parse(e,t,r):(r=i.parse(e+" "+this.initTime,t+" "+this.initTimeFormat,r))&&(n=i.clearTime(r)),n},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.rawDate;return t?Ext.Date.format(t,e):""},getValue:function(){return this.rawDate||null},setRawValue:function(e){this.callParent([e]),this.rawDate=Ext.isDate(e)?e:this.rawToValue(e),this.rawDateText=this.formatDate(e)},parseDate:function(e){if(!e||Ext.isDate(e))return e;var t,i=this.safeParse(e,this.format),n=this.altFormats,r=this.altFormatsArray,o=0;if(!i&&n)for(t=(r=r||n.split("|")).length;o<t&&!i;++o)i=this.safeParse(e,r[o]);return i},formatDate:function(e,t){return Ext.isDate(e)?Ext.Date.dateFormat(e,t||this.format):e},createPicker:function(){var e=this,t=Ext.String.format;return new Ext.picker.Date({id:e.id+"-picker",pickerField:e,floating:!0,preventRefocus:!0,hidden:!0,minDate:e.minValue,maxDate:e.maxValue,disabledDatesRE:e.disabledDatesRE,disabledDatesText:e.disabledDatesText,ariaDisabledDatesText:e.ariaDisabledDatesText,disabledDays:e.disabledDays,disabledDaysText:e.disabledDaysText,ariaDisabledDaysText:e.ariaDisabledDaysText,format:e.format,showToday:e.showToday,startDay:e.startDay,minText:t(e.minText,e.formatDate(e.minValue)),ariaMinText:t(e.ariaMinText,e.formatDate(e.minValue,e.ariaFormat)),maxText:t(e.maxText,e.formatDate(e.maxValue)),ariaMaxText:t(e.ariaMaxText,e.formatDate(e.maxValue,e.ariaFormat)),listeners:{scope:e,select:e.onSelect,tabout:e.onTabOut},keyNavConfig:{esc:function(){e.inputEl.focus(),e.collapse()}}})},onSelect:function(e,t){this.setValue(t),this.rawDate=t,this.fireEvent("select",this,t),this.onTabOut(e)},onTabOut:function(e){this.inputEl.focus(),this.collapse()},onExpand:function(){var e=this.rawDate;this.picker.setValue(Ext.isDate(e)?e:new Date)},onBlur:function(e){var t=this.rawToValue(this.getRawValue());""!==t&&!Ext.isDate(t)||this.setValue(t),this.callParent([e])}}),Ext.define("Ext.form.field.Display",{extend:"Ext.form.field.Base",alias:"widget.displayfield",requires:["Ext.util.Format","Ext.XTemplate"],alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" role="textbox" aria-readonly="true"',' aria-labelledby="{cmpId}-labelEl" {inputAttrTpl}',' tabindex="<tpl if="tabIdx != null">{tabIdx}<tpl else>-1</tpl>"','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:!0,disableFormats:!0}],ariaRole:void 0,focusable:!1,skipLabelForAttribute:!0,readOnly:!0,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:!1,noWrap:!1,validateOnChange:!1,initEvents:Ext.emptyFn,submitValue:!1,getValue:function(){return this.value},valueToRaw:function(e){return e||0===e||!1===e?e:""},isDirty:function(){return!1},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(e){return e=Ext.valueFrom(e,""),this.rawValue=e,this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout()),e},getDisplayValue:function(){var e=this.getRawValue(),e=this.renderer?this.renderer.call(this.scope||this,e,this):this.htmlEncode?Ext.util.Format.htmlEncode(e):e;return e},getSubTplData:function(e){var t=this.callParent(arguments);return t.value=this.getDisplayValue(),t}}),Ext.define("Ext.form.field.FileButton",{extend:"Ext.button.Button",alias:"widget.filebutton",childEls:["fileInputEl"],inputCls:Ext.baseCSSPrefix+"form-file-input",cls:Ext.baseCSSPrefix+"form-file-btn",preventDefault:!1,tabIndex:void 0,useTabGuards:Ext.isIE||Ext.isEdge,promptCalled:!1,autoEl:{tag:"div",unselectable:"on"},afterTpl:['<input id="{id}-fileInputEl" data-ref="fileInputEl" class="{childElCls} {inputCls}" ','type="file" size="1" name="{inputName}" unselectable="on" ','<tpl if="accept != null">accept="{accept}"</tpl>','<tpl if="tabIndex != null">tabindex="{tabIndex}"</tpl>',">"],keyMap:null,ariaEl:"fileInputEl",getAfterMarkup:function(e){return this.lookupTpl("afterTpl").apply(e)},getTemplateArgs:function(){var e=this.callParent();return e.inputCls=this.inputCls,e.inputName=this.inputName||this.id,e.tabIndex=null!=this.tabIndex?this.tabIndex:null,e.accept=this.accept||null,e.role=this.ariaRole,e},afterRender:function(){var e,t,i=this;i.callParent(arguments),e={scope:i,mousedown:i.handlePrompt,keydown:i.handlePrompt,change:i.fireChange,focus:i.onFileFocus,blur:i.onFileBlur},i.useTabGuards&&((t={tag:"span",role:"button","aria-hidden":"true","data-tabguard":"true",style:{height:0,width:0}}).tabIndex=null!=i.tabIndex?i.tabIndex:0,i.beforeInputGuard=i.el.createChild(t,i.fileInputEl),i.afterInputGuard=i.el.createChild(t),i.afterInputGuard.insertAfter(i.fileInputEl),i.beforeInputGuard.on("focus",i.onInputGuardFocus,i),i.afterInputGuard.on("focus",i.onInputGuardFocus,i),e.keydown=i.onFileInputKeydown),i.fileInputEl.on(e)},fireChange:function(e){this.fireEvent("change",this,e,this.fileInputEl.dom.value)},createFileInput:function(e){var t=this,i=t.fileInputEl=t.el.createChild({name:t.inputName||t.id,id:e?void 0:t.id+"-fileInputEl",cls:t.inputCls+(t.getInherited().rtl?" "+Ext.baseCSSPrefix+"rtl":""),tag:"input",type:"file",size:1,unselectable:"on"},t.afterInputGuard);i.dom.setAttribute("data-componentid",t.id),null!=t.tabIndex&&t.setTabIndex(t.tabIndex),t.accept&&i.dom.setAttribute("accept",t.accept),e={scope:t,change:t.fireChange,mousedown:t.handlePrompt,keydown:t.handlePrompt,focus:t.onFileFocus,blur:t.onFileBlur},t.useTabGuards&&(e.keydown=t.onFileInputKeydown),i.on(e)},handlePrompt:function(e){var t;"keydown"==e.type?(t=e.getKey(),this.promptCalled=!Ext.isIE&&t===e.ENTER||t===e.SPACE):this.promptCalled=!0},onFileFocus:function(e){var t=this.ownerCt;this.hasFocus||this.onFocus(e),t&&!t.hasFocus&&t.onFocus(e)},onFileBlur:function(e){var t=this.ownerCt;if(this.promptCalled)return this.promptCalled=!1,void e.preventDefault();this.hasFocus&&this.onBlur(e),t&&t.hasFocus&&t.onBlur(e)},onInputGuardFocus:function(e){this.fileInputEl.focus()},onFileInputKeydown:function(e){var t,i=e.getKey();return i===e.TAB?(t=e.shiftKey?this.beforeInputGuard:this.afterInputGuard)&&(t.suspendEvent("focus"),t.focus(),setTimeout(function(){t.resumeEvent("focus")},0)):i!==e.ENTER&&i!==e.SPACE||this.handlePrompt(e),!0},reset:function(e){e&&this.fileInputEl.destroy(),this.createFileInput(!e),e&&(this.ariaEl=this.fileInputEl)},restoreInput:function(e){this.fileInputEl.destroy(),e=Ext.get(e),this.useTabGuards?e.insertBefore(this.afterInputGuard):this.el.appendChild(e),this.fileInputEl=e},onDisable:function(){this.callParent(),this.fileInputEl.dom.disabled=!0},onEnable:function(){this.callParent(),this.fileInputEl.dom.disabled=!1},privates:{getFocusEl:function(){return this.fileInputEl},getFocusClsEl:function(){return this.el},setTabIndex:function(e){var t=this;t.focusable&&(t.tabIndex=e,!t.rendered||t.destroying||t.destroyed||(t.useTabGuards?(t.fileInputEl.dom.setAttribute("tabIndex",-1),t.beforeInputGuard.dom.setAttribute("tabIndex",e),t.afterInputGuard.dom.setAttribute("tabIndex",e)):t.fileInputEl.dom.setAttribute("tabIndex",e)))}}}),Ext.define("Ext.form.trigger.Component",{extend:"Ext.form.trigger.Trigger",alias:"trigger.component",cls:Ext.baseCSSPrefix+"form-trigger-cmp",onFieldRender:function(){var e=this.component;this.callParent(),e.isComponent||e.isWidget||(e=Ext.widget(e)),(this.component=e).render(this.el)},destroy:function(){var e=this.component;(e.isComponent||e.isWidget)&&e.destroy(),this.component=null,this.callParent()}}),Ext.define("Ext.form.field.File",{extend:"Ext.form.field.Text",alias:["widget.filefield","widget.fileuploadfield"],alternateClassName:["Ext.form.FileUploadField","Ext.ux.form.FileUploadField","Ext.form.File"],requires:["Ext.form.field.FileButton","Ext.form.trigger.Component"],emptyText:void 0,needArrowKeys:!1,triggers:{filebutton:{type:"component",hideOnReadOnly:!1,preventMouseDown:!1}},buttonText:"Browse...",buttonOnly:!1,buttonMargin:3,clearOnSubmit:!0,extraFieldBodyCls:Ext.baseCSSPrefix+"form-file-wrap",inputCls:Ext.baseCSSPrefix+"form-text-file",readOnly:!0,editable:!1,submitValue:!1,triggerNoEditCls:"",childEls:["browseButtonWrap"],applyTriggers:function(e){var t=this,i=(e||{}).filebutton;if(i)return i.component=Ext.apply({xtype:"filebutton",ownerCt:t,id:t.id+"-button",ui:t.ui,disabled:t.disabled,tabIndex:t.tabIndex,text:t.buttonText,style:t.buttonOnly?"":t.getButtonMarginProp()+t.buttonMargin+"px",accept:t.accept,inputName:t.getName(),listeners:{scope:t,change:t.onFileChange}},t.buttonConfig),t.callParent([e]);Ext.raise(t.$className+' requires a valid trigger config containing "filebutton" specification')},getSubTplData:function(e){e=this.callParent([e]);return e.tabIdx=-1,e},onRender:function(){var e,t,i=this;i.callParent(arguments),(e=i.inputEl).dom.name="",e.on("focus",i.onInputFocus,i),e.on("mousedown",i.onInputMouseDown,i),t=i.getTrigger("filebutton"),e=i.button=t.component,i.fileInputEl=e.fileInputEl,e=e.el,i.buttonOnly&&(i.inputWrap.setDisplayed(!1),i.shrinkWrap=3),t.el.setWidth(e.getWidth()+e.getMargin("lr")),Ext.isIE&&i.button.getEl().repaint()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap" data-ref="browseButtonWrap" role="presentation"></td>'},onFileChange:function(e,t,i){this.duringFileSelect=!0,Ext.form.field.File.superclass.setValue.call(this,i),delete this.duringFileSelect},didValueChange:function(){return!!this.duringFileSelect},setEmptyText:Ext.emptyFn,setValue:Ext.emptyFn,reset:function(){var e=this.clearOnSubmit;this.rendered&&(this.button.reset(e),this.fileInputEl=this.button.fileInputEl,e&&(this.inputEl.dom.value="",Ext.form.field.File.superclass.setValue.call(this,null))),this.callParent()},onShow:function(){this.callParent(),this.button.updateLayout()},onDisable:function(){this.callParent(),this.button.disable()},onEnable:function(){this.callParent(),this.button.enable()},isFileUpload:Ext.returnTrue,extractFileInput:function(){var e;return this.rendered?(e=this.button.fileInputEl.dom,this.reset()):((e=document.createElement("input")).type="file",e.className=Ext.baseCSSPrefix+"hidden-display",e.name=this.getName()),e},restoreInput:function(e){var t;this.rendered&&((t=this.button).restoreInput(e),this.fileInputEl=t.fileInputEl)},doDestroy:function(){this.fileInputEl=this.button=null,this.callParent()},getButtonMarginProp:function(){return this.getInherited().rtl?"margin-right:":"margin-left:"},onInputFocus:function(e){this.selectOnFocus&&document.activeElement===this.inputEl.dom&&this.inputEl.dom.select(),this.focus(),Ext.isIE9m&&(this.fileInputEl.addCls(Ext.baseCSSPrefix+"position-relative"),this.fileInputEl.removeCls(Ext.baseCSSPrefix+"position-relative"))},onInputMouseDown:function(e){e.preventDefault(),this.focus()},privates:{getFocusEl:function(){return this.button},getFocusClsEl:Ext.privateFn}}),Ext.define("Ext.form.field.Hidden",{extend:"Ext.form.field.Base",alias:["widget.hiddenfield","widget.hidden"],alternateClassName:"Ext.form.Hidden",focusable:!1,inputType:"hidden",isTextInput:!1,hideLabel:!0,hidden:!0,ariaRole:"presentation",initComponent:function(){this.formItemCls+="-hidden",this.callParent()},isEqual:function(e,t){return this.isEqualAsString(e,t)},initEvents:Ext.emptyFn,setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn}),Ext.define("Ext.tip.Tip",{extend:"Ext.panel.Panel",xtype:"tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",constrainPosition:!0,autoRender:!0,hidden:!0,baseCls:Ext.baseCSSPrefix+"tip",focusOnToFront:!1,maskOnDisable:!1,closeAction:"hide",alwaysFramed:!0,frameHeader:!1,initComponent:function(){this.floating=Ext.apply({},{shadow:this.shadow},this.self.prototype.floating),this.callParent(arguments),this.constrain=this.constrain||this.constrainPosition},showAt:function(e){this.calledFromShowAt=!0,this.callParent(arguments),this.isVisible()&&this.doAlignment(this.getRegion().alignTo({target:new Ext.util.Point(e[0],e[1]),inside:this.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null,align:"tl-tl",overlap:!0})),this.calledFromShowAt=0},doAlignment:function(e){var t=this.anchorEl,i=e.anchor;this.setPagePosition([e.x,e.y]),t&&(t.removeCls(this.anchorCls),i?(this.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+i.position,t.addCls(this.anchorCls),t.show(),1&i.align?(t.setTop(e.anchor.y-e.y),t.dom.style.left=""):(t.setLeft(e.anchor.x-e.x),t.dom.style.top="")):t.hide())},privates:{initDraggable:function(){this.draggable={el:this.getDragEl(),delegate:this.header.el,constrain:this,constrainTo:this.el.dom.parentNode},Ext.Component.prototype.initDraggable.call(this)}},ghost:void 0,unghost:void 0}),Ext.define("Ext.tip.ToolTip",{extend:"Ext.tip.Tip",alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",requires:["Ext.util.Offset"],autoHide:!0,showDelay:500,hideDelay:200,dismissDelay:5e3,mouseOffset:[15,18],trackMouse:!1,anchorToTarget:!0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1e3,defaultAlign:"bl-tl",ariaRole:"tooltip",alwaysOnTop:!0,initComponent:function(){this.callParent(),this.setTarget(this.target),this.currentTarget=new Ext.dom.Fly},onRender:function(e,t){this.callParent(arguments),this.sticky&&this.el.dom.setAttribute("data-sticky",!0),this.anchorEl=this.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor"})},show:function(){if(!this.currentTarget.dom&&this.target)return this.showBy(this.target);this.callParent()},setTarget:function(e){var t;this.targetListeners&&this.targetListeners.destroy(),e?(this.target=e=Ext.get(e.el||e),t={mouseover:"onTargetOver",mouseout:"onTargetOut",mousemove:"onMouseMove",tap:"onTargetTap",scope:this,destroyable:!0},this.targetListeners=e.on(t)):this.target=null},onMouseMove:function(e){var t=this,i=t.dismissDelay;t.pointerEvent=e,t.isVisible()&&t.currentTarget.contains(e.target)&&(i&&!1!==t.autoHide&&(t.clearTimer("dismiss"),t.dismissTimer=Ext.defer(t.hide,i,t)),t.trackMouse&&t.doAlignment(t.getAlignRegion()))},getAlignRegion:function(){var e,t,i=this,n=i.anchorEl,r=i.getAnchorAlign(),o=i.mouseOffset;return i.anchorSize||(n.addCls(Ext.baseCSSPrefix+"tip-anchor-top"),n.show(),i.anchorSize=new Ext.util.Offset(n.getWidth(),n.getHeight()),n.removeCls(Ext.baseCSSPrefix+"tip-anchor-top"),n.hide()),(i.anchor||i.align)&&i.anchorToTarget&&!i.trackMouse?t=i.currentTarget.getRegion():(t=i.pointerEvent?i.pointerEvent.getPoint().adjust(-o[1],o[0],o[1],-o[0]):new Ext.util.Point,i.anchor||(e=!0,r=0<o[0]?0<o[1]?"tl-br":"bl-tr":0<o[1]?"tr-bl":"br-tl")),e={align:i.convertPositionSpec(r),axisLock:i.axisLock,target:t,overlap:e,offset:i.targetOffset,inside:i.constrainPosition?Ext.getBody().getRegion().adjust(5,-5,-5,5):null},i.anchor&&(e.anchorSize=i.anchorSize),i.getRegion().alignTo(e)},fadeOut:function(){var e=this;e.el.fadeOut({duration:e.fadeOutDuration,callback:function(){e.hide(),e.el.setOpacity("")}})},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return this.defaultAlign}},onTargetTap:function(e){this.showOnTap&&"mouse"!==e.pointerType&&this.onTargetOver(e)},onTargetOver:function(e){var t,i=this,n=i.delegate,r=i.currentTarget,o=e.relatedTarget||e.fromElement,s=i.hasListeners;if(!i.disabled){if(n){if(r.contains(e.target))return;if((t=e.getTarget(n))&&Ext.fly(t).contains(e.fromElement))return}else{if(i.target.contains(o))return;t=i.target.dom}t?((s.beforeshow||s.show)&&i.isVisible()&&i.hide(),i.triggerElement=t,i.pointerEvent=e,r.attach(t),i.handleTargetOver(t,e)):r.dom&&i.handleTargetOut()}},handleTargetOver:function(e,t){"mouse"!==t.pointerType?this.showFromDelay():this.delayShow()},delayShow:function(){var e=this;e.clearTimer("hide"),e.hidden&&!e.showTimer?e.delegate&&Ext.Date.getElapsed(e.lastHidden)<e.quickShowInterval?e.showFromDelay():e.showTimer=Ext.defer(e.showFromDelay,"mouse"!==e.pointerEvent.pointerType?0:e.showDelay,e):e.hidden||!1===e.autoHide||e.showFromDelay()},showFromDelay:function(){var e=this;e.disabled||(e.fireEvent("hovertarget",e,e.currentTarget,e.currentTarget.dom),e.isVisible()?e.handleAfterShow():(e.triggerElement=e.currentTarget.dom,e.fromDelayShow=!0,e.show(),e.fromDelayShow=!1))},onTargetOut:function(e){this.currentTarget.dom&&!this.currentTarget.contains(e.relatedTarget)&&this.handleTargetOut()},handleTargetOut:function(){this.showTimer&&this.clearTimer("show"),this.isVisible()&&this.autoHide&&this.delayHide()},delayHide:function(){this.hidden||this.hideTimer||(this.clearTimer("dismiss"),this.hideTimer=Ext.defer(this[this.hideAction],this.hideDelay,this))},hide:function(){this.currentTarget.detach(),this.clearTimer("dismiss"),this.lastHidden=new Date,this.anchorEl&&this.anchorEl.hide(),this.callParent(arguments),this.triggerElement=null},afterShow:function(){this.callParent(),this.handleAfterShow()},handleAfterShow:function(){var e=this;e.clearTimers(),e.calledFromShowAt||e.doAlignment(e.getAlignRegion()),e.dismissDelay&&!1!==e.autoHide&&(e.dismissTimer=Ext.defer(e.hide,e.dismissDelay,e))},showBy:function(e){this.align=this.defaultAlign,this.currentTarget.attach(Ext.getDom(e.el||e)),this.triggerElement=this.currentTarget.dom,this.show()},_timerNames:{},clearTimer:function(e){var t=this._timerNames,i=t[e]||(t[e]=e+"Timer"),t=this[i];t&&(clearTimeout(t),this[i]=null,"show"===e&&this.isHidden()&&this.currentTarget.detach())},clearTimers:function(){this.clearTimer("show"),this.clearTimer("dismiss"),this.clearTimer("hide")},onShow:function(){this.callParent(),this.mon(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onHide:function(){this.callParent(),this.mun(Ext.getDoc(),"mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(e){this.closable||e.within(this.el.dom)||(this.disable(),Ext.defer(this.doEnable,100,this))},doEnable:function(){this.destroyed||this.enable()},onDisable:function(){this.callParent(),this.clearTimers(),this.hide()},doDestroy:function(){this.clearTimers(),Ext.getDoc().un("mousedown",this.onDocMouseDown,this),Ext.destroy(this.anchorEl),this.callParent()},privates:{clipTo:function(e,t){e=e.isRegion?e:(e.isComponent?e.el:Ext.fly(e)).getConstrainRegion();this.callParent([e,t]),this.anchorEl.clipTo(e,t)}}}),Ext.define("Ext.tip.QuickTip",{extend:"Ext.tip.ToolTip",alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:!1,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},isQuickTip:!0,shrinkWrapDock:!0,initComponent:function(){var e=this.tagConfig;e.attr||(e.attr=e.namespace+e.attribute);this.delegate=Ext.Function.bind(this.delegate,this),this.target=this.target||Ext.getDoc(),this.targets=this.targets||{},this.callParent()},setTagConfig:function(e){this.tagConfig=Ext.apply({},e),delete this.tagConfig.attr},text:null,register:function(e){for(var t,i,n,r=Ext.isArray(e)?e:arguments,o=0,s=r.length;o<s;o++)if(t=(e=r[o]).target)if(Ext.isArray(t))for(i=0,n=t.length;i<n;i++)this.targets[Ext.id(t[i])]=e;else this.targets[Ext.id(t)]=e},unregister:function(e){delete this.targets[Ext.id(e)]},cancelShow:function(e){var t=this.currentTarget;e=Ext.getDom(e),this.isVisible()?t.dom===e&&this.hide():t.dom===e&&this.clearTimer("show")},delegate:function(e){var t=this.tagConfig,t=t.attr||(t.attr=t.namespace+t.attribute);return!!(e.getAttribute(t)||this.interceptTitles&&e.title)},getTipText:function(e){var t=e.title,i=this.tagConfig,i=i.attr||(i.attr=i.namespace+i.attribute);return this.interceptTitles&&t?(e.setAttribute(i,t),e.removeAttribute("title"),t):e.getAttribute(i)},onTargetOver:function(e){var t,i,n,r=this.currentTarget,o=e.target;if(o&&1===o.nodeType&&o!==document.documentElement&&o!==document.body){for(n in this.pointerEvent=e,t=this.targets)if(t.hasOwnProperty(n)&&(i=t[n]).target&&Ext.fly(i.target).contains(o)&&!Ext.fly(i.target).contains(e.relatedTarget))return o=Ext.getDom(i.target),r.attach(o),(this.activeTarget=i).el=r,this.anchor=i.anchor,void this.activateTarget();this.callParent([e])}},handleTargetOver:function(e,t){var i=this,n=i.currentTarget,r=i.tagConfig,o=r.namespace,s=i.getTipText(e,t);s&&(t=n.getAttribute(o+r.hide),i.activeTarget={el:n,text:s,width:+n.getAttribute(o+r.width)||null,autoHide:"user"!==t&&"false"!==t,title:n.getAttribute(o+r.title),cls:n.getAttribute(o+r.cls),align:n.getAttribute(o+r.align),showDelay:n.getAttribute(o+r.showDelay),hideAction:n.getAttribute(o+r.hideAction),alignTarget:n.getAttribute(o+r.anchorTarget)},i.initialConfig.hasOwnProperty("anchor")||(i.anchor=n.getAttribute(o+r.anchor)),i.anchor&&!i.initialConfig.hasOwnProperty("anchorTarget")&&(i.alignTarget=i.activeTarget.alignTarget||e),i.activateTarget())},activateTarget:function(){var e=this,t=e.activeTarget,i=t.showDelay,n=t.hideAction;e.isVisible()?(e.updateContent(),e.handleAfterShow()):(t.showDelay&&(i=e.showDelay,e.showDelay=parseInt(t.showDelay,10)),e.delayShow(),t.showDelay&&(e.showDelay=i),(n=t.hideAction)?e.hideAction=n:delete e.hideAction)},getAnchorAlign:function(){var e=this.activeTarget;return e&&e.align||this.callParent()},getAlignRegion:function(){var e=this.activeTarget,t=this.currentTarget.dom;return e&&e.alignTarget&&this.anchor&&!this.initialConfig.hasOwnProperty("anchorTarget")&&this.currentTarget.attach(Ext.getDom(e.alignTarget)),this.anchorToTarget=!(!e.align&&!this.anchor),e=this.callParent(),this.currentTarget.attach(t),e},handleTargetOut:function(e){var t=this.activeTarget,i=this.autoHide,n=this.hideDelay;t&&!1!==i&&(this.autoHide=!0,t.hideDelay&&(this.hideDelay=parseInt(t.hideDelay,10)),this.callParent([e]),this.autoHide=i,this.hideDelay=n)},targetTextEmpty:function(){var e,t=this.activeTarget,i=this.tagConfig;return!(!t||!(e=t.el)||e.getAttribute(i.namespace+i.attribute)||this.targets[Ext.id(t.el.dom)])},show:function(){if(this.fromDelayShow&&this.targetTextEmpty())return this.activeTarget=null,void this.currentTarget.detach();this.callParent(arguments)},beforeShow:function(){this.updateContent(),this.callParent(arguments)},updateContent:function(){var e=this,t=e.activeTarget,i=e.header;t&&(e.suspendLayouts(),t.title?(e.setTitle(t.title),i.show()):i&&i.hide(),e.update(t.text),e.autoHide=t.autoHide,i=t.dismissDelay,e.dismissDelay=Ext.isNumber(i)?i:e.dismissDelay,(i=e.lastCls)&&(e.removeCls(i),delete e.lastCls),(i=t.cls)&&(e.addCls(i),e.lastCls=i),e.setWidth(t.width),e.align=t.align,e.resumeLayouts(!0))},hide:function(){this.activeTarget=null,this.callParent()}}),Ext.define("Ext.tip.QuickTipManager",{requires:["Ext.tip.QuickTip"],singleton:!0,alternateClassName:"Ext.QuickTips",disabled:!1,init:function(e,t){if(!this.tip){if(!Ext.isReady)return Ext.onInternalReady(function(){Ext.tip.QuickTipManager.init(e,t)}),!1;var i=Ext.apply({sticky:!0,disabled:this.disabled,id:"ext-quicktips-tip"},t),n=i.className,r=i.xtype;n?delete i.className:r&&(n="widget."+r,delete i.xtype),!1!==e&&(i.renderTo=document.body,"BODY"!==i.renderTo.tagName.toUpperCase()&&Ext.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})),this.tip=Ext.create(n||"Ext.tip.QuickTip",i),this.tip.destroy=Ext.emptyFn,Ext.quickTipsActive=!0}},destroy:function(){var e=this.tip;e&&(delete e.destroy,e.destroy(),this.tip=null),Ext.quickTipsActive=!1},ddDisable:function(){var e=this.tip;e&&!this.disabled&&e.disable()},ddEnable:function(){var e=this.tip;e&&!this.disabled&&e.enable()},enable:function(){var e=this.tip;e&&e.enable(),this.disabled=!1},disable:function(){var e=this.tip;e&&e.disable(),this.disabled=!0},isEnabled:function(){var e=this.tip;return void 0!==e&&!e.disabled},getQuickTip:function(){return this.tip},register:function(){var e=this.tip;e.register.apply(e,arguments)},unregister:function(){var e=this.tip;e.unregister.apply(e,arguments)},tips:function(){var e=this.tip;e.register.apply(e,arguments)}}),Ext.define("Ext.rtl.tip.QuickTipManager",{override:"Ext.tip.QuickTipManager",init:function(){!1!==this.callParent(arguments)&&this.tip.on("beforeshow",this.onBeforeFirstShow,this,{single:!0})},onBeforeFirstShow:function(e){e._isOffsetParentRtl=void 0}}),Ext.define("Ext.picker.Color",{extend:"Ext.Component",requires:"Ext.XTemplate",alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",focusable:!0,componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:!1,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){this.callParent(arguments),this.handler&&this.on("select",this.handler,this.scope,!0)},initRenderData:function(){return Ext.apply(this.callParent(),{itemCls:this.itemCls,colors:this.colors})},onRender:function(){var e=this.clickEvent;this.callParent(arguments),this.mon(this.el,e,this.handleClick,this,{delegate:"a"}),"click"!==e&&this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",stopEvent:!0})},afterRender:function(){var e;this.callParent(arguments),this.value&&(e=this.value,this.value=null,this.select(e,!0))},handleClick:function(e){e.stopEvent(),this.disabled||(e=e.currentTarget.className.match(this.colorRe)[1],this.select(e.toUpperCase()))},select:function(e,t){var i,n,r=this,o=r.selectedCls,s=r.value;e=e.replace("#",""),r.rendered?e===s&&!r.allowReselect||(i=r.el,r.value&&(n=i.down("a.color-"+s,!0),Ext.fly(n).removeCls(o)),n=i.down("a.color-"+e,!0),Ext.fly(n).addCls(o),r.value=e,!0!==t&&r.fireEvent("select",r,e)):r.value=e},clear:function(){var e=this.value;e&&this.rendered&&(e=this.el.down("a.color-"+e,!0),Ext.fly(e).removeCls(this.selectedCls)),this.value=null},getValue:function(){return this.value||null}}),Ext.define("Ext.layout.component.field.HtmlEditor",{extend:"Ext.layout.component.field.FieldContainer",alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(e){var t,i=this.owner;Ext.isGecko&&(t=i.textareaEl.dom,this.lastValue=t.value,t.value=""),this.callParent(arguments),e.toolbarContext=e.context.getCmp(i.toolbar),e.inputCmpContext=e.context.getCmp(i.inputCmp),e.bodyCellContext=e.getEl("bodyEl"),e.textAreaContext=e.getEl("textareaEl"),e.iframeContext=e.getEl("iframeEl")},beginLayoutCycle:function(e){var t=e.widthModel,i=e.heightModel,n=this.owner,r=n.iframeEl,n=n.textareaEl,i=i.natural||i.shrinkWrap?this.naturalHeight:"";this.callParent(arguments),t.shrinkWrap?(r.setStyle("width",""),n.setStyle("width","")):t.natural&&e.bodyCellContext.setWidth(this.naturalWidth),r.setStyle("height",i),n.setStyle("height",i)},finishedLayout:function(){var e=this.owner;this.callParent(arguments),Ext.isGecko&&(e.textareaEl.dom.value=this.lastValue)}}),Ext.define("Ext.toolbar.Separator",{extend:"Ext.toolbar.Item",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",ariaRole:"separator"}),Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:"Ext.layout.container.boxOverflow.None",requires:["Ext.toolbar.Separator","Ext.button.Button"],alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(e){this.callParent([e]),this.menuItems=[]},beginLayout:function(e){this.callParent([e]),this.clearOverflow(e)},beginLayoutCycle:function(e,t){this.callParent([e,t]),t||(this.clearOverflow(e),this.layout.cacheChildItems(e))},onRemove:function(e){Ext.Array.remove(this.menuItems,e)},clearItem:function(e){var t=e.menu;e.isButton&&t&&e.setMenu(t,!1)},getSuffixConfig:function(){var e=this.layout,t=e.owner,i=t.id;return this.menu=new Ext.menu.Menu({listeners:{scope:this,beforeshow:this.beforeMenuShow}}),this.menuTrigger=new Ext.button.Button({id:i+"-menu-trigger",cls:this.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:t.usePlainButtons,ownerCt:t,ownerLayout:e,iconCls:Ext.baseCSSPrefix+this.getOwnerType(t)+"-more-icon",ui:t.defaultButtonUI||"default",menu:this.menu,showEmptyMenu:!0,getSplitCls:function(){return""}}),this.menuTrigger.getRenderTree()},getOverflowCls:function(e){return this.menuCls+"-body-"+e},handleOverflow:function(e){var t=this.layout;return this.showTrigger(e),"vertical"!==t.direction&&this.menuTrigger.setLocalY((e.state.boxPlan.maxSize-this.menuTrigger[t.names.getHeight]())/2),{reservedSpace:this.triggerTotalWidth}},captureChildElements:function(){var e=this.menuTrigger,t=this.layout.names;e.rendering&&(e.finishRender(),this.triggerTotalWidth=e[t.getWidth]()+e.el.getMargin(t.parallelMargins))},clearOverflow:function(e){var t,i,n=this.menuItems,r=n.length,o=this.layout.owner,s=o._asLayoutRoot;for(o.suspendLayouts(),this.captureChildElements(),this.hideTrigger(),o.resumeLayouts(),i=0;i<r;i++)(t=n[i]).suspendLayouts(),t.show(),this.clearItem(t),t.resumeLayouts(s);n.length=0},showTrigger:function(e){var t,i,n,r,o=this.layout,s=o.owner,o=o.names,a=o.x,l=o.width,d=e.state.boxPlan.targetSize[l],c=e.childItems,e=this.menuTrigger,u=this.menuItems;for(e.suspendLayouts(),e.show(),e.resumeLayouts(this._asLayoutRoot),d-=this.triggerTotalWidth,s.suspendLayouts(),i=0,r=u.length;i<r;++i)this.clearItem(u[i]);for(i=u.length=0,r=c.length;i<r;i++)(n=(t=c[i]).props)[a]+n[l]>d&&(t=t.target,this.menuItems.push(t),t.hide());s.resumeLayouts()},hideTrigger:function(){var e=this.menuTrigger;e&&e.hide()},beforeMenuShow:function(e){function t(e,t){return e.isXType("buttongroup")&&!(t instanceof Ext.toolbar.Separator)}var i,n,r=this.menuItems,o=0,s=r.length;for(e.suspendLayouts(),e.removeAll(!1);o<s;o++)i=r[o],!o&&i instanceof Ext.toolbar.Separator||(n&&(t(i,n)||t(n,i))&&e.add("-"),this.addComponentToMenu(e,i),n=i);e.items.length<1&&e.add(this.noItemsMenuText),e.resumeLayouts()},createMenuConfig:function(e,t){var i=Ext.apply({},e.initialConfig),n=e.toggleGroup;return Ext.copy(i,e,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]),Ext.applyIf(i,{hideOnClick:t,destroyMenu:!1,listeners:null}),i.text=e.overflowText||e.text,(i.masterComponent=e).isFormField?(i.value=e.getValue(),e instanceof Ext.form.field.Checkbox&&(i={xtype:"menucheckitem",group:e.isRadio?e.name+"_clone":void 0,text:e.boxLabel||e.fieldLabel,name:e.name,masterComponent:e,checked:e.getValue(),hideOnClick:!1,checkChangeDisabled:!0}),i.listeners={change:function(e,t,i){e.masterComponent.setValue(t)}},e.on("change",function(e,t,i){e.overflowClone.setValue(t)})):(n||e.enableToggle)&&Ext.apply(i,{hideOnClick:!1,group:n,checked:e.pressed,handler:function(e,t){e.masterComponent.onClick(t)}}),e.isButton&&!e.changeListenersAdded&&(e.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle}),e.changeListenersAdded=!0),e.on({enable:this.onComponentStatusChange,disable:this.onComponentStatusChange}),delete i.margin,delete i.ownerCt,delete i.xtype,delete i.id,delete i.itemId,i},onButtonAttrChange:function(e){var t=e.overflowClone;t.suspendLayouts(),t.setText(e.text),t.setIcon(e.icon),t.setIconCls(e.iconCls),t.resumeLayouts(!0)},onButtonToggle:function(e,t){e.overflowClone.checked!==t&&e.overflowClone.setChecked(t)},onComponentStatusChange:function(e){var t=e.overflowClone;t&&t.setDisabled(e.disabled)},addComponentToMenu:function(e,t){var i,n,r;if(!(t instanceof Ext.toolbar.Fill))if(t instanceof Ext.toolbar.Separator)e.add("-");else if(t.overflowClone)e.add(t.overflowClone);else if(t.isComponent)if(t.isXType("splitbutton"))t.overflowClone=e.add(this.createMenuConfig(t,!0));else if(t.isXType("button"))t.overflowClone=e.add(this.createMenuConfig(t,!t.menu));else if(t.isXType("buttongroup"))for(r=(n=t.items.items).length,i=0;i<r;i++)this.addComponentToMenu(e,n[i]);else t instanceof Ext.form.field.Checkbox?(t.overflowClone=e.add(this.createMenuConfig(t)),Ext.apply(t.overflowClone,{getValue:function(){return t.overflowClone.checked},setValue:function(){t.overflowClone.setChecked(t.getValue())}}),t.overflowClone.on("click",function(e){e.setChecked(!0),e.fireEvent("change",e,e.checked)})):t.overflowClone=e.add(Ext.create(Ext.getClassName(t),this.createMenuConfig(t)))},destroy:function(){Ext.destroy(this.menu,this.menuTrigger),this.callParent()}}),Ext.define("Ext.rtl.layout.container.boxOverflow.Menu",{override:"Ext.layout.container.boxOverflow.Menu",getPrefixConfig:function(e){return e||!this.layout.owner.getInherited().rtl?this.callParent():this.getSuffixConfig(!0)},getSuffixConfig:function(e){return e||!this.layout.owner.getInherited().rtl?this.callParent():this.getPrefixConfig(!0)}}),Ext.define("Ext.form.field.HtmlEditor",{extend:"Ext.form.FieldContainer",mixins:{field:"Ext.form.field.Field"},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",requires:["Ext.tip.QuickTipManager","Ext.picker.Color","Ext.layout.container.VBox","Ext.toolbar.Item","Ext.toolbar.Toolbar","Ext.util.Format","Ext.layout.component.field.HtmlEditor","Ext.util.TaskManager","Ext.layout.container.boxOverflow.Menu"],focusable:!0,componentLayout:"htmleditor",textareaCls:Ext.baseCSSPrefix+"htmleditor-textarea",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabindex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:!0}],stretchInputElFixed:!0,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:!0,enableFontSize:!0,enableColors:!0,enableAlignments:!0,enableLists:!0,enableSourceEdit:!0,enableLinks:!0,enableFont:!0,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",buttonDefaults:null,initialized:!1,activated:!1,sourceEditMode:!1,iframePad:3,hideMode:"offsets",maskOnDisable:!0,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,textAlignRE:/text-align:(.*?);/i,safariNonsenseRE:/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,nonDigitsRE:/\D/g,initComponent:function(){this.items=[this.createToolbar(),this.createInputCmp()],this.layout={type:"vbox",align:"stretch"},null==this.value&&(this.value=""),this.callParent(arguments),this.initField()},createInputCmp:function(){return this.inputCmp=Ext.widget(this.getInputCmpCfg()),this.inputCmp},getInputCmpCfg:function(){var e=this.id+"-inputCmp",t={id:e,name:this.name,textareaCls:this.textareaCls+" "+Ext.baseCSSPrefix+"hidden",value:this.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};return this.getInsertionRenderData(t,this.subTplInsertions),{flex:1,xtype:"component",tpl:this.lookupTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:e,cls:Ext.baseCSSPrefix+"html-editor-input",data:t}},createToolbar:function(){return this.toolbar=Ext.widget(this.getToolbarCfg()),this.toolbar},getToolbarCfg:function(){var e,t,n,r=this,i=[],o=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),s=Ext.baseCSSPrefix;function a(e,t,i){return Ext.merge({itemId:e,cls:s+"btn-icon",iconCls:s+"edit-"+e,enableToggle:!1!==t,scope:r,handler:i||r.relayBtnCmd,clickEvent:"mousedown",tooltip:o?r.buttonTips[e]:n,overflowText:r.buttonTips[e].title||n,tabIndex:-1},r.buttonDefaults)}for(r.enableFont&&!Ext.isSafari2&&(t=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+s+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){r.fontSelect=this.selectEl,Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var e=this.selectEl;e&&(e.dom.disabled=!0),Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var e=this.selectEl;e&&(e.dom.disabled=!1),Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){r.win.focus(),r.relayCmd("fontName",r.fontSelect.dom.value),r.deferFocus()},element:"selectEl"}}),i.push(t,"-")),r.enableFormat&&i.push(a("bold"),a("italic"),a("underline")),r.enableFontSize&&i.push("-",a("increasefontsize",!1,r.adjustFont),a("decreasefontsize",!1,r.adjustFont)),r.enableColors&&i.push("-",Ext.merge({itemId:"forecolor",cls:s+"btn-icon",iconCls:s+"edit-forecolor",overflowText:r.buttonTips.forecolor.title,tooltip:o&&r.buttonTips.forecolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",allowReselect:!0,focus:Ext.emptyFn,value:"000000",plain:!0,clickEvent:"mousedown",handler:function(e,t){r.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+t:t),this.up("menu").hide()}}]})},r.buttonDefaults),Ext.merge({itemId:"backcolor",cls:s+"btn-icon",iconCls:s+"edit-backcolor",overflowText:r.buttonTips.backcolor.title,tooltip:o&&r.buttonTips.backcolor||n,tabIndex:-1,menu:Ext.widget("menu",{plain:!0,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:!0,allowReselect:!0,clickEvent:"mousedown",handler:function(e,t){Ext.isGecko?(r.execCmd("useCSS",!1),r.execCmd("hilitecolor","#"+t),r.execCmd("useCSS",!0),r.deferFocus()):r.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+t:t),this.up("menu").hide()}}]})},r.buttonDefaults)),r.enableAlignments&&i.push("-",a("justifyleft"),a("justifycenter"),a("justifyright")),Ext.isSafari2||(r.enableLinks&&i.push("-",a("createlink",!1,r.createLink)),r.enableLists&&i.push("-",a("insertorderedlist"),a("insertunorderedlist")),r.enableSourceEdit&&i.push("-",a("sourceedit",!0,function(){r.toggleSourceEdit(!r.sourceEditMode)}))),e=0;e<i.length;e++)"sourceedit"!==i[e].itemId&&(i[e].disabled=!0);return{xtype:"toolbar",defaultButtonUI:r.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:!0,items:i,listeners:{click:function(e){e.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var t=this.textareaEl,i=this.iframeEl;this.readOnly=e,t&&(t.dom.readOnly=e),this.initialized&&(t=this.getEditorBody(),Ext.isIE?(i.setDisplayed(!1),t.contentEditable=!e,i.setDisplayed(!0)):this.setDesignMode(!e),t&&(t.style.cursor=e?"default":"text"),this.disableItems(e))},getDocMarkup:function(){var e=this.iframeEl.getHeight()-2*this.iframePad;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera||Ext.isIE?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(this.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",this.iframePad,e,this.defaultFont)},getEditorBody:function(){var e=this.getDoc();return e.body||e.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var e,t,i,n,r,o,s,a=0;if(!this.defaultFont){for(t=this.textareaEl.getStyle("font-family"),t=Ext.String.capitalize(t.split(",")[0]),e=Ext.Array.clone(this.fontFamilies),Ext.Array.include(e,t),e.sort(),this.defaultFont=t,i=this.down("#fontSelect").selectEl.dom,r=0,o=e.length;r<o;++r)s=(t=e[r]).toLowerCase(),n=new Option(t,s),t===this.defaultFont&&(a=r),n.style.fontFamily=s,(Ext.isIE?i:i.options).add(n);i.options[a].selected=!0}},isEqual:function(e,t){return this.isEqualAsString(e,t)},afterRender:function(){var e=this,t=e.inputCmp;e.callParent(arguments),e.iframeEl=t.iframeEl,e.textareaEl=t.textareaEl,e.inputEl=e.iframeEl,e.enableFont&&e.initDefaultFont(),e.monitorTask=Ext.TaskManager.start({run:e.checkDesignMode,scope:e,interval:100})},initFrameDoc:function(){var e,t,i=this;Ext.TaskManager.stop(i.monitorTask),e=i.getDoc(),i.win=i.getWin(),e.open(),e.write(i.getDocMarkup()),e.close(),t={run:function(){var e=i.getDoc();!e.body&&"complete"!==e.readyState||(Ext.TaskManager.stop(t),i.setDesignMode(!0),Ext.defer(i.initEditor,10,i))},interval:10,duration:1e4,scope:i},Ext.TaskManager.start(t)},checkDesignMode:function(){var e=this.getDoc();!e||e.editorInitialized&&"on"===this.getDesignMode()||this.initFrameDoc()},setDesignMode:function(e){var t=this.getDoc();t&&(this.readOnly&&(e=!1),t.designMode=/on|true/i.test(String(e).toLowerCase())?"on":"off")},getDesignMode:function(){var e=this.getDoc();return e?String(e.designMode).toLowerCase():""},disableItems:function(e){for(var t,i=this.getToolbar().items.items,n=i.length,r=0;r<n;r++)"sourceedit"!==(t=i[r]).getItemId()&&t.setDisabled(e)},toggleSourceEdit:function(e){var t=this,i=t.iframeEl,n=t.textareaEl,r=Ext.baseCSSPrefix+"hidden",o=t.getToolbar().getComponent("sourceedit");Ext.isBoolean(e)||(e=!t.sourceEditMode),t.sourceEditMode=e,o.pressed!==e&&o.toggle(e),e?(t.disableItems(!0),t.syncValue(),i.addCls(r),n.removeCls(r),n.dom.removeAttribute("tabIndex"),n.focus(),t.inputEl=n):(t.initialized&&t.disableItems(t.readOnly),t.pushValue(),i.removeCls(r),n.addCls(r),n.dom.setAttribute("tabIndex",-1),t.deferFocus(),t.inputEl=i),t.fireEvent("editmodechange",t,e),t.updateLayout()},createLink:function(){var e=prompt(this.createLinkText,this.defaultLinkValue);e&&"http://"!==e&&this.relayCmd("createlink",e)},clearInvalid:Ext.emptyFn,setValue:function(e){var t=this.textareaEl;return null==e&&(e=""),this.value!==e&&(t&&(t.dom.value=e),this.pushValue(),!this.rendered&&this.inputCmp&&(this.inputCmp.data.value=e),this.mixins.field.setValue.call(this,e)),this},cleanHtml:function(e){return e=String(e),Ext.isWebKit&&(e=e.replace(this.safariNonsenseRE,"")),e.charCodeAt(0)===parseInt(this.defaultValue.replace(this.nonDigitsRE,""),10)&&(e=e.substring(1)),e},syncValue:function(){var e,t,i,n,r,o=this;o.initialized&&(i=(e=o.getEditorBody()).innerHTML,r=o.textareaEl.dom,Ext.isWebKit&&(n=e.getAttribute("style").match(o.textAlignRE))&&n[1]&&(i='<div style="'+n[0]+'">'+i+"</div>"),i=o.cleanHtml(i),!1!==o.fireEvent("beforesync",o,i)&&(Ext.isGecko&&""===r.value&&"<br>"===i&&(i=""),r.value!==i&&(r.value=i,t=!0),o.fireEvent("sync",o,i),t&&o.checkChange()))},getValue:function(){var e;return this.sourceEditMode||this.syncValue(),e=(this.rendered?this.textareaEl.dom:this).value,this.value=e},pushValue:function(){var e,t=this;t.initialized&&(e=t.textareaEl.dom.value||"",!t.activated&&e.length<1&&(e=t.defaultValue),!1!==t.fireEvent("beforepush",t,e)&&(t.getEditorBody().innerHTML=e,Ext.isGecko&&(t.setDesignMode(!1),t.setDesignMode(!0)),t.fireEvent("push",t,e)))},focus:function(e,t){var i,n=this;return t?(n.focusTask||(n.focusTask=new Ext.util.DelayedTask(n.focus)),n.focusTask.delay(Ext.isNumber(t)?t:10,null,n,[e,!1])):(e&&(n.textareaEl&&n.textareaEl.dom&&(i=n.textareaEl.dom.value),i&&i.length&&n.execCmd("selectall",!0)),(i=n.getFocusEl())&&i.focus&&i.focus()),n},initEditor:function(){var e,t,i,n,r=this;if(!r.destroying&&!r.destroyed)if(e=r.getEditorBody()){if((n=r.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]))["background-attachment"]="fixed",e.bgProperties="fixed",Ext.DomHelper.applyStyles(e,n),t=r.getDoc(),i=Ext.get(t)){try{i.clearListeners()}catch(e){}n=r.onEditorEvent.bind(r),i.on({mousedown:n,dblclick:n,click:n,keyup:n,delegated:!1,buffer:100}),n=r.onRelayedEvent,i.on({mousedown:n,mousemove:n,mouseup:n,click:n,dblclick:n,delegated:!1,scope:r}),Ext.isGecko&&i.on("keypress",r.applyCommand,r),r.fixKeys&&i.on("keydown",r.fixKeys,r,{delegated:!1}),r.fixKeysAfter&&i.on("keyup",r.fixKeysAfter,r,{delegated:!1}),Ext.isIE9&&Ext.get(t.documentElement).on("focus",r.focus,r),Ext.isIE8&&(i.on("focusout",function(){r.savedSelection="None"!==t.selection.type?t.selection.createRange():null},r),i.on("focusin",function(){r.savedSelection&&r.savedSelection.select()},r)),Ext.getWin().on("unload",r.destroyEditor,r),t.editorInitialized=!0,r.initialized=!0,r.pushValue(),r.setReadOnly(r.readOnly),r.fireEvent("initialize",r)}}else setTimeout(function(){r.initEditor()},10)},destroyEditor:function(){var e,t,i=this.monitorTask;if(i&&Ext.TaskManager.stop(i),this.rendered){if(Ext.getWin().un("unload",this.destroyEditor,this),e=this.getDoc(),e&&(Ext.get(e).destroy(),e.hasOwnProperty))for(t in e)try{e.hasOwnProperty(t)&&delete e[t]}catch(e){}delete this.iframeEl,delete this.textareaEl,delete this.toolbar,delete this.inputCmp}},doDestroy:function(){this.destroyEditor(),this.callParent()},onRelayedEvent:function(e){var t=this.iframeEl,i=Ext.fly(t).getTrueXY(),n=e.getXY(),r=e.getXY();e.xy=[i[0]+r[0],i[1]+r[1]],e.injectEvent(t),e.xy=n},onFirstFocus:function(){var e,t=this;if(t.activated=!0,t.disableItems(t.readOnly),Ext.isGecko){t.win.focus(),(e=t.win.getSelection()).focusNode&&!t.getValue().length&&((e=e.getRangeAt(0)).selectNodeContents(t.getEditorBody()),e.collapse(!0),t.deferFocus());try{t.execCmd("useCSS",!0),t.execCmd("styleWithCSS",!1)}catch(e){}}t.fireEvent("activate",t)},adjustFont:function(e){var t="increasefontsize"===e.getItemId()?1:-1,i=this.getDoc().queryCommandValue("FontSize")||"2",e=Ext.isString(i)&&-1!==i.indexOf("px"),i=parseInt(i,10);i=e?(i=i<=10?1+t:i<=13?2+t:i<=16?3+t:i<=18?4+t:i<=24?5+t:6+t,Ext.Number.constrain(i,1,6)):((e=Ext.isSafari)&&(t*=2),Math.max(1,i+t)+(e?"px":0)),this.relayCmd("FontSize",i)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var e,i,n,r,o,t,s,a,l=this;if(!l.readOnly)if(l.activated){for(n=l.getToolbar().items.map,r=l.getDoc(),l.enableFont&&!Ext.isSafari2&&(t=r.queryCommandValue("fontName"),o=(t?t.split(",")[0].replace(l.reStripQuotes,""):l.defaultFont).toLowerCase(),s=l.fontSelect.dom,o===s.value&&o===t||(s.value=o)),l.enableFormat&&d("bold","italic","underline"),l.enableAlignments&&d("justifyleft","justifycenter","justifyright"),!Ext.isSafari2&&l.enableLists&&d("insertorderedlist","insertunorderedlist"),a=l.toolbar.query("menu"),e=0;e<a.length;e++)a[e].hide();l.syncValue()}else l.onFirstFocus();function d(){var t;for(e=0,i=arguments.length;e<i;e++){o=arguments[e];try{t=r.queryCommandState(o)}catch(e){t=!1}n[o].toggle(t)}}},relayBtnCmd:function(e){this.relayCmd(e.getItemId())},relayCmd:function(e,t){Ext.defer(function(){this.destroyed||(this.win.focus(),this.execCmd(e,t),this.updateToolbar())},10,this)},execCmd:function(e,t){this.getDoc().execCommand(e,!1,void 0===t?null:t),this.syncValue()},applyCommand:function(e){if(e.ctrlKey){var t,i=e.getCharCode();if(0<i){switch(String.fromCharCode(i)){case"b":t="bold";break;case"i":t="italic";break;case"u":t="underline"}t&&(this.win.focus(),this.execCmd(t),this.deferFocus(),e.preventDefault())}}},insertAtCursor:function(e){var t,i,n,r,o,s,a=this.getWin(),l=this.getDoc();if(this.activated){if(a.focus(),a.getSelection){if((t=a.getSelection()).getRangeAt&&t.rangeCount){for((i=t.getRangeAt(0)).deleteContents(),(n=l.createElement("div")).innerHTML=e,r=l.createDocumentFragment();o=n.firstChild;)s=r.appendChild(o);r.firstChild,i.insertNode(r),s&&((i=i.cloneRange()).setStartAfter(s),i.collapse(!0),t.removeAllRanges(),t.addRange(i))}}else l.selection&&"Control"!==t.type&&((i=(t=l.selection).createRange()).collapse(!0),t.createRange().pasteHTML(e));this.deferFocus()}},fixKeys:Ext.isIE10m?function(e){var t=e.getKey(),i=this.getDoc(),n=this.readOnly;t===e.TAB&&(e.stopEvent(),n||(i=i.selection.createRange())&&(i.collapse&&(i.collapse(!0),i.pasteHTML("&#160;&#160;&#160;&#160;")),this.deferFocus()))}:Ext.isOpera?function(e){var t=e.getKey(),i=this.readOnly;t===e.TAB&&(e.stopEvent(),i||(this.win.focus(),this.execCmd("InsertHTML","&#160;&#160;&#160;&#160;"),this.deferFocus()))}:null,fixKeysAfter:Ext.isIE?function(e){var t=e.getKey(),i=this.getDoc();this.readOnly||t!==e.BACKSPACE&&t!==e.DELETE||"<p>&nbsp;</p>"!==(e=i.body.innerHTML)&&"<P>&nbsp;</P>"!==e||(i.body.innerHTML="")}:null,getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(!1,!0)},getFocusEl:function(){return this.sourceEditMode?this.textareaEl:this.iframeEl}}}),Ext.define("Ext.view.TagKeyNav",{extend:"Ext.view.BoundListKeyNav",alias:"view.navigation.tagfield",onKeySpace:function(e){var t=this.view.pickerField;return!t.isExpanded||""!==t.inputEl.dom.value||(t.preventKeyUpEvent=!0,this.navigateOnSpace=!0,this.callParent([e]),e.stopEvent(),!1)}}),Ext.define("Ext.form.field.Tag",{extend:"Ext.form.field.ComboBox",requires:["Ext.selection.Model","Ext.data.Store","Ext.data.ChainedStore","Ext.view.TagKeyNav"],xtype:"tagfield",noWrap:!1,multiSelect:!0,delimiter:",",tipTpl:void 0,forceSelection:!0,createNewOnEnter:!1,createNewOnBlur:!1,encodeSubmitValue:!1,triggerOnClick:!0,stacked:!1,filterPickList:!1,clearOnBackspace:!0,grow:!0,growMin:!1,growMax:!1,simulatePlaceholder:!0,selectOnFocus:!0,ariaHelpText:"Use Up and Down arrows to view available values, Enter to select. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaHelpTextEditable:"Use Up and Down arrows to view available values, Enter to select. Type and press Enter to create a new value. Use Left and Right arrows to view selected values, Delete key to deselect.",ariaSelectedText:"Selected {0}.",ariaDeselectedText:"{0} removed from selection.",ariaNoneSelectedText:"No value selected.",ariaSelectedListLabel:"Selected values",ariaAvailableListLabel:"Available values",fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper"'+(Ext.isGecko?' tabindex="-1"':""),'<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>',' class="'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}"<tpl if="wrapperStyle"> style="{wrapperStyle}"</tpl>>','<span id="{cmpId}-selectedText" data-ref="selectedText" aria-hidden="true" class="'+Ext.baseCSSPrefix+'hidden-clip"></span>','<ul id="{cmpId}-itemList" data-ref="itemList" role="presentation" class="'+Ext.baseCSSPrefix+'tagfield-list{itemListCls}">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" role="presentation" class="'+Ext.baseCSSPrefix+'tagfield-input">','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx != null">tabindex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>','class="'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls} {emptyCls}" autocomplete="off">',"</li>","</ul>",'<ul id="{cmpId}-ariaList" data-ref="ariaList" role="listbox"','<tpl if="ariaSelectedListLabel"> aria-label="{ariaSelectedListLabel}"</tpl>','<tpl if="multiSelect"> aria-multiselectable="true"</tpl>',' class="'+Ext.baseCSSPrefix+'tagfield-arialist">',"</ul>","</div>",{disableFormats:!0}],postSubTpl:['<label id="{cmpId}-placeholderLabel" data-ref="placeholderLabel" for="{cmpId}-inputEl" class="{placeholderCoverCls} {placeholderCoverCls}-{ui} {emptyCls}">{emptyText}</label>',"</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],extraFieldBodyCls:Ext.baseCSSPrefix+"tagfield-body",childEls:["listWrapper","itemList","inputEl","inputElCt","selectedText","ariaList"],clearValueOnEmpty:!1,ariaSelectable:!0,ariaEl:"listWrapper",tagItemCls:Ext.baseCSSPrefix+"tagfield-item",tagItemTextCls:Ext.baseCSSPrefix+"tagfield-item-text",tagItemCloseCls:Ext.baseCSSPrefix+"tagfield-item-close",tagItemSelector:"."+Ext.baseCSSPrefix+"tagfield-item",tagItemCloseSelector:"."+Ext.baseCSSPrefix+"tagfield-item-close",tagSelectedCls:Ext.baseCSSPrefix+"tagfield-item-selected",initComponent:function(){var e=this,t=e.typeAhead,i=e.delimiter;t&&!e.editable&&Ext.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings."),(e.createNewOnEnter||e.createNewOnBlur)&&(e.forceSelection=!1),e.typeAhead=!1,null==e.value&&(e.value=[]),e.selectionModel=new Ext.selection.Model({mode:"MULTI",onSelectChange:function(e,t,i,n){n()},listeners:{scope:e,selectionchange:e.onSelectionChange,focuschange:e.onFocusChange}}),e.ariaHelp||(e.ariaHelp=e.createNewOnEnter?e.ariaHelpTextEditable:e.ariaHelpText),e.callParent(),e.typeAhead=t,i&&e.multiSelect&&(e.delimiterRegexp=new RegExp(Ext.String.escapeRegex(i)))},initEvents:function(){var e=this,t=e.inputEl;e.callParent(arguments),e.enableKeyEvents||(t.on("keydown",e.onKeyDown,e),t.on("keyup",e.onKeyUp,e)),e.listWrapper.on({scope:e,click:e.onItemListClick,mousedown:e.onItemMouseDown})},createPicker:function(){var e=Ext.apply({navigationModel:"tagfield"},this.defaultListConfig);return this.ariaAvailableListLabel&&(e.ariaRenderAttributes={"aria-label":Ext.String.htmlEncode(this.ariaAvailableListLabel)}),this.defaultListConfig=e,this.callParent()},isValid:function(){var e=this.disabled;return this.forceValidation||!e?this.validateValue(this.getValue()):e},onBindStore:function(e){var t=this;t.callParent([e]),e&&(t.valueStore=new Ext.data.Store({model:e.getModel(),proxy:"memory",useModelWarning:!1}),t.selectionModel.bindStore(t.valueStore),t.filterPickList&&(t.listFilter=new Ext.util.Filter({scope:t,filterFn:t.filterPicked}),t.changingFilters=!0,e.filter(t.listFilter),t.changingFilters=!1))},filterPicked:function(e){return!this.valueCollection.contains(e)},onUnbindStore:function(e){var t=this.valueStore,i=this.picker;i&&i.bindStore(null),t&&(t.destroy(),this.valueStore=null),this.filterPickList&&!e.destroyed&&(this.changingFilters=!0,e.removeFilter(this.listFilter),this.changingFilters=!1),this.callParent(arguments)},clearInput:function(){var e=this.getValueRecords(),t=this.inputEl&&this.inputEl.dom.value;e.length&&t&&(e=e[e.length-1].get(this.displayField),Ext.String.startsWith(e,t,!0)&&(this.inputEl.dom.value="","local"==this.queryMode&&(this.clearLocalFilter(),this.getPicker().refresh())))},onValueCollectionEndUpdate:function(){var e=this,t=e.valueCollection.items,i=e.valueStore;e.isSelectionUpdating()||(e.filterPickList&&(e.changingFilters=!0,e.store.filter(e.listFilter),e.changingFilters=!1),e.callParent(),Ext.suspendLayouts(),i&&(i.suspendEvents(),i.loadRecords(t),i.resumeEvents()),e.refreshEmptyText(),e.clearInput(),Ext.resumeLayouts(!0),e.alignPicker())},checkValueOnDataChange:Ext.emptyFn,onSelectionChange:function(e,t){var i,n=this.inputEl;this.applyMultiselectItemMarkup(),this.applyAriaListMarkup(),this.applyAriaSelectedText(),n&&(0===t.length?n.dom.removeAttribute("aria-activedescendant"):(i=this.getAriaListNode(t[0]))&&n.dom.setAttribute("aria-activedescendant",i.id)),this.fireEvent("valueselectionchange",this,t)},onFocusChange:function(e,t,i){this.callParent([e,t,i]),this.fireEvent("valuefocuschange",this,t,i)},getAriaListNode:function(e){var t,i=this.ariaList;return i&&e&&(t=i.selectNode('[data-recordid="'+e.internalId+'"]')),t},doDestroy:function(){Ext.destroy(this.selectionModel),this.callParent()},getSubTplData:function(e){var t=this,i=t.id,n=t.callParent(arguments),r=t.emptyText,o=r&&n.value.length<1,s=t.growMin,a=t.growMax,l="";return n.value="",n.emptyText=o?r:"",n.itemListCls="",n.emptyCls=o?t.emptyUICls:"",t.grow?(Ext.isNumber(s)&&0<s&&(l+="min-height:"+s+"px;"),Ext.isNumber(a)&&0<a&&(l+="max-height:"+a+"px;")):l+="max-height: 1px;",n.wrapperStyle=l,!0===t.stacked&&(n.itemListCls+=" "+Ext.baseCSSPrefix+"tagfield-stacked"),t.multiSelect||(n.itemListCls+=" "+Ext.baseCSSPrefix+"tagfield-singleselect"),t.ariaStaticRoles[t.ariaRole]||(n.multiSelect=t.multiSelect,n.ariaSelectedListLabel=Ext.String.htmlEncode(t.ariaSelectedListLabel),(t=n.ariaElAttributes)&&(t["aria-owns"]=i+"-inputEl "+i+"-picker "+i+"-ariaList"),(t=n.inputElAriaAttributes)&&(t.role="textbox",t["aria-describedby"]=i+"-selectedText "+(t["aria-describedby"]||""))),n},afterRender:function(){var e=this.inputEl;this.emptyText&&Ext.supports.Placeholder&&e&&e.dom.removeAttribute("placeholder"),this.applyMultiselectItemMarkup(),this.applyAriaListMarkup(),this.applyAriaSelectedText(),this.callParent(arguments),this.emptyClsElements.push(this.listWrapper,this.placeholderLabel)},findRecord:function(e,t){t=this.getStore().queryRecords(e,t);return!!t.length&&t[0]},getCursorPosition:function(){var e=document.selection?((e=document.selection.createRange()).collapse(!0),e.moveStart("character",-this.inputEl.dom.value.length),e.text.length):this.inputEl.dom.selectionStart;return e},hasSelectedText:function(){var e=this.inputEl.dom;return document.selection?document.selection.createRange().parentElement()===e:e.selectionStart!==e.selectionEnd},onKeyDown:function(e){var t,i,n,r,o=this,s=e.getKey(),a=o.inputEl,l=a&&a.dom.value,d=o.valueCollection,c=o.selectionModel,u=!1;if(!(o.destroyed||o.readOnly||o.disabled)&&o.editable){if(0<(a=d.getCount())&&""===l)if(l=0<c.getCount()?d.indexOf(c.getLastSelected()):-1,s===e.BACKSPACE&&o.clearOnBackspace||s===e.DELETE&&-1<l){if(-1<l){for(1<c.getCount()&&(l=-1),i=[],n=0,r=(t=c.getSelection()).length;n<r;n++)i.push(t[n].get(o.displayField));i=i.join(", ")}else i=(t=d.last()).get(o.displayField);d.remove(t),i&&(o.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(o.ariaDeselectedText,i)),c.clearSelections(),l===a-1?c.select(d.last()):-1<l?c.select(l):d.getCount()&&c.select(d.last()),u=!0}else s===e.RIGHT||s===e.LEFT?-1===l&&s===e.LEFT?(c.select(d.last()),u=!0):-1<l&&(s===e.RIGHT?l<a-1?(c.select(l+1,e.shiftKey),u=!0):e.shiftKey||(c.deselectAll(),u=!0):s===e.LEFT&&0<l&&(c.select(l-1,e.shiftKey),u=!0)):s===e.A&&e.ctrlKey&&(c.selectAll(),u=e.A);if(u)return o.preventKeyUpEvent=u,void e.stopEvent();o.isExpanded&&s===e.ENTER&&o.picker.highlightedItem&&(o.preventKeyUpEvent=!0),o.enableKeyEvents&&o.callParent(arguments),e.isSpecialKey()||e.hasModifier()||c.deselectAll()}},onKeyUp:function(e,t){var i=this,n=i.inputEl,r=n.dom.value,o=i.preventKeyUpEvent;if(i.preventKeyUpEvent)return e.stopEvent(),void(!0!==o&&e.getKey()!==o||delete i.preventKeyUpEvent);(i.multiSelect&&i.delimiterRegexp&&i.delimiterRegexp.test(r)||i.createNewOnEnter&&e.getKey()===e.ENTER)&&(i.createNewOnEnter&&r&&(i.ariaErrorEl.dom.innerHTML=Ext.String.formatEncode(i.ariaSelectedText,r)),r=Ext.Array.clean(r.split(i.delimiterRegexp)),n.dom.value="",i.setValue(i.valueStore.getRange().concat(r)),n.focus()),i.callParent([e,t])},onEsc:function(e){var t=this.selectionModel,i=this.isExpanded;this.callParent([e]),!i&&0<t.getCount()&&t.deselectAll(),e.stopEvent()},onTypeAhead:function(){var e,t=this.displayField,i=this.inputEl.dom,n=this.getStore().findRecord(t,i.value);n&&(n=(e=n.get(t)).length,0!==(t=i.value.length)&&t!==n&&(this.lastMutatedValue=e,i.value=e,this.selectText(t,e.length)))},onItemListClick:function(e){var t=this,i=t.selectionModel,n=e.getTarget(t.tagItemSelector),r=!!n&&e.getTarget(t.tagItemCloseSelector);t.readOnly||t.disabled||(e.stopPropagation(),n?(r?(t.removeByListItemNode(n),0<t.valueStore.getCount()&&t.fireEvent("select",t,t.valueStore.getRange())):t.toggleSelectionByListItemNode(n,e.shiftKey),Ext.supports.TouchEvents||t.inputEl.focus()):(0<i.getCount()&&i.deselectAll(),t.inputEl.focus(),t.triggerOnClick&&t.onTriggerClick()))},onItemMouseDown:function(e){e.preventDefault()},getMultiSelectItemMarkup:function(){var t=this,e=t._getChildElCls&&t._getChildElCls()||"";return t.multiSelectItemTpl||(t.labelTpl||(t.labelTpl="{"+t.displayField+"}"),t.labelTpl=t.lookupTpl("labelTpl"),t.tipTpl&&(t.tipTpl=t.lookupTpl("tipTpl")),t.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li data-selectionIndex="{[xindex - 1]}" data-recordId="{internalId}" role="presentation" class="'+t.tagItemCls+e,'<tpl if="this.isSelected(values)">'," "+t.tagSelectedCls,"</tpl>","{%","values = values.data;","%}",t.tipTpl?'" data-qtip="{[this.getTip(values)]}">':'">','<div role="presentation" class="'+t.tagItemTextCls+'">{[this.getItemLabel(values)]}</div>','<div role="presentation" class="'+t.tagItemCloseCls+e+'"></div>',"</li>","</tpl>",{isSelected:function(e){return t.selectionModel.isSelected(e)},getItemLabel:function(e){return Ext.String.htmlEncode(t.labelTpl.apply(e))},getTip:function(e){return Ext.String.htmlEncode(t.tipTpl.apply(e))},strict:!0}])),t.multiSelectItemTpl.isTemplate||(t.multiSelectItemTpl=this.lookupTpl("multiSelectItemTpl")),t.multiSelectItemTpl.apply(t.valueCollection.getRange())},applyMultiselectItemMarkup:function(){var e=this.itemList;e&&(e.select("."+Ext.baseCSSPrefix+"tagfield-item").destroy(),this.inputElCt.insertHtml("beforeBegin",this.getMultiSelectItemMarkup()),this.autoSize())},getAriaListMarkup:function(){var e,t=this;return t.ariaListItemTpl||(t.ariaListItemTpl=new Ext.XTemplate(['<tpl for=".">','<li id="'+t.id+'-{internalId}" role="option"',' class="'+Ext.baseCSSPrefix+'tagfield-arialist-item"',' aria-selected="{[this.isPicked(values)]}"','  data-recordId="{internalId}"',">","{[this.getItemLabel(values.data)]}","</li>","</tpl>",{isPicked:function(e){return t.filterPicked(e)?"false":"true"},isSelected:function(e){return t.selectionModel.isSelected(e)?"true":"false"},getItemLabel:function(e){return Ext.String.htmlEncode(t.labelTpl.apply(e))},strict:!0}])),t.ariaListItemTpl.isTemplate||(t.ariaListtemTpl=t.lookupTpl("ariaListItemTpl")),e=t.valueCollection.getRange(),t.ariaListItemTpl.apply(e)},applyAriaListMarkup:function(){var e=this.ariaList;e&&(e.select("*").destroy(),e.insertHtml("afterBegin",this.getAriaListMarkup()))},getAriaSelectedText:function(e){var t=this;return t.ariaSelectedItemTpl||(t.ariaSelectedItemTpl=new Ext.XTemplate(['<tpl for="." between=", ">',"{[this.getItemLabel(values.data)]}","</tpl>",{getItemLabel:function(e){return Ext.String.htmlEncode(t.labelTpl.apply(e))},strict:!0}])),t.ariaSelectedItemTpl.isTemplate||(t.ariaSelectedItemTpl=t.lookupTpl("ariaSelectedItemTpl")),Ext.String.format(t.ariaSelectedText,t.ariaSelectedItemTpl.apply(e))},applyAriaSelectedText:function(){var e,t=this.selectedText;t&&(e=(e=this.valueCollection.getRange()).length?this.getAriaSelectedText(e):this.ariaNoneSelectedText,t.dom.innerHTML=Ext.String.htmlEncode(e))},getRecordByListItemNode:function(e){return this.valueCollection.items[Number(e.getAttribute("data-selectionIndex"))]},toggleSelectionByListItemNode:function(e,t){var i=this.getRecordByListItemNode(e),e=this.selectionModel;i&&(e.isSelected(i)?e.deselect(i):e.select(i,t))},removeByListItemNode:function(e){e=this.getRecordByListItemNode(e);e&&this.pickerSelectionModel.deselect(e)},getDisplayValue:function(){return this.getRawValue()},getRawValue:function(){for(var e=this.getValueRecords(),t=[],i=0,n=e.length;i<n;i++)t.push(e[i].data[this.displayField]);return t.join(",")},setRawValue:function(e){},removeValue:function(e){var t,i,n,r=this.valueCollection,o=[];if(e){for(i=0,t=(e=Ext.Array.from(e)).length;i<t;++i)(n=e[i]).isModel||(n=r.byValue.get(n)),n&&o.push(n);this.valueCollection.beginUpdate(),this.pickerSelectionModel.deselect(o),this.valueCollection.endUpdate()}},setValue:function(e,t,i){var n,r,o,s,a,l=this,d=l.valueStore,c=l.valueField,u=[],h=l.store,f=l.autoLoadOnValue,g=0<h.getCount()||h.isLoaded(),p=h.hasPendingLoad(),p=f&&!g&&!p;if(Ext.isEmpty(e)?a=!(e=null):e=Ext.isString(e)&&l.multiSelect?e.split(l.delimiter):Ext.Array.from(e,!0),!a&&"remote"===l.queryMode&&!h.isEmptyStore&&!0!==i&&p){for(o=0,r=e.length;o<r;o++)(n=e[o])&&n.isModel||(-1<(s=d.findExact(c,n))?e[o]=d.getAt(s):((s=l.findRecord(c,n))||(l.forceSelection?u.push(n):((s={})[l.valueField]=n,s[l.displayField]=n,s=new(l.valueStore.getModel())(s))),s&&(e[o]=s)));if(u.length)return(p={})[l.valueParam||l.valueField]=u.join(l.delimiter),h.load({params:p,callback:function(){l.setValue(e,t,!0),l.autoSize(),l.lastQuery=!1}}),!1}if(!a&&!l.multiSelect&&0<e.length){for(o=e.length-1;0<=o;o--)if(e[o].isModel){e=e[o];break}Ext.isArray(e)&&(e=e[e.length-1])}return l.callParent([e,t])},updateValue:function(){for(var e=this,t=e.valueCollection.getRange(),i=t.length,n=0;n<i;n++)t[n]=t[n].get(e.valueField);e.setHiddenValue(t),e.value=e.multiSelect?t:t[0],Ext.isDefined(e.value)||(e.value=void 0),e.applyMultiselectItemMarkup(),e.applyAriaListMarkup(),e.applyAriaSelectedText(),e.checkChange()},getValueRecords:function(){return this.valueCollection.getRange()},getSubmitData:function(){var e=this.callParent(arguments);return this.multiSelect&&this.encodeSubmitValue&&e&&e[this.name]&&(e[this.name]=Ext.encode(e[this.name])),e},assertValue:function(){var e=this.inputEl.dom.value,t=!Ext.isEmpty(e)&&this.findRecordByDisplay(e),i=!1;t||this.forceSelection||!this.createNewOnBlur||Ext.isEmpty(e)?t&&(i=t):i=e,i&&this.addValue(i),this.inputEl.dom.value="",this.collapse(),this.refreshEmptyText()},isEqual:function(e,t){var i,n,r=Ext.Array.from,o=this.valueField;if(e=r(e),t=r(t),(n=e.length)!==t.length)return!1;for(i=0;i<n;i++)if((e[i].isModel?e[i].get(o):e[i])!==(t[i].isModel?t[i].get(o):t[i]))return!1;return!0},onFocus:function(){var e=this.focusCls,t=this.itemList;e&&t&&t.addCls(e),this.callParent(arguments)},onBlur:function(){var e=this.focusCls,t=this.itemList;e&&t&&t.removeCls(e),this.callParent(arguments)},renderActiveError:function(){var e=this.invalidCls,t=this.itemList,i=this.hasActiveError();e&&t&&t[i?"addCls":"removeCls"](this.invalidCls+"-field"),this.callParent(arguments)},autoSize:function(){return this.grow&&this.rendered&&(this.autoSizing=!0,this.updateLayout()),this},afterComponentLayout:function(){var e;this.autoSizing&&(e=this.getHeight())!==this.lastInputHeight&&(this.isExpanded&&this.alignPicker(),this.fireEvent("autosize",this,e),this.lastInputHeight=e,this.autoSizing=!1)}}),Ext.define("Ext.rtl.form.field.Tag",{override:"Ext.form.field.Tag",privates:{_getChildElCls:function(){return this.getInherited().rtl?" "+this._rtlCls:""}}}),Ext.define("Ext.picker.Time",{extend:"Ext.view.BoundList",alias:"widget.timepicker",requires:["Ext.data.Store","Ext.Date"],config:{store:!0},statics:{createStore:function(e,t){for(var i=Ext.Date,n=i.clearTime,r=this.prototype.initDate,o=[],s=n(new Date(r[0],r[1],r[2])),a=i.add(n(new Date(r[0],r[1],r[2])),"mi",1439);s<=a;)o.push({disp:i.dateFormat(s,e),date:s}),s=i.add(s,"mi",t);return new Ext.data.Store({model:Ext.picker.Time.prototype.modelType,data:o})}},increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",alignOnScroll:!1,loadMask:!1,initComponent:function(){var e=Ext.Date,t=e.clearTime,i=this.initDate;this.absMin=t(new Date(i[0],i[1],i[2])),this.absMax=e.add(t(new Date(i[0],i[1],i[2])),"mi",1439),this.updateList(),this.callParent()},setStore:function(e){this.store=!0===e?Ext.picker.Time.createStore(this.format,this.increment):e},setMinValue:function(e){this.minValue=e,this.updateList()},setMaxValue:function(e){this.maxValue=e,this.updateList()},normalizeDate:function(e){var t=this.initDate;return e.setFullYear(t[0],t[1],t[2]),e},updateList:function(){var t=this.normalizeDate(this.minValue||this.absMin),i=this.normalizeDate(this.maxValue||this.absMax),e=this.getStore().getFilters(),n=this.rangeFilter;e.beginUpdate(),n&&e.remove(n),n=this.rangeFilter=new Ext.util.Filter({filterFn:function(e){e=e.get("date");return t<=e&&e<=i}}),e.add(n),e.endUpdate()}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})}),Ext.define("Ext.form.field.Time",{extend:"Ext.form.field.ComboBox",alias:"widget.timefield",requires:["Ext.form.field.Date","Ext.picker.Time","Ext.view.BoundListKeyNav","Ext.Date"],alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",formatText:"Expected time format HH:MM space AM or PM",increment:15,pickerMaxHeight:300,selectOnTab:!0,snapToIncrement:!1,valuePublishEvent:["select","blur"],initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var e=this,t=e.minValue,i=e.maxValue;t&&e.setMinValue(t),i&&e.setMaxValue(i),e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+e.displayField+'"])]}<tpl if="xindex < xcount">'+e.delimiter+"</tpl></tpl>",{formatDate:e.formatDate.bind(e)}),e.store=Ext.picker.Time.createStore(e.format,e.increment),e.callParent(),e.getPicker()},afterQuery:function(e){this.callParent([e]),null===this.value&&this.getRawValue()&&this.validateOnChange&&this.validate()},isEqual:function(e,t){var i,n,r=Ext.Array.from,o=Ext.Date.isEqual;if(e=r(e),t=r(t),(n=e.length)!==t.length)return!1;for(i=0;i<n;i++)if(!(t[i]instanceof Date&&e[i]instanceof Date&&o(t[i],e[i])))return!1;return!0},setMinValue:function(e){var t=this.picker;this.setLimit(e,!0),t&&t.setMinValue(this.minValue)},setMaxValue:function(e){var t=this.picker;this.setLimit(e,!1),t&&t.setMaxValue(this.maxValue)},setLimit:function(e,t){var i,n;Ext.isString(e)?i=this.parseDate(e):Ext.isDate(e)&&(i=e),i?(n=this.getInitDate()).setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()):n=null,this[t?"minValue":"maxValue"]=n},getInitDate:function(e,t,i){var n=this.initDateParts;return new Date(n[0],n[1],n[2],e||0,t||0,i||0,0)},valueToRaw:function(e){return this.formatDate(this.parseDate(e))},getErrors:function(e){e=0<arguments.length?e:this.getRawValue();var t,i,n,r,o=this,s=Ext.String.format,a=o.callParent([e]),l=o.minValue,d=o.maxValue,c=o.displayTplData,u=o.getRawValue();if(c&&0<c.length)for(t=0,i=c.length;t<i;t++)r=(r=c[t]).date||r.disp,(n=o.parseDate(r))||a.push(s(o.invalidText,r,Ext.Date.unescapeFormat(o.format)));else u.length&&((n=o.parseDate(u))||a.push(s(o.invalidText,u,Ext.Date.unescapeFormat(o.format))));return a.length||(l&&n<l&&a.push(s(o.minText,o.formatDate(l))),d&&d<n&&a.push(s(o.maxText,o.formatDate(d)))),a},formatDate:function(e){for(var t=[],i=0,n=(e=Ext.Array.from(e)).length;i<n;i++)t.push(Ext.form.field.Date.prototype.formatDate.call(this,e[i]));return t.join(this.delimiter)},parseDate:function(e){var t,i=e,n=this.altFormats,r=this.altFormatsArray,o=0;if(e&&!Ext.isDate(e)&&!(i=this.safeParse(e,this.format))&&n)for(t=(r=r||n.split("|")).length;o<t&&!i;++o)i=this.safeParse(e,r[o]);return i&&this.snapToIncrement&&(i=new Date(Ext.Number.snap(i.getTime(),60*this.increment*1e3))),i},safeParse:function(e,t){var i=Ext.Date,n=null;return i.formatContainsDateInfo(t)?n=i.parse(e,t):(t=i.parse(this.initDate+" "+e,this.initDateFormat+" "+t))&&(n=t),n},getSubmitValue:function(){var e=this.submitFormat||this.format,t=this.getValue();return t?Ext.Date.format(t,e):null},createPicker:function(){return this.listConfig=Ext.apply({xtype:"timepicker",pickerField:this,cls:void 0,minValue:this.minValue,maxValue:this.maxValue,increment:this.increment,format:this.format,maxHeight:this.pickerMaxHeight},this.listConfig),this.callParent()},completeEdit:function(){var e=this.getValue();this.callParent(arguments),this.validateValue(e)&&this.setValue(e)},findRecordByValue:function(e){return"string"==typeof e&&(e=this.parseDate(e)),this.callParent([e])},rawToValue:function(e){var t,i,n,r;if(this.multiSelect){for(i=[],n=0,r=(t=Ext.Array.from(e)).length;n<r;n++)i.push(this.parseDate(t[n]));return i}return this.parseDate(e)},setValue:function(e){if(!this.creatingPicker)return this.getPicker(),Ext.isDate(e)&&(e=this.getInitDate(e.getHours(),e.getMinutes(),e.getSeconds())),this.callParent([e])},getValue:function(){return this.rawToValue(this.callParent(arguments))}}),Ext.define("Ext.form.field.Trigger",{extend:"Ext.form.field.Text",alias:["widget.triggerfield","widget.trigger"],requires:["Ext.dom.Helper","Ext.util.ClickRepeater"],alternateClassName:["Ext.form.TriggerField","Ext.form.TwinTriggerField","Ext.form.Trigger"],triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",inheritableStatics:{warnDeprecated:function(){Ext.log.warn("Ext.form.field.Trigger is deprecated. Use Ext.form.field.Text instead.")}},onClassExtended:function(){this.warnDeprecated()},constructor:function(e){this.self.warnDeprecated(),this.callParent([e])}}),Ext.define("Ext.grid.CellContext",{isCellContext:!0,generation:0,constructor:function(e){this.view=e},setPosition:function(e,t){if(1===arguments.length)if(e.length)t=e[0],e=e[1];else{if(e.isCellContext)return this.setAll(e.view,e.rowIdx,e.colIdx,e.record,e.column);e.view&&(this.view=e.view),t=e.column,e=e.row}return this.setRow(e),this.setColumn(t),this},setAll:function(e,t,i,n,r){return this.view=e,this.rowIdx=t,this.colIdx=i,this.record=n,this.column=r,this.generation++,this},setRow:function(e){var t,i=this,n=i.view.dataSource,r=i.record;return void 0!==e&&("number"==typeof e?(t=n.getCount(),e=e<0?Math.max(t+e,0):Math.max(Math.min(e,t-1),0),i.rowIdx=e,i.record=n.getAt(e)):e.isModel?(i.record=e,i.rowIdx=n.indexOf(e)):(e.tagName||e.isElement)&&(i.record=i.view.getRecord(e),i.rowIdx=n.indexOf(i.record))),i.record!==r&&i.generation++,i},setColumn:function(e){var t=this.view.getVisibleColumnManager(),i=this.column;return void 0!==e&&("number"==typeof e?(this.colIdx=e,this.column=t.getHeaderAtIndex(e)):e.isHeader&&(this.column=e,this.colIdx=t.indexOf(e))),this.column!==i&&this.generation++,this},getCell:function(e){return this.view.getCellByPosition(this,e)},getRow:function(e){var t=this.view.getRow(this.record);return e?t:Ext.get(t)},getNode:function(e){var t=this.view.getNode(this.record);return e?t:Ext.get(t)},isEqual:function(e){return e&&e.isCellContext&&e.record===this.record&&e.column===this.column},clone:function(){var e=new this.self(this.view);return e.rowIdx=this.rowIdx,e.colIdx=this.colIdx,e.record=this.record,e.column=this.column,e},privates:{isFirstColumn:function(){var e=this.getCell(!0);if(e)return!e.previousSibling},isLastColumn:function(){var e=this.getCell(!0);if(e)return!e.nextSibling},isLastRenderedRow:function(){return this.view.all.endIndex===this.rowIdx},getLastColumnIndex:function(){var e=this.getRow(!0);return e?e.lastChild.cellIndex:-1},refresh:function(){var e=this,t=e.view.dataSource.indexOf(e.record),i=e.view.getVisibleColumnManager().indexOf(e.column);e.setRow(-1===t?e.rowIdx:e.record),e.setColumn(-1===i?e.colIdx:e.column)},navigate:function(e){var t=this,i=t.view.getVisibleColumnManager().getColumns();switch(e){case-1:for(;t.colIdx?t.colIdx--:t.colIdx=i.length-1,t.setColumn(t.colIdx),!t.getCell(!0););break;case 1:for(;t.colIdx>=i.length?t.colIdx=0:t.colIdx++,t.setColumn(t.colIdx),!t.getCell(!0););}}},statics:{compare:function(e,t){return e.rowIdx-t.rowIdx||e.colIdx-t.colIdx}}}),Ext.define("Ext.grid.CellEditor",{extend:"Ext.Editor",isCellEditor:!0,alignment:"l-l!",hideEl:!1,cls:Ext.baseCSSPrefix+"small-editor "+Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-cell-editor",treeNodeSelector:"."+Ext.baseCSSPrefix+"tree-node-text",shim:!1,shadow:!1,floating:!0,alignOnScroll:!1,useBoundValue:!1,focusLeaveAction:"completeEdit",setGrid:function(e){this.grid=e},startEdit:function(e,t,i){this.context=this.editingPlugin.context,this.callParent([e,t,i])},onShow:function(){var e=this.boundEl.down(this.context.view.innerSelector);e&&(this.isForTree&&(e=e.child(this.treeNodeSelector)),e.hide()),this.callParent(arguments)},onFocusEnter:function(){var e=this.context,t=e.view;e.node=t.getNode(e.record),e.row=t.getRow(e.record),e.cell=e.getCell(!0),e.rowIdx=t.indexOf(e.row),this.realign(!0),this.callParent(arguments),this.focusEnterEvent=null},onFocusLeave:function(e){var t=this.context.view,i=Ext.fly(e.relatedTarget);!1!==this[this.focusLeaveAction]()?(delete this.focusLeaveAction,t.destroyed||!t.el.contains(i)||i.isAncestor(e.target)&&i!==t.el||i.up(t.getCellSelector(),t.el)||this.context.grid.setActionableMode(!1,t.actionPosition),this.cacheElement(),Ext.container.Container.prototype.onFocusLeave.apply(this,arguments)):e.event.stopEvent()},completeEdit:function(e){var t=this.context;if(this.editing&&(t.value=this.field.value,!1===this.editingPlugin.validateEdit(t)))return t.cancel&&(t.value=this.originalValue,this.editingPlugin.cancelEdit()),!!t.cancel;this.callParent([e])},onEditComplete:function(e,t){var i,n=this,r=Ext.Element.getActiveElement();n.editing=!1,(i=n.boundEl=n.context.getCell())&&(n.restoreCell(),i.contains(r)&&i.dom!==r&&i.focus()),n.callParent(arguments),t?n.editingPlugin.cancelEdit(n):n.editingPlugin.onEditComplete(n,n.getValue(),n.startValue)},cacheElement:function(){this.editing||this.destroyed||Ext.getDetachedBody().dom.appendChild(this.el.dom)},onHide:function(){Ext.Editor.superclass.onHide.apply(this,arguments)},onSpecialKey:function(e,t,i){var n=t.getKey(),r=this.completeOnEnter&&n===t.ENTER&&(!i||!i.fromBoundList),i=this.cancelOnEsc&&n===t.ESC,n=this.editingPlugin.view;(r||i)&&(t.stopEvent(),i&&(this.focusLeaveAction="cancelEdit"),n.ownerGrid.setActionableMode(!1))},getRefOwner:function(){return this.column&&this.column.getView()},restoreCell:function(){var e=this.boundEl.down(this.context.view.innerSelector);e&&(this.isForTree&&(e=e.child(this.treeNodeSelector)),e.show())},afterRender:function(){var e=this.field;this.callParent(arguments),e.isCheckbox&&e.mon(e.inputEl,{mousedown:this.onCheckBoxMouseDown,click:this.onCheckBoxClick,scope:this})},onCheckBoxMouseDown:function(){this.completeEdit=Ext.emptyFn},onCheckBoxClick:function(){delete this.completeEdit,this.field.focus(!1,10)},realign:function(e){var t=this.boundEl,i=t.down(this.context.view.innerSelector),n=i.dom.firstChild,r=t.getWidth(),o=Ext.Array.clone(this.offsets),s=this.grid,a="",l=!n||3===n.nodeType&&!Ext.String.trim(a=n.data).length;this.isForTree&&(n=this.getTreeNodeOffset(i),r-=Math.abs(n),o[0]+=n),s.columnLines&&(r-=t.getBorderWidth("rl")),!0===e&&this.field.setWidth(r),l&&(i.dom.innerHTML="X"),this.alignTo(t,this.alignment,o),l&&(i.dom.firstChild.data=a)},getTreeNodeOffset:function(e){return e.child(this.treeNodeSelector).getOffsetsTo(e)[0]}}),Ext.define("Ext.rtl.grid.CellEditor",{override:"Ext.grid.CellEditor",getTreeNodeOffset:function(e){var t=this.callParent(arguments);return this.editingPlugin.grid.isOppositeRootDirection()&&(t=-(e.getWidth()-t-e.child(this.treeNodeSelector).getWidth())),t}}),Ext.define("Ext.grid.ColumnComponentLayout",{extend:"Ext.layout.component.Auto",alias:"layout.columncomponent",type:"columncomponent",setWidthInDom:!0,_paddingReset:{paddingTop:"",paddingBottom:""},columnAutoCls:Ext.baseCSSPrefix+"column-header-text-container-auto",beginLayout:function(e){this.callParent(arguments),e.titleContext=e.getEl("titleEl")},beginLayoutCycle:function(e){var t=this.owner,i=e.widthModel.shrinkWrap;this.callParent(arguments),i&&t.el.setWidth(""),t.textContainerEl[i&&!t.isGroupHeader?"addCls":"removeCls"](this.columnAutoCls),t.titleEl.setStyle(this._paddingReset)},publishInnerHeight:function(e,t){var i=this.owner;i.getRootHeaderCt().hiddenHeaders?e.setProp("innerHeight",0):e.hasRawContent||(!i.headerWrap||e.hasDomProp("width")?(t=t-e.getBorderInfo().height,e.setProp("innerHeight",t-i.titleEl.getHeight(),!1)):this.done=!1)},measureContentHeight:function(e){return e.el.dom.offsetHeight},publishInnerWidth:function(e,t){e.hasRawContent||e.setProp("innerWidth",t-e.getBorderInfo().width,!1)},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments),n=this.owner;return e.hasRawContent?i:!n.headerWrap||e.hasDomProp("width")?t+n.titleEl.getHeight()+e.getBorderInfo().height:null},calculateOwnerWidthFromContentWidth:function(e,t){var i=this.owner,n=e.getPaddingInfo().width,r=this.getTriggerOffset(i,e),e=i.isGroupHeader?t:Math.max(t,i.textEl.getWidth()+e.titleContext.getPaddingInfo().width);return e+n+r},getTriggerOffset:function(e,t){var i=0;return t.widthModel.shrinkWrap&&!e.menuDisabled&&0===e.query(">:not([hidden])").length&&(i=e.getTriggerElWidth()),i}}),Ext.define("Ext.layout.container.Fit",{extend:"Ext.layout.container.Container",alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",type:"fit",manageMargins:!0,sizePolicies:[{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}],getItemSizePolicy:function(e,t){t=t||this.owner.getSizeModel(),t=(t.width.shrinkWrap?0:1)|(t.height.shrinkWrap?0:2);return this.sizePolicies[t]},beginLayoutCycle:function(e,t){var i,n,r,o,s,a,l,d,c=this.lastHeightModel&&this.lastHeightModel.calculated,u=this.lastWidthModel&&this.lastWidthModel.calculated,h=u||c,f=0,g=0;for(this.callParent(arguments),h&&"TD"!==e.targetContext.el.dom.tagName.toUpperCase()&&(h=u=c=!1),o=(n=e.childItems).length,r=0;r<o;++r)d=n[r],t&&(a=(i=d.target).minHeight,((l=i.minWidth)||a)&&(f<(a+=(s=d.marginInfo||d.getMarginInfo()).height)&&(f=a),g<(l+=s.height)&&(g=l))),h&&(d=d.el.dom.style,c&&(d.height=""),u&&(d.width=""));t&&(e.maxChildMinHeight=f,e.maxChildMinWidth=g),i=e.target,e.overflowX=!e.widthModel.shrinkWrap&&e.maxChildMinWidth&&i.scrollFlags.x||void 0,e.overflowY=!e.heightModel.shrinkWrap&&e.maxChildMinHeight&&i.scrollFlags.y||void 0},calculate:function(e){var t,i,n,r,o=e.childItems,s=o.length,a=this.getContainerSize(e),l={length:s,ownerContext:e,targetSize:a},d=e.widthModel.shrinkWrap,c=e.heightModel.shrinkWrap,u=e.overflowX,h=e.overflowY;if(e.state.info=l,(u||h)&&(t=this.getScrollbarsNeeded(u&&a.width,h&&a.height,e.maxChildMinWidth,e.maxChildMinHeight))&&(i=Ext.getScrollbarSize(),1&t&&(a.height-=i.height),2&t&&(a.width-=i.width)),0<s)for(n=0;n<s;++n)l.index=n,this.fitItem(o[n],l);else l.contentWidth=l.contentHeight=0;(c||d)&&(r=e.targetContext.getPaddingInfo(),d&&(h&&!a.gotHeight?this.done=!1:(h=l.contentWidth+r.width,2&t&&(h+=i.width),e.setContentWidth(h)||(this.done=!1))),c&&(u&&!a.gotWidth?this.done=!1:(r=l.contentHeight+r.height,1&t&&(r+=i.height),e.setContentHeight(r)||(this.done=!1))))},fitItem:function(e,t){e.invalid?this.done=!1:(t.margins=e.getMarginInfo(),t.needed=t.got=0,this.fitItemWidth(e,t),this.fitItemHeight(e,t),t.got!==t.needed&&(this.done=!1))},fitItemWidth:function(e,t){var i,n;if(t.ownerContext.widthModel.shrinkWrap)n=e.getProp("width")+t.margins.width,i=t.contentWidth,t.contentWidth=void 0===i?n:Math.max(i,n);else if(e.widthModel.calculated){if(++t.needed,!t.targetSize.gotWidth)return;++t.got,this.setItemWidth(e,t)}this.positionItemX(e,t)},fitItemHeight:function(e,t){var i,n;if(t.ownerContext.heightModel.shrinkWrap)n=e.getProp("height")+t.margins.height,i=t.contentHeight,t.contentHeight=void 0===i?n:Math.max(i,n);else if(e.heightModel.calculated){if(++t.needed,!t.targetSize.gotHeight)return;++t.got,this.setItemHeight(e,t)}this.positionItemY(e,t)},positionItemX:function(e,t){var i=t.margins;(t.index||i.left)&&e.setProp("x",i.left),i.width&&t.ownerContext.widthModel.shrinkWrap&&e.setProp("margin-right",i.width)},positionItemY:function(e,t){var i=t.margins;(t.index||i.top)&&e.setProp("y",i.top),i.height&&t.ownerContext.heightModel.shrinkWrap&&e.setProp("margin-bottom",i.height)},setItemHeight:function(e,t){e.setHeight(t.targetSize.height-t.margins.height)},setItemWidth:function(e,t){e.setWidth(t.targetSize.width-t.margins.width)}}),Ext.define("Ext.panel.Table",{extend:"Ext.panel.Panel",xtype:"tablepanel",requires:["Ext.layout.container.Fit"],uses:["Ext.selection.RowModel","Ext.selection.CellModel","Ext.selection.CheckboxModel","Ext.grid.plugin.BufferedRenderer","Ext.grid.header.Container","Ext.grid.locking.Lockable","Ext.grid.NavigationModel","Ext.grid.RowContext"],extraBaseCls:Ext.baseCSSPrefix+"grid",extraBodyCls:Ext.baseCSSPrefix+"grid-body",actionableModeCls:Ext.baseCSSPrefix+"grid-actionable",noHeaderBordersCls:Ext.baseCSSPrefix+"no-header-borders",defaultBindProperty:"store",layout:"fit",manageLayoutScroll:!1,ariaRole:"presentation",config:{selection:null,focused:null,headerBorders:!0,hideHeaders:null},publishes:["selection"],twoWayBindable:["selection"],autoLoad:!1,variableRowHeight:!1,numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,hasView:!1,viewType:null,deferRowRender:!1,sortableColumns:!0,multiColumnSort:!1,enableLocking:!1,scrollerOwner:!0,enableColumnMove:!0,sealedColumns:!1,enableColumnResize:!0,rowLines:!0,bufferedRenderer:!0,ownerGrid:null,colLinesCls:Ext.baseCSSPrefix+"grid-with-col-lines",rowLinesCls:Ext.baseCSSPrefix+"grid-with-row-lines",noRowLinesCls:Ext.baseCSSPrefix+"grid-no-row-lines",hiddenHeaderCtCls:Ext.baseCSSPrefix+"grid-header-ct-hidden",hiddenHeaderCls:Ext.baseCSSPrefix+"grid-header-hidden",resizeMarkerCls:Ext.baseCSSPrefix+"grid-resize-marker",emptyCls:Ext.baseCSSPrefix+"grid-empty",focusable:!0,constructor:function(e){var t=e&&e.ownerGrid;this.ownerGrid=t||this,this.actionables=t?t.actionables:[],this.callParent([e]),(e=this.store).trackStateChanges=!0,this.autoLoad&&(e.isEmptyStore||e.load())},registerActionable:function(e){Ext.Array.include(this.actionables,e)},initComponent:function(){this.verticalScroller&&Ext.raise("The verticalScroller config is not supported."),this.viewType||Ext.raise("You must specify a viewType config."),this.headers&&Ext.raise("The headers config is not supported. Please specify columns instead.");var e,t,i,n,r=this,o=r.columns||r.colModel||[],s=r.store=Ext.data.StoreManager.lookup(r.store||"ext-empty-store");if(r.enableLocking=r.enableLocking||r.hasLockedColumns(o),r.plugins&&(r.plugins=r.constructPlugins()),r.columnLines&&r.addBodyCls(r.colLinesCls),r.addBodyCls(r.rowLines?r.rowLinesCls:r.noRowLinesCls),r.addBodyCls(r.extraBodyCls),r.enableLocking?(r.self.mixin("lockable",Ext.grid.locking.Lockable),r.injectLockable(),n=r.headerCt):(o.isRootHeader?(r.headerCt=n=o,n.grid=r,n.forceFit=!!r.forceFit,(n.$initParent=r).columnManager=n.columnManager,r.visibleColumnManager=n.visibleColumnManager):(Ext.isArray(o)&&(o={items:o}),r.headerCt=n=new Ext.grid.header.Container(Ext.apply(o,{grid:r,$initParent:r,forceFit:r.forceFit,sortable:r.sortableColumns,enableColumnMove:r.enableColumnMove,enableColumnResize:r.enableColumnResize,columnLines:r.columnLines,sealed:r.sealedColumns}))),Ext.isDefined(r.enableColumnHide)&&(n.enableColumnHide=r.enableColumnHide)),r.columns=i=n.getGridColumns(),r.scrollTask=new Ext.util.DelayedTask(r.syncHorizontalScroll,r),r.cls=(r.cls||"")+(" "+r.extraBaseCls),delete r.autoScroll,(o=r.plugins&&Ext.Array.findBy(r.plugins,function(e){return e.isBufferedRenderer}))&&(r.bufferedRenderer=o),!r.hasView){if(s.isBufferedStore&&!s.getRemoteSort())for(e=0,t=i.length;e<t;e++)i[e].sortable=!1;r.relayHeaderCtEvents(n),r.features=r.features||[],Ext.isArray(r.features)||(r.features=[r.features]),r.dockedItems=[].concat(r.dockedItems||[]),r.dockedItems.unshift(n),r.viewConfig=r.viewConfig||{},o=r.getView(),r.items=[o],r.hasView=!0,r.bindStore(s,!0),r.mon(o,{viewready:r.onViewReady,refresh:r.onRestoreHorzScroll,scope:r}),r.syncHeaderVisibility()}r.selModel=r.view.getSelectionModel(),r.selModel.on({scope:r,lastselectedchanged:r.updateBindSelection,selectionchange:r.updateBindSelection}),r.relayEvents(r.view,["beforeitemlongpress","beforeitemmousedown","beforeitemmouseup","beforeitemmouseenter","beforeitemmouseleave","beforeitemclick","beforeitemdblclick","beforeitemcontextmenu","itemlongpress","itemmousedown","itemmouseup","itemmouseenter","itemmouseleave","itemclick","itemdblclick","itemcontextmenu","beforecellclick","cellclick","beforecelldblclick","celldblclick","beforecellcontextmenu","cellcontextmenu","beforecellmousedown","cellmousedown","beforecellmouseup","cellmouseup","beforecellkeydown","cellkeydown","rowclick","rowdblclick","rowcontextmenu","rowmousedown","rowmouseup","rowkeydown","beforeitemkeydown","itemkeydown","beforeitemkeyup","itemkeyup","beforeitemkeypress","itemkeypress","beforecontainermousedown","beforecontainermouseup","beforecontainermouseover","beforecontainermouseout","beforecontainerclick","beforecontainerdblclick","beforecontainercontextmenu","beforecontainerkeydown","beforecontainerkeyup","beforecontainerkeypress","containermouseup","containermousedown","containermouseover","containermouseout","containerclick","containerdblclick","containercontextmenu","containerkeydown","containerkeyup","containerkeypress","beforeselect","select","beforedeselect","deselect","beforerowexit"]),r.selModel.isSpreadsheetModel||r.relayEvents(r.view,["selectionchange"]),r.callParent(),r.enableLocking?r.afterInjectLockable():delete n.$initParent,r.addStateEvents(["columnresize","columnmove","columnhide","columnshow","sortchange","filterchange","groupchange"])},syncHeaderVisibility:function(){var e,t,i,n=this.headerCt,r=n.items.items,o=r.length,s=0===n.height,a=!!o;if(null!=this.hideHeaders)a=this.hideHeaders;else for(i=0;a&&i<o;i++)((t=(e=r[i]).text)&&""!==t||e.columns||e.isGroupHeader&&e.items.items.length)&&(a=!1);n.rendered&&a===s||(n.setHeight(a?0:null),n.hiddenHeaders=a,this.headerCt.toggleCls(this.hiddenHeaderCtCls,a),this.toggleCls(this.hiddenHeaderCls,a),a||(n.setScrollable({x:!1,y:!1}),(s=this.view.getScrollable())&&n.getScrollable().addPartner(s,"x")))},updateHideHeaders:function(e){this.isConfiguring||this.syncHeaderVisibility()},beforeRender:function(){var e=this,t=e.bufferedRenderer;e.lockable?e.getProtoBody().addCls(e.lockingBodyCls):(t&&e.getSizeModel().height.auto&&(t.isBufferedRenderer&&Ext.raise("Cannot use buffered rendering with auto height"),e.bufferedRenderer=t=!1),t&&!t.isBufferedRenderer&&(t={xclass:"Ext.grid.plugin.BufferedRenderer"},Ext.copy(t,e,"variableRowHeight,numFromEdge,trailingBufferZone,leadingBufferZone,scrollToLoadBuffer",!0),e.bufferedRenderer=e.addPlugin(t)),(t=e.ariaRenderAttributes||(e.ariaRenderAttributes={}))["aria-readonly"]=!e.isEditable,t["aria-multiselectable"]="SINGLE"!==e.selModel.selectionMode),e.callParent(arguments)},beforeLayout:function(){var e=this.mixins.lockable;e&&e.beforeLayout.call(this),this.callParent()},afterLayout:function(e){var t=this.mixins.lockable;t&&t.syncLockableLayout.call(this,e),this.callParent([e])},onHide:function(e,t,i){this.getView().onOwnerGridHide(),this.callParent([e,t,i])},onShow:function(){this.callParent(),this.getView().onOwnerGridShow()},getHeaderContainer:function(){return this.getView().getHeaderCt()},getColumns:function(){return this.getColumnManager().getColumns()},getVisibleColumns:function(){return this.getVisibleColumnManager().getColumns()},getScrollable:function(){return this.scrollable||this.view.getScrollable()},focus:function(){this.getView().focus()},disableColumnHeaders:function(){this.headerCt.disable()},enableColumnHeaders:function(){this.headerCt.enable()},hasLockedColumns:function(e){var t,i,n;for(e.isRootHeader?e=e.items.items:Ext.isObject(e)&&(e=e.items),t=0,i=e.length;t<i;t++)if(!(n=e[t]).processed&&n.locked)return!0},relayHeaderCtEvents:function(e){this.relayEvents(e,["columnresize","columnmove","columnhide","columnshow","columnschanged","sortchange","headerclick","headercontextmenu","headertriggerclick"])},getState:function(){var e=this.callParent(),t=this.store.getState(),e=this.addPropertyToState(e,"columns",this.headerCt.getColumnsState());return t&&(e.storeState=t),e},applyState:function(e){var t=e.sort,i=e.storeState,n=this.store,r=e.columns=this.buildColumnHash(e.columns);this.callParent(arguments),r&&this.headerCt.applyColumnsState(r,i),t?n.getRemoteSort()?n.sort({property:t.property,direction:t.direction,root:t.root},null,!1):n.sort(t.property,t.direction):i&&n.applyState(i)},buildColumnHash:function(e){var t,i,n,r=e.length;if(e){for(n={},i=0,r=e.length;i<r;i++)(t=e[i]).index=i,t.columns&&(t.columns=this.buildColumnHash(t.columns)),n[t.id]=t;return n}},getStore:function(){return this.store},onViewRefresh:function(e,t){this.onItemAdd(t,0)},onItemAdd:function(e,t,i,n){for(var r,o,s=e.length,a=this.freeRowContexts,l=this.liveRowContexts||(this.liveRowContexts={}),d=0;d<s;d++)l[(o=e[d]).internalId]||(r=(r=a&&a.shift())||new Ext.grid.RowContext({ownerGrid:this}),(this.liveRowContexts[o.internalId]=r).setRecord(o,t++))},onItemRemove:function(e,t,i,n){for(var r,o,s=this.freeRowContexts||(this.freeRowContexts=[]),a=this.liveRowContexts,l=i.length,d=0;d<l;d++)(o=a[r=i[d].getAttribute("data-recordId")])&&(o.free(),s.push(o),delete a[r])},createManagedWidget:function(e,t,i){return this.liveRowContexts[i.internalId].getWidget(e,t)},destroyManagedWidgets:function(e){var t,i,n,r=this.liveRowContexts,o=this.freeRowContexts,s=o&&o.length;for(i in r)(n=r[i].widgets)&&(Ext.destroy(n[e]),delete n[e]);for(t=0;t<s;t++)(n=o[t].widgets)&&(Ext.destroy(n[e]),delete n[e])},getManagedWidgets:function(e){var t,i=this.liveRowContexts,n=[];for(t in i)n.push(i[t].widgets[e]);return n},getView:function(){var e,t,i,n=this;return n.view||(e=(i=n.viewConfig).scroll||n.scroll,null==(t=n.scrollable)&&null==i.scrollable&&null!==e&&(!0===e||"both"===e?t=!0:!1===e||"none"===e?t=!1:"vertical"===e?t={x:!1,y:!0}:"horizontal"===e&&(t={x:!0,y:!1})),"scrollable"in(i=Ext.apply({grid:n,ownerGrid:n.ownerGrid,deferInitialRefresh:n.deferRowRender,variableRowHeight:n.variableRowHeight,preserveScrollOnRefresh:!0,trackOver:!1!==n.trackMouseOver,throttledUpdate:!0===n.throttledUpdate,xtype:n.viewType,store:n.store,headerCt:n.headerCt,columnLines:n.columnLines,rowLines:n.rowLines,navigationModel:"grid",features:n.features,panel:n,emptyText:n.emptyText||""},n.viewConfig))||"scroll"in i||"autoScroll"in i||null==t||(i.scrollable=t),Ext.create(i),n.view.emptyText&&(n.view.emptyText='<div class="'+n.emptyCls+'">'+n.view.emptyText+"</div>"),n.view.getComponentLayout().headerCt=n.headerCt,n.mon(n.view,{uievent:n.processEvent,scope:n}),n.headerCt.view=n.view,n.hasListeners.viewcreated&&n.fireEvent("viewcreated",n,n.view)),n.view},getEmptyText:function(){return this.view.emptyText},setEmptyText:function(e){return this.emptyText=e,this.view.setEmptyText('<div class="'+this.emptyCls+'">'+e+"</div>"),this},getColumnManager:function(){return this.columnManager},getVisibleColumnManager:function(){return this.visibleColumnManager},getTopLevelColumnManager:function(){return this.ownerGrid.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},setAutoScroll:Ext.emptyFn,applyScrollable:function(e){var t=this.view;return(t=t&&(t.normalView||t))&&t.setScrollable(e),e},processEvent:function(e,t,i,n,r,o,s,a){var l=o.position.column;if(l)return l.processEvent.apply(l,arguments)},ensureVisible:function(e,t){this.doEnsureVisible(e,t)},scrollByDeltaY:function(e,t){this.getView().scrollBy(null,e,t)},scrollByDeltaX:function(e,t){this.getView().scrollBy(e,null,t)},afterCollapse:function(){this.saveScrollPos(),this.callParent(arguments)},afterExpand:function(){this.callParent(arguments),this.restoreScrollPos()},saveScrollPos:Ext.emptyFn,restoreScrollPos:Ext.emptyFn,onHeaderResize:Ext.emptyFn,onHeaderMove:function(e,t,i,n,r){!1===this.optimizedColumnMove?this.view.refreshView():this.view.moveColumn(n,r,i),this.delayScroll()},onHeaderHide:function(e,t){var i=this.view;!e.childHideCount&&i.refreshCounter&&i.refreshView()},onHeaderShow:function(e,t){var i=this.view;i.refreshCounter&&i.refreshView()},onHeadersChanged:function(e,t){this.rendered&&!this.reconfiguring&&(this.view.refreshView(),this.delayScroll())},delayScroll:function(){var e=this.view;e&&this.scrollTask.delay(10,null,null,[e])},onViewReady:function(){this.fireEvent("viewready",this)},onRestoreHorzScroll:function(){this.scrollXPos&&this.syncHorizontalScroll(this,!0)},getScrollerOwner:function(){var e=this;return this.scrollerOwner||(e=this.up("[scrollerOwner]")),e},getLhsMarker:function(){return this.lhsMarker||(this.lhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getRhsMarker:function(){return this.rhsMarker||(this.rhsMarker=Ext.DomHelper.append(this.el,{role:"presentation",cls:this.resizeMarkerCls},!0))},getSelection:function(){return this.getSelectionModel().getSelection()},updateSelection:function(e){var t;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t=this.getSelectionModel(),e?t.select(e):t.deselectAll(),this.ignoreNextSelection=!1)},updateBindSelection:function(e,t){var i=null;this.ignoreNextSelection||(this.ignoreNextSelection=!0,t.length&&(i=e.getLastSelected(),this.hasHadSelection=!0),this.hasHadSelection&&this.setSelection(i),this.ignoreNextSelection=!1)},updateFocused:function(e){this.getNavigationModel().setPosition(e)},updateHeaderBorders:function(e){this[e?"removeCls":"addCls"](this.noHeaderBordersCls)},getNavigationModel:function(){return this.getView().getNavigationModel()},getSelectionModel:function(){return this.getView().getSelectionModel()},getScrollTarget:function(){var e=this.getScrollerOwner().query("tableview");return e[e.length-1]},syncHorizontalScroll:function(e,t){var i=this.view.getScrollX();t=!0===t,this.rendered&&(t||i!==this.scrollXPos)&&(t&&this.getScrollTarget().setScrollX(i),this.headerCt.setScrollX(i),this.scrollXPos=i)},onStoreLoad:Ext.emptyFn,getEditorParent:function(){return this.body},bindStore:function(e,t){var i=this,n=i.getView(),r=i.getStore();e?(i.store=e,n.store!==e&&n.bindStore(e,!1),i.mon(e,{load:i.onStoreLoad,scope:i}),i.storeRelayers=i.relayEvents(e,["filterchange","groupchange"]),!i.reconfiguring&&i.hasListeners.storechange&&e!==r&&i.fireEvent("storechange",i,e,r)):i.unbindStore()},unbindStore:function(){var e,t=this,i=t.store;i&&(i.trackStateChanges=!1,t.store=null,t.mun(i,{load:t.onStoreLoad,scope:t}),Ext.destroy(t.storeRelayers),(e=t.view).store&&e.bindStore(null),!t.reconfiguring&&t.hasListeners.storechange&&t.fireEvent("storechange",t,null,i))},setColumns:function(e){(e.length||this.getColumnManager().getColumns().length)&&this.reconfigure(void 0,e)},setStore:function(e){this.reconfigure(e,void 0,!0),this.isVisible(!0)?!e||!this.autoLoad||e.isEmptyStore||e.loading||e.isLoaded()||e.load():this.globalShowListener||(this.globalShowListener=Ext.GlobalEvents.on({show:this.onGlobalShow,scope:this,destroyable:!0}))},onGlobalShow:function(e){var t=this.store;(e===this||e.isAncestor(this)&&this.isVisible(!0))&&(!t||!this.autoLoad||t.isEmptyStore||t.loading||t.isLoaded()||t.load(),Ext.destroy(this.globalShowListener))},reconfigure:function(e,t,i){var n,r,o,s,a=this,l=a.store,d=a.headerCt,c=a.lockable,u=d?d.items.getRange():a.columns,h=a.getView();1===arguments.length&&Ext.isArray(e)&&(t=e,e=null),t=t&&Ext.Array.slice(t),a.reconfiguring=!0,e?r=(e=Ext.StoreManager.lookup(e))&&e!==l:i&&(r=(e=Ext.StoreManager.lookup("ext-empty-store"))!==l),a.fireEvent("beforereconfigure",a,e,t,l,u),Ext.suspendLayouts(),c?a.reconfigureLockable(e,t,i):(n=h.blockRefresh,h.blockRefresh=!0,s=h.saveFocusState(),r&&(a.unbindStore(),a.bindStore(e)),t&&(delete a.scrollXPos,d.removeAll(),d.add(t),o=!0),d.onOwnerGridReconfigure(r,o),o=h.refreshCounter),Ext.resumeLayouts(!0),a.reconfiguring=!1,c?a.afterReconfigureLockable():(h.blockRefresh=n,h.refreshCounter===o&&(h.refreshView(),s())),a.fireEvent("reconfigure",a,e,t,l,u),delete a.reconfiguring,r&&a.fireEvent("storechange",a,e,l)},doDestroy:function(){var e=this.scrollTask;this.lockable&&this.destroyLockable(),e&&e.cancel(),Ext.destroy(this.plugins,this.focusEnterLeaveListeners,this.freeRowContexts,Ext.Object.getValues(this.liveRowContexts)),this.callParent(),this.unbindStore()},privates:{initFocusableElement:function(){},doEnsureVisible:function(e,t){if(this.lockable)return this.ensureLockedVisible(e,t);"number"==typeof e||e.isEntity||(e=this.store.getById(e));var n,r,i,o,s,a,l,d,c,u=this,h=u.getView(),f=h.getNode(e);t&&(n=t.callback,r=t.scope,i=t.animate,o=t.highlight,s=t.select,a=t.focus,d=t.column),u.deferredEnsureVisible&&u.deferredEnsureVisible.destroy(),h.componentLayoutCounter?("number"==typeof d&&(d=u.ownerGrid.getVisibleColumnManager().getColumns()[d]),f?(l=h.getScrollable(),d&&(c=Ext.fly(f).selectNode(d.getCellSelector())),l&&l.scrollIntoView(c||f,!!d,i,o),e.isEntity||(e=h.getRecord(f)),s&&h.getSelectionModel().select(e),a&&h.getNavigationModel().setPosition(e,0),Ext.callback(n,r||u,[!0,e,f])):h.bufferedRenderer?h.bufferedRenderer.scrollTo(e,{animate:i,highlight:o,select:s,focus:a,column:d,callback:function(e,t,i){Ext.callback(n,r||u,[!0,t,i])}}):Ext.callback(n,r||u,[!1,null])):u.deferredEnsureVisible=h.on({resize:u.doEnsureVisible,args:Ext.Array.slice(arguments),scope:u,single:!0,destroyable:!0})},getFocusEl:function(){return this.getView().getFocusEl()},setActionableMode:function(e,t){var i=this.ownerGrid;if(!i.destroying&&!1!==i.view.setActionableMode(e,t))return i.fireEvent("actionablemodechange",e),i[e?"addCls":"removeCls"](i.actionableModeCls),!0},getOverflowStyle:function(){return this.scrollFlags=this._scrollFlags.false.false,{overflowX:"hidden",overflowY:"hidden"}},getOverflowEl:function(){return null}}}),Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",requires:["Ext.panel.Table"],firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",initLayout:function(){this.callParent(),void 0===this.scrollbarWidth&&(this.self.prototype.scrollbarWidth=Ext.getScrollbarSize().width)},beginLayout:function(e){var t,i,n=this.owner,r=this.firstHeaderCls,o=this.lastHeaderCls,s=[r,o],a=this.getVisibleItems(),l=a.length;for(this.callParent([e]),t=0;t<l;t++)i=a[t],1===l?i.addCls(s):0===t?(i.addCls(r),i.removeCls(o)):t===l-1?(i.removeCls(r),i.addCls(o)):i.removeCls(s);this.scrollbarWidth=0,n.isRootHeader&&!n.grid.isLocked&&this.determineScrollbarWidth(e),this.scrollbarWidth||(e.manageScrollbar=!1)},moveItemBefore:function(e,t){var i=e.ownerCt,n=t&&t.nextSibling();return e!==t&&i&&(i.remove(e,{destroy:!1,detach:!1}),t&&t.destroyed&&(t=n)),this.callParent([e,t])},determineScrollbarWidth:function(e){var t=this.owner.grid,i=t.reserveScrollbar,n=t.view.getScrollable(),n=!i&&n&&n.getY();e.manageScrollbar=n,t.ownerGrid.collapsed||!i&&!n||delete this.scrollbarWidth},calculate:function(e){var t,i,n,r,o,s=this.owner,a=s.grid,l=e.viewContext,d=e.state,c=e.context;if(this.callParent([e]),a&&s.isRootHeader&&d.parallelDone){if(s=l.lockingPartnerContext,a.forceFit&&!d.reflexed&&this.convertWidthsToFlexes(e))return this.cacheFlexes(e),this.done=!1,void e.invalidate({state:{reflexed:!0,scrollbarAdjustment:this.getScrollbarAdjustment(e)}});if(void 0===(t=d.columnsChanged)){for(t=!1,r=0,n=(i=e.target.getVisibleGridColumns()).length;r<n;r++)(o=c.getCmp(i[r])).lastBox&&o.props.width===o.lastBox.width||((t=t||[])[r]=o);d.columnsChanged=t,e.setProp("columnsChanged",t)}e.manageScrollbar&&this.getScrollbarAdjustment(e)&&(void 0!==(d=l.getProp("viewOverflowY"))?d||(s&&(s.invalidate(),s.headerContext.invalidate()),l.invalidate(),e.invalidate({state:{scrollbarAdjustment:0}})):this.done=!1)}},finishedLayout:function(e){this.callParent([e]),"rowgroup"===this.owner.ariaRole&&this.innerCt.dom.setAttribute("role","row"),e.props.columnsChanged=null},convertWidthsToFlexes:function(e){for(var t,i,n=0,r=this.sizeModels.calculated,o=e.childItems,s=o.length,a=0;a<s;a++)i=(t=o[a]).target,n+=t.props.width,i.fixed||!1===i.resizable||(i.flex=e.childItems[a].flex=t.props.width,i.width=null,t.widthModel=r);return n!==e.props.width},getScrollbarAdjustment:function(e){var t=e.state,i=this.owner.grid,n=t.scrollbarAdjustment;return void 0===n&&(n=0,(i.reserveScrollbar||e.manageScrollbar&&!i.ownerGrid.getSizeModel().height.shrinkWrap)&&(n=this.scrollbarWidth),t.scrollbarAdjustment=n),n},getContainerSize:function(e){var t,i,n,r,o,s,a;return this.owner.isRootHeader?((a=this.callParent([e])).gotWidth&&(a.width-=this.getScrollbarAdjustment(e)),a):(i=e.paddingContext.getPaddingInfo(),a=t=0,e.widthModel.shrinkWrap||(++t,(n="number"==typeof(o=e.getProp("innerWidth")))&&(++a,(o-=i.width)<0&&(o=0))),e.heightModel.shrinkWrap||(++t,(r="number"==typeof(s=e.getProp("innerHeight")))&&(++a,(s-=i.height)<0&&(s=0))),{width:o,height:s,needed:t,got:a,gotAll:a===t,gotWidth:n,gotHeight:r})},publishInnerCtSize:function(e){var t=this.owner,i=0;return null!=e.peek("contentWidth")&&t.isRootHeader&&(i=-e.state.scrollbarAdjustment),this.callParent([e,i])}}),Ext.define("Ext.rtl.grid.ColumnLayout",{override:"Ext.grid.ColumnLayout",determineScrollbarWidth:function(e){var t=this.owner.grid.view;this.callParent([e]),t.getInherited().rtl&&(t.bufferedRenderer&&Ext.supports.xOriginBug?this.scrollbarWidth=-Math.abs(this.scrollbarWidth):(Ext.supports.rtlVertScrollbarOverflowBug||Ext.supports.rtlVertScrollbarOnRight)&&(this.scrollbarWidth=0))},calculateParallel:function(e,t,i){var n=this.owner;return n.isRootHeader&&(Ext.supports.rtlVertScrollbarOnRight&&n.ownerCt.view.getInherited().rtl||n.grid.view.bufferedRenderer&&Ext.supports.xOriginBug)&&(this.padding.right=this.scrollbarWidth),this.callParent(arguments)}}),Ext.define("Ext.grid.ColumnManager",{alternateClassName:["Ext.grid.ColumnModel"],columns:null,constructor:function(e,t,i){t.isRootHeader||t.isGroupHeader||Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.headerCt=t,i&&(t.isRootHeader||t.isGroupHeader||Ext.raise("ColumnManager must be passed an instantiated HeaderContainer or group header"),this.secondHeaderCt=i),this.visibleOnly=!!e},getColumns:function(){return this.columns||this.cacheColumns(),this.columns},hasVariableRowHeight:function(){var e,t=this.getColumns(),i=t.length;if(null==this.variableRowHeight)for(this.variableRowHeight=!1,e=0;!this.variableRowHeight&&e<i;e++)this.variableRowHeight=!!t[e].variableRowHeight;return this.variableRowHeight},getHeaderIndex:function(e){return e.isGroupHeader&&(e=this.getHeaderColumns(e)[0]),Ext.Array.indexOf(this.getColumns(),e)},getHeaderAtIndex:function(e){return this.getColumns()[e]||null},getPreviousSibling:function(e){var t=this.getHeaderIndex(e),e=null;return 0<t&&(e=this.getColumns()[t-1]),e},getNextSibling:function(e){var t,e=this.getHeaderIndex(e);return-1!==e&&(t=this.getColumns()[e+1]),t||null},getFirst:function(){var e=this.getColumns();return 0<e.length?e[0]:null},getLast:function(){var e=this.getColumns(),t=e.length;return 0<t?e[t-1]:null},getHeaderByDataIndex:function(e){var t,i,n=this.getColumns(),r=n.length;if(Ext.isEmpty(e))return null;for(t=0;t<r;++t)if((i=n[t]).dataIndex===e)return i;return null},getHeaderById:function(e){for(var t,i=this.getColumns(),n=i.length,r=0;r<n;++r)if((t=i[r]).getItemId()===e)return t;return null},getVisibleHeaderClosestToIndex:function(e){e=this.getHeaderAtIndex(e);return e&&e.hidden&&(e=e.next(":not([hidden])")||e.prev(":not([hidden])")),e},cacheColumns:function(){var e=this.getHeaderColumns(this.headerCt),t=this.secondHeaderCt;t&&(e=e.concat(this.getHeaderColumns(t))),this.columns=e},getHeaderColumns:function(e){e=this.visibleOnly?e.getVisibleGridColumns():e.getGridColumns();return Ext.Array.clone(e)},invalidate:function(){var e=this.rootColumns;this.columns=this.variableRowHeight=null,e&&e.invalidate()},destroy:function(){this.columns=this.rootColumns=null,this.callParent()}},function(){this.createAlias("indexOf","getHeaderIndex")}),Ext.define("Ext.grid.NavigationModel",{extend:"Ext.view.NavigationModel",alias:"view.navigation.grid",focusCls:Ext.baseCSSPrefix+"grid-item-focused",getViewListeners:function(){return{focusmove:{element:"el",fn:this.onFocusMove},containermousedown:this.onContainerMouseDown,cellmousedown:this.onCellMouseDown,cellclick:this.onCellClick,itemmousedown:this.onItemMouseDown,itemclick:this.onItemClick,itemcontextmenu:this.onItemClick,scope:this}},initKeyNav:function(e){var t=this;t.keyNav||(t.keyNav=[],t.position=new Ext.grid.CellContext(e)),e=new Ext.util.KeyNav({target:e,ignoreInputFields:!0,eventName:Ext.supports.SpecialKeyDownRepeat?"itemkeydown":"itemkeypress",defaultEventAction:"stopEvent",processEvent:t.processViewEvent,up:t.onKeyUp,down:t.onKeyDown,right:t.onKeyRight,left:t.onKeyLeft,pageDown:t.onKeyPageDown,pageUp:t.onKeyPageUp,home:t.onKeyHome,end:t.onKeyEnd,space:t.onKeySpace,enter:t.onKeyEnter,esc:t.onKeyEsc,113:t.onKeyF2,tab:t.onKeyTab,A:{ctrl:!0,handler:t.onSelectAllKeyPress},scope:t}),t.keyNav.push(e),t.onKeyNavCreate(e)},onKeyNavCreate:Ext.emptyFn,addKeyBindings:function(e){for(var t=this.keyNav.length,i=0;i<t;i++)this.keyNav[i].addBindings(e)},enable:function(){for(var e=this.keyNav.length,t=0;t<e;t++)this.keyNav[t].enable();this.disabled=!1},disable:function(){for(var e=this.keyNav.length,t=0;t<e;t++)this.keyNav[t].disable();this.disabled=!0},processViewEvent:function(e,t,i,n,r){var o=r.getKey();return e.actionableMode?(this.map.ignoreInputFields=!1,o===r.TAB||o===r.ESC||o===r.F2?r:void 0):(this.map.ignoreInputFields=!0,o===r.TAB?null:r)},onCellMouseDown:function(e,t,i,n,r,o,s){var a=Ext.Component.fromElement(s.target,t),l=s.getTarget(null,null,!0),d=l.isFocusable()&&!l.is(e.getCellSelector());e.actionableMode?(d=d||(l=Ext.ComponentManager.getActiveComponent())&&l!==e&&l.owns(s))?e.setActionableMode(!0,s.position):e.setActionableMode(!1,s.position):"touch"!==s.pointerType&&(!1!==s.position.column.cellFocusable?(d?(e.containsFocus||(e.containsFocus=!0,e.toggleChildrenTabbability(!1)),e.setActionableMode(!0,s.position)):t.focus(),2===s.button&&this.fireNavigateEvent(s)):s.preventDefault(!0),a&&a.isFocusable&&a.isFocusable()&&(e.setActionableMode(!0,s.position),a.focus()))},onCellClick:function(e,t,i,n,r,o,s){var a=this,t=Ext.Component.fromElement(s.target,t),t=t&&t.isFocusable&&t.isFocusable();(Ext.isIE10m||e.el.contains(Ext.Element.getActiveElement())||"touch"===s.pointerType)&&(e.actionableMode?(s.position.isEqual(e.actionPosition)||t||e.setActionableMode(!1,s.position),a.fireEvent("navigate",{view:e,navigationModel:a,keyEvent:s,previousPosition:a.previousPosition,previousRecordIndex:a.previousRecordIndex,previousRecord:a.previousRecord,previousItem:a.previousItem,previousCell:a.previousCell,previousColumnIndex:a.previousColumnIndex,previousColumn:a.previousColumn,position:s.position,recordIndex:s.position.rowIdx,record:s.position.record,selectionStart:a.selectionStart,item:s.item,cell:s.position.cellElement,columnIndex:s.position.colIdx,column:s.position.column})):a.position.isEqual(s.position)||t?Ext.isIE10m&&!a.record||a.fireNavigateEvent(s):!1!==s.position.column.cellFocusable?a.setPosition(s.position,null,s):s.preventDefault())},onFocusMove:function(e){var t,i=Ext.Component.fromElement(e.delegatedTarget,null,"tableview"),n=e.target,r=Ext.fly(n).is(i.cellSelector);i&&(!i.actionableMode&&r?(t=i.getRecord(n),n=i.getHeaderByCell(n),t&&n&&((n=new Ext.grid.CellContext(i).setPosition(t,n)).isEqual(this.position)||this.setPosition(n))):(i.actionableMode||i.activating)&&!r&&i.el.contains(e.target)&&i.el.dom!==e.target&&i.ownerGrid.fireEvent("cellactivate",i.ownerGrid,i.actionPosition))},onItemMouseDown:function(e,t,i,n,r){r.position.cellElement||"touch"===r.pointerType||(r.preventDefault(),this.getClosestCell(r),this.position.isEqual(r.position)||this.setPosition(r.position,null,r),e.getScrollable().restoreState())},onItemClick:function(e,t,i,n,r){r.position.cellElement||(this.getClosestCell(r),"touch"===r.pointerType&&this.setPosition(r.position,null,r),this.fireNavigateEvent(r))},getClosestCell:function(e){var t,i,n,r,o,s=e.position;if(!s.cellElement)for(t=e.getX(),n=(i=s.view.getVisibleColumnManager().getColumns()).length,r=0;r<n;r++)if(i[r],t>=(o=i[r].getBox()).left&&t<o.right)return s.setColumn(i[r]),s.rowElement=s.getRow(!0),void(s.cellElement=s.getCell(!0))},deferSetPosition:function(e,t,i,n,r,o){var s=this.view.getFocusTask();return s.delay(e,this.setPosition,this,[t,i,n,r,o]),s},setPosition:function(e,t,i,n,r){var o,s,a,l,d,c,u,h,f,g=this,p=null==e&&null==t,m=null==g.record&&null==g.recordIndex&&null==g.item,x=(e&&e.isCellContext?e:i&&i.view?i:g.lastFocused||g).view;if(x.getFocusTask().cancel(),!(x.destroyed||!x.refreshCounter||!x.ownerCt||p&&m)&&x.all.getCount()){if(s=x.getSelectionModel(),a=x.dataSource,f=(l=x.getVisibleColumnManager()).getColumns(),e&&e.isCellContext)u=e.record,d=e.rowIdx,h=f[c=Math.min(e.colIdx,f.length-1)],-1===a.indexOf(u)&&(o=x.getScrollable(),g.recordIndex=-1,o&&o.getPosition().y>=o.getMaxPosition().y-x.all.last(!0).offsetHeight&&e.rowIdx--,d=Math.min(e.rowIdx,a.getCount()-1),u=a.getAt(d));else{if(p)u=d=null;else if(null==t&&(t=g.lastFocused?g.lastFocused.column:0),"number"==typeof e)d=Math.max(Math.min(e,a.getCount()-1),0),u=a.getAt(e);else if(e.isEntity)u=e,d=a.indexOf(u);else if(e.tagName)u=x.getRecord(e),-1===(d=a.indexOf(u))&&(u=null);else{if(m)return;p=!0,u=d=null}u?(-1===d&&(g.recordIndex=-1,u=a.getAt(0),d=0,t=null),null==t?(h=g.column)||(h=f[c=0]):c="number"==typeof t?(h=f[t],t):(h=t,l.indexOf(t))):(p=!0,h=c=null)}return(h&&-1===l.indexOf(h)&&(h=f[c=-1===c?0:Math.min(c,f.length-1)]),x.actionableMode&&!p)?x.ownerGrid.setActionableMode(!1,new Ext.grid.CellContext(x).setPosition(u,h)):d===g.recordIndex&&c===g.columnIndex&&x===g.position.view?g.focusPosition(g.position):(g.cell&&g.cell.removeCls(g.focusCls),g.previousRecordIndex=g.recordIndex,g.previousRecord=g.record,g.previousItem=g.item,g.previousCell=g.cell,g.previousColumn=g.column,g.previousColumnIndex=g.columnIndex,g.previousPosition=g.position.clone(),g.selectionStart=s.selectionStart,g.position.setAll(x,g.recordIndex=d,g.columnIndex=c,g.record=u,g.column=h),p?g.item=g.cell=null:g.focusPosition(g.position,r),n||(s.fireEvent("focuschange",s,g.previousRecord,g.record),x.fireEvent("rowfocus",g.record,g.item,g.recordIndex),x.fireEvent("cellfocus",g.record,g.cell,g.position)),void(i&&!r&&g.cell!==g.previousCell&&g.fireNavigateEvent(i)))}},focusPosition:function(e){var t,i,n,r=this;r.item=r.cell=null,e&&e.record&&e.column&&(t=e.view,(i=e.rowElement?r.item=e.rowElement:t.getRowByRecord(e.record))?(r.cell=e.cellElement||Ext.fly(i).down(e.column.getCellSelector(),!0),r.cell?(r.cell=new Ext.dom.Fly(r.cell),t.lastFocused=r.lastFocused=r.position.clone(),(n=t.getScrollable())&&n.scrollIntoView(r.cell),r.focusItem(r.cell),t.focusEl=r.cell):(r.position.setAll(),r.record=r.column=r.recordIndex=r.columnIndex=null)):(i=t.dataSource.indexOf(e.record),r.position.setAll(),r.record=r.column=r.recordIndex=r.columnIndex=null,-1!==i&&t.bufferedRenderer&&(r.lastKeyEvent=null,t.bufferedRenderer.scrollTo(i,!1,r.afterBufferedScrollTo,r))))},focusItem:function(e){e.addCls(this.focusCls),e.focus()},getCell:function(){return this.cell},getPosition:function(e){var t,i,n=this.position;if(n.record&&n.column){if(e)return n;if(-1===(e=(i=(t=n.view).dataSource).indexOf(n.record))&&(e=n.rowIdx,(n.record=i.getAt(e))||(e=-1)),-1!==e&&-1!==t.getVisibleColumnManager().indexOf(n.column))return n;n.setAll(),this.record=this.column=this.recordIndex=this.columnIndex=null}return null},getLastFocused:function(){var e,t=this.lastFocused;if(t&&t.record&&t.column&&-1!==(e=t.view).dataSource.indexOf(t.record)&&-1!==e.getVisibleColumnManager().indexOf(t.column))return t},onKeyTab:function(e){var t=!e.shiftKey,i=e.position.view,n=i.findFocusPosition(e.target,e.position,t,e),r=n.target,n=n.position;r?(this.actionPosition=n.view.actionPosition=n,Ext.fly(r).focus()):i.onRowExit(e,e.item,e.item[t?"nextSibling":"previousSibling"],t),e.preventDefault()},onKeyUp:function(e){var t=e.view.walkRecs(e.record,-1),i=this.getPosition();t&&(i.setRow(t),i.getCell(!0)||i.navigate(-1),this.setPosition(i,null,e))},onKeyDown:function(e){var t=e.record.isExpandingOrCollapsing?null:e.view.walkRecs(e.record,1),i=this.getPosition();t&&(i.setRow(t),i.getCell(!0)||i.navigate(-1),this.setPosition(i,null,e))},onKeyRight:function(e){var t=this.move("right",e);t&&this.setPosition(t,null,e)},onKeyLeft:function(e){var t=this.move("left",e);t&&this.setPosition(t,null,e)},onKeyEnter:function(e){var t=["cellclick",e.view,e.position.cellElement,e.position.colIdx,e.record,e.position.rowElement,e.recordIndex,e],i=e.position.getCell();i&&(i.query('[tabIndex="-1"]').length||(e.stopEvent(),e.view.fireEvent.apply(e.view,t),t[0]="celldblclick",e.view.fireEvent.apply(e.view,t)),this.view.actionableMode||this.view.ownerGrid.setActionableMode(!0,this.getPosition()))},onKeyF2:function(e){var t=this.view.ownerGrid,i=t.actionableMode;t.setActionableMode(!i,i?null:this.getPosition())},onKeyEsc:function(e){var t=this.view.ownerGrid;if(!t.actionableMode)return!0;t.setActionableMode(!1)},move:function(e,t){var i=this.getPosition(),n=i;if(i&&i.record)for(;n;)if((n=i.view.walkCells(n,e,!t.shiftKey||"right"!==e&&"left"!==e?null:this.vetoRowChange,this))&&!1!==n.column.cellFocusable)return n;return null},vetoRowChange:function(e){return this.getPosition().record===e.record},onKeyPageDown:function(e){var t,i=e.view,n=this.getRowsVisible();n&&(i.bufferedRenderer?(t=Math.min(e.recordIndex+n,i.dataSource.getCount()-1),this.lastKeyEvent=e,i.bufferedRenderer.scrollTo(t,!1,this.afterBufferedScrollTo,this)):(n=i.walkRecs(e.record,n),this.setPosition(n,null,e)))},onKeyPageUp:function(e){var t,i=e.view,n=this.getRowsVisible();n&&(i.bufferedRenderer?(t=Math.max(e.recordIndex-n,0),this.lastKeyEvent=e,i.bufferedRenderer.scrollTo(t,!1,this.afterBufferedScrollTo,this)):(n=i.walkRecs(e.record,-n),this.setPosition(n,null,e)))},onKeyHome:function(e){var t=e.view;e.altKey?t.bufferedRenderer?(this.lastKeyEvent=e,t.bufferedRenderer.scrollTo(0,!1,this.afterBufferedScrollTo,this)):this.setPosition(t.walkRecs(e.record,-t.dataSource.indexOf(e.record)),null,e):this.setPosition(e.record,0,e)},afterBufferedScrollTo:function(e,t){this.setPosition(t,null,this.lastKeyEvent,null,!this.lastKeyEvent)},onKeyEnd:function(e){var t=e.view;e.altKey?t.bufferedRenderer?(this.lastKeyEvent=e,t.bufferedRenderer.scrollTo(t.store.getCount()-1,!1,this.afterBufferedScrollTo,this)):this.setPosition(t.walkRecs(e.record,t.dataSource.getCount()-1-t.dataSource.indexOf(e.record)),null,e):this.setPosition(e.record,e.view.getVisibleColumnManager().getColumns().length-1,e)},getRowsVisible:function(){var e=!1,t=this.view,i=t.all.first();return i&&(i=i.getHeight(),t=t.el.getHeight(),e=Math.floor(t/i)),e},fireNavigateEvent:function(e){var t=this;t.fireEvent("navigate",{view:t.position.view,navigationModel:t,keyEvent:e||new Ext.event.Event({}),previousPosition:t.previousPosition,previousRecordIndex:t.previousRecordIndex,previousRecord:t.previousRecord,previousItem:t.previousItem,previousCell:t.previousCell,previousColumnIndex:t.previousColumnIndex,previousColumn:t.previousColumn,position:t.position,recordIndex:t.recordIndex,record:t.record,selectionStart:t.selectionStart,item:t.item,cell:t.cell,columnIndex:t.columnIndex,column:t.column})}}),Ext.define("Ext.rtl.grid.NavigationModel",{override:"Ext.grid.NavigationModel",initKeyNav:function(e){var t=this.self.prototype;e.getInherited().rtl&&(this.onKeyLeft=t.onKeyRight,this.onKeyRight=t.onKeyLeft),this.callParent([e])}}),Ext.define("Ext.view.TableLayout",{extend:"Ext.layout.component.Auto",alias:"layout.tableview",type:"tableview",beginLayout:function(e){var t=this.owner,i=t.ownerGrid,n=t.lockingPartner,r=e.lockingPartnerContext,o=n&&n.grid.isVisible()&&!n.grid.collapsed,t=e.context;e.doSyncRowHeights=o&&(i.syncRowHeight||i.syncRowHeightOnNextLayout),this.columnFlusherId||(this.columnFlusherId=this.id+"-columns",this.rowHeightFlusherId=this.id+"-rows"),this.callParent([e]),o&&(!r&&n.componentLayout.isRunning()&&((r=e.lockingPartnerContext=t.getCmp(n)).lockingPartnerContext=e,r.lockingPartnerContext||(r.lockingPartnerContext=e)),e.doSyncRowHeights&&(r&&!r.rowHeightSynchronizer&&(r.rowHeightSynchronizer=r.target.syncRowHeightBegin()),e.rowHeightSynchronizer=this.owner.syncRowHeightBegin())),(e.headerContext=t.getCmp(this.headerCt)).viewContext=e},beginLayoutCycle:function(e,t){this.callParent([e,t]),e.syncRowHeights&&(e.target.syncRowHeightClear(e.rowHeightSynchronizer),e.syncRowHeights=!1)},calculate:function(e){var t,i,n=this,r=e.context,o=e.lockingPartnerContext,s=e.headerContext,a=e.ownerCtContext,l=n.owner,d=s.getProp("columnsChanged"),c=e.state,s=l.body.dom;if(!(l.all.getCount()||s&&l.body.child("table")))return e.setProp("viewOverflowY",!1),void n.callParent([e]);if(1===n.calcCount&&n.owner.bufferedRenderer&&n.owner.bufferedRenderer.beforeTableLayout(e),void 0!==d)if(!d||((t=c.columnFlusher)||r.queueFlush(c.columnFlusher=t={ownerContext:e,columnsChanged:d,layout:n,id:n.columnFlusherId,flush:n.flushColumnWidths},!0),t.flushed)){if(e.doSyncRowHeights){if(!(i=c.rowHeightFlusher)){if((t=c.rowHeights)||(c.rowHeights=t=e.rowHeightSynchronizer,n.owner.syncRowHeightMeasure(t),e.setProp("rowHeights",t)),!(o=o.getProp("rowHeights")))return void(n.done=!1);r.queueFlush(c.rowHeightFlusher=i={ownerContext:e,synchronizer:t,otherSynchronizer:o,layout:n,id:n.rowHeightFlusherId,flush:n.flushRowHeights},!0)}if(!i.flushed)return void(n.done=!1)}if(n.callParent([e]),!e.heightModel.shrinkWrap){if(i=!1,!a.heightModel.shrinkWrap){if(!(a=a.target.layout.getContainerSize(a)).gotHeight)return void(n.done=!1);i=s.offsetHeight>a.height}e.setProp("viewOverflowY",i)}n.done&&Ext.getScrollbarSize().height&&(l.lockingPartner||e.setProp("overflowX",!!e.headerContext.state.boxPlan.tooNarrow))}else n.done=!1;else n.done=!1},measureContentHeight:function(e){var t=this.owner,i=t.body.dom,n=t.emptyEl,t=0;return n&&(t+=n.offsetHeight),i&&(t+=i.offsetHeight),e.headerContext.state.boxPlan.tooNarrow&&(t+=Ext.getScrollbarSize().height),t},flushColumnWidths:function(){var e,t,i,n=this.layout,r=this.ownerContext,o=this.columnsChanged,s=r.target,a=o.length;if(r.state.columnFlusher===this){for(e=0;e<a;e++)(i=o[e])&&(t=i.props.width,s.body.select(s.getColumnSizerSelector(i.target)).setWidth(t),i.target.onCellsResized&&i.target.onCellsResized(t),(i=i.lastBox)&&(i.width=t));this.flushed=!0,n.pending||r.context.queueLayout(n)}},flushRowHeights:function(){var e=this.layout,t=this.ownerContext;t.state.rowHeightFlusher===this&&(t.target.syncRowHeightFinish(this.synchronizer,this.otherSynchronizer),this.flushed=!0,t.syncRowHeights=!0,e.pending||t.context.queueLayout(e))},finishedLayout:function(e){var t=this.owner.ownerGrid,i=Ext.fly(this.owner.getNodeContainer());this.callParent([e]),i&&i.setWidth(e.headerContext.props.contentWidth),this.owner.bufferedRenderer&&this.owner.bufferedRenderer.afterTableLayout(e),t&&(t.syncRowHeightOnNextLayout=!1)},getLayoutItems:function(){return this.owner.getRefItems()},isValidParent:function(){return!0}}),Ext.define("Ext.grid.locking.RowSynchronizer",{constructor:function(e,t){var i;for(this.view=e,this.rowEl=t,this.els={},this.add("data",e.rowSelector),i=e.rowTpl;i;i=i.nextTpl)i.beginRowSync&&i.beginRowSync(this)},add:function(e,t){t=Ext.fly(this.rowEl).down(t,!0);t&&(this.els[e]={el:t})},finish:function(e){var t,i,n,r=this.els,o=e.els,s=0,a=0;for(i in r)0<(t=(n=(t=o[i])?t.height:0)-r[i].height)?(s+=t,Ext.fly(r[i].el).setHeight(n)):a-=t;n=e.rowHeight+a,Ext.isIE9&&this.view.ownerGrid.rowLines&&n--,this.rowHeight+s<n&&Ext.fly(this.rowEl).setHeight(n)},measure:function(){var e,t=this.els;for(e in this.rowHeight=this.rowEl.offsetHeight,t)t[e].height=t[e].el.offsetHeight},reset:function(){var e,t=this.els;for(e in this.rowEl.style.height="",t)t[e].el.style.height=""}}),Ext.define("Ext.view.NodeCache",{requires:["Ext.dom.CompositeElementLite"],statics:{range:document.createRange&&document.createRange()},constructor:function(e){this.view=e,this.clear(),this.el=new Ext.dom.Fly},destroy:function(){this.destroyed||(this.el.destroy(),this.el=this.view=null,this.destroyed=!0),this.callParent()},clear:function(e){var t,i=this.elements,n=this.statics().range;if(this.count&&e)if(n&&Ext.getBody().contains(i[0]))n.setStartBefore(i[this.startIndex]),n.setEndAfter(i[this.endIndex]),n.deleteContents();else for(t in i)Ext.removeNode(i[t]);this.elements={},this.count=this.startIndex=0,this.endIndex=-1},fill:function(e,t,i){i=i||0;var n,r=this.elements={},o=e.length-i;for(t=t||0,n=0;n<o;n++)r[t+n]=e[n+i];return this.startIndex=t,this.endIndex=t+o-1,this.count=o,this},insert:function(e,t){var i,n=this,r=n.elements,o=t.length;if(n.count){if((e>n.endIndex+1||e+t.length<n.startIndex)&&Ext.raise("Discontiguous range would result from inserting "+t.length+" nodes at "+e),e<n.count)for(i=n.endIndex+o;e+o<=i;i--)r[i]=r[i-o],r[i].setAttribute("data-recordIndex",i);n.endIndex=n.endIndex+o}else n.startIndex=e,n.endIndex=e+o-1;for(i=0;i<o;i++,e++)r[e]=t[i],r[e].setAttribute("data-recordIndex",e);n.count+=o},invoke:function(e,t){var i,n;for(e=Ext.dom.Element.prototype[e],n=this.startIndex;n<=this.endIndex;n++)(i=this.item(n))&&e.apply(i,t);return this},item:function(e,t){var i=null;return this.elements[e]&&(i=t?this.elements[e]:this.el.attach(this.elements[e])),i},first:function(e){return this.item(this.startIndex,e)},last:function(e){return this.item(this.endIndex,e)},moveBlock:function(e){var t,i,n,r=this.elements;if(e){for(i=e<0?(n=this.startIndex-1,t=this.endIndex,1):(n=this.endIndex+1,t=this.startIndex,-1),this.startIndex+=e,this.endIndex+=e;(r[(n+=i)+e]=r[n]).setAttribute("data-recordIndex",n+e),(n<this.startIndex||n>this.endIndex)&&delete r[n],n!==t;);delete r[n]}},getCount:function(){return this.count},slice:function(e,t){var i,n=this.elements,r=[];for(t=t?Math.min(this.endIndex,t-1):this.endIndex,i=e||this.startIndex;i<=t;i++)r.push(n[i]);return r},replaceElement:function(e,t,i){var n=this.elements,r="number"==typeof e?e:this.indexOf(e);return-1<r&&(t=Ext.getDom(t),i&&((e=n[r]).parentNode.insertBefore(t,e),Ext.removeNode(e),t.setAttribute("data-recordIndex",r)),this.elements[r]=t),this},indexOf:function(e){var t,i=this.elements;for(e=Ext.getDom(e),t=this.startIndex;t<=this.endIndex;t++)if(i[t]===e)return t;return-1},clip:function(e,t){var i,n,r,o,s=this.elements,a=[];for(1===e?(i=this.startIndex,this.startIndex+=t):(this.endIndex-=t,i=this.endIndex+1),n=(o=i)+t-1;o<=n;o++)r=s[o],a.push(r),Ext.removeNode(r),delete s[o];this.count-=t,this.view.fireItemMutationEvent("itemremove",this.view.dataSource.getRange(i,n),i,a,this.view)},removeRange:function(e,t,i){var n,r,o,s,a=this.elements,l=[];for(t=null==t?this.endIndex+1:Math.min(this.endIndex+1,t+1),null==e&&(e=this.startIndex),o=t-e,r=e,s=t;r<=this.endIndex;r++,s++)n=a[r],r<t&&(l.push(n),i&&Ext.removeNode(n)),s<=this.endIndex?(n=a[r]=a[s]).setAttribute("data-recordIndex",r):delete a[r];return this.count-=o,this.endIndex-=o,l},removeElement:function(e,t){var i,n,r,o,s,a=this,l=a.elements,d=0;if(Ext.isArray(e)){for(i=e,e=[],r=i.length,d=0;d<r;d++)"number"!=typeof(n=i[d])&&(n=a.indexOf(n)),n>=a.startIndex&&n<=a.endIndex&&(e[e.length]=n);Ext.Array.sort(e),r=e.length}else{if(e<a.startIndex||e>a.endIndex)return;r=1,e=[e]}for(o=s=e[0],d=0;o<=a.endIndex;o++,s++)d<r&&o===e[d]&&(s++,d++,t&&Ext.removeNode(l[o])),s<=a.endIndex&&s>=a.startIndex?(l[o]=l[s]).setAttribute("data-recordIndex",o):delete l[o];a.endIndex-=r,a.count-=r},scroll:function(e,t,i){var n,r,o,s,a,l,d,c=this,u=c.view,h=u.lookupViewModel(),f=u.store,g=c.elements,p=e.length,m=u.getNodeContainer(),x=c.statics().range;if(e.length||i){if(-1===t){if(i){if(l=[],d=[],t=c.endIndex-i+1,x)for(x.setStartBefore(g[t]),x.setEndAfter(g[c.endIndex]),x.deleteContents(),n=t;n<=c.endIndex;n++)r=g[n],delete g[n],l.push(f.getByInternalId(r.getAttribute("data-recordId"))),d.push(r);else for(n=t;n<=c.endIndex;n++)r=g[n],delete g[n],Ext.removeNode(r),l.push(f.getByInternalId(r.getAttribute("data-recordId"))),d.push(r);u.fireItemMutationEvent("itemremove",l,t,d,u),c.endIndex-=i}if(e.length){for(s=(a=u.bufferRender(e,c.startIndex-=p)).children,n=0;n<p;n++)g[c.startIndex+n]=s[n];m.insertBefore(a.fragment,m.firstChild),u.fireItemMutationEvent("itemadd",e,c.startIndex,s,u)}}else{if(i){if(l=[],d=[],o=c.startIndex+i,x)for(x.setStartBefore(g[c.startIndex]),x.setEndAfter(g[o-1]),x.deleteContents(),n=c.startIndex;n<o;n++)r=g[n],delete g[n],l.push(f.getByInternalId(r.getAttribute("data-recordId"))),d.push(r);else for(n=c.startIndex;n<o;n++)r=g[n],delete g[n],Ext.removeNode(r),l.push(f.getByInternalId(r.getAttribute("data-recordId"))),d.push(r);u.fireItemMutationEvent("itemremove",l,c.startIndex,d,u),c.startIndex=o}for(s=(a=u.bufferRender(e,c.endIndex+1)).children,n=0;n<p;n++)g[c.endIndex+=1]=s[n];m.appendChild(a.fragment),u.fireItemMutationEvent("itemadd",e,c.endIndex+1,s,u)}return c.count=c.endIndex-c.startIndex+1,h&&h.notify(),s}},sumHeights:function(){for(var e=0,t=this.elements,i=this.startIndex;i<=this.endIndex;i++)e+=t[i].offsetHeight;return e}},function(){Ext.dom.CompositeElementLite.importElementMethods.call(this)}),Ext.define("Ext.scroll.TableScroller",{extend:"Ext.scroll.Scroller",alias:"scroller.table",config:{lockingScroller:null},private:{doScrollTo:function(e,t,i){var n;null!=t&&(n=this.getLockingScroller())&&(n.doScrollTo(null,t,i),t=null),this.callParent([e,t,i])}}}),Ext.define("Ext.view.Table",{extend:"Ext.view.View",xtype:["tableview","gridview"],alternateClassName:"Ext.grid.View",requires:["Ext.grid.CellContext","Ext.view.TableLayout","Ext.grid.locking.RowSynchronizer","Ext.view.NodeCache","Ext.util.DelayedTask","Ext.util.MixedCollection","Ext.scroll.TableScroller"],mixins:["Ext.mixin.Queryable"],isTableView:!0,config:{selectionModel:{type:"rowmodel"}},inheritableStatics:{normalSideEvents:["deselect","select","beforedeselect","beforeselect","selectionchange"],events:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","cellkeydown","beforecellkeydown","cellmouseup","beforecellmouseup","cellmousedown","beforecellmousedown","cellcontextmenu","beforecellcontextmenu","celldblclick","beforecelldblclick","cellclick","beforecellclick","refresh","itemremove","itemadd","beforeitemupdate","itemupdate","viewready","beforerefresh","unhighlightitem","highlightitem","focuschange","containerkeydown","containercontextmenu","containerdblclick","containerclick","containermouseout","containermouseover","containermouseup","containermousedown","beforecontainerkeydown","beforecontainercontextmenu","beforecontainerdblclick","beforecontainerclick","beforecontainermouseout","beforecontainermouseover","beforecontainermouseup","beforecontainermousedown","itemkeydown","itemcontextmenu","itemdblclick","itemclick","itemmouseleave","itemmouseenter","itemmouseup","itemmousedown","rowclick","rowcontextmenu","rowdblclick","rowkeydown","rowmouseup","rowmousedown","rowkeydown","beforeitemkeydown","beforeitemcontextmenu","beforeitemdblclick","beforeitemclick","beforeitemmouseleave","beforeitemmouseenter","beforeitemmouseup","beforeitemmousedown","statesave","beforestatesave","staterestore","beforestaterestore","uievent","groupcollapse","groupexpand","scroll"]},scrollable:!0,componentLayout:"tableview",baseCls:Ext.baseCSSPrefix+"grid-view",unselectableCls:Ext.baseCSSPrefix+"unselectable",firstCls:Ext.baseCSSPrefix+"grid-cell-first",lastCls:Ext.baseCSSPrefix+"grid-cell-last",itemCls:Ext.baseCSSPrefix+"grid-item",selectedItemCls:Ext.baseCSSPrefix+"grid-item-selected",selectedCellCls:Ext.baseCSSPrefix+"grid-cell-selected",focusedItemCls:Ext.baseCSSPrefix+"grid-item-focused",overItemCls:Ext.baseCSSPrefix+"grid-item-over",altRowCls:Ext.baseCSSPrefix+"grid-item-alt",dirtyCls:Ext.baseCSSPrefix+"grid-dirty-cell",rowClsRe:new RegExp("(?:^|\\s*)"+Ext.baseCSSPrefix+"grid-item-alt(?:\\s+|$)","g"),cellRe:new RegExp(Ext.baseCSSPrefix+"grid-cell-([^\\s]+)(?:\\s|$)",""),positionBody:!0,positionCells:!1,stripeOnUpdate:null,actionableMode:!1,trackOver:!0,getRowClass:null,stripeRows:!0,markDirty:!0,ariaRole:"rowgroup",rowAriaRole:"row",cellAriaRole:"gridcell",tpl:["{%","view = values.view;","if (!(columns = values.columns)) {","columns = values.columns = view.ownerCt.getVisibleColumnManager().getColumns();","}","values.fullWidth = 0;","for (i = 0, len = columns.length; i < len; i++) {","column = columns[i];","values.fullWidth += (column.cellWidth = column.lastBox ? column.lastBox.width : column.width || column.minWidth);","}","tableCls=values.tableCls=[];","%}",'<div class="'+Ext.baseCSSPrefix+'grid-item-container" role="presentation" style="width:{fullWidth}px">',"{[view.renderTHead(values, out, parent)]}","{%","view.renderRows(values.rows, values.columns, values.viewStartIndex, out);","%}","{[view.renderTFoot(values, out, parent)]}","</div>","{% ","view = columns = column = null;","%}",{definitions:"var view, tableCls, columns, i, len, column;",priority:0}],outerRowTpl:['<table id="{rowId}" role="presentation" ','data-boundView="{view.id}" ','data-recordId="{record.internalId}" ','data-recordIndex="{recordIndex}" ','class="{[values.itemClasses.join(" ")]}" cellpadding="0" cellspacing="0" style="{itemStyle};width:0">',"{%","this.nextTpl.applyOut(values, out, parent)","%}","</table>",{priority:9999}],rowTpl:["{%",'var dataRowCls = values.recordIndex === -1 ? "" : " '+Ext.baseCSSPrefix+'grid-row";',"%}",'<tr class="{[values.rowClasses.join(" ")]} {[dataRowCls]}"',' role="{rowRole}" {rowAttr:attributes}>','<tpl for="columns">{%',"parent.view.renderCell(values, parent.record, parent.recordIndex, parent.rowIndex, xindex - 1, out, parent)","%}","</tpl>","</tr>",{priority:0}],cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" ',"{cellInnerAttr:attributes}>{value}</div>","</td>",{priority:0}],refreshSelmodelOnRefresh:!1,scrollableType:"table",tableValues:{},rowValues:{itemClasses:[],rowClasses:[]},cellValues:{classes:[Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-td"]},constructor:function(e){e.grid.isTree&&(e.baseCls=Ext.baseCSSPrefix+"tree-view"),this.callParent([e])},hasVariableRowHeight:function(e){return this.variableRowHeight||this.store.isGrouped()||this.getVisibleColumnManager().hasVariableRowHeight()||!e&&this.lockingPartner&&this.lockingPartner.hasVariableRowHeight(!0)},initComponent:function(){var e=this;e.columnLines&&e.addCls(e.grid.colLinesCls),e.rowLines&&e.addCls(e.grid.rowLinesCls),e.body=new Ext.dom.Fly,e.body.id=e.id+"gridBody",e.trackOver||(e.overItemCls=null),((e.headerCt.view=e).grid.view=e).initFeatures(e.grid),e.itemSelector=e.getItemSelector(),e.all=new Ext.view.NodeCache(e),e.callParent()},applySelectionModel:function(e,t){var i=this.ownerGrid,n=e.type,r=this.disableSelection||i.disableSelection;return t||e&&e.isSelectionModel||(e=i.selModel||e),e&&(e.isSelectionModel?(e.allowDeselect=i.allowDeselect||"SINGLE"!==e.selectionMode,e.locked=r):("string"==typeof e?e={type:e}:e.type=i.selType||e.selType||e.type||n,e.mode||(i.simpleSelect?e.mode="SIMPLE":i.multiSelect&&(e.mode="MULTI")),e=Ext.Factory.selection(Ext.apply({allowDeselect:i.allowDeselect,locked:r},e)))),e},updateSelectionModel:function(e,t){var i=this;t&&(t.un({scope:i,lastselectedchanged:i.updateBindSelection,selectionchange:i.updateBindSelection}),Ext.destroy(i.selModelRelayer)),i.selModelRelayer=i.relayEvents(e,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]),e.on({scope:i,lastselectedchanged:i.updateBindSelection,selectionchange:i.updateBindSelection}),i.selModel=e},getVisibleColumnManager:function(){return this.ownerCt.getVisibleColumnManager()},getColumnManager:function(){return this.ownerCt.getColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},moveColumn:function(e,t,i){var n,r,o,s,a,l,d,c=this,u=1<i,h=u&&document.createRange?document.createRange():null,f=u&&!h?document.createDocumentFragment():null,g=t,p=c.getGridColumns().length,m=p-1,x=(c.firstCls||c.lastCls)&&(0===t||t===p||0===e||e===m);if(c.rendered&&t!==e){for(n=0,s=(o=c.el.query(c.rowSelector)).length;n<s;n++){if(l=(a=o[n]).childNodes,x){if(1===l.length){Ext.fly(l[0]).addCls(c.firstCls),Ext.fly(l[0]).addCls(c.lastCls);continue}0===e?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[1]).addCls(c.firstCls)):e===m&&(Ext.fly(l[m]).removeCls(c.lastCls),Ext.fly(l[m-1]).addCls(c.lastCls)),0===t?(Ext.fly(l[0]).removeCls(c.firstCls),Ext.fly(l[e]).addCls(c.firstCls)):t===p&&(Ext.fly(l[m]).removeCls(c.lastCls),Ext.fly(l[e]).addCls(c.lastCls))}if(u){if(h)h.setStartBefore(l[e]),h.setEndAfter(l[e+i-1]),f=h.extractContents();else for(r=0;r<i;r++)f.appendChild(l[e]);a.insertBefore(f,l[g]||null)}else a.insertBefore(l[e],l[g]||null)}for(n=0,s=(d=c.el.query("colgroup")).length;n<s;n++)if(a=d[n],u){if(h)h.setStartBefore(a.childNodes[e]),h.setEndAfter(a.childNodes[e+i-1]),f=h.extractContents();else for(r=0;r<i;r++)f.appendChild(a.childNodes[e]);a.insertBefore(f,a.childNodes[g]||null)}else a.insertBefore(a.childNodes[e],a.childNodes[g]||null)}},scrollToTop:Ext.emptyFn,addElListener:function(e,t,i){this.mon(this,e,t,i,{element:"el"})},getGridColumns:function(){return this.ownerCt.getVisibleColumnManager().getColumns()},getHeaderAtIndex:function(e){return this.ownerCt.getVisibleColumnManager().getHeaderAtIndex(e)},getCell:function(e,t){e=this.getRow(e);if(e)return"number"==typeof t&&(t=this.getHeaderAtIndex(t)),Ext.fly(e).down(t.getCellSelector())},getFeature:function(e){var t=this.featuresMC;if(t)return t.get(e)},findFeature:function(t){if(this.features)return Ext.Array.findBy(this.features,function(e){if(e.ftype===t)return!0})},initFeatures:function(e){var t,i,n,r,o=this;for(o.tpl=this.lookupTpl("tpl"),o.rowTpl=o.lookupTpl("rowTpl"),o.addRowTpl(o.lookupTpl("outerRowTpl")),o.cellTpl=o.lookupTpl("cellTpl"),o.featuresMC=new Ext.util.MixedCollection,r=(i=o.features=o.constructFeatures())?i.length:0,t=0;t<r;t++)(n=i[t]).view=o,n.grid=e,o.featuresMC.add(n),n.init(e)},renderTHead:function(e,t,i){var n,r,o=e.view.headerFns;if(o)for(r=0,n=o.length;r<n;++r)o[r].call(this,e,t,i)},addHeaderFn:function(e){(this.headerFns||(this.headerFns=[])).push(e)},renderTFoot:function(e,t,i){var n,r,o=e.view.footerFns;if(o)for(r=0,n=o.length;r<n;++r)o[r].call(this,e,t,i)},addFooterFn:function(e){(this.footerFns||(this.footerFns=[])).push(e)},addTpl:function(e){return this.insertTpl("tpl",e)},addRowTpl:function(e){return this.insertTpl("rowTpl",e)},addCellTpl:function(e){return this.insertTpl("cellTpl",e)},insertTpl:function(e,t){var i,n;for(t=t.isTemplate?Ext.Object.chain(t):new Ext.XTemplate("{%this.nextTpl.applyOut(values, out, parent);%}",t),i=this[e];t.priority<i.priority;i=i.nextTpl)n=i;return n?n.nextTpl=t:this[e]=t,t.nextTpl=i,t},tplApplyOut:function(e,t,i){this.before&&!1===this.before(e,t,i)||(this.nextTpl.applyOut(e,t,i),this.after&&this.after(e,t,i))},constructFeatures:function(){var e,t,i,n=this.features,r=0;if(n)for(t=[],i=n.length;r<i;r++)(e=n[r]).isFeature||(e=Ext.create("feature."+e.ftype,e)),t[r]=e;return t},beforeRender:function(){this.callParent(),this.enableTextSelection||this.protoEl.unselectable()},getElConfig:function(){var e=this.callParent();return delete e["aria-hidden"],delete e["aria-disabled"],e},onBindStore:function(e){var t=this.bufferedRenderer;t&&t.store!==e&&t.bindStore(e),this.all&&this.all.getCount()&&!this.grid.reconfiguring&&this.clearViewEl(),this.callParent(arguments)},onOwnerGridHide:function(){var e=this.getScrollable(),t=this.bufferedRederer;e&&e.suspendPartnerSync(),t&&t.disable()},onOwnerGridShow:function(){var e=this.getScrollable(),t=this.bufferedRederer;e&&e.resumePartnerSync(),t&&t.enable()},getStoreListeners:function(e){var t=this.callParent([e]),e=this.dataSource;return e&&e.isFeatureStore&&(delete t.add,delete t.remove),this.bufferedRenderer&&delete t.clear,t.beforepageremove=this.beforePageRemove,t},beforePageRemove:function(e,t){var i=this.all,n=e.getPageSize();if(i.startIndex>=(t-1)*n&&i.endIndex<=t*n-1)return e.get(t),!1},onViewScroll:function(e,t,i){this.ignoreScroll||this.callParent([e,t,i])},createRowElement:function(e,t,i){var n=this.renderBuffer,t=this.collectData([e],t);return t.columns=i,this.tpl.overwrite(n,t),this.cleanupData(),Ext.fly(n).down(this.getNodeContainerSelector(),!0).firstChild},bufferRender:function(e,t){var i,n=this.renderBuffer,r=document.createRange?document.createRange():null;if(this.tpl.overwrite(n,this.collectData(e,t)),this.cleanupData(),Ext.fly(n).saveTabbableState({skipSelf:!0,includeHidden:!0}),n=Ext.fly(n).down(this.getNodeContainerSelector(),!0),r)r.selectNodeContents(n),i=r.extractContents();else for(i=document.createDocumentFragment();n.firstChild;)i.appendChild(n.firstChild);return{fragment:i,children:Ext.Array.toArray(i.childNodes)}},collectData:function(e,t){var i=this.tableValues;return this.rowValues.view=this,i.view=this,i.rows=e,i.columns=null,i.viewStartIndex=t,i.tableStyle="width:"+this.headerCt.getTableWidth()+"px",i},cleanupData:function(){var e=this.tableValues;e.view=e.columns=e.rows=this.rowValues.view=null},refreshSize:function(e){var t=this,i=t.getBodySelector(),n=t.lockingPartner,r=t.saveFocusState();i&&t.body.attach(t.el.down(i,!0)),t.hasLoadingHeight||(Ext.suspendLayouts(),t.callParent(arguments),(e||t.hasVariableRowHeight()&&t.dataSource.getCount())&&t.grid.updateLayout(),Ext.resumeLayouts(!n||!n.grid.isVisible()||n.all.getCount()===t.all.getCount()),r())},isLayoutRoot:function(){return!1},clearViewEl:function(e){this.rendered&&(this.callParent(),e||(e=Ext.get(this.getNodeContainer()))&&e.dom!==this.getTargetEl().dom&&e.destroy())},getRefItems:function(e){var t,i,n,r,o,s=this.ownerGrid.liveRowContexts,a=this.callParent(arguments);for(o in s)for(t=(n=s[o].getWidgets()).length,i=0;i<t;i++)r=n[i],this.isAncestor(r)&&(a[a.length]=r,e&&r.getRefItems&&a.push.apply(a,r.getRefItems(!0)));return a},getMaskTarget:function(){return this.ownerCt.body},statics:{getBoundView:function(e){return Ext.getCmp(e.getAttribute("data-boundView"))}},getRecord:function(e){if(!this.store.destroyed)return e.isModel?e:(e=this.getNode(e))?this.dataSource.getByInternalId(e.getAttribute("data-recordId")):void 0},indexOf:function(e){return(e=this.getNode(e))||0===e?this.all.indexOf(e):-1},indexInStore:function(e){return e?this.dataSource.indexOf(this.getRecord(e)):-1},indexOfRow:function(e){var t=this.dataSource,e=e.isCollapsedPlaceholder?t.indexOfPlaceholder(e):t.indexOf(e);return e},renderRows:function(e,t,i,n){var r,o=this.rowValues,s=e.length;for(o.view=this,o.columns=t,o.rowRole=this.rowAriaRole,this.cellValues.cellRole=this.cellAriaRole,r=0;r<s;r++,i++)o.itemClasses.length=o.rowClasses.length=0,this.renderRow(e[r],i,n);o.view=o.columns=o.record=null},renderColumnSizer:function(e,t){var i,n,r=e.columns||this.getGridColumns(),o=r.length;for(t.push('<colgroup role="presentation">'),i=0;i<o;i++)n=r[i].cellWidth||Ext.grid.header.Container.prototype.defaultWidth,t.push('<col role="presentation" class="',Ext.baseCSSPrefix,"grid-cell-",r[i].getItemId(),'" style="width:'+n+'px">');t.push("</colgroup>")},renderRow:function(e,t,i){var n,r=this,o=-1===t,s=r.selectionModel,a=r.rowValues,l=a.itemClasses,d=a.rowClasses,c=r.itemCls,u=r.rowTpl;if(a.rowAttr={},a.record=e,a.recordId=e.internalId,a.recordIndex=r.store.indexOf(e),a.rowIndex=t,a.rowId=r.getRowId(e),a.itemCls=a.rowCls="",a.columns||(a.columns=r.ownerCt.getVisibleColumnManager().getColumns()),l.length=d.length=0,o||(l[0]=c,!r.ownerCt.disableSelection&&s.isRowSelected&&s.isRowSelected(e)&&l.push(r.selectedItemCls),r.stripeRows&&t%2!=0&&l.push(r.altRowCls),r.getRowClass&&(n=r.getRowClass(e,t,null,r.dataSource))&&d.push(n)),!i)return u.apply(a,r.tableValues);u.applyOut(a,i,r.tableValues)},renderCell:function(e,t,i,n,r,o){var s,a=this,l=a.selectionModel,d=a.cellValues,c=d.classes,u=t.data[e.dataIndex],h=a.cellTpl,f=e.enableTextSelection,g=a.navigationModel.getPosition();null==f&&(f=a.enableTextSelection),d.record=t,d.column=e,d.recordIndex=i,d.rowIndex=n,d.columnIndex=d.cellIndex=r,d.align=e.textAlign,d.innerCls=e.innerCls,d.tdCls=d.tdStyle=d.tdAttr=d.style="",d.unselectableAttr=f?"":'unselectable="on"',c[1]=e.getCellId(),r=2,e.renderer&&e.renderer.call?(s=a.ownerCt.columnManager.getHeaderIndex(e),s=e.renderer.call(e.usingDefaultRenderer?e:e.scope||a.ownerCt,u,d,t,i,s,a.dataSource,a),d.css&&(t.cssWarning=!0,d.tdCls+=" "+d.css,d.css=null),d.tdCls&&(c[r++]=d.tdCls)):s=u,d.value=null==s||0===s.length?e.emptyCellText:s,e.tdCls&&(c[r++]=e.tdCls),a.markDirty&&t.dirty&&t.isModified(e.dataIndex)&&(c[r++]=a.dirtyCls,e.dirtyTextElementId&&(d.tdAttr=(d.tdAttr?d.tdAttr+" ":"")+'aria-describedby="'+e.dirtyTextElementId+'"')),e.isFirstVisible&&(c[r++]=a.firstCls),e.isLastVisible&&(c[r++]=a.lastCls),f||(c[r++]=a.unselectableCls),l&&(l.isCellModel||l.isSpreadsheetModel)&&l.isCellSelected(a,i,e)&&(c[r++]=a.selectedCellCls),g&&g.record.id===t.id&&g.column===e&&(c[r++]=a.focusedItemCls),c.length=r,d.tdCls=c.join(" "),h.applyOut(d,o),d.column=d.record=null},getRow:function(e){var t;return!e&&0!==e||!this.rendered?null:(e.target&&(e=e.target),Ext.isString(e)?Ext.fly(e).down(this.rowSelector,!0):Ext.isNumber(e)?(t=this.all.item(e))&&t.down(this.rowSelector,!0):e.isModel?this.getRowByRecord(e):(t=Ext.fly(e)).is(this.itemSelector)?this.getRowFromItem(t):t.findParent(this.rowSelector,this.getTargetEl()))},getRowId:function(e){return this.id+"-record-"+e.internalId},constructRowId:function(e){return this.id+"-record-"+e},getNodeById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!1)},getRowById:function(e){return e=this.constructRowId(e),this.retrieveNode(e,!0)},getNodeByRecord:function(e){return this.retrieveNode(this.getRowId(e),!1)},getRowByRecord:function(e){return this.retrieveNode(this.getRowId(e),!0)},getRowFromItem:function(e){for(var t=Ext.getDom(e).tBodies[0].childNodes,i=t.length,n=0;n<i;n++)if(Ext.fly(t[n]).is(this.rowSelector))return t[n]},retrieveNode:function(e,t){e=this.el.getById(e,!0);return t&&e?Ext.fly(e).down(this.rowSelector,!0):e},updateIndexes:Ext.emptyFn,bodySelector:"div."+Ext.baseCSSPrefix+"grid-item-container",nodeContainerSelector:"div."+Ext.baseCSSPrefix+"grid-item-container",itemSelector:"table."+Ext.baseCSSPrefix+"grid-item",rowSelector:"tr."+Ext.baseCSSPrefix+"grid-row",cellSelector:"td."+Ext.baseCSSPrefix+"grid-cell",sizerSelector:"."+Ext.baseCSSPrefix+"grid-cell",innerSelector:"div."+Ext.baseCSSPrefix+"grid-cell-inner",getBodySelector:function(){return this.bodySelector},getColumnSizerSelector:function(e){e=this.sizerSelector+"-"+e.getItemId();return"td"+e+",col"+e},getItemSelector:function(){return this.itemSelector},getCellSelector:function(e){return e?e.getCellSelector():this.cellSelector},getCellInnerSelector:function(e){return this.getCellSelector(e)+" "+this.innerSelector},addRowCls:function(e,t){e=this.getRow(e);e&&Ext.fly(e).addCls(t)},removeRowCls:function(e,t){e=this.getRow(e);e&&Ext.fly(e).removeCls(t)},onRowSelect:function(e){var t;this.addItemCls(e,this.selectedItemCls),(t=this.getRow(e))&&t.setAttribute("aria-selected",!0),Ext.isIE8&&this.repaintBorder(e+1)},onRowDeselect:function(e){var t;this.removeItemCls(e,this.selectedItemCls),(t=this.getRow(e))&&t.removeAttribute("aria-selected"),Ext.isIE8&&this.repaintBorder(e+1)},onCellSelect:function(e){e=this.getCellByPosition(e);e&&(e.addCls(this.selectedCellCls),e.dom.setAttribute("aria-selected",!0))},onCellDeselect:function(e){e=this.getCellByPosition(e,!0);e&&(Ext.fly(e).removeCls(this.selectedCellCls),e.removeAttribute("aria-selected"))},getCellInclusive:function(e,t){if(e){var i=this.getRow(e.row),e=this.ownerCt.getColumnManager().getHeaderAtIndex(e.column);if(e&&i)return Ext.fly(i).down(this.getCellSelector(e),t)}return!1},getColumnByPosition:function(e){var t,i;return!!e&&((i=e.column)&&!i.destroyed&&i.isColumn?i:(t=e.view||this,i="number"==typeof i?i:e.colIdx,t.getVisibleColumnManager().getHeaderAtIndex(i)))},getCellByPosition:function(e,t){if(e){var i=e.view||this,n=i.getRow(e.record||e.row),e=i.getColumnByPosition(e);if(e&&n)return Ext.fly(n).down(i.getCellSelector(e),t)}return!1},onFocusEnter:function(e){var t,i,n=this,r=e.fromComponent,o=n.getNavigationModel();if(n.containsFocus)return Ext.Component.prototype.onFocusEnter.call(n,e);if(n.actionableMode){if(n.actionPosition)return n.el.dom.setAttribute("tabIndex","-1"),void(n.cellFocused=!0);n.ownerGrid.setActionableMode(!1)}if(e=e.event,!n.cellFocused&&n.all.getCount()&&n.dataSource.getCount())if((i=e.getTarget())===n.el.dom){if("scrollbar"===n.lastFocused)return void e.relatedTarget.focus();if(!(t=n.getDefaultFocusPosition(r)))return e.stopEvent(),void n.el.focus();i=null}else i===n.tabGuardEl?(t=new Ext.grid.CellContext(n).setPosition(n.all.endIndex,n.getVisibleColumnManager().getColumns().length-1),i=null):(r=e.getTarget(n.getCellSelector()))&&(i===r?(t=new Ext.grid.CellContext(n).setPosition(n.getRecord(i),n.getHeaderByCell(r)),i=null):i&&Ext.fly(i).isFocusable()&&n.el.contains(i)&&(t=new Ext.grid.CellContext(n).setPosition(n.getRecord(i),n.getHeaderByCell(r))));t&&(n.toggleChildrenTabbability(!1),i&&n.ownerGrid.setActionableMode(!0,t)&&(t=null,Ext.fly(i).focus()),t&&o.setPosition(t,null,e,null,!0),n.cellFocused=n.el.contains(Ext.Element.getActiveElement()),n.cellFocused&&n.el.dom.setAttribute("tabIndex","-1")),Ext.Component.prototype.onFocusEnter.call(n,e)},onFocusLeave:function(e){var t=this,i=!t.lockingPartner||!e.toComponent||e.toComponent!==t.lockingPartner&&!t.lockingPartner.isAncestor(e.toComponent);t.refreshing||(t.cellFocused&&(i&&t.getNavigationModel().setPosition(null,null,e.event,null,!0),t.cellFocused=!1,t.focusEl=t.el,t.focusEl.dom.setAttribute("tabIndex",0)),i?t.ownerGrid.actionableMode&&(t.lastFocused=t.actionPosition,t.ownerGrid.setActionableMode(!1)):t.actionPosition=null,Ext.Component.prototype.onFocusLeave.call(t,e))},onRowFocus:function(e,t,i){t?(this.addItemCls(e,this.focusedItemCls),i||this.focusRow(e)):this.removeItemCls(e,this.focusedItemCls),Ext.isIE8&&this.repaintBorder(e+1)},focusRow:function(e,t){var i=this.getFocusTask();t?i.delay(Ext.isNumber(t)?t:10,this.focusRow,this,[e,!1]):(i.cancel(),this.isVisible(!0)&&this.getNavigationModel().setPosition(this.getRecord(e)))},focusNode:function(e,t){this.focusRow(e,t)},scrollRowIntoView:function(e,t){(e=this.getRow(e))&&this.scrollElIntoView(e,!1,t)},focusCell:function(e,t){var i=this.getFocusTask();t?i.delay(Ext.isNumber(t)?t:10,this.focusCell,this,[e,!1]):(i.cancel(),this.isVisible(!0)&&this.getCellByPosition(e)&&this.getNavigationModel().setPosition(e))},findFocusPosition:function(e,t,i,n){for(var r,o=t.cellElement,s=this.ownerGrid.actionables,a=s.length,l=t.clone(),d=Ext.fly(o).findTabbableElements(),c=d[Ext.Array.indexOf(d,e)+(i?1:-1)];!c&&(o=o[i?"nextSibling":"previousSibling"]);){for(l.setColumn(this.getHeaderByCell(o)),r=0;r<a;r++)s[r].activateCell(l);(o=l.getCell(!0))&&(d=Ext.fly(o).findTabbableElements()).length&&(c=d[i?0:d.length-1])}return{target:c,position:l}},getDefaultFocusPosition:function(e){var t=this,i=t.dataSource,n=t.lastFocused,r=new Ext.grid.CellContext(t.isNormalView&&t.lockingPartner.grid.isVisible()&&!t.lockingPartner.grid.collapsed?t.lockingPartner:t).setPosition(0,0);return e&&(e.isColumn&&!1!==e.cellFocusable&&e.getView()===t?(n=n||r).setColumn(e):e.isTableView&&(n=new Ext.grid.CellContext(t).setPosition(e.lastFocused.record,0))),n?(e=t.getScrollable(),i.contains(n.record)&&(!e||e.isInView(n.getRow()).y)||n.setRow(i.getAt(Math.min(n.rowIdx,i.getCount()-1)))):(n=r,(r=t.ownerGrid.view.el.down(t.getCellSelector()+'[tabIndex="-1"]'))?n.setPosition(t.getRecord(r),t.getHeaderByCell(r)):n=null),n},getLastFocused:function(){var e=this.lastFocused;if(e&&e.record&&e.column&&-1!==this.dataSource.indexOf(e.record)&&-1!==this.getVisibleColumnManager().indexOf(e.column)&&this.getNode(e.record))return e},scrollCellIntoView:function(e,t){e.isCellContext&&(e=this.getCellByPosition(e)),e&&this.scrollElIntoView(e,null,t)},scrollElIntoView:function(e,t,i){var n=this.getScrollable();n&&n.scrollIntoView(e,t,i)},syncRowHeightBegin:function(){for(var e,t=this.all,i=t.count,n=[],r=Ext.grid.locking.RowSynchronizer,o=0,s=t.startIndex;o<i;o++,s++)n[o]=e=new r(this,t.elements[s]),e.reset();return n},syncRowHeightClear:function(e){for(var t=this.all.count,i=0;i<t;i++)e[i].reset()},syncRowHeightMeasure:function(e){for(var t=e.length,i=0;i<t;i++)e[i].measure()},syncRowHeightFinish:function(e,t){for(var i=e.length,n=this.bufferedRenderer,r=0;r<i;r++)e[r].finish(t[r]);n&&n.syncRowHeightsFinish()},refreshNode:function(e){Ext.isNumber(e)&&(e=this.store.getAt(e)),this.handleUpdate(this.dataSource,e,null,null,null,!0)},handleUpdate:function(e,t,i,n,r,o){i=i||Ext.data.Model.EDIT;var s,a,l,d,c,u,h,f,g,p,m,x,E,y,v,b=this,C=b.store.indexOf(t),S=b.rowTpl,w=b.markDirty,P=b.dirtyCls,T=i!==Ext.data.Model.EDIT,I=[],k=b.variableRowHeight,R=0,M=b.ownerCt,A=b.cellFly||(b.self.prototype.cellFly=new Ext.dom.Fly);if(b.viewReady){if(b.updatingRows=!0,s=b.getNodeByRecord(t)){if(t.isCollapsedPlaceholder)return void Ext.fly(s).syncContent(b.createRowElement(t,b.indexOfRow(t)));if(i=b.overItemCls,f=b.ownerCt.getVisibleColumnManager().getColumns(),o)I=f,R=1;else for(m=0,p=f.length;m<p;m++)(g=f[m]).preventUpdate?(E=Ext.fly(s).down(g.getCellSelector(),!0))&&!T&&w&&(A.attach(E),t.isModified(g.dataIndex)?(A.addCls(P),g.dirtyTextElementId&&E.setAttribute("aria-describedby",g.dirtyTextElementId)):(A.removeCls(P),E.removeAttribute("aria-describedby"))):(x=b.shouldUpdateCell(t,g,n))&&(R|=x,I[I.length]=g,k=k||g.variableRowHeight);if(b.fireEvent("beforeitemupdate",t,C,s,I),b.getRowClass||!b.getRowFromItem(s)||1&R||1<s.tBodies[0].childNodes.length){if(o=s._extData,l=b.createRowElement(t,b.indexOfRow(t),I),Ext.fly(s,"_internal").hasCls(i)&&Ext.fly(l).addCls(i),Ext.isIE9m&&s.mergeAttributes)s.mergeAttributes(l,!0);else for(c=(d=l.attributes).length,h=0;h<c;h++)"id"!==(u=d[h].name)&&s.setAttribute(u,d[h].value);for(o&&(o.isSynchronized=!1),f.length&&(a=b.getRow(s))&&b.updateColumns(a,Ext.fly(l).down(b.rowSelector,!0),I);S&&(!S.syncContent||!1!==S.syncContent(s,l,n?I:null));)S=S.nextTpl}else for(m=0,p=I.length;m<p;m++)v=(g=I[m]).dataIndex,y=t.get(v),E=Ext.fly(s).down(g.getCellSelector(),!0),A.attach(E),!T&&w&&(t.isModified(g.dataIndex)?(A.addCls(P),g.dirtyTextElementId&&E.setAttribute("aria-describedby",g.dirtyTextElementId)):(A.removeCls(P),E.removeAttribute("aria-describedby"))),v=g.usingDefaultRenderer?g:g.scope,g.updater?Ext.callback(g.updater,v,[E,y,t,b,b.dataSource],0,g,M):(g.renderer&&(y=Ext.callback(g.renderer,v,[y,null,t,0,0,b.dataSource,b],0,g,M)),y=(v=null==y||0===y.length)?g.emptyCellText:y,g.producesHTML||v?A.down(b.innerSelector,!0).innerHTML=y:A.down(b.innerSelector,!0).childNodes[0].data=y),b.highlightClass&&(Ext.fly(E).addCls(b.highlightClass),b.changedCells||(b.self.prototype.changedCells=[],b.prototype.clearChangedTask=new Ext.util.DelayedTask(b.clearChangedCells,b.prototype),b.clearChangedTask.delay(b.unhighlightDelay)),b.changedCells.push({cell:E,cls:b.highlightClass,expires:Ext.Date.now()+1e3}));T&&w&&!t.dirty&&Ext.fly(s,"_internal").select("."+P).removeCls(P).set({"aria-describedby":void 0}),k&&Ext.suspendLayouts(),b.fireEvent("itemupdate",t,C,s,b),k&&(b.ownerGrid.updateLayout(),Ext.resumeLayouts(!0))}b.updatingRows=!1}},clearChangedCells:function(){for(var e,t=Ext.Date.now(),i=this.changedCells.length;0<i&&(e=this.changedCells[0]).expires<=t;)Ext.fly(e.cell).removeCls(e.highlightClass),Ext.Array.erase(this.changedCells,0,1),i--;i&&this.clearChangedTask.delay(this.unhighlightDelay)},updateColumns:function(e,t,i){var n,r,o,s,a,l,d,c,u=i.length,h=this.getCellSelector();if(e.mergeAttributes)e.mergeAttributes(t,!0);else for(r=(n=t.attributes).length,s=0;s<r;s++)"id"!==(o=n[s].name)&&e.setAttribute(o,n[s].value);for((c=e._extData)&&(c.isSynchronized=!1),e=Ext.get(e),t=Ext.get(t),a=0;a<u;a++){for(d=i[a],h=this.getCellSelector(d),l=e.selectNode(h),r=(n=(d=t.selectNode(h)).attributes).length,s=0;s<r;s++)"id"!==(o=n[s].name)&&l.setAttribute(o,n[s].value);(c=l._extData)&&(c.isSynchronized=!1),l=Ext.fly(l).selectNode(this.innerSelector),d=Ext.fly(d).selectNode(this.innerSelector),Ext.fly(l).syncContent(d)}},shouldUpdateCell:function(e,t,i){return t.shouldUpdateCell(e,i)},refresh:function(){this.destroying||(this.getVisibleColumnManager().getColumns().length?(this.callParent(arguments),this.headerCt.setSortState()):this.refreshCounter&&this.clearViewEl(!0))},processContainerEvent:function(e){e=Ext.Component.fromElement(e.target.parentNode);if(e&&e.up(this.ownerCt))return!1},processItemEvent:function(e,t,i,n){var r,o,s,a,l,d,c=this,u=c.self,h=u.EventMap,f=n.type,g=c.features,p=g.length,m=n.position=c.eventPosition||(c.eventPosition=new Ext.grid.CellContext);if(Ext.isIE&&"mouseup"===f&&!n.within(c.el))return!1;if(-1===c.indexInStore(t))return c.processSpecialEvent(n),"mouse"===n.pointerType&&n.preventDefault(),!1;if(l=m.rowElement=Ext.fly(t).down(c.rowSelector,!0),d=n.getTarget(c.getCellSelector(),l),f=u.TouchEventMap[f]||f,d){if(!d.parentNode)return!1;o=(a=c.getHeaderByCell(d))?c.ownerCt.getColumnManager().getHeaderIndex(a):(a=d=null,-1)}else o=-1;if(m.setAll(c,i,a?c.getVisibleColumnManager().getHeaderIndex(a):-1,e,a),m.cellElement=d,!1===(m=c.fireEvent("uievent",f,c,d,i,o,n,e,l))||!1===c.callParent(arguments))return!1;for(r=0;r<p;++r)if(s=g[r],s.wrapsItem&&!1===s.vetoEvent(e,l,i,n))return c.processSpecialEvent(n),!1;return d&&"mouseover"!==f&&"mouseout"!==f&&(m=!(!1===c["onBeforeCell"+h[f]](d,o,e,l,i,n)||!1===c.fireEvent("beforecell"+f,c,d,o,e,l,i,n)||!1===c["onCell"+h[f]](d,o,e,l,i,n)||!1===c.fireEvent("cell"+f,c,d,o,e,l,i,n))),!1!==m&&(m=c.fireEvent("row"+f,c,e,l,i,n)),m},processSpecialEvent:function(e){var t,i,n,r,o,s=this,a=s.features,l=a.length,d=e.type,c=s.ownerCt;if(s.callParent(arguments),"mouseover"!==d&&"mouseout"!==d){for(d=s.self.TouchEventMap[d]||d,t=0;t<l;t++)if(i=a[t],i.hasFeatureEvent&&(o=e.getTarget(i.eventSelector,s.getTargetEl()),o&&(n=i.eventPrefix,r=i.getFireEventArgs("before"+n+d,s,o,e),o=i.getFireEventArgs(n+d,s,o,e),!1===s.fireEvent.apply(s,r)||!1===c.fireEvent.apply(c,r)||!1===s.fireEvent.apply(s,o)||!1===c.fireEvent.apply(c,o))))return!1;return!0}},onCellMouseDown:Ext.emptyFn,onCellLongPress:Ext.emptyFn,onCellMouseUp:Ext.emptyFn,onCellClick:Ext.emptyFn,onCellDblClick:Ext.emptyFn,onCellContextMenu:Ext.emptyFn,onCellKeyDown:Ext.emptyFn,onCellKeyUp:Ext.emptyFn,onCellKeyPress:Ext.emptyFn,onBeforeCellMouseDown:Ext.emptyFn,onBeforeCellLongPress:Ext.emptyFn,onBeforeCellMouseUp:Ext.emptyFn,onBeforeCellClick:Ext.emptyFn,onBeforeCellDblClick:Ext.emptyFn,onBeforeCellContextMenu:Ext.emptyFn,onBeforeCellKeyDown:Ext.emptyFn,onBeforeCellKeyUp:Ext.emptyFn,onBeforeCellKeyPress:Ext.emptyFn,expandToFit:function(e){this.autoSizeColumn(e)},autoSizeColumn:function(e){Ext.isNumber(e)&&(e=this.getGridColumns()[e]),e&&(e.isGroupHeader?e.autoSize():(delete e.flex,e.setWidth(this.getMaxContentWidth(e))))},getMaxContentWidth:function(e){var t,i=this.el.query(e.getCellInnerSelector()),n=e.getWidth(),r=0,o=i.length,s=this.body.select(this.getColumnSizerSelector(e)),a=Math.max,l=0;for(0<o&&(Ext.supports.ScrollWidthInlinePaddingBug&&(l+=this.getCellPaddingAfter(i[0])),this.columnLines&&(l+=Ext.fly(i[0].parentNode).getBorderWidth("lr"))),s.setWidth(1),e.textEl.setStyle({"text-overflow":"clip",display:"table-cell"}),t=e.textEl.dom.offsetWidth+e.titleEl.getPadding("lr"),e.textEl.setStyle({"text-overflow":"",display:""});r<o;r++)t=a(t,i[r].scrollWidth);return t=a((t+=l)+1,40),s.setWidth(n),t},getPositionByEvent:function(e){var t=e.getTarget(this.cellSelector),e=e.getTarget(this.itemSelector),e=this.getRecord(e),t=this.getHeaderByCell(t);return this.getPosition(e,t)},getHeaderByCell:function(e){return!!e&&this.ownerGrid.getVisibleColumnManager().getHeaderById(Ext.getDom(e).getAttribute("data-columnId"))},walkCells:function(e,t,i,n){var r=e.clone(),o=this.lockingPartner&&this.lockingPartner.grid.isVisible()?this.lockingPartner:null,s=e.rowIdx,a=this.dataSource.getCount()-1,l=this.ownerCt.getVisibleColumnManager().getColumns();switch(t.toLowerCase()){case"right":if(e.isLastColumn()){if(a<(s=o&&this.isLockedView?s:s+1))return!1;o&&(r.view=o),r.setPosition(s,0)}else r.navigate(1);break;case"left":if(e.isFirstColumn()){if((s=o&&this.isNormalView?s:s-1)<0)return!1;o&&(l=(r.view=o).getVisibleColumnManager().getColumns()),r.setPosition(s,l[l.length-1])}else r.navigate(-1);break;case"up":if(0===s)return!1;r.setRow(s-1);break;case"down":if(s===a)return!1;r.setRow(s+1)}return(!i||!0===i.call(n||this,r))&&r},walkRows:function(e,t){var i,n=this.dataSource,r=0,o=e,s=t<0?0:n.getCount()-1,a=s?1:-1,l=e;do{if(s?s<=l:l<=s)return o||s}while(l+=a,(i=Ext.fly(this.getRow(l)))&&i.isVisible(!0)&&(r+=a,o=l),r!==t);return l},walkRecs:function(e,t){var i,n,r=this.dataSource,o=0,s=e,a=t<0?0:(r.isBufferedStore?r.getTotalCount():r.getCount())-1,l=a?1:-1,d=r.indexOf(e);do{if(a?a<=d:d<=a)return s}while(d+=l,!(n=r.getAt(d)).isCollapsedPlaceholder&&(i=Ext.fly(this.getNodeByRecord(n)))&&i.isVisible(!0)&&(o+=l,s=n),o!==t);return s},getFirstVisibleRowIndex:function(){var e=this.dataSource.isBufferedStore?this.dataSource.getTotalCount():this.dataSource.getCount(),t=this.indexOf(this.all.first())-1;do{if((t+=1)===e)return}while(!Ext.fly(this.getRow(t)).isVisible(!0));return t},getLastVisibleRowIndex:function(){var e=this.indexOf(this.all.last());do{if(-1===--e)return}while(!Ext.fly(this.getRow(e)).isVisible(!0));return e},getHeaderCt:function(){return this.headerCt},getPosition:function(e,t){return new Ext.grid.CellContext(this).setPosition(e,t)},doDestroy:function(){var e,t,i,n=this.featuresMC;if(this.bindStore(null),n)for(t=0,i=n.getCount();t<i;++t)(e=n.getAt(t))&&!e.destroyed&&e.destroy();this.all.destroy(),this.body.destroy(),this.callParent()},onReplace:function(e,t,i,n){var r,o=this.bufferedRenderer;this.rendered&&o?(r=this.saveFocusState(),o.onReplace(e,t,i,n),r()):this.callParent(arguments),this.setPendingStripe(t)},onResize:function(e,t,i,n){var r=this.bufferedRenderer;r&&r.onViewResize(this,e,t,i,n),this.callParent([e,t,i,n])},onAdd:function(e,t,i){var n=this.bufferedRenderer;this.addingRows=!0,this.rendered&&n&&(n.bodyTop||this.dataSource.getCount()+t.length>=n.viewSize)?n.onReplace(e,i,[],t):this.callParent(arguments),this.setPendingStripe(i),this.addingRows=!1},onRemove:function(e,t,i){var n,r=this.bufferedRenderer;this.rendered&&r&&this.dataSource.getCount()+t.length>=r.viewSize?(n=this.saveFocusState(),r.onReplace(e,i,t,[]),n()):this.callParent(arguments),this.actionPosition&&-1!==Ext.Array.indexOf(t,this.actionPosition.record)&&(this.actionPosition=null),this.setPendingStripe(i)},saveFocusState:function(){var e,t,i=this,n=i.dataSource,r=i.actionableMode,o=i.getNavigationModel(),s=r?i.actionPosition:o.getPosition(!0),a=Ext.Element.getActiveElement(!0),l=s&&s.view===i&&s.getCell();return l&&l.contains(a)?(s=s.clone(),a.suspendFocusEvents(),r&&l!==a?i.suspendActionableMode():(r=!1,o.setPosition()),a.resumeFocusEvents(),function(){(n=i.dataSource).getCount()?(e=Math.min(s.rowIdx,i.all.getCount()-1),t=Math.min(s.colIdx,i.getVisibleColumnManager().getColumns().length-1),s=new Ext.grid.CellContext(i).setPosition(n.contains(s.record)?s.record:e,t),r?i.resumeActionableMode(s):o.setPosition(s,null,null,null,!0)):s.column.focus()}):Ext.emptyFn},onDataRefresh:function(e){var t=this.ownerCt;t&&2===t.isCollapsingOrExpanding?t.on("expand",this.onDataRefresh,this,{single:!0}):this.callParent([e])},getViewRange:function(){return this.bufferedRenderer?this.bufferedRenderer.getViewRange():this.callParent()},setPendingStripe:function(e){var t=null===(t=this.stripeOnUpdate)?e:Math.min(t,e);this.stripeOnUpdate=t},onEndUpdate:function(){var e=this.stripeOnUpdate,t=this.all.startIndex;this.rendered&&(e||0===e)&&(e<t&&(e=t),this.doStripeRows(e),this.stripeOnUpdate=null),this.callParent(arguments)},doStripeRows:function(e,t){var i,n,r,o;if(this.rendered&&this.stripeRows)for(r=0,n=(i=this.getNodes(e,t)).length;r<n;r++)(o=i[r]).className=o.className.replace(this.rowClsRe," "),++e%2==0&&(o.className+=" "+this.altRowCls)},hasActiveFeature:function(){return this.isGrouping&&this.store.isGrouped()||this.isRowWrapped},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding("r")},privates:{collectNodes:function(e){this.all.fill(this.getNodeContainer().childNodes,this.all.startIndex)},setActionableMode:function(e,t){var i,n,r,o=this,s=o.getNavigationModel(),a=o.grid.actionables,l=a.length,d=!1;if(o.actionableMode===e&&(!e||t.isEqual(o.actionPosition)))return!1;if(e)return t&&(t.view===o||t.view===(r=o.lockingPartner)&&r.actionableMode)&&(d=o.activateCell(t)),d;for(i=Ext.fly(Ext.Element.getActiveElement()),o.el.contains(i)&&!Ext.fly(i).is(o.getCellSelector())&&(e=o.actionPosition&&o.actionPosition.record||o.getRecord(i),r=o.getHeaderByCell(i.findParent(o.getCellSelector())),d=t&&t.getCell(),t&&d||(d=(t=new Ext.grid.CellContext(o).setPosition(e||0,r||0)).getCell()),d.focus(),i=Ext.fly(Ext.Element.getActiveElement()),o.el.contains(i)&&i.is(o.getCellSelector())||(t=null)),n=0;n<l;n++)a[n].deactivate&&a[n].deactivate();if(o.actionRow&&o.actionRow.saveTabbableState({skipSelf:!0,includeSaved:!1}),o.destroyed)return!1;o.actionableMode=o.ownerGrid.actionableMode=!1,o.actionPosition=s.actionPosition=o.actionRow=null,t&&s.setPosition(t)},activateCell:function(e){var t,i,n,r,o,s,a=this,l=e.view!==a?a.lockingPartner:null,d=a.grid.actionables,c=d.length,u=a.getNavigationModel(),h=(e=e.clone()).record;if(e.view.grid.ensureVisible(h,{column:e.column}),i=a.all.item(e.rowIdx),a.actionPosition&&(t=Ext.get(a.all.item(a.actionPosition.rowIdx,!0)))&&i!==t&&t.saveTabbableState({skipSelf:!0,includeSaved:!1}),a.activating=!0,!l)for(n=e.getCell(),a.actionPosition=e,r=0;r<c;r++)o=o||d[r].activateCell(e,null,!0);if(l||n&&n.restoreTabbableState(!0).length|(s=n.findTabbableElements()).length||o){for(r=0;r<c;r++)d[r].activateRow&&d[r].activateRow(i);if(l||s.length){if(i.restoreTabbableState(!0),l)return a.actionableMode=!0,a.actionPosition=null,!(a.activating=!1);if(s)return a.actionRow=i,a.actionableMode=a.ownerGrid.actionableMode=!0,u.setPosition(),u.actionPosition=a.actionPosition=e,Ext.fly(s[0]).focus(),!(a.activating=!1)}}a.activating=!1},suspendActionableMode:function(){for(var e=this.grid.actionables,t=e.length,i=0;i<t;i++)e[i].suspend()},resumeActionableMode:function(e){var t,i,n=this.grid.actionables,r=n.length;for(this.toggleChildrenTabbability(!1),t=0;t<r;t++)i=i||n[t].resume(e);i||this.activateCell(e)},onRowExit:function(e,t,i,n,r){var o,s=this,a=n?"nextSibling":"previousSibling",l=s.lockingPartner;if(l&&l.grid.isVisible()&&(o=s.all.indexOf(t),n?s.isNormalView&&o++:(l.getVisibleColumnManager().getColumns().length,s.isLockedView&&o--),s.actionPosition=null,i=(s=l).all.item(o,!0)),s.hasListeners.beforerowexit&&!1===s.fireEvent("beforerowexit",s,e,t,i,n))return!1;s.findFirstActionableElement(e,i,a,n,r)},findFirstActionableElement:function(n,e,r,o,t){var i,s,a,l,d,c,u=this,h=u.getVisibleColumnManager().getColumns(),f=h.length,g=u.grid.actionables,p=g.length,m=new Ext.grid.CellContext(u);if(e){for(m.setRow(e),s=0;s<p;s++)g[s].activateRow&&g[s].activateRow(e);for(s=o?0:f-1;(o?s<f:-1<s)&&!i;s+=o?1:-1){for(d=h[s],m.setColumn(d),d=Ext.fly(e).down(m.column.getCellSelector()),a=0;a<p;a++)l=l||g[a].activateCell(m);(d=m.getCell())&&(e=m.getNode(!0),d.restoreTabbableState(!0),((d=d.findTabbableElements()).length||l)&&(c=u.actionRow,u.actionRow=Ext.get(e),u.actionRow.restoreTabbableState(!0),i=d[o?0:d.length-1]))}i?(u.actionPosition=u.getNavigationModel().actionPosition=m,Ext.fly(i).focus(Ext.asyncFocus?1:0),c&&e!==c.dom&&c.saveTabbableState({skipSelf:!0,includeSaved:!1})):u.onRowExit(n,e,u.all.item(m.rowIdx+(o?1:-1)),o,t)}else t?u.ownerGrid.setActionableMode(!1):u.grid.ensureVisible(o?0:u.dataSource.getCount()-1,{callback:function(e,t,i){e?u.findFirstActionableElement(n,i,r,o,!0):u.ownerGrid.setActionableMode(!1)}})},stretchHeight:function(e){var t,i=this,n=i.getScrollable(),r=i.stretchers;e&&i.tabGuardEl&&(r&&(r[0].style.marginTop=r[1].style.marginTop=i.el.dom.style.height=0),i.el.dom.style.height=n.constrainScrollRange(e)+"px",0<e-i.el.dom.offsetHeight&&(i.el.dom.style.height="",r=i.getStretchers(),0<(t=e-i.el.dom.offsetHeight)&&(r[0].style.marginTop=n.constrainScrollRange(t)+"px",0<(t=e-i.el.dom.offsetHeight)&&(r[1].style.marginTop=Math.min(t,n.maxSpacerMargin||0)+"px"))))},getStretchers:function(){var e,t=this.stretchers;return t?this.el.appendChild(t):(e={cls:"x-scroller-spacer",style:"position:relative"},t=this.stretchers=this.el.appendChild([e,e],!0)),t}}}),Ext.define("Ext.rtl.view.Table",{override:"Ext.view.Table",rtlCellTpl:['<td class="'+Ext.baseCSSPrefix+'rtl {tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>" tabindex="-1" {ariaCellAttr} data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+"rtl "+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</td>",{priority:0}],beforeRender:function(){this.callParent(),this.getInherited().rtl&&this.addCellTpl(this.lookupTpl("rtlCellTpl"))},getCellPaddingAfter:function(e){return Ext.fly(e).getPadding(this.getInherited().rtl?"l":"r")}}),Ext.define("Ext.grid.Panel",{extend:"Ext.panel.Table",requires:["Ext.view.Table"],alias:["widget.gridpanel","widget.grid"],alternateClassName:["Ext.list.ListView","Ext.ListView","Ext.grid.GridPanel"],viewType:"tableview",ariaRole:"grid",lockable:!1,rowLines:!0}),Ext.define("Ext.grid.RowContext",{constructor:function(e){Ext.apply(this,e),this.widgets={}},setRecord:function(e,t){var i=this.viewModel;this.record=e,this.recordIndex=t,i&&(i.set("record",e),i.set("recordIndex",t))},free:function(){var e,t,i,n=this.widgets,r=this.viewModel;for(e in this.record=null,r&&(r.set("record"),r.set("recordIndex")),n)(i=(t=n[e]).getFocusEl())&&(i.isTabbable(!0)&&i.saveTabbableState({includeHidden:!0}),i.blur()),t.detachFromBody(),t.hidden=!0},getWidget:function(e,t){var i,n=this,r=n.widgets||(n.widgets={});return t.bind&&!n.viewModel&&(n.viewModel=Ext.Factory.viewModel({parent:n.ownerGrid.lookupViewModel(),data:{record:n.record,recordIndex:n.recordIndex}},n.ownerGrid.rowViewModel)),(i=r[e])?i.hidden=!1:(i=r[e]=Ext.widget(Ext.apply({viewModel:n.viewModel,_rowContext:n},t))).isWidget&&i.initBindable(),i},getWidgets:function(){var e,t=this.widgets,i=[];for(e in t)i.push(t[e]);return i},destroy:function(){var e,t,i=this.widgets;for(e in i)(t=i[e])._rowContext=null,t.destroy();Ext.destroy(this.viewModel),this.callParent()}}),Ext.define("Ext.grid.RowEditorButtons",{extend:"Ext.container.Container",alias:"widget.roweditorbuttons",frame:!0,shrinkWrap:!0,position:"bottom",ariaRole:"toolbar",constructor:function(e){var t=e.rowEditor,i=Ext.baseCSSPrefix,n=t.editingPlugin;e=Ext.apply({baseCls:i+"grid-row-editor-buttons",defaults:{xtype:"button",ui:t.buttonUI,scope:n,flex:1,minWidth:Ext.panel.Panel.prototype.minButtonWidth},items:[{cls:i+"row-editor-update-button",itemId:"update",handler:n.completeEdit,text:t.saveBtnText,disabled:t.updateButtonDisabled,listeners:{element:"el",keydown:this.onUpdateKeyDown,scope:this}},{cls:i+"row-editor-cancel-button",itemId:"cancel",handler:n.cancelEdit,text:t.cancelBtnText,listeners:{element:"el",keydown:this.onCancelKeyDown,scope:this}}]},e),this.callParent([e]),this.addClsWithUI(this.position)},onUpdateKeyDown:function(e){e.shiftKey&&e.getKey()===e.TAB&&(e.stopEvent(),this.rowEditor.child(":focusable:not([isButton]):last").focus(!1,!0))},onCancelKeyDown:function(e){e.shiftKey||e.getKey()!==e.TAB||(e.stopEvent(),this.rowEditor.child(":focusable").focus(!1,!0))},setButtonPosition:function(e){var t=this.rowEditor,i=t.getHeight(),n=t.body,r="",t="";this.removeClsWithUI(this.position),this.position=e,this.addClsWithUI(e),"top"===e?r=i-n.getBorderWidth("t")+"px":t=i-n.getBorderWidth("b")+"px",this.el.setStyle({top:t,bottom:r})},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this.position},getFrameInfo:function(){var e=this.callParent();return e.top=!0,e}}}),Ext.define("Ext.grid.RowEditor",{extend:"Ext.form.Panel",alias:"widget.roweditor",requires:["Ext.tip.ToolTip","Ext.util.KeyNav","Ext.grid.RowEditorButtons"],saveBtnText:"Update",cancelBtnText:"Cancel",errorsText:"Errors",dirtyText:"You need to commit or cancel your changes",lastScrollLeft:0,lastScrollTop:0,border:!1,tabGuard:!0,_wrapCls:Ext.baseCSSPrefix+"grid-row-editor-wrap",errorCls:Ext.baseCSSPrefix+"grid-row-editor-errors-item",buttonUI:"default",hideMode:"offsets",_cachedNode:!1,initComponent:function(){var e,t=this,i=t.editingPlugin.grid,n=Ext.container.Container;t.cls=Ext.baseCSSPrefix+"grid-editor "+Ext.baseCSSPrefix+"grid-row-editor",t.layout={type:"hbox",align:"middle"},t.lockable=i.lockable,t.lockable?(t.items=[e=t.lockedColumnContainer=new n({id:i.id+"-locked-editor-cells",scrollable:{x:!1,y:!1},layout:{type:"hbox",align:"middle"},margin:"0 1 0 0"}),n=t.normalColumnContainer=new n({scrollable:{x:!1,y:!1},flex:1,id:i.id+"-normal-editor-cells",layout:{type:"hbox",align:"middle"}})],e.getScrollable().addPartner(i.lockedGrid.view.getScrollable(),"x"),n.getScrollable().addPartner(i.normalGrid.view.getScrollable(),"x"),i.lockedGrid.on({collapse:t.onGridResize,expand:t.onGridResize,beginfloat:t.onBeginFloat,scope:t})):(t.setScrollable({x:!1,y:!1}),t.getScrollable().addPartner(i.view.getScrollable(),"x"),t.lockedColumnContainer=t.normalColumnContainer=t),t.callParent(),t.fields&&(t.addFieldsForColumn(t.fields,!0),t.insertColumnEditor(t.fields),delete t.fields),t.mon(Ext.GlobalEvents,{scope:t,show:t.repositionIfVisible}),(i=t.getForm()).trackResetOnLoad=!0,i.on("validitychange",t.onValidityChange,t),i.on("errorchange",t.onErrorChange,t)},onGridResize:function(){var e,t,i,n;this.rendered&&(e=this.getClientWidth(),i=(t=this.editingPlugin.grid).body,n=this.getFloatingButtons(),this.wrapEl.setLocalX(i.getOffsetsTo(t)[0]+i.getBorderWidth("l")-t.el.getBorderWidth("l")),this.setWidth(e),n.setLocalX((e-n.getWidth())/2),this.lockable&&this.lockedColumnContainer.setWidth(t.normalGrid.el.getLeft(!0)))},onBeginFloat:function(e){if(e.isSliding&&this.isVisible())return!1},syncAllFieldWidths:function(){var e,t,i=this.query("[isEditorComponent]"),n=i.length;for(this.preventReposition=!0,t=0;t<n;++t)(e=i[t].column).isVisible()&&this.onColumnShow(e);this.preventReposition=!1},syncFieldWidth:function(e){var t=e.getEditor();t._marginWidth=t._marginWidth||t.el.getMargin("lr"),e=e.getWidth()-t._marginWidth,t.setWidth(e),"displayfield"===t.xtype&&(t.inputWidth=e)},onValidityChange:function(e,t){this.updateButton(t)},onErrorChange:function(){var e;this.errorSummary&&this.isVisible()&&(e=this.getForm().isValid(),this[e?"hideToolTip":"showToolTip"]())},updateButton:function(e){var t=this.floatingButtons;t?t.child("#update").setDisabled(!e):this.updateButtonDisabled=!e},afterRender:function(){var e=this,t=e.editingPlugin,i=t.grid;e.scroller=i.getScrollable(),e.callParent(arguments),e.scrollingView=(i.lockable?i.normalGrid:i).view,e.scrollingViewEl=e.scrollingView.el,e.scroller.on("scroll",e.onViewScroll,e),e.mon(e.el,{click:Ext.emptyFn,stopPropagation:!0}),e.mon(i,"resize",e.onGridResize,e),e.lockable&&i.lockedGrid.view.on("resize","onGridResize",e),e.el.swallowEvent(["keypress","keydown"]),e.initKeyNav(),e.mon(t.view,{beforerefresh:e.onBeforeViewRefresh,refresh:e.onViewRefresh,itemremove:e.onViewItemRemove,scope:e}),e.syncAllFieldWidths(),e.floatingButtons&&e.body.dom.setAttribute("aria-owns",e.floatingButtons.id)},initKeyNav:function(){var e=this.editingPlugin;this.keyNav=new Ext.util.KeyNav(this.el,{tab:{fn:this.onFieldTab,scope:this},enter:e.onEnterKey,esc:e.onEscKey,scope:e})},onBeforeViewRefresh:function(e){e=e.el.dom;this.el.dom.parentNode===e&&e.removeChild(this.el.dom)},onViewRefresh:function(e){var t,i=this.context;this.completing||(i&&(t=e.getRow(i.record))?(i.row=t,this.reposition(),this.tooltip&&this.tooltip.isVisible()&&this.tooltip.setTarget(i.row)):this.editingPlugin.cancelEdit())},onViewItemRemove:function(e,t,i,n){var r,o=this,s=o.context;!n.refreshing&&s&&(n=(r=o.editingPlugin).grid.getStore(),s=o.editingPlugin.view,n.getById(o.getRecord().getId())&&!o._cachedNode?r.editing&&(o._cachedNode=!0,o.mon(s,{itemadd:o.onViewItemAdd,scope:o})):o._cachedNode||(o.activeField=null,o.editingPlugin.cancelEdit()))},onViewItemAdd:function(e,t,i,n){var r,o=this.editingPlugin;this._cachedNode&&this.context&&(r=o.view,-1!==(o=Ext.Array.indexOf(e,this.context.record))&&(o=e[o],this.context.node=o,this.context.row=r.getRow(o),this.context.cell=r.getCellByPosition(this.context,!0),this.clearCache()))},onViewScroll:function(){var e=this,t=e.editingPlugin.view.el,i=e.scrollingView,n=e.scroller.getPosition().y,r=i.getScrollX(),i=n!==e.lastScrollTop;e.lastScrollTop=n,e.lastScrollLeft=r,e.isVisible()&&((r=Ext.getDom(e.context.row))&&t.contains(r)?(e.getLocalY()&&e.setLocalY(0),i&&(e.context.row=r,e.reposition(null,!0),e.tooltip&&e.tooltip.isVisible()&&e.repositionTip())):(e.setLocalY(-400),e.floatingButtons.hide()))},onColumnResize:function(e,t){var i=this;i.rendered&&!i.editingPlugin.reconfiguring&&(i.onGridResize(),i.onViewScroll(),i.lockable?(i.lockedColumnContainer.getScrollable().syncWithPartners(),i.normalColumnContainer.getScrollable().syncWithPartners()):i.getScrollable().syncWithPartners(),e.isGroupHeader||(i.syncFieldWidth(e),i.repositionIfVisible()))},onColumnHide:function(e){this.editingPlugin.reconfiguring||e.isGroupHeader||(e.getEditor().hide(),this.repositionIfVisible())},onColumnShow:function(e){this.rendered&&!this.editingPlugin.reconfiguring&&!e.isGroupHeader&&e.getEditor&&(e.getEditor().show(),this.syncFieldWidth(e),this.preventReposition||this.repositionIfVisible())},onColumnMove:function(e,t,i){var n,r,o,s,a,l=e.isLocked()?this.lockedColumnContainer:this.normalColumnContainer;if(e.isGroupHeader){for(Ext.suspendLayouts(),a=(s=t<i)?1:0,r=0,o=(n=e.getGridColumns()).length;r<o;++r)i=(e=n[r]).getIndex(),s&&++a,this.setColumnEditor(e,i+a,l);Ext.resumeLayouts(!0)}else this.setColumnEditor(e,e.getIndex(),l)},setColumnEditor:function(e,t,i){this.addFieldsForColumn(e),i.insert(t,e.getEditor())},onColumnAdd:function(e){e.isGroupHeader&&(e=e.getGridColumns()),this.addFieldsForColumn(e),this.insertColumnEditor(e),this.preventReposition=!1},insertColumnEditor:function(e){var t,i,n;if(Ext.isArray(e))for(n=0,i=e.length;n<i;n++)this.insertColumnEditor(e[n]);else e.getEditor&&((e.isLocked()?this.lockedColumnContainer:this.normalColumnContainer).insert(e.getIndex(),t=e.getEditor()),t.on("focus",this.onFieldFocus,this),this.needsSyncFieldWidths=!0)},onFieldFocus:function(e){(Ext.isIE||Ext.isEdge)&&e.selectText&&e.selectText(e.inputEl.dom.value.length),this.activeField=e,this.context.setColumn(e.column),this.skipFocusScroll?this.skipFocusScroll=null:e.column.getView().getScrollable().scrollIntoView(e.el)},onFieldTab:function(e){var t=this,i=t.activeField,n=t.context.rowIdx,r=!e.shiftKey,o=i[r?"nextNode":"previousNode"](":focusable");e.stopEvent(),o&&o.isDescendant(t)?o.focus():t.isDirty()&&!t.autoUpdate?t.floatingButtons.child("#update").focus():(e=t.view.dataSource.getCount(),(n+=r?1:-1)<0?n=e-1:e<=n&&(n=0),r?(o=t.down(":focusable:not([isButton]):first"),i.column.getView().getScrollable().scrollIntoView(i.ownerCt.child(":focusable").el)):o=t.down(":focusable:not([isButton]):last"),t.tabGuardBeforeEl.focus(),t.editingPlugin.startEdit(n,o.column))},destroyColumnEditor:function(e){var t;e.hasEditor()&&(t=e.getEditor())&&t.destroy()},getFloatingButtons:function(){var e=this.floatingButtons;return e||this.destroying||this.destroyed||(this.floatingButtons=e=new Ext.grid.RowEditorButtons({ownerCmp:this,rowEditor:this})),e},repositionIfVisible:function(e){var t=this.view;(!e||e!==this&&e.el.isAncestor(t.el))&&this.isVisible()&&t.isVisible(!0)&&this.reposition()},isLayoutChild:function(e){return!1},getRefOwner:function(){return this.editingPlugin.grid},getRefItems:function(e){var t,i;return this.lockable?((t=[this.lockedColumnContainer]).push.apply(t,this.lockedColumnContainer.getRefItems(e)),t.push(this.normalColumnContainer),t.push.apply(t,this.normalColumnContainer.getRefItems(e))):t=this.callParent(arguments),(i=this.getFloatingButtons())&&t.push.apply(t,i.getRefItems(e)),t},reposition:function(e,t){var i,n,r=this,o=r.context,s=o&&o.row,a=r.wrapEl;s&&Ext.isElement(s)&&(i=r.syncButtonPosition(o),n=r.calculateLocalRowTop(s),s=r.calculateEditorTop(n),n=function(){r.syncEditorClip(),r.wrapAnim=null,t||(i&&r.scroller.scrollBy(0,i,!0),r.focusColumnField(o.column))},e?r.wrapAnim=a.addAnimation(Ext.applyIf({to:{top:s},duration:e.duration||125,callback:n},e)):(a.setLocalY(s),n()))},getScrollDelta:function(){var e,t=this.scroller.getElement().dom,i=this.context,n=this.body,r=0;if(i)if((r=Ext.fly(i.row).getOffsetsTo(t)[1])<0)r-=n.getBorderPadding().beforeY;else if(0<r){if(e=t.clientHeight,i=t.scrollHeight,t=this.getHeight()+this.floatingButtons.getHeight(),e===i&&e<t)return 0;0<(r=Math.max(r+t-e-n.getBorderWidth("b"),0))&&(r-=n.getBorderPadding().afterY)}return r},calculateLocalRowTop:function(e){var t=this.editingPlugin.grid;return Ext.fly(e).getOffsetsTo(t)[1]-t.el.getBorderWidth("t")+this.lastScrollTop},calculateEditorTop:function(e){e-=this.lastScrollTop;return this._buttonsOnTop?e-=this.body.dom.offsetHeight-this.context.row.offsetHeight-this.body.getBorderPadding().afterY:e-=this.body.getBorderPadding().beforeY,e},getClientWidth:function(){var e=this.editingPlugin.grid,e=this.lockable?(e.lockedGrid.collapsed&&e.lockedGrid.placeholder||e.lockedGrid).getRegion().union(e.scrollBody.el.getClientRegion()).width:e.view.el.dom.clientWidth;return e},getEditor:function(e){return Ext.isNumber(e)?this.query("[isEditorComponent]")[e]:e.isHeader&&!e.isGroupHeader?e.getEditor():void 0},addFieldsForColumn:function(e,t){var i,n,r,o;if(Ext.isArray(e))for(i=0,n=e.length;i<n;i++)this.addFieldsForColumn(e[i],t);else e.getEditor&&(r=e.getEditor(null,this.getDefaultFieldCfg()),"right"===e.align&&((o=r.fieldStyle)?(o=Ext.isObject(o)?Ext.apply({},o):Ext.dom.Element.parseStyles(o)).textAlign||o["text-align"]||(o.textAlign="right"):o="text-align:right",r.fieldStyle=o),"actioncolumn"===e.xtype&&(r.fieldCls+=" "+Ext.baseCSSPrefix+"form-action-col-field"),this.isVisible()&&this.context&&(r.is("displayfield")?this.renderColumnData(r,this.context.record,e):(r.suspendEvents(),r.setValue(this.context.record.get(e.dataIndex)),r.resumeEvents())),e.hidden?this.onColumnHide(e):e.rendered&&!t&&this.onColumnShow(e))},getDefaultFieldCfg:function(){return{xtype:"displayfield",skipLabelForAttribute:!0,getModelData:function(){return null}}},loadRecord:function(e){for(var t,i,n=this.getForm(),r=n.getFields().items,o=r.length,s=0;s<o;s++)(i=r[s]).suspendEvents(),i.resetToInitialValue();for(n.loadRecord(e),s=0;s<o;s++)r[s].resumeEvents();for(n.hasInvalidField()===n.wasValid&&delete n.wasValid,n=n.isValid(),this.errorSummary&&(n?this.hideToolTip():this.showToolTip()),this.updateButton(n),o=(t=this.query(">displayfield")).length,s=0;s<o;s++)this.renderColumnData(t[s],e)},renderColumnData:function(e,t,i){var n,r=this.editingPlugin.grid.headerCt,o=this.scrollingView,s=o.dataSource,a=i||e.column,l=t.get(a.dataIndex),d=a.editRenderer||a.renderer,c=a.usingDefaultRenderer&&!a.scope?a:a.scope;d&&(n={tdCls:"",style:""},i=s.indexOf(t),a=r.getHeaderIndex(a),l=d.call(c||r.ownerCt,l,n,t,i,a,s,o)),e.setRawValue(l)},beforeEdit:function(){var e,t=this;if(t.lockable&&t.editingPlugin.grid.lockedGrid.floatedFromCollapse)return!1;if(t.isVisible()&&(t.isDirty()||t.context.record.phantom))if(t.autoUpdate)t.editingPlugin.completeEdit();else if(t.autoCancel)t.editingPlugin.cancelEdit();else if(t.errorSummary)return(e=t.getScrollDelta())&&t.scrollingViewEl.scrollBy(0,e,!0),t.showToolTip(),!1},startEdit:function(e,t){var i=this,n=i.editingPlugin,r=n.grid,o=i.context=n.context,s=i.isVisible(),a=i.wrapEl,n=i.rendered;i._cachedNode&&i.clearCache(),Ext.suspendLayouts(),n||(i.width=i.getClientWidth(),i.render(r.el,r.el.dom.firstChild),(a=i.wrapEl=i.el.wrap()).setVisibilityMode(3),a.addCls(i._wrapCls),i.getFloatingButtons().render(a),i.onViewScroll()),i.setLocalY(0),o.grid.getSelectionModel().selectByPosition({row:e,column:t}),i.rendered&&i.formAriaLabel&&(o=Ext.String.formatEncode(i.formAriaLabel,i.formAriaLabelRowBase+o.rowIdx),i.body.dom.setAttribute("aria-label",o)),i.onGridResize(),Ext.resumeLayouts(s),s?i.reposition(!0):(i.skipFocusScroll=!0,i.show()),i.loadRecord(e),n||(i.lockable?(i.lockedColumnContainer.getScrollable().syncWithPartners(),i.normalColumnContainer.getScrollable().syncWithPartners()):i.getScrollable().syncWithPartners())},syncButtonPosition:function(e){var t=this,i=t.getScrollDelta(),n=t.getFloatingButtons(),r=(t.scrollingView,i-(Math.max(0,t.scroller.getSize().y-t.scroller.getClientSize().y)-t.scroller.getPosition().y));return n.show(),0<r||0<e.rowIdx&&e.isLastRenderedRow()?(t._buttonsOnTop||(n.setButtonPosition("top"),t._buttonsOnTop=!0,t.layout.setAlign("bottom"),t.updateLayout()),i=0):!1!==t._buttonsOnTop?(n.setButtonPosition("bottom"),t._buttonsOnTop=!1,t.layout.setAlign("top"),t.updateLayout()):n.setButtonPosition(n.position),i},syncEditorClip:function(){var e=this.tooltip,t=this.scroller.getElement().getConstrainRegion();this.clipTo(t),this.floatingButtons.clipTo(t),e&&e.isVisible()&&e.clipTo(t,5)},focusColumnField:function(e){var t,i;e&&!e.destroyed&&(e.isVisible()&&(t=this.getEditor(e))&&t.isFocusable(!0)&&(i=!0,t.focus()),i||this.focusColumnField(e.next()))},cancelEdit:function(){var e,t=this.getForm(),i=t.getFields().items,n=i.length,r=this.context.record;for(this._cachedNode&&this.clearCache(),this.hide(),r&&r.phantom&&!r.modified&&this.removeUnmodified&&this.editingPlugin.grid.store.remove(r),t.clearInvalid(),e=0;e<n;e++)i[e].suspendEvents();for(t.reset(),e=0;e<n;e++)i[e].resumeEvents()},clearCache:function(){this.mun(this.editingPlugin.view,{itemadd:this.onViewItemAdd,scope:this}),this._cachedNode=!1},completeEdit:function(){var e=this.getForm();return!!e.isValid()&&(this.completing=!0,e.updateRecord(this.context.record),this.hide(),!(this.completing=!1))},onShow:function(){var e=this;e.wrapEl.show(),e.callParent(arguments),e.needsSyncFieldWidths&&(e.suspendLayouts(),e.preventReposition=!0,e.syncAllFieldWidths(),e.preventReposition=!1,e.resumeLayouts(!0)),delete e.needsSyncFieldWidths,e.rendered&&e.initTabGuards(!0),e.reposition()},onHide:function(){var e=this,t=e.context,i=Ext.Element.getActiveElement();e.context=null,i=(e.el.contains(i)&&e.activeField?e.activeField:t).column,(i=new Ext.grid.CellContext(i.getView()).setPosition(t.record,i)).view.getNavigationModel().setPosition(i),e.activeField=null,e.wrapEl.hide(),e.callParent(arguments),e.rendered&&e.initTabGuards(!1),e.tooltip&&e.hideToolTip()},onResize:function(e,t){this.wrapEl.setSize(e,t)},isDirty:function(){return this.getForm().isDirty()},getToolTip:function(){var e=this.tooltip,t=this.editingPlugin.grid;return e||(this.tooltip=e=new Ext.tip.ToolTip({cls:Ext.baseCSSPrefix+"grid-row-editor-errors",title:this.errorsText,autoHide:!1,closable:!0,closeAction:"disable",anchor:"left",anchorToTarget:!0,targetOffset:[Ext.getScrollbarSize().width,0],constrainPosition:!0,constrainTo:document.body}),t.add(e),this.mon(t,{afterlayout:this.onGridLayout,scope:this})),e},hideToolTip:function(){var e=this.getToolTip();e.rendered&&e.disable()},showToolTip:function(e){var t=this.getToolTip();if(!e&&this.wrapAnim)return this.wrapAnim.on({afteranimate:this.showToolTip,scope:this,single:!0});t.update(this.getErrors()),this.repositionTip(),t.enable()},onGridLayout:function(){this.tooltip&&this.tooltip.isVisible()&&this.repositionTip()},repositionTip:function(){var e=this.getToolTip();e.isVisible()?e.handleAfterShow():e.showBy(this.el),this.syncEditorClip()},getErrors:function(){for(var e,t,i=[],n=this.query(">[isFormField]"),r=n.length,o=0;o<r;o++)(e=(t=n[o]).getErrors()).length&&i.push(this.createErrorListItem(e[0],t.column.text));return i.length||this.autoCancel||!this.isDirty()||(i[0]=this.createErrorListItem(this.dirtyText)),'<ul class="'+Ext.baseCSSPrefix+'list-plain">'+i.join("")+"</ul>"},createErrorListItem:function(e,t){return e=t?t+": "+e:e,'<li class="'+this.errorCls+'">'+e+"</li>"},doDestroy:function(){this.wrapAnim&&(Ext.fx.Manager.removeAnim(this.wrapAnim),this.wrapAnim=null),this.floatingButtons=this.tooltip=Ext.destroy(this.floatingButtons,this.tooltip),this.callParent()}}),Ext.define("Ext.grid.Scroller",{constructor:Ext.deprecated()}),Ext.define("Ext.view.DropZone",{extend:"Ext.dd.DropZone",indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",indicatorHtml:['<div class="',Ext.baseCSSPrefix,'grid-drop-indicator-left" role="presentation"></div>','<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>'].join(""),constructor:function(e){Ext.apply(this,e),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),this.callParent([this.view.el])},fireViewEvent:function(){var e;return this.lock(),e=this.view.fireEvent.apply(this.view,arguments),this.unlock(),e},getTargetFromEvent:function(e){var t,i,n,r,o,s=e.getTarget(this.view.getItemSelector());if(!s)for(t=e.getY(),r=0,o=(i=this.view.getNodes()).length;r<o;r++)if(n=i[r],t<=Ext.fly(n).getBox().bottom)return n;return s},getIndicator:function(){return this.indicator||(this.indicator=new Ext.Component({ariaRole:"presentation",html:this.indicatorHtml,cls:this.indicatorCls,ownerCt:this.view,floating:!0,alignOnScroll:!1,shadow:!1})),this.indicator},getPosition:function(e,t){e=e.getXY()[1],t=Ext.fly(t).getRegion(),t=t.bottom-e>=(t.bottom-t.top)/2?"before":"after";return t},containsRecordAtOffset:function(e,t,i){if(!t)return!1;var n=this.view,t=n.indexOf(t),i=n.getNode(t+i),i=i?n.getRecord(i):null;return i&&Ext.Array.contains(e,i)},positionIndicator:function(e,t,i){var n=this,r=n.view,o=n.getPosition(i,e),i=r.getRecord(e),t=t.records;Ext.Array.contains(t,i)||("before"!==o||n.containsRecordAtOffset(t,i,-1))&&("after"!==o||n.containsRecordAtOffset(t,i,1))?n.invalidateDrop():(n.valid=!0,n.overRecord===i&&n.currentPosition===o||(t=Ext.fly(e).getY()-r.el.getY()-1,"after"===o&&(t+=Ext.fly(e).getHeight()),n.getIndicator().setWidth(Ext.fly(r.el).getWidth()).showAt(0,t),n.overRecord=i,n.currentPosition=o))},invalidateDrop:function(){this.valid&&(this.valid=!1,this.getIndicator().hide())},onNodeOver:function(e,t,i,n){return Ext.Array.contains(n.records,this.view.getRecord(e))||this.positionIndicator(e,n,i),this.valid?this.dropAllowed:this.dropNotAllowed},notifyOut:function(e,t,i,n){this.callParent(arguments),this.overRecord=this.currentPosition=null,this.valid=!1,this.indicator&&this.indicator.hide()},onContainerOver:function(e,t,i){var n=this.view;return n.dataSource.getCount()?this.positionIndicator(n.all.last(),i,t):(this.overRecord=this.currentPosition=null,this.getIndicator().setWidth(Ext.fly(n.el).getWidth()).showAt(0,0),this.valid=!0),this.dropAllowed},onContainerDrop:function(e,t,i){return this.onNodeDrop(e,null,t,i)},onNodeDrop:function(e,t,i,n){var r=this,o=!1,s={wait:!1,processDrop:function(){r.invalidateDrop(),r.handleNodeDrop(n,r.overRecord,r.currentPosition),o=!0,r.fireViewEvent("drop",e,n,r.overRecord,r.currentPosition)},cancelDrop:function(){r.invalidateDrop(),o=!0}},a=!1;if(r.valid){if(a=r.fireViewEvent("beforedrop",e,n,r.overRecord,r.currentPosition,s),s.wait)return;!1!==a&&(o||s.processDrop())}return a},destroy:function(){this.indicator=Ext.destroy(this.indicator),this.callParent()}}),Ext.define("Ext.grid.ViewDropZone",{extend:"Ext.view.DropZone",indicatorHtml:'<div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-left" role="presentation"></div><div class="'+Ext.baseCSSPrefix+'grid-drop-indicator-right" role="presentation"></div>',indicatorCls:Ext.baseCSSPrefix+"grid-drop-indicator",handleNodeDrop:function(e,t,i){var n,r,o,s=this.view,a=s.getStore(),l=s!==e.view;if(e.copy)for(r=0,o=(n=e.records).length;r<o;r++)n[r]=n[r].copy();else l&&e.view.store.remove(e.records);t&&i?(t=a.indexOf(t),"before"!==i&&t++,a.insert(t,e.records)):a.add(e.records),l&&s.getSelectionModel().select(e.records),s.getNavigationModel().setPosition(e.records[0])}}),Ext.define("Ext.grid.plugin.HeaderResizer",{extend:"Ext.plugin.Abstract",requires:["Ext.dd.DragTracker","Ext.util.Region"],alias:"plugin.gridheaderresizer",disabled:!1,config:{dynamic:!1},colHeaderCls:Ext.baseCSSPrefix+"column-header",minColWidth:40,maxColWidth:1e3,eResizeCursor:"col-resize",init:function(e){(this.headerCt=e).on("render",this.afterHeaderRender,this,{single:this}),this.minColWidth||(this.self.prototype.minColWidth=Ext.grid.column.Column.prototype.minWidth)},destroy:function(){var e=this.tracker;e&&(e.destroy(),this.tracker=null),this.headerCt.un("render",this.afterHeaderRender,this),this.headerCt=null,this.callParent()},afterHeaderRender:function(){var e=this,t=e.headerCt,i=t.el;t.mon(i,"mousemove",e.onHeaderCtMouseMove,e),e.markerOwner=e.ownerGrid=e.headerCt.up("tablepanel").ownerGrid,e.tracker=new Ext.dd.DragTracker({disabled:e.disabled,onBeforeStart:e.onBeforeStart.bind(e),onStart:e.onStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onEnd.bind(e),onCancel:e.onCancel.bind(e),tolerance:3,autoStart:300,el:i}),t.setTouchAction({panX:!1})},onHeaderCtMouseMove:function(e){this.headerCt.dragging||this.disabled?this.activeHd&&(this.activeHd.el.dom.style.cursor="",delete this.activeHd):"touch"!==e.pointerType&&this.findActiveHeader(e)},findActiveHeader:function(e){var t,i,n=this.headerCt,r=e.getTarget("."+this.colHeaderCls,n.el,!0),o=this.ownerGrid,s=o.ownerLockable;if(this.activeHd=null,r){if((r=Ext.getCmp(r.id)).isAtEndEdge(e)){if(1===n.visibleColumnManager.getColumns().length&&n.forceFit)return;t=r}else r.isAtStartEdge(e)&&(i=n.visibleColumnManager.getColumns(),n=r.isGroupHeader?r.getGridColumns()[0]:r,(t=i[Ext.Array.indexOf(i,n)-1])||!s||o.isLocked||(t=(i=s.lockedGrid.headerCt.visibleColumnManager.getColumns())[i.length-1]));t?(t.isGroupHeader&&(t=(i=t.getGridColumns())[i.length-1]),t&&!t.fixed&&!1!==t.resizable&&(this.activeHd=t,r.el.dom.style.cursor=this.eResizeCursor,r.triggerEl&&(r.triggerEl.dom.style.cursor=this.eResizeCursor))):(r.el.dom.style.cursor="",r.triggerEl&&(r.triggerEl.dom.style.cursor=""))}return this.activeHd},onBeforeStart:function(e){var t=this;return t.dragHd=t.activeHd||"touch"===e.pointerType&&t.findActiveHeader(e),t.dragHd&&!t.headerCt.dragging?(e.claimGesture(),t.xDelta=t.dragHd.getX()+t.dragHd.getWidth()-t.tracker.getXY()[0],t.tracker.constrainTo=t.getConstrainRegion(),!0):t.headerCt.dragging=!1},onCancel:function(e){this.dragHd=this.activeHd=null,this.headerCt.dragging=!1},getConstrainRegion:function(){var e,t=this,i=t.dragHd.el,n=t.ownerGrid,r=n.getSizeModel().width,o=r.shrinkWrap?t.headerCt.getWidth()-t.headerCt.visibleColumnManager.getColumns().length*t.minColWidth:t.maxColWidth;return t.headerCt.forceFit?(e=t.dragHd.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&t.headerInSameGrid(e)&&(o=i.getWidth()+(e.getWidth()-t.minColWidth)):n.isLocked&&r.shrinkWrap&&(o=t.dragHd.up("[scrollerOwner]").getTargetEl().getWidth(!0)-n.getWidth()-(n.ownerLockable.normalGrid.visibleColumnManager.getColumns().length*t.minColWidth+Ext.getScrollbarSize().width)),(t=t.adjustConstrainRegion(i.getRegion(),0,0,0,t.minColWidth)).right=i.getX()+o,t},onStart:function(e){var t,i,n,r,o=this,s=o.dragHd,a=s.el.getWidth(),l=s.getRootHeaderCt();o.headerCt.dragging=!0,o.origWidth=a,o.dynamic||((i=o.markerOwner).frame&&i.resizable&&(o.gridOverflowSetting=i.el.dom.style.overflow,i.el.dom.style.overflow="hidden"),t=o.getLeftMarkerX(i),n=i.getLhsMarker(),r=i.getRhsMarker(),s=o.ownerGrid.body.getHeight()+l.getHeight(),i=l.getOffsetsTo(i)[1]-i.el.getBorderWidth("t"),n.dom.style.cursor=o.eResizeCursor,r.dom.style.cursor=o.eResizeCursor,n.setLocalY(i),r.setLocalY(i),n.setHeight(s),r.setHeight(s),o.setMarkerX(n,t),o.setMarkerX(r,t+a))},onDrag:function(e){this.dynamic?this.doResize():this.setMarkerX(this.getMovingMarker(this.markerOwner),this.calculateDragX(this.markerOwner))},getMovingMarker:function(e){return e.getRhsMarker()},onEnd:function(e){var t=this,i=t.markerOwner;t.headerCt.dragging=!1,t.dragHd&&(t.dynamic||("gridOverflowSetting"in t&&(i.el.dom.style.overflow=t.gridOverflowSetting),t.setMarkerX(i.getLhsMarker(),-9999),t.setMarkerX(i.getRhsMarker(),-9999)),t.doResize(),"touch"!==e.pointerType?(t.dragHd=null,t.activeHd.el.dom.style.cursor=t.eResizeCursor):t.dragHd=t.activeHd=null),t.headerCt.blockNextEvent()},doResize:function(){var e=this.dragHd,t=this.tracker.getOffset("point");e&&t[0]&&(e.flex&&delete e.flex,Ext.suspendLayouts(),this.adjustColumnWidth(t[0]-this.xDelta),this.headerCt.forceFit&&((e=e.nextNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&!this.headerInSameGrid(e)&&(e=null),e&&(delete e.flex,e.setWidth(e.getWidth()-t[0]))),Ext.resumeLayouts(!0))},headerInSameGrid:function(e){var t=this.dragHd.up("tablepanel");return!!e.up(t)},disable:function(){var e=this.tracker;this.disabled=!0,e&&e.disable()},enable:function(){var e=this.tracker;this.disabled=!1,e&&e.enable()},calculateDragX:function(e){return this.tracker.getXY("point")[0]+this.xDelta-e.getX()-e.el.getBorderWidth("l")},getLeftMarkerX:function(e){return this.dragHd.getX()-e.getX()-e.el.getBorderWidth("l")-1},setMarkerX:function(e,t){e.setLocalX(t)},adjustConstrainRegion:function(e,t,i,n,r){return e.adjust(t,i,n,r)},adjustColumnWidth:function(e){this.dragHd.setWidth(this.origWidth+e)}}),Ext.define("Ext.rtl.grid.plugin.HeaderResizer",{override:"Ext.grid.plugin.HeaderResizer",onBeforeStart:function(e){return this.headerCt.isOppositeRootDirection()?(this.dragHd=this.activeHd,this.dragHd&&!this.headerCt.dragging?(this.xDelta=this.dragHd.getX()-this.tracker.getXY()[0],this.tracker.constrainTo=this.getConstrainRegion(),!0):this.headerCt.dragging=!1):this.callParent(arguments)},adjustColumnWidth:function(e){this.headerCt.isOppositeRootDirection()&&(e=-e),this.callParent([e])},adjustConstrainRegion:function(e,t,i,n,r){return this.headerCt.isOppositeRootDirection()?e.adjust(t,-r,n,-i):this.callParent(arguments)},calculateDragX:function(e){var t=e.getX(),i=this.tracker.getXY("point")[0];return this.headerCt.isOppositeRootDirection()?i-t+this.xDelta:this.callParent(arguments)},getMovingMarker:function(e){return this.headerCt.isOppositeRootDirection()?e.getLhsMarker():e.getRhsMarker()},setMarkerX:function(e,t){var i=this.headerCt;i.getInherited().rtl&&!i.isOppositeRootDirection()?e.rtlSetLocalX(t):this.callParent(arguments)}}),Ext.define("Ext.grid.header.DragZone",{extend:"Ext.dd.DragZone",colHeaderSelector:"."+Ext.baseCSSPrefix+"column-header",colInnerSelector:"."+Ext.baseCSSPrefix+"column-header-inner",maxProxyWidth:120,constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.autoGroup=!0,this.callParent([e.el]),this.proxy.el.addCls(Ext.baseCSSPrefix+"grid-col-dd")},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getDragData:function(e){if(e.getTarget(this.colInnerSelector)){var t,i=e.getTarget(this.colHeaderSelector);if(i&&(t=Ext.getCmp(i.id),!this.headerCt.dragging&&t.draggable&&!t.isAtStartEdge(e)&&!t.isAtEndEdge(e)))return(e=document.createElement("div")).role="presentation",e.innerHTML=t.text,{ddel:e,header:t}}return!1},onBeforeDrag:function(){return!(this.headerCt.dragging||this.disabled)},onInitDrag:function(){this.headerCt.dragging=!0,this.headerCt.hideMenu(),this.callParent(arguments)},onDragDrop:function(){this.headerCt.dragging=!1,this.callParent(arguments)},afterRepair:function(){this.callParent(),this.headerCt.dragging=!1},getRepairXY:function(){return this.dragData.header.el.getXY()},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1}}),Ext.define("Ext.grid.header.DropZone",{extend:"Ext.dd.DropZone",colHeaderCls:Ext.baseCSSPrefix+"column-header",proxyOffsets:[-4,-9],constructor:function(e){this.headerCt=e,this.ddGroup=this.getDDGroup(),this.autoGroup=!0,this.callParent([e.el])},destroy:function(){Ext.destroy(this.topIndicator,this.bottomIndicator),this.callParent()},getDDGroup:function(){return"header-dd-zone-"+this.headerCt.up("[scrollerOwner]").id},getTargetFromEvent:function(e){return e.getTarget("."+this.colHeaderCls)},getTopIndicator:function(){return this.topIndicator||(this.topIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-top","data-sticky":!0,html:"&#160;"}),this.indicatorXOffset=Math.floor((this.topIndicator.dom.offsetWidth+1)/2)),this.topIndicator},getBottomIndicator:function(){return this.bottomIndicator||(this.bottomIndicator=Ext.getBody().createChild({role:"presentation",cls:Ext.baseCSSPrefix+"col-move-bottom","data-sticky":!0,html:"&#160;"})),this.bottomIndicator},getLocation:function(e,t){var i=e.getXY()[0],e=Ext.fly(t).getRegion(),e=e.right-i<=(e.right-e.left)/2?"after":"before";return{pos:e,header:Ext.getCmp(t.id),node:t}},positionIndicator:function(e,t,i){var n,r,o,s,a,l=this,d=e.header,c=l.getLocation(i,t),u=c.header,h=c.pos;if(u!==l.lastTargetHeader||h!==l.lastDropPos){if(i=d.nextSibling("gridcolumn:not([hidden])"),t=d.previousSibling("gridcolumn:not([hidden])"),l.lastTargetHeader=u,l.lastDropPos=h,!u.draggable&&"before"===h&&0===u.getIndex())return!1;if(e.dropLocation=c,d!==u&&("before"===h&&i!==u||"after"===h&&t!==u)&&!u.isDescendantOf(d)){for(o=(r=Ext.dd.DragDropManager.getRelated(l)).length,s=0;s<o;s++)(a=r[s])!==l&&a.invalidateDrop&&a.invalidateDrop();l.valid=!0,i=l.getTopIndicator(),t=l.getBottomIndicator(),d="before"===h?(n="bc-tl","tc-bl"):(n="bc-tr","tc-br"),h=i.getAlignToXY(u.el,n),n=t.getAlignToXY(u.el,d),d=(u=l.headerCt.el).getX()-l.indicatorXOffset,u=u.getX()+u.getWidth(),h[0]=Ext.Number.constrain(h[0],d,u),n[0]=Ext.Number.constrain(n[0],d,u),i.setXY(h),t.setXY(n),i.show(),t.show()}else l.invalidateDrop()}},invalidateDrop:function(){this.valid=!1,this.hideIndicators()},onNodeOver:function(e,t,i,n){var r,o,s,a=n.header;return n.header.el.dom===e?r=!1:(n.isLock=n.isUnlock=n.crossPanel=!1,s=this.getLocation(i,e).header,(r=a.ownerCt===s.ownerCt)||a.ownerCt.sealed||s.ownerCt.sealed||(r=!0,(o=a.up("tablepanel"))!==(s=s.up("tablepanel"))&&(n.crossPanel=!0,n.isLock=s.isLocked&&!o.isLocked,n.isUnlock=!s.isLocked&&o.isLocked,(n.isUnlock&&!1===a.lockable||n.isLock&&!a.isLockable())&&(r=!1)))),r?this.positionIndicator(n,e,i):this.valid=!1,this.valid?this.dropAllowed:this.dropNotAllowed},hideIndicators:function(){this.getTopIndicator().hide(),this.getBottomIndicator().hide(),this.lastTargetHeader=this.lastDropPos=null},onNodeOut:function(){this.hideIndicators()},getNestedHeader:function(e,t){var i,n=e.items;return e.isGroupHeader&&n.length&&(i=t?"last":"first",e=this.getNestedHeader(n[i](),t)),e},onNodeDrop:function(e,t,i,n){var r,o,s,a,l,d,c,u,h,f;this.headerCt.blockNextEvent(),this.valid&&(r=n.header,o=(h=n.dropLocation).pos,u=h.header,a=(s=r.ownerCt).getRootHeaderCt(),l=u.ownerCt,d=(f=this.headerCt.visibleColumnManager).getHeaderIndex(r),n.isLock||n.isUnlock?(h=s.up("[scrollerOwner]"),c=l.items.indexOf(u),"after"===o&&c++,n.isLock?h.lock(r,c,l):h.unlock(r,c,l)):(c="after"===o?f.getHeaderIndex(this.getNestedHeader(u,1))+1:f.getHeaderIndex(this.getNestedHeader(u,0)),this.invalidateDrop(),f=r.getWidth(),Ext.suspendLayouts(),a.isDDMoveInGrid=!n.crossPanel,r.isGroupHeader&&u.isGroupHeader&&r.setNestedParent(u),"before"===o?l.moveBefore(r,u):l.moveAfter(r,u),0<=c&&(!u.isGroupHeader||u.items&&u.items.length)&&d!==c&&(u=r.isGroupHeader?r.query(":not([hidden]):not([isGroupHeader])").length:1,d<=c&&1<u&&(c-=u),l.getRootHeaderCt().grid.view.moveColumn(d,c,u)),a.fireEvent("columnmove",s,r,d,c),a.isDDMoveInGrid=!1,l.isGroupHeader&&!s.isGroupHeader?s!==l&&(r.savedFlex=r.flex,delete r.flex,r.width=f):s.isGroupHeader||r.savedFlex&&(r.flex=r.savedFlex,delete r.width),Ext.resumeLayouts(!0),this.headerCt.grid.floated&&this.headerCt.grid.updateLayout()))}}),Ext.define("Ext.grid.plugin.HeaderReorderer",{extend:"Ext.plugin.Abstract",requires:["Ext.grid.header.DragZone","Ext.grid.header.DropZone"],alias:"plugin.gridheaderreorderer",init:function(e){(this.headerCt=e).on({boxready:this.onHeaderCtRender,single:!0,scope:this})},destroy:function(){this.headerCt.un("boxready",this.onHeaderCtRender,this),Ext.destroy(this.dragZone,this.dropZone),this.headerCt=this.dragZone=this.dropZone=null,this.callParent()},onHeaderCtRender:function(e){this.dragZone=new Ext.grid.header.DragZone(this.headerCt),this.dropZone=new Ext.grid.header.DropZone(this.headerCt),this.disabled&&this.dragZone.disable(),e.setTouchAction({panX:!1})},enable:function(){this.disabled=!1,this.dragZone&&this.dragZone.enable()},disable:function(){this.disabled=!0,this.dragZone&&this.dragZone.disable()}}),Ext.define("Ext.grid.header.Container",{extend:"Ext.container.Container",requires:["Ext.grid.ColumnLayout","Ext.grid.plugin.HeaderResizer","Ext.grid.plugin.HeaderReorderer","Ext.util.KeyNav"],uses:["Ext.grid.column.Column","Ext.grid.ColumnManager","Ext.menu.Menu","Ext.menu.CheckItem","Ext.menu.Separator"],mixins:["Ext.util.FocusableContainer"],border:!0,alias:"widget.headercontainer",baseCls:Ext.baseCSSPrefix+"grid-header-ct",dock:"top",weight:100,defaultType:"gridcolumn",defaultWidth:100,sortAscText:"Sort Ascending",sortDescText:"Sort Descending",sortClearText:"Clear Sort",columnsText:"Columns",headerOpenCls:Ext.baseCSSPrefix+"column-header-open",menuSortAscCls:Ext.baseCSSPrefix+"hmenu-sort-asc",menuSortDescCls:Ext.baseCSSPrefix+"hmenu-sort-desc",menuColsIcon:Ext.baseCSSPrefix+"cols-icon",blockEvents:!1,dragging:!1,sortOnClick:!0,enableFocusableContainer:!1,childHideCount:0,sortable:!0,enableColumnHide:!0,initComponent:function(){var e=this;e.plugins=e.plugins||[],e.defaults=e.defaults||{},e.isColumn||(e.isRootHeader=!0,e.enableColumnResize&&(e.resizer=new Ext.grid.plugin.HeaderResizer,e.plugins.push(e.resizer)),e.enableColumnMove&&(e.reorderer=new Ext.grid.plugin.HeaderReorderer,e.plugins.push(e.reorderer))),e.isColumn&&!e.isGroupHeader?e.items&&0!==e.items.length||(e.isContainer=e.isFocusableContainer=!1,e.hasOwnProperty("focusable")||(e.focusable=!0),e.layout={type:"container",calculate:Ext.emptyFn}):(e.layout=Ext.apply({type:"gridcolumn",align:"stretch"},e.initialConfig.layout),e.defaults.columnLines=e.columnLines,e.isRootHeader?(e.hiddenHeaders||(e.enableFocusableContainer=!0,e.ariaRole="rowgroup"),e.columnManager=new Ext.grid.ColumnManager(!1,e),e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.grid&&(e.grid.columnManager=e.columnManager,e.grid.visibleColumnManager=e.visibleColumnManager)):(e.visibleColumnManager=new Ext.grid.ColumnManager(!0,e),e.columnManager=new Ext.grid.ColumnManager(!1,e))),e.menuTask=new Ext.util.DelayedTask(e.updateMenuDisabledState,e),e.callParent()},isNested:function(){return!!this.getRootHeaderCt().down("[isNestedParent]")},isNestedGroupHeader:function(){var e=this.getRefOwner().query(">:not([hidden])");return 1===e.length&&e[0]===this},maybeShowNestedGroupHeader:function(){var e,t=this.items;t&&1===t.length&&(e=t.getAt(0))&&e.hidden&&e.show()},setNestedParent:function(e){e.isNestedParent=!1,e.ownerCt.isNestedParent=!(1!==this.ownerCt.items.length||1!==e.ownerCt.items.length)},initEvents:function(){var e,t=this;t.callParent(),t.isColumn||t.isGroupHeader||(e={click:e=t.onHeaderCtEvent,dblclick:e,contextmenu:e,mousedown:t.onHeaderCtMouseDown,mouseover:t.onHeaderCtMouseOver,mouseout:t.onHeaderCtMouseOut,scope:t},Ext.supports.Touch&&(e.longpress=t.onHeaderCtLongPress),t.mon(t.el,e))},onHeaderCtEvent:function(e,t){var i,n,r=this.getHeaderElByEvent(e);this.longPressFired?this.longPressFired=!1:r&&!this.blockEvents&&(i=Ext.getCmp(r.id))&&(n=i[i.clickTargetName],(i.isGroupHeader||i.isContainer)&&!e.within(n)||("click"===e.type||"tap"===e.type?(r=i.onTitleElClick(e,n,this.sortOnClick))?this.onHeaderTriggerClick(r,e,"touch"===e.pointerType?r.el:r.triggerEl):this.onHeaderClick(i,e,t):"contextmenu"===e.type?this.onHeaderContextMenu(i,e,t):"dblclick"===e.type&&i.resizable&&i.onTitleElDblClick(e,n.dom)))},blockNextEvent:function(){this.blockEvents=!0,Ext.asap(this.unblockEvents,this)},unblockEvents:function(){this.blockEvents=!1},onHeaderCtMouseDown:function(e,t){var i,n,r,o,s,a=Ext.Component.fromElement(t);if(a!==this){if(a.isGroupHeader)for(i=a.getVisibleGridColumns(),o=this.getScrollable(),n=0,r=i.length;n<r;++n)if(s=i[n],o.doIsInView(s.el,!0).x){a=s;break}a.focus()}},onHeaderCtMouseOver:function(e,t){var i,n;e.within(this.el,!0)||(i=(n=e.getTarget("."+Ext.grid.column.Column.prototype.baseCls))&&Ext.getCmp(n.id))&&(n=i[i.clickTargetName],e.within(n)&&i.onTitleMouseOver(e,n.dom))},onHeaderCtMouseOut:function(e,t){var i,n,r="."+Ext.grid.column.Column.prototype.baseCls,o=e.getTarget(r),r=e.getRelatedTarget(r);o!==r&&(o&&(i=Ext.getCmp(o.id))&&(n=i[i.clickTargetName],i.onTitleMouseOut(e,n.dom)),r&&(i=Ext.getCmp(r.id))&&(n=i[i.clickTargetName],i.onTitleMouseOver(e,n.dom)))},onHeaderCtLongPress:function(e){var t,i=this.getHeaderElByEvent(e);i&&(t=Ext.getCmp(i.id))&&!t.menuDisabled&&(this.longPressFired=!0,this.showMenuBy(e,i,t))},getHeaderElByEvent:function(e){return e.getTarget("."+Ext.grid.column.Column.prototype.baseCls)},isLayoutRoot:function(){return!this.hiddenHeaders&&this.callParent()},getRootHeaderCt:function(){return this.isRootHeader?this:this.up("[isRootHeader]")},doDestroy:function(){this.menu&&this.menu.un("hide",this.onMenuHide,this),this.menuTask.cancel(),Ext.destroy(this.visibleColumnManager,this.columnManager,this.menu),this.callParent()},applyColumnsState:function(e,t){if(e){for(var i,n,r,o,s=this.items.items,a=s.length,l=0,d=!1,c=[],u=[],l=0;l<a;l++)(r=e[(n=s[l]).getStateId()])?(l!==(o=r.index)&&(d=!0),(c[o]=n).applyColumnState&&n.applyColumnState(r,t)):u.push({index:l,column:n});if(c=Ext.Array.clean(c),i=u.length)for(l=0;l<i;l++)(o=(r=u[l]).index)<c.length?(d=!0,Ext.Array.splice(c,o,0,r.column)):c.push(r.column);d&&(this.applyingState=!0,this.removeAll(!1),delete this.applyingState,this.add(c),this.purgeCache())}},getColumnsState:function(){var t,i=[];return this.items.each(function(e){(t=e.getColumnState&&e.getColumnState())&&i.push(t)}),i},onAdd:function(e){var t=e.getStateId();null!=t&&(this._usedIDs||(this._usedIDs={}),this._usedIDs[t]&&this._usedIDs[t]!==e&&Ext.log.warn(this.$className+" attempted to reuse an existing id: "+t),this._usedIDs[t]=e),this.callParent(arguments),t=this.getRootHeaderCt(),this.onHeadersChanged(e,t&&t.isDDMoveInGrid)},move:function(e,t){var i,n=this.items;e.isComponent?(i=e,e=n.indexOf(i)):i=n.getAt(e),i.visibleFromIdx=this.getRootHeaderCt().visibleColumnManager.indexOf(i),this.callParent(arguments)},onMove:function(e,t,i){var n=this.getRootHeaderCt(),r=n.visibleColumnManager,o=1;this.onHeadersChanged(e,!0),(r=r.indexOf(e))>=e.visibleFromIdx&&r++,this.callParent(arguments),e.isGroupHeader&&(o=e.visibleColumnManager.getColumns().length),n.onHeaderMoved(e,o,e.visibleFromIdx,r)},maybeContinueRemove:function(){return this.isGroupHeader&&!this.applyingState&&!this.isNestedParent&&this.ownerCt&&!this.items.getCount()},onRemove:function(e,t){var i=this,n=i.ownerCt;i.callParent([e,t]),i._usedIDs||(i._usedIDs={}),delete i._usedIDs[e.headerId],i.destroying||(i.getRootHeaderCt().isDDMoveInGrid||i.onHeadersChanged(e,!1),i.maybeContinueRemove()&&(e.rendered&&i.detachComponent(e),i.destroyAfterRemoving=!0,Ext.suspendLayouts(),n.remove(i,!1),Ext.resumeLayouts(!0)))},onHeadersChanged:function(e,t){var i,n=this.getRootHeaderCt();this.purgeHeaderCtCache(this),n&&(n.onColumnsChanged(),(i=n.ownerCt)&&!t&&i.onHeadersChanged(n,e))},onHeaderMoved:function(e,t,i,n){var r=this.ownerCt;this.rendered&&(r&&r.onHeaderMove&&r.onHeaderMove(this,e,t,i,n),this.fireEvent("columnmove",this,e,i,n))},onColumnsChanged:function(){var e,t=this.menu;this.rendered&&(this.fireEvent("columnschanged",this),t&&(e=t.child("#columnItemSeparator"),t=t.child("#columnItem"),e&&e.destroy(),t&&t.destroy()))},lookupComponent:function(e){var t=this.callParent(arguments);return t.isGroupHeader||void 0!==t.width||t.flex||(t.width=this.defaultWidth),t},setSortState:function(){for(var e,t,i=this.up("[store]").store,n=this.visibleColumnManager.getColumns(),r=n.length,o=0;o<r;o++)(t=(e=n[o]).getSorter())?i.getSorters().contains(t)||(t=null):t=i.getSorters().get(e.getSortParam()),e.setSortState(t)},getHeaderMenu:function(){var e,t=this.getMenu();return t&&(e=t.child("#columnItem"))?e.menu:null},onHeaderVisibilityChange:function(e,t){var i=this.getHeaderMenu();this.purgeHeaderCtCache(e.ownerCt),i&&((e=this.getMenuItemForHeader(i,e))&&e.setChecked(t,!0),i.isVisible()&&this.menuTask.delay(50))},updateMenuDisabledState:function(e){var t,i,n,r=this.query("gridcolumn:not([hidden])"),o=r.length;for(e=e||this.getMenu(),t=0;t<o;++t)n=r[t],(i=this.getMenuItemForHeader(e,n))&&(n=n.isHideable()?"enable":"disable",i.menu&&(n+="CheckChange"),i[n]())},getMenuItemForHeader:function(e,t){return t?e.down("menucheckitem[headerId="+t.id+"]"):null},onHeaderShow:function(e){var t=this.ownerCt,i=e.lastHiddenHeader;t&&(this.forceFit&&delete this.flex,i&&!e.query("[hidden=false]").length&&(i.show(),e.lastHiddenHeader=null),this.onHeaderVisibilityChange(e,!0),t.onHeaderShow(this,e),this.fireEvent("columnshow",this,e),this.fireEvent("columnschanged",this))},onHeaderHide:function(e){var t=this.ownerCt;t&&(this.onHeaderVisibilityChange(e,!1),t.onHeaderHide(this,e),this.fireEvent("columnhide",this,e),this.fireEvent("columnschanged",this))},onHeaderResize:function(e,t){var i=this.ownerCt;i&&i.onHeaderResize(this,e,t),this.fireEvent("columnresize",this,e,t)},onHeaderClick:function(e,t,i){var n=e.getView().getSelectionModel();return e.fireEvent("headerclick",this,e,t,i),!1!==(i=this.fireEvent("headerclick",this,e,t,i))&&n.onHeaderClick&&n.onHeaderClick(this,e,t),i},onHeaderContextMenu:function(e,t,i){e.fireEvent("headercontextmenu",this,e,t,i),this.fireEvent("headercontextmenu",this,e,t,i)},onHeaderTriggerClick:function(e,t,i){!1!==e.fireEvent("headertriggerclick",this,e,t,i)&&!1!==this.fireEvent("headertriggerclick",this,e,t,i)&&(e.activeMenu?t.pointerType?e.activeMenu.hide():e.activeMenu.focus():this.showMenuBy(t,i,e))},showMenuBy:function(e,t,i){var n=this.getMenu(),r=n.down("#ascItem"),o=n.down("#descItem");e&&e.pointerType;(n.activeHeader=n.ownerCmp=i).setMenuActive(n),i=i.sortable?"enable":"disable",r&&r[i](),o&&o[i](),n.autoFocus=!e||e.keyCode,n.showBy(t,"tl-bl?"),n.isVisible()||this.onMenuHide(n)},hideMenu:function(){this.menu&&this.menu.hide()},onMenuHide:function(e){e.activeHeader.setMenuActive(!1)},purgeHeaderCtCache:function(e){for(;e;){if(e.purgeCache(),e.isRootHeader)return;e=e.ownerCt}},purgeCache:function(){var e=this.visibleColumnManager,t=this.columnManager;this.gridVisibleColumns=this.gridDataColumns=this.hideableColumns=null,e&&(e.invalidate(),t.invalidate())},getMenu:function(){var e=this,t=e.view&&e.view.ownerGrid;return e.menu||(e.menu=new Ext.menu.Menu({hideOnParentHide:!1,items:e.getMenuItems(),listeners:{beforeshow:e.beforeMenuShow,hide:e.onMenuHide,scope:e}}),e.fireEvent("menucreate",e,e.menu),t&&t.fireEvent("headermenucreate",t,e.menu,e)),e.menu},beforeMenuShow:function(e){var t,i;e.child("#columnItem")||(t=this.enableColumnHide?this.getColumnMenu(this):null,i=this.sortable?2:0,t&&t.length&&e.insert(i,[{itemId:"columnItemSeparator",xtype:"menuseparator"},{itemId:"columnItem",text:this.columnsText,iconCls:this.menuColsIcon,menu:{items:t},hideOnClick:!1}])),this.updateMenuDisabledState(this.menu)},getMenuItems:function(){var e=this,t=[],i=e.enableColumnHide?e.getColumnMenu(e):null;return e.sortable&&(t=[{itemId:"ascItem",text:e.sortAscText,iconCls:e.menuSortAscCls,handler:e.onSortAscClick,scope:e},{itemId:"descItem",text:e.sortDescText,iconCls:e.menuSortDescCls,handler:e.onSortDescClick,scope:e}]),i&&i.length&&(e.sortable&&t.push({itemId:"columnItemSeparator",xtype:"menuseparator"}),t.push({itemId:"columnItem",text:e.columnsText,iconCls:e.menuColsIcon,menu:i,hideOnClick:!1})),t},onSortAscClick:function(){this.getMenu().activeHeader.sort("ASC")},onSortDescClick:function(){this.getMenu().activeHeader.sort("DESC")},getColumnMenu:function(e){for(var t,i=[],n=0,r=e.query(">gridcolumn[hideable]"),o=r.length;n<o;n++)t=r[n],t=new Ext.menu.CheckItem({text:t.menuText||t.text,checked:!t.hidden,hideOnClick:!1,headerId:t.id,menu:t.isGroupHeader?this.getColumnMenu(t):void 0,checkHandler:this.onColumnCheckChange,scope:this}),i.push(t);return i.length?i:null},onColumnCheckChange:function(e,t){e=Ext.getCmp(e.headerId);e.rendered?e[t?"show":"hide"]():e.hidden=!t},getColumnCount:function(){return this.getGridColumns().length},getTableWidth:function(){for(var e=0,t=this.getVisibleGridColumns(),i=t.length,n=0;n<i;n++)e+=t[n].getCellWidth()||0;return e},getVisibleGridColumns:function(){var e,t,i,n,r,o;if(this.gridVisibleColumns)return this.gridVisibleColumns;for(e=this.getGridColumns(),t=this.getRootHeaderCt(),i=[],n=e.length,r=0;r<n;r++)(o=e[r]).hidden||o.isColumnHidden(t)||(i[i.length]=o);return this.gridVisibleColumns=i},isColumnHidden:function(e){for(var t=this.getRefOwner();t&&t!==e;){if(t.hidden)return!0;t=t.getRefOwner()}return!1},getGridColumns:function(e,t){if(!e&&this.gridDataColumns)return this.gridDataColumns;var i,n,r,o,s,a=e||[];if(t=t||this.hidden,this.items&&(i=this.items.items))for(n=0,r=i.length;n<r;n++)(o=i[n]).isGroupHeader?(o.visibleIndex=a.length,o.getGridColumns(a,t)):(o.hiddenAncestor=t,a.push(o));if(e||(this.gridDataColumns=a),!e&&r){for(n=0,r=a.length;n<r;n++)(o=a[n]).fullColumnIndex=n,o.isFirstVisible=o.isLastVisible=!1,o.hidden||o.hiddenAncestor||(s||(o.isFirstVisible=!0),s=o);s&&(s.isLastVisible=!0)}return a},getHideableColumns:function(){return this.hideableColumns||(this.hideableColumns=this.query("[hideable]"))},getHeaderIndex:function(e){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderIndex(e)},getHeaderAtIndex:function(e){return this.columnManager||(this.columnManager=this.getRootHeaderCt().columnManager),this.columnManager.getHeaderAtIndex(e)},getVisibleHeaderClosestToIndex:function(e){return this.visibleColumnManager||(this.visibleColumnManager=this.getRootHeaderCt().visibleColumnManager),this.visibleColumnManager.getVisibleHeaderClosestToIndex(e)},applyForceFit:function(t){var i,n,r,e,o,s=this.view,a=Ext.grid.plugin.HeaderResizer.prototype.minColWidth,l=!1,d=Ext.grid.header.Container.prototype.defaultWidth,c=this.el.dom.clientWidth-(s.el.dom.scrollHeight>s.el.dom.clientHeight?Ext.getScrollbarSize().width:0),u=0,h=this.getVisibleGridColumns(),f=t.hidden;Ext.suspendLayouts(),e=c-(h.length+1)*a,t.flex=null,f?(o=t.width||t.savedWidth||Math.floor(e/(h.length+1)),t.savedWidth=null):o=s.getMaxContentWidth(t),e<o?(t.width=e,l=!0):(t.width=o,c-=o+d,function(){for(n=0,i=h.length;n<i;n++)(r=h[n])!==t&&(r.flex=r.flex||r.width||r.getWidth(),u+=r.flex,r.width=null)}()),function(){var e;for(n=0,i=h.length;n<i;n++)e=(r=h[n])===t,l&&!e?(r.flex=a,r.width=null):e||(o=r.flex||d,r.flex=Math.max(Math.ceil(o/u*c),a),r.width=null),r.setWidth(r.width||r.flex)}(),Ext.resumeLayouts(!0)},autoSizeColumn:function(e){var t=this.view;t&&(t.autoSizeColumn(e),this.forceFit&&this.applyForceFit(e))},getRefItems:function(e){e=this.callParent([e]);return this.menu&&e.push(this.menu),e},privates:{beginChildHide:function(){++this.childHideCount},endChildHide:function(){--this.childHideCount},getFocusables:function(){return this.isRootHeader?this.getVisibleGridColumns():this.items.items},createFocusableContainerKeyNav:function(e){return new Ext.util.KeyNav(e,{scope:this,down:this.showHeaderMenu,left:this.onFocusableContainerLeftKey,right:this.onFocusableContainerRightKey,home:this.onHomeKey,end:this.onEndKey,space:this.onHeaderActivate,enter:this.onHeaderActivate})},onHomeKey:function(e){return this.focusChild(null,!0,e)},onEndKey:function(e){return this.focusChild(null,!1,e)},showHeaderMenu:function(e){var t=this.getFocusableFromEvent(e);t&&t.isColumn&&t.triggerEl&&this.onHeaderTriggerClick(t,e,t.triggerEl)},onHeaderActivate:function(e){var t,i,n=this.getFocusableFromEvent(e);if(n&&n.isColumn)return t=n.getView(),n.sortable&&this.sortOnClick?(i=t.getNavigationModel().getLastFocused(),n.toggleSortState(),i&&t.ownerCt.ensureVisible(i.record)):e.getKey()===e.SPACE&&n.onTitleElClick(e,e.target,this.sortOnClick),this.onHeaderClick(n,e,n.el)},onOwnerGridReconfigure:function(e,t){!this.rendered||this.destroying||this.destroyed||(e||t)&&this.initFocusableContainer()}}}),Ext.define("Ext.grid.column.Column",{extend:"Ext.grid.header.Container",xtype:"gridcolumn",requires:["Ext.grid.ColumnComponentLayout","Ext.grid.ColumnLayout","Ext.app.bind.Parser"],alternateClassName:"Ext.grid.Column",config:{triggerVisible:!1,sorter:null,align:"start"},baseCls:Ext.baseCSSPrefix+"column-header",hoverCls:Ext.baseCSSPrefix+"column-header-over",ariaRole:"columnheader",enableFocusableContainer:!1,sortState:null,possibleSortStates:["ASC","DESC"],ariaSortStates:{ASC:"ascending",DESC:"descending"},childEls:["titleEl","triggerEl","textEl","textContainerEl","textInnerEl"],headerWrap:!1,renderTpl:['<div id="{id}-titleEl" data-ref="titleEl" role="presentation"','{tipMarkup}class="',Ext.baseCSSPrefix,'column-header-inner<tpl if="!$comp.isContainer"> ',Ext.baseCSSPrefix,"leaf-column-header</tpl>",'<tpl if="empty"> ',Ext.baseCSSPrefix,'column-header-inner-empty</tpl>">','<div id="{id}-textContainerEl" data-ref="textContainerEl" role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-container">','<div role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-wrapper">','<div id="{id}-textEl" data-ref="textEl" role="presentation" class="',Ext.baseCSSPrefix,"column-header-text",'{childElCls}">','<span id="{id}-textInnerEl" data-ref="textInnerEl" role="presentation" class="',Ext.baseCSSPrefix,'column-header-text-inner">{text}</span>',"</div>","{%","values.$comp.afterText(out, values);","%}","</div>","</div>",'<tpl if="!menuDisabled">','<div id="{id}-triggerEl" data-ref="triggerEl" role="presentation" unselectable="on" class="',Ext.baseCSSPrefix,"column-header-trigger",'{childElCls}" style="{triggerStyle}"></div>',"</tpl>","</div>","{%this.renderContainer(out,values)%}"],dataIndex:null,text:"",menuText:null,emptyCellText:"",sortable:!0,resizable:!0,hideable:!0,menuDisabled:!1,renderer:!1,draggable:!0,tooltipType:"qtip",initDraggable:Ext.emptyFn,tdCls:"",dirtyText:"Cell value has been edited",producesHTML:!0,ignoreExport:!1,exportStyle:null,isHeader:!0,isColumn:!0,scrollable:!1,requiresMenu:!1,tabIndex:-1,ascSortCls:Ext.baseCSSPrefix+"column-header-sort-ASC",descSortCls:Ext.baseCSSPrefix+"column-header-sort-DESC",componentLayout:"columncomponent",groupSubHeaderCls:Ext.baseCSSPrefix+"group-sub-header",groupHeaderCls:Ext.baseCSSPrefix+"group-header",clickTargetName:"titleEl",detachOnRemove:!0,initResizable:Ext.emptyFn,rendererNames:{column:"renderer",edit:"editRenderer",summary:"summaryRenderer"},formatterNames:{column:"formatter",edit:"editFormatter",summary:"summaryFormatter"},initComponent:function(){var e=this;e.rendererScope||(e.rendererScope=e.scope),null!=e.header&&(e.text=e.header,e.header=null),e.cellWrap&&(e.tdCls=(e.tdCls||"")+" "+Ext.baseCSSPrefix+"wrap-cell"),null!=e.columns?(e.isGroupHeader=!0,e.ariaRole="presentation",e.dataIndex&&Ext.raise("Ext.grid.column.Column: Group header may not accept a dataIndex"),e.width&&e.width!==Ext.grid.header.Container.prototype.defaultWidth&&Ext.raise("Ext.grid.column.Column: Group header does not support setting explicit widths. A group header either shrinkwraps its children, or must be flexed."),e.items=e.columns,e.columns=null,e.cls=(e.cls||"")+" "+e.groupHeaderCls,e.sortable=e.resizable=!1,e.align="center"):e.flex&&(e.minWidth=e.minWidth||Ext.grid.plugin.HeaderResizer.prototype.minColWidth),e.addCls(Ext.baseCSSPrefix+"column-header-align-"+e.align),e.setupRenderer(),e.setupRenderer("edit"),e.setupRenderer("summary"),e.callParent(arguments)},beforeLayout:function(){var e,t,i,n=this.items;if(Ext.isArray(n)||(n=n.items),e=n.length){for(t=0;!i&&t<e;t++)i=n[t].flex;i||(this.flex=null)}this.callParent()},onAdded:function(e,t,i){this.callParent([e,t,i]),this.headerId||this.calculateHeaderId(),this.configureStateInfo()},_initSorterFn:function(e,t){var i=this.column,n=i.resolveListenerScope(),r=this.methodName,o=n&&n[r],s=0;return o?(this.setSorterFn(o),this.column=null,s=o.call(n,e,t)):n?Ext.raise('No such method "'+r+'" on '+n.$className):Ext.raise("Cannot resolve scope for column "+i.id),s},applySorter:function(e){var t,i=e?e.sorterFn:null;return"string"==typeof i?((t=new Ext.util.Sorter(Ext.applyIf({sorterFn:this._initSorterFn},e))).methodName=i,t.column=this):t=this.getRootHeaderCt().up("tablepanel").store.getData().getSorters().decodeSorter(e),t},updateAlign:function(e){this.textAlign=this._alignMap[e]||e},bindFormatter:function(t){var i=this;return function(e){return t(e,i.rendererScope||i.resolveListenerScope())}},bindRenderer:function(e){var t=this;return e in Ext.util.Format&&Ext.log.warn('Use "formatter" config instead of "renderer" to use Ext.util.Format to format cell values'),t.hasCustomRenderer=!0,function(){return Ext.callback(e,t.rendererScope,arguments,0,t)}},setupRenderer:function(e){e=e||"column";var t,i,n=this,r=n[n.formatterNames[e]],o=n[n.rendererNames[e]],s="column"===e;r?(r=(t=Ext.app.bind.Parser.fly(r)).compileFormat(),t.release(),n[n.formatterNames[e]]=null,n[n.rendererNames[e]]=n.bindFormatter(r)):o?("string"==typeof o&&(o=n[n.rendererNames[e]]=n.bindRenderer(o),i=!0),s&&(n.hasCustomRenderer=i||1<o.length)):s&&n.defaultRenderer&&(n.renderer=n.defaultRenderer,n.usingDefaultRenderer=!0)},getView:function(){var e=this.getRootHeaderCt();if(e)return e.view},onFocusLeave:function(e){this.callParent([e]),this.activeMenu&&this.activeMenu.hide()},initItems:function(){this.callParent(arguments),this.isGroupHeader&&(!this.config.hidden&&this.hasVisibleChildColumns()||this.hide())},hasVisibleChildColumns:function(){for(var e,t=this.items.items,i=t.length,n=0;n<i;++n)if((e=t[n]).isColumn&&!e.hidden)return!0;return!1},onAdd:function(e){e.isColumn&&(e.isSubHeader=!0,e.addCls(this.groupSubHeaderCls)),this.isGroupHeader&&this.hidden&&this.hasVisibleChildColumns()&&this.show(),this.callParent([e])},onRemove:function(e,t){e.isSubHeader&&(e.isSubHeader=!1,e.removeCls(this.groupSubHeaderCls)),this.callParent([e,t]),this.destroyed||this.destroying||this.hasVisibleChildColumns()||!this.ownerCt||this.ownerCt.isNested()||this.hide()},initRenderData:function(){var e="",t=this.tooltip,i=this.text,n="qtip"===this.tooltipType?"data-qtip":"title";return Ext.isEmpty(t)||(e=n+'="'+t+'" '),Ext.applyIf(this.callParent(arguments),{text:i,empty:this.isEmptyText(i),menuDisabled:this.menuDisabled,tipMarkup:e,triggerStyle:this.getTriggerVisible()?"display:block":""})},applyColumnState:function(e,t){var i,n,r,o=this.getSorter(),s=t&&t.sorters;if(o&&s&&(i=s.length))for(r=o.getId(),n=0;n<i;n++)if(s[n].id===r){o.setDirection(s[n].direction),s[n]=o;break}this.applyColumnsState(e.columns),null!=e.hidden&&(this.hidden=e.hidden),null!=e.locked&&(this.locked=e.locked),null!=e.sortable&&(this.sortable=e.sortable),null!=e.width?(this.flex=null,this.width=e.width):null!=e.flex&&(this.width=null,this.flex=e.flex)},getColumnState:function(){var e=this.items.items,t={id:this.getStateId()};return this.savePropsToState(["hidden","sortable","locked","flex","width"],t),this.isGroupHeader&&e&&e.length&&(t.columns=this.getColumnsState()),"width"in t&&delete t.flex,t},setText:function(e){var t;this.text=e,this.rendered&&(t=this.getView().ownerGrid,this.textInnerEl.setHtml(e),this.titleEl.toggleCls(Ext.baseCSSPrefix+"column-header-inner-empty",this.isEmptyText(e)),t.syncHeaderVisibility())},getIndex:function(){return!this.isGroupColumn&&this.getRootHeaderCt().getHeaderIndex(this)},getVisibleIndex:function(){return null!=this.visibleIndex?this.visibleIndex:!this.isGroupColumn&&Ext.Array.indexOf(this.getRootHeaderCt().getVisibleGridColumns(),this)},getLabelChain:function(){for(var e,t=this,i=[];e=t.up("headercontainer");)e.text&&i.unshift(Ext.util.Format.stripTags(e.text)),t=e;return i},beforeRender:function(){var e=this,t=e.getRootHeaderCt(),i=e.isSortable(),n=[];e.callParent(),e.requiresMenu||i||e.groupable||e.lockable||!1!==t.grid.enableColumnHide&&t.getHideableColumns().length||(e.menuDisabled=!0),e.cellWrap&&(e.variableRowHeight=!0),(t=e.ariaRenderAttributes||(e.ariaRenderAttributes={}))["aria-readonly"]=!0,i&&(t["aria-sort"]=e.ariaSortStates[e.sortState]),e.isSubHeader&&(n=e.getLabelChain(),e.text&&n.push(Ext.util.Format.stripTags(e.text)),n.length&&(t["aria-label"]=n.join(" "))),e.protoEl.unselectable()},getTriggerElWidth:function(){var e=this.triggerEl,t=this.self.triggerElWidth;return e&&void 0===t&&(e.setStyle("display","block"),t=this.self.triggerElWidth=e.getWidth(),e.setStyle("display","")),t},afterComponentLayout:function(e,t,i,n){var r=this.getRootHeaderCt();this.callParent(arguments),r&&(null!=i||this.flex)&&e!==i&&r.onHeaderResize(this,e)},doDestroy:function(){Ext.destroy(this.field,this.editor),this.callParent()},onTitleMouseOver:function(){this.titleEl.addCls(this.hoverCls)},onTitleMouseOut:function(){this.titleEl.removeCls(this.hoverCls)},onDownKey:function(e){this.triggerEl&&this.onTitleElClick(e,this.triggerEl.dom||this.el.dom)},onEnterKey:function(e){this.onTitleElClick(e,this.el.dom)},onTitleElDblClick:function(e){var t,i,n=this;if(n.isAtStartEdge(e))(t=n.previousNode("gridcolumn:not([hidden]):not([isGroupHeader])"))&&t.getRootHeaderCt()===n.getRootHeaderCt()&&t.autoSize();else if(n.isAtEndEdge(e)){if(n.isGroupHeader&&e.getPoint().isContainedBy(n.layout.innerCt))return i=n.query("gridcolumn:not([hidden]):not([isGroupHeader])"),void n.getRootHeaderCt().autoSizeColumn(i[i.length-1]);1===(i=n.getRootHeaderCt()).visibleColumnManager.getColumns().length&&i.forceFit||n.autoSize()}},autoSize:function(){var e,t,i,n;if(this.isGroupHeader){for(t=(e=this.query("gridcolumn:not([hidden]):not([isGroupHeader])")).length,n=this.getRootHeaderCt(),Ext.suspendLayouts(),i=0;i<t;i++)n.autoSizeColumn(e[i]);return Ext.resumeLayouts(!0),void(grid.ownerGrid.lockable&&grid.isLayoutRoot()&&grid.ownerGrid.syncLockableLayout())}this.getRootHeaderCt().autoSizeColumn(this)},isEmptyText:function(e){return null==e||"&#160;"===e||" "===e||""===e},onTitleElClick:function(e,t,i){var n,r,o,s=this;return"touch"===e.pointerType?(r=s.previousSibling(":not([hidden])"),s.menuDisabled||(o=parseInt(s.triggerEl.getStyle("width"),10),isNaN(o)&&(o=3*s.getHandleWidth(e)),s.isAtEndEdge(e,o)&&(n=s)),!n&&r&&!r.menuDisabled&&s.isAtStartEdge(e)&&(n=r)):n=s.triggerEl&&(e.target===s.triggerEl.dom||t===s.triggerEl||e.within(s.triggerEl))?s:null,!1===i||(n||s.isAtStartEdge(e)||s.isAtEndEdge(e))&&!e.getKey()||s.toggleSortState(),n},processEvent:function(e,t,i,n,r,o){return this.fireEvent.apply(this,arguments)},isSortable:function(){var e=this.getRootHeaderCt(),t=e?e.grid:null,e=this.sortable;return t&&!1===t.sortableColumns&&(e=!1),e},toggleSortState:function(){this.isSortable()&&this.sort()},sort:function(e){var t=this.up("tablepanel"),i=t.store,n=this.getSorter();Ext.suspendLayouts(),n?(e&&n.setDirection(e),i.sort(n,t.multiColumnSort?"multi":"replace")):i.sort(this.getSortParam(),e,t.multiColumnSort?"multi":"replace"),Ext.resumeLayouts(!0),t.ownerGrid.lockable&&t.isLayoutRoot()&&t.ownerGrid.syncLockableLayout()},getSortParam:function(){return this.dataIndex},setSortState:function(e){var t,i=this,n=e&&e.getDirection(),r=i.ascSortCls,o=i.descSortCls,s=i.getRootHeaderCt(),e=i.ariaEl.dom;switch(n){case"DESC":i.hasCls(o)||(i.addCls(o),i.sortState="DESC",t=!0),i.removeCls(r);break;case"ASC":i.hasCls(r)||(i.addCls(r),i.sortState="ASC",t=!0),i.removeCls(o);break;default:i.removeCls([r,o]),i.sortState=null}e&&(i.sortState?e.setAttribute("aria-sort",i.ariaSortStates[i.sortState]):e.removeAttribute("aria-sort")),t&&s.fireEvent("sortchange",s,i,n)},isHideable:function(){var e={hideCandidate:this,result:this.hideable};return e.result&&this.ownerCt.bubble(this.hasOtherMenuEnabledChildren,null,[e]),e.result},hasOtherMenuEnabledChildren:function(e){var t,i;return this.isXType("headercontainer")?(i=(t=this.query(">gridcolumn:not([hidden]):not([menuDisabled])")).length,Ext.Array.contains(t,e.hideCandidate)&&i--,!i&&void(e.hideCandidate=this)):e.result=!1},isLockable:function(){var e={result:!1!==this.lockable};return e.result&&this.ownerCt.bubble(this.hasMultipleVisibleChildren,null,[e]),e.result},isLocked:function(){return this.locked||!!this.up("[isColumn][locked]","[isRootHeader]")},hasMultipleVisibleChildren:function(e){return this.isXType("headercontainer")?!(1<this.query(">gridcolumn:not([hidden])").length)&&void 0:e.result=!1},hide:function(){var e=this,t=e.getRootHeaderCt(),i=e.getRefOwner();return i.constructing?e.callParent():e.rendered&&!e.isVisible()||(t.forceFit&&(e.visibleSiblingCount=t.getVisibleGridColumns().length-1,e.flex&&(e.savedWidth=e.getWidth(),e.flex=null)),t.beginChildHide(),Ext.suspendLayouts(),i.isGroupHeader&&(e.isNestedGroupHeader()&&i.hide(),e.isSubHeader&&!e.isGroupHeader&&1===i.query(">gridcolumn:not([hidden])").length&&(i.lastHiddenHeader=e)),e.callParent(),t.endChildHide(),t.onHeaderHide(e),Ext.resumeLayouts(!0),t.grid.ownerGrid.lockable&&t.grid.isLayoutRoot()&&t.grid.ownerGrid.syncLockableLayout()),e},show:function(){var e=this,t=e.getRootHeaderCt(),i=e.getRefOwner();return e.isVisible()||(i.isGroupHeader&&(i.lastHiddenHeader=null),e.rendered&&t.forceFit&&t.applyForceFit(e),Ext.suspendLayouts(),e.isSubHeader&&i.hidden&&i.show(!1,!0),e.callParent(arguments),e.isGroupHeader&&e.maybeShowNestedGroupHeader(),(i=e.getRootHeaderCt())&&i.onHeaderShow(e),Ext.resumeLayouts(!0),t.grid.ownerGrid.lockable&&t.grid.isLayoutRoot()&&t.grid.ownerGrid.syncLockableLayout()),e},shouldUpdateCell:function(e,t){if(!this.preventUpdate){if(this.hasCustomRenderer)return 1;if(!t)return 2;for(var i,n=t.length,r=0;r<n;++r)if((i=t[r])===this.dataIndex||i===e.idProperty)return 2}},getCellWidth:function(){var e;return this.rendered&&this.componentLayout&&this.componentLayout.lastComponentSize?e=this.componentLayout.lastComponentSize.width:this.width?e=this.width:this.isColumn||(e=this.getTableWidth()),e},getCellId:function(){return Ext.baseCSSPrefix+"grid-cell-"+this.getItemId()},getCellSelector:function(){var e=this.getView();return(e?e.getCellSelector():"")+"."+this.getCellId()},getCellInnerSelector:function(){return this.getCellSelector()+" ."+Ext.baseCSSPrefix+"grid-cell-inner"},isAtStartEdge:function(e){var t=e.getXY()[0]-this.getX();return!(t<0&&0===this.getIndex())&&t<this.getHandleWidth(e)},isAtEndEdge:function(e,t){return this.getX()+this.getWidth()-e.getXY()[0]<=(t||this.getHandleWidth(e))},getHandleWidth:function(e){return"touch"===e.pointerType?10:4},setMenuActive:function(e){this.activeMenu=e,this.titleEl[e?"addCls":"removeCls"](this.headerOpenCls)},privates:{_alignMap:{start:"left",end:"right"},afterText:function(e,t){this.dirtyText&&(this.dirtyTextElementId=this.id+"-dirty-cell-text",e.push('<span id="'+this.dirtyTextElementId+'" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.dirtyText+"</span>"))},calculateHeaderId:function(){var e,t,i,n,r;if(!this.headerId){if(!(e=this.up("tablepanel")))return;if(t=this.items.items)for(n=0,r=t.length;n<r;++n)(i=t[n]).isColumn&&i.calculateHeaderId();(e=e?e.ownerGrid:this.getRootHeaderCt()).headerCounter=(e.headerCounter||0)+1,this.headerId="h"+e.headerCounter}this.configureStateInfo()},configureStateInfo:function(){var e,t=this;t.stateId||(t.stateId=t.initialConfig.id||t.headerId),e=t.getSorter(),t.hasSetSorter||!e||e.initialConfig.id||(t.dataIndex||t.stateId)&&(e.setId((t.dataIndex||t.stateId)+"-sorter"),t.hasSetSorter=!0)}},deprecated:{5:{methods:{bindRenderer:function(t){return function(e){return Ext.util.Format[t](e)}}}}}}),Ext.define("Ext.rtl.grid.column.Column",{override:"Ext.grid.column.Column",isAtStartEdge:function(e,t){var i;return!this.getInherited().rtl!=!Ext.rootInheritedState.rtl?!((i=this.getX()+this.getWidth()-e.getXY()[0])<0&&0===this.getIndex())&&i<=this.getHandleWidth(e):this.callParent([e,t])},isAtEndEdge:function(e,t){return!this.getInherited().rtl!=!Ext.rootInheritedState.rtl?e.getXY()[0]-this.getX()<=this.getHandleWidth(e):this.callParent([e,t])},privates:{_alignMap:{start:"right",end:"left"}}}),Ext.define("Ext.grid.column.ActionProxy",{constructor:function(e,t,i){this.column=e,this.item=t,this.itemIndex=i},setHandler:function(e){this.item.handler=e},setDisabled:function(e){e?this.column.disableAction(this.itemIndex):this.column.enableAction(this.itemIndex)},setIconCls:function(e){this.item.iconCls=e,this.column.getView().refreshView()},setIconGlyph:function(e){this.item.glyph=e,this.column.getView().refreshView()},setHidden:function(e){this.item.hidden=e,this.column.getView().refreshView()},setVisible:function(e){this.setHidden(!e)},on:function(){return this.column.on.apply(this.column,arguments)}}),Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",requires:["Ext.grid.column.ActionProxy","Ext.Glyph"],stopSelection:!0,actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",itemTabIndex:0,itemAriaRole:"button",maskOnDisable:!1,ignoreExport:!0,sortable:!1,innerCls:Ext.baseCSSPrefix+"grid-cell-inner-action-col",actionIconCls:Ext.baseCSSPrefix+"action-col-icon",constructor:function(e){var t,i,n,r,o=this,e=Ext.apply({},e),s=e.items||o.items||[o];for(o.origRenderer=e.renderer||o.renderer,o.origScope=e.scope||o.scope,o.renderer=o.scope=e.renderer=e.scope=null,e.items=null,o.callParent([e]),i=0,n=(o.items=s).length;i<n;++i)(r=s[i]).substr&&"@"===r[0]&&(r=o.getAction(r.substr(1))),r.isAction&&(s[i]=r.initialConfig,r.addComponent(new Ext.grid.column.ActionProxy(o,s[i],i))),r.getClass&&(t=!0);(o.origRenderer||t)&&(o.hasCustomRenderer=!0)},initComponent:function(){this.callParent(),this.sortable&&!this.dataIndex&&(this.sortable=!1)},defaultRenderer:function(e,t,i,n,r,o,s){var a,l,d,c,u,h,f,g,p=this,m=p.origScope||p,x=p.items,E=x.length,y=Ext.isFunction(p.origRenderer)&&p.origRenderer.apply(m,arguments)||"";for(t.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell",a=0;a<E;a++)h=(l=x[a]).icon,f=l.glyph,d=l.disabled||!!l.isDisabled&&Ext.callback(l.isDisabled,l.scope||p.origScope,[s,n,r,l,i],0,p),c=l.tooltip||(l.getTip?Ext.callback(l.getTip,l.scope||p.origScope,arguments,0,p):null),u=l.getAltText?Ext.callback(l.getAltText,l.scope||p.origScope,arguments,0,p):l.altText||p.altText,l.hasActionConfiguration||(l.stopSelection=p.stopSelection,l.disable=Ext.Function.bind(p.disableAction,p,[a],0),l.enable=Ext.Function.bind(p.enableAction,p,[a],0),l.hasActionConfiguration=!0),f=f&&Ext.Glyph.fly(f),y+="<"+(h?"img":"div")+("number"==typeof(g=l!==p&&void 0!==l.tabIndex?l.tabIndex:p.itemTabIndex)?' tabIndex="'+g+'"':"")+((g=l!==p&&void 0!==l.ariaRole?l.ariaRole:p.itemAriaRole)?' role="'+g+'"':' role="presentation"')+(h?' alt="'+u+'" src="'+l.icon+'"':"")+' class="'+p.actionIconCls+" "+Ext.baseCSSPrefix+"action-col-"+String(a)+" "+(d?p.disabledCls+" ":" ")+(l.hidden?Ext.baseCSSPrefix+"hidden-display ":"")+(l.getClass?Ext.callback(l.getClass,l.scope||p.origScope,arguments,void 0,p):l.iconCls||p.iconCls||"")+'"'+(c?' data-qtip="'+c+'"':"")+(h?"/>":f?' style="font-family:'+f.fontFamily+'">'+f.character+"</div>":"></div>");return y},updater:function(e,t,i,n,r){var o={};Ext.fly(e).addCls(o.tdCls).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(t,o,i,null,null,r,n)},enableAction:function(e,t){e?Ext.isNumber(e)||(e=Ext.Array.indexOf(this.items,e)):e=0,this.items[e].disabled=!1,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).removeCls(this.disabledCls),t||this.fireEvent("enable",this)},disableAction:function(e,t){e?Ext.isNumber(e)||(e=Ext.Array.indexOf(this.items,e)):e=0,this.items[e].disabled=!0,this.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+e).addCls(this.disabledCls),t||this.fireEvent("disable",this)},doDestroy:function(){return this.renderer=this.items=null,this.callParent()},processEvent:function(e,t,i,n,r,o,s,a){var l,d,c=this,u=o.getTarget(),h="keydown"===e&&o.getKey(),f=Ext.fly(i);if(o.stopSelection=!h&&c.stopSelection,h&&(u===i||!f.contains(u))){if(1!==(u=f.query("."+c.actionIconCls,!0)).length)return;u=u[0]}if(u&&(d=u.className.match(c.actionIdRe))&&(d=(l=c.items[parseInt(d[1],10)]).disabled||!!l.isDisabled&&Ext.callback(l.isDisabled,l.scope||c.origScope,[t,n,r,l,s],0,c),l&&!d))if("mousedown"!==e||c.getView().actionableMode){if("click"===e||h===o.ENTER||h===o.SPACE){if(Ext.callback(l.handler||c.handler,l.scope||c.origScope,[t,n,r,l,o,s,a],void 0,c),t.destroyed)return!1;if(o.position.getNode()||o.position.refresh(),!t.el.contains(Ext.Element.getActiveElement()))return!1}}else o.preventDefault();return c.callParent(arguments)},cascade:function(e,t){e.call(t||this,this)},getRefItems:function(){return[]},privates:{getFocusables:function(){return[]},shouldUpdateCell:function(){return 2}}}),Ext.define("Ext.grid.column.Boolean",{extend:"Ext.grid.column.Column",alias:["widget.booleancolumn"],alternateClassName:"Ext.grid.BooleanColumn",trueText:"true",falseText:"false",undefinedText:"&#160;",defaultFilterType:"boolean",producesHTML:!1,defaultRenderer:function(e){return void 0===e?this.undefinedText:e&&"false"!==e?this.trueText:this.falseText},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Boolean.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Check",{extend:"Ext.grid.column.Column",alternateClassName:["Ext.ux.CheckColumn","Ext.grid.column.CheckColumn"],alias:"widget.checkcolumn",isCheckColumn:!0,config:{headerCheckbox:!1},align:"center",triggerEvent:"click",invert:!1,ignoreExport:!0,stopSelection:!0,headerCheckedCls:Ext.baseCSSPrefix+"grid-hd-checker-on",headerCheckboxCls:Ext.baseCSSPrefix+"column-header-checkbox",checkboxCls:Ext.baseCSSPrefix+"grid-checkcolumn",checkboxCheckedCls:Ext.baseCSSPrefix+"grid-checkcolumn-checked",innerCls:Ext.baseCSSPrefix+"grid-checkcolumn-cell-inner",clickTargetName:"el",defaultFilterType:"boolean",checkboxAriaRole:"button",constructor:function(e){this.updateHeaderState=Ext.Function.createAnimationFrame(e.updateHeaderState||this.updateHeaderState),(this.scope=this).callParent(arguments)},afterComponentLayout:function(){var e=this;e.callParent(arguments),e.useAriaElements&&e.headerCheckbox&&e.updateHeaderAriaDescription(e.areAllChecked()),e.storeListeners||(e.updateHeaderState(),e.storeListeners=e.getView().dataSource.on({datachanged:e.onDataChanged,scope:e,destroyable:!0}))},onRemoved:function(){this.callParent(arguments),this.storeListeners=Ext.destroy(this.storeListeners)},onDataChanged:function(e,t){this.updateHeaderState()},updateHeaderCheckbox:function(e){var t=this,i=Ext.baseCSSPrefix+"column-header-checkbox";e?(t.addCls(i),t.sortable=!1,t.useAriaElements&&t.updateHeaderAriaDescription(t.areAllChecked())):(t.removeCls(i),t.useAriaElements&&t.ariaEl.dom&&t.ariaEl.dom.removeAttribute("aria-describedby")),t.updateHeaderState()},processEvent:function(e,t,i,n,r,o,s,a){var l,d=this,c="keydown"===e&&o.getKey(),u=e===d.triggerEvent,h=d.disabled;return o.stopSelection=!c&&d.stopSelection,h||!u&&c!==o.ENTER&&c!==o.SPACE?l=d.callParent(arguments):(c=!d.isRecordChecked(s),!1!==d.fireEvent("beforecheckchange",d,n,c,s,o)&&(d.setRecordCheck(s,n,c,i,o),u&&!t.actionableMode&&o.preventDefault(),d.hasListeners.checkchange&&d.fireEvent("checkchange",d,n,c,s,o))),l},onTitleElClick:function(e,t,i){if(this.disabled||!e.keyCode&&this.text&&!Ext.fly(e.target).hasCls(this.headerCheckboxCls))return this.callParent([e,t,i]);this.toggleAll(e)},toggleAll:function(e){var i=this,n=i.getView(),t=n.getStore(),r=!i.allChecked;!1!==i.fireEvent("beforeheadercheckchange",i,r,e)&&((i.hasListeners.checkchange||i.hasListeners.beforecheckchange)&&(e.position=new Ext.grid.CellContext(n)),t.each(function(e,t){i.setRecordCheck(e,t,r,n.getCell(e,i))}),i.setHeaderStatus(r,e),i.fireEvent("headercheckchange",i,r,e))},setHeaderStatus:function(e,t){this.allChecked!==e&&(this.allChecked=e,this.headerCheckbox&&(this[e?"addCls":"removeCls"](this.headerCheckedCls),this.useAriaElements&&this.updateHeaderAriaDescription(e)))},updateHeaderState:function(e){!this.destroyed&&this.headerCheckbox&&this.setHeaderStatus(this.areAllChecked(),e)},onEnable:function(){this.callParent(arguments),this._setDisabled(!1)},onDisable:function(){this._setDisabled(!0)},_setDisabled:function(e){var t=this.disabledCls,i=this.up("tablepanel").el.select(this.getCellSelector());e?i.addCls(t):i.removeCls(t)},defaultRenderer:function(e,t){var i=this,n=i.checkboxCls,r=i.tooltip;return i.invert&&(e=!e),i.disabled&&(t.tdCls+=" "+i.disabledCls),e&&(n+=" "+i.checkboxCheckedCls,r=i.checkedTooltip||r),i.useAriaElements&&(t.tdAttr+=' aria-describedby="'+i.id+"-cell-description"+(e?"":"-not")+'-selected"'),i.updateHeaderState(),"<span "+(r||"")+' class="'+n+'" role="'+i.checkboxAriaRole+'"'+(i.ariaStaticRoles[i.checkboxAriaRole]?"":' tabIndex="0"')+"></span>"},isRecordChecked:function(e){var t=this.property;return t?e[t]:e.get(this.dataIndex)},areAllChecked:function(){var e,t,i,n=this.getView().getStore();if(!n.isBufferedStore&&0<n.getCount()){for(t=(e=n.getData().items).length,i=0;i<t;++i)if(!this.isRecordChecked(e[i]))return!1;return!0}},setRecordCheck:function(e,t,i,n){var r=this.property;(r?e[r]:e.get(this.dataIndex)!=i)&&(r?(e[r]=i,this.updater(n,i)):e.set(this.dataIndex,i))},updater:function(e,t){var i=this.tooltip;this.invert&&(t=!t),t&&(i=this.checkedTooltip||i),i?e.setAttribute("data-qtip",i):e.removeAttribute("data-qtip"),e=Ext.fly(e),this.useAriaElements&&this.updateCellAriaDescription(null,t,e),e[this.disabled?"addCls":"removeCls"](this.disabledCls),Ext.fly(e.down(this.getView().innerSelector,!0).firstChild)[t?"addCls":"removeCls"](Ext.baseCSSPrefix+"grid-checkcolumn-checked"),this.updateHeaderState()},updateHeaderAriaDescription:function(e){this.useAriaElements&&this.ariaEl.dom&&this.ariaEl.dom.setAttribute("aria-describedby",this.id+"-header-description"+(e?"":"-not")+"-selected")},updateCellAriaDescription:function(e,t,i){this.useAriaElements&&(i=i||this.getView().getCell(e,this))&&i.dom.setAttribute("aria-describedby",this.id+"-cell-description"+(t?"":"-not")+"-selected")},privates:{afterText:function(e,t){var i=this.id;e.push('<span role="presentation" class="',this.headerCheckboxCls,'"></span>'),this.useAriaElements&&e.push('<span id="'+i+'-header-description-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.headerDeselectText+'</span><span id="'+i+'-header-description-not-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.headerSelectText+'</span><span id="'+i+'-cell-description-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.rowDeselectText+'</span><span id="'+i+'-cell-description-not-selected" class="'+Ext.baseCSSPrefix+'hidden-offsets">'+this.rowSelectText+"</span>")}}}),Ext.define("Ext.grid.column.Date",{extend:"Ext.grid.column.Column",alias:["widget.datecolumn"],requires:["Ext.Date"],alternateClassName:"Ext.grid.DateColumn",isDateColumn:!0,defaultFilterType:"date",producesHTML:!1,initComponent:function(){this.format||(this.format=Ext.Date.defaultFormat),this.callParent(arguments)},defaultRenderer:function(e){return Ext.util.Format.date(e,this.format)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Date.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Number",{extend:"Ext.grid.column.Column",alias:["widget.numbercolumn"],requires:["Ext.util.Format"],alternateClassName:"Ext.grid.NumberColumn",defaultFilterType:"number",format:"0,000.00",producesHTML:!1,defaultRenderer:function(e){return Ext.util.Format.number(e,this.format)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.Number.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.RowNumberer",{extend:"Ext.grid.column.Column",alternateClassName:"Ext.grid.RowNumberer",alias:"widget.rownumberer",isRowNumberer:!0,text:"&#160;",width:23,sortable:!1,draggable:!1,autoLock:!0,lockable:!1,align:"right",producesHTML:!1,ignoreExport:!0,constructor:function(e){this.width=this.width,this.callParent(arguments),this.sortable=!1,this.scope=this},resizable:!1,hideable:!1,menuDisabled:!0,dataIndex:"",cls:Ext.baseCSSPrefix+"row-numberer",tdCls:Ext.baseCSSPrefix+"grid-cell-row-numberer "+Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-numberer",rowspan:void 0,defaultRenderer:function(e,t,i,n,r,o,s){var a=this.rowspan,l=o.currentPage,i=s.store.indexOf(i);return t&&a&&(t.tdAttr='rowspan="'+a+'"'),1<l&&(i+=(l-1)*o.pageSize),i+1},updater:function(e,t,i,n,r){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=this.defaultRenderer(t,null,i,null,null,r,n)}}),Ext.define("Ext.grid.column.Template",{extend:"Ext.grid.column.Column",alias:["widget.templatecolumn"],requires:["Ext.XTemplate"],alternateClassName:"Ext.grid.TemplateColumn",initComponent:function(){this.tpl=!Ext.isPrimitive(this.tpl)&&this.tpl.compile?this.tpl:new Ext.XTemplate(this.tpl),this.hasCustomRenderer=!0,this.callParent(arguments)},defaultRenderer:function(e,t,i){i=Ext.apply({},i.data,i.getAssociatedData());return this.tpl.apply(i)},updater:function(e,t){Ext.fly(e).down(this.getView().innerSelector,!0).innerHTML=Ext.grid.column.CheckColumn.prototype.defaultRenderer.call(this,t)}}),Ext.define("Ext.grid.column.Widget",{extend:"Ext.grid.column.Column",alias:"widget.widgetcolumn",mixins:["Ext.mixin.StyleCacher"],config:{defaultWidgetUI:{}},ignoreExport:!0,sortable:!1,onWidgetAttach:null,preventUpdate:!0,innerCls:Ext.baseCSSPrefix+"grid-widgetcolumn-cell-inner",stopSelection:!0,initComponent:function(){var e;this.callParent(arguments),(e=this.widget)&&!e.isComponent||Ext.raise("column.Widget requires a widget configuration."),this.widget=e=Ext.apply({},e),e.ui||(e.ui=this.getDefaultWidgetUI()[e.xtype]||"default"),this.isFixedSize=Ext.isNumber(e.width)},processEvent:function(e,t,i,n,r,o,s,a){var l;this.stopSelection&&"click"===e&&(l=o.getTarget(t.innerSelector))&&l!==o.target&&(o.stopSelection=!0)},beforeRender:function(){var e,t=this,i=t.tdCls;t.listenerScopeFn=function(e){return"this"===e?this:t.resolveListenerScope(e)},e=Ext.widget(t.widget),t.bindDataIndex=t.dataIndex&&e.defaultBindProperty&&!e.bind,i=i?i+" ":"",t.tdCls=i+e.getTdCls(),t.setupViewListeners(t.getView()),t.callParent(),e.destroy()},afterRender:function(){var e=this.getView();this.callParent(),e&&e.viewReady&&!e.ownerGrid.reconfiguring&&this.onViewRefresh(e,e.getViewRange())},defaultRenderer:Ext.emptyFn,updater:function(e,t,i){this.updateWidget(i)},onCellsResized:function(e){var t,i,n=this.ownerGrid.getManagedWidgets(this.getId()),r=n.length,o=this.getView();if(!this.isFixedSize&&this.rendered&&o&&o.viewReady&&(i=o.getEl().down(this.getCellInnerSelector())))for(e-=parseInt(this.getCachedStyle(i,"padding-left"),10)+parseInt(this.getCachedStyle(i,"padding-right"),10),t=0;t<r;++t)n[t].ownerLayout=null,n[t].setWidth(e),n[t].ownerLayout=o.componentLayout},onAdded:function(){var e;this.callParent(arguments),this.ownerGrid=this.up("tablepanel").ownerGrid,(e=this.getView())&&this.setupViewListeners(e)},onRemoved:function(e){var t=this.viewListeners;t&&Ext.destroy(t),e&&this.ownerGrid.destroyManagedWidgets(this.getId()),this.callParent(arguments)},doDestroy:function(){this.ownerGrid.destroyManagedWidgets(this.getId()),this.callParent()},privates:{getWidget:function(e){var t=null;return e&&((t=this.ownerGrid.createManagedWidget(this.getId(),this.widget,e)).resolveListenerScope=this.listenerScopeFn,t.getWidgetRecord=this.widgetRecordDecorator,t.getWidgetColumn=this.widgetColumnDecorator,t.measurer=this,t.ownerCmp=this.getView(),t.isLayoutChild=this.returnFalse),t},onItemAdd:function(e){var t,i,n,r,o,s,a=this,l=a.getView(),d=!!a.onWidgetAttach,c=a.dataIndex,u=a.isFixedSize,h=e.length;if(a.isVisible(!0))for(t=0;t<h;t++)(i=e[t]).isNonData||(n=l.getCell(i,a))&&(n=n.dom.firstChild,u||s||!a.lastBox||(s=a.lastBox.width-parseInt(a.getCachedStyle(n,"padding-left"),10)-parseInt(a.getCachedStyle(n,"padding-right"),10)),(o=a.getWidget(i)).$widgetColumn=a,o.$widgetRecord=i,Ext.fly(n).empty(),o.defaultBindProperty&&c&&o.setConfig(o.defaultBindProperty,i.get(c)),(r=o.el||o.element)?(n.appendChild(r.dom),u||o.setWidth(s),o.reattachToBody()):(u||(o.width=s||100),o.render(n)),d&&Ext.callback(a.onWidgetAttach,a.scope,[a,o,i],0,a),(o=o.getFocusEl())&&(l.actionableMode?o.isTabbable()||o.restoreTabbableState():o.isTabbable()&&o.saveTabbableState()));else l.refreshNeeded=!0},onItemUpdate:function(e,t,i){this.updateWidget(e)},onViewRefresh:function(e,t){Ext.suspendLayouts(),this.onItemAdd(t),Ext.resumeLayouts(!0)},returnFalse:function(){return!1},setupViewListeners:function(e){var t={refresh:this.onViewRefresh,itemadd:this.onItemAdd,scope:this,destroyable:!0};this.bindDataIndex&&(t.itemUpdate=this.onItemUpdate),this.viewListeners=e.on(t)},updateWidget:function(e){var t,i=this.dataIndex;this.rendered&&this.bindDataIndex&&(t=this.getWidget(e))&&t.setConfig(t.defaultBindProperty,e.get(i))},widgetRecordDecorator:function(){return this.$widgetRecord},widgetColumnDecorator:function(){return this.$widgetColumn}}}),Ext.define("Ext.grid.feature.Feature",{extend:"Ext.util.Observable",alias:"feature.feature",wrapsItem:!1,isFeature:!0,disabled:!1,hasFeatureEvent:!0,eventPrefix:null,eventSelector:null,view:null,grid:null,constructor:function(e){this.initialConfig=e,this.callParent(arguments)},clone:function(){return new this.self(this.initialConfig)},init:Ext.emptyFn,getFireEventArgs:function(e,t,i,n){return[e,t,i,n]},vetoEvent:Ext.emptyFn,enable:function(){this.disabled=!1},disable:function(){this.disabled=!0}}),Ext.define("Ext.grid.feature.AbstractSummary",{extend:"Ext.grid.feature.Feature",alias:"feature.abstractsummary",summaryRowCls:Ext.baseCSSPrefix+"grid-row-summary",readDataOptions:{recordCreator:Ext.identityFn},summaryRowTpl:{fn:function(e,t,i){t.record.isSummary&&this.summaryFeature.showSummaryRow?this.summaryFeature.outputSummaryRecord(t.record,t,e,i):this.nextTpl.applyOut(t,e,i)},priority:1e3},showSummaryRow:!0,init:function(){var e=this;(e.view.summaryFeature=e).rowTpl=e.view.self.prototype.rowTpl,(e.view.addRowTpl(e.summaryRowTpl).summaryFeature=e).summaryData={},e.groupInfo={},e.summaryTableCls||(e.summaryTableCls=Ext.baseCSSPrefix+"grid-item"),e.summaryRowSelector="."+e.summaryRowCls},bindStore:function(e,t){Ext.destroy(this.readerListeners),this.remoteRoot&&(this.readerListeners=t.getProxy().getReader().on({scope:this,destroyable:!0,rawdata:this.onReaderRawData}))},onReaderRawData:function(e){this.summaryRows=null,this.readerRawData=e},toggleSummaryRow:function(e,t){var i,n=this.showSummaryRow;e=null!=e?!!e:!this.showSummaryRow,(this.showSummaryRow=e)&&e!==n&&(this.updateSummaryRow=!0),this.lockingPartner?t||(this.lockingPartner.toggleSummaryRow(e,!0),i=!0):i=!0,i&&this.grid.ownerGrid.getView().refresh()},createRenderer:function(i,n){var e=n.ownerGroup,r=e?this.summaryData[e]:this.summaryData,o=i.dataIndex||i.getItemId();return function(e,t){return i.summaryRenderer?i.summaryRenderer(n.data[o],r,o,t):n.data[o]}},outputSummaryRecord:function(e,t,i){for(var n,r=t.view,o=r.rowValues,s=t.columns||r.headerCt.getVisibleGridColumns(),a=s.length,t={view:r,record:e,rowStyle:"",rowClasses:[this.summaryRowCls],itemClasses:[],recordIndex:-1,rowId:r.getRowId(e),columns:s},l=0;l<a;l++)(n=s[l]).savedRenderer=n.renderer,n.summaryType||n.summaryRenderer?n.renderer=this.createRenderer(n,e):n.renderer=Ext.emptyFn;for(r.rowValues=t,r.self.prototype.rowTpl.applyOut(t,i,parent),r.rowValues=o,l=0;l<a;l++)(n=s[l]).renderer=n.savedRenderer,n.savedRenderer=null},getSummary:function(e,t,i,n){var r=!!n,o=r?n:e;if(t){if(Ext.isFunction(t))return r?o.aggregate(i,t):o.aggregate(t,null,!1,[i]);switch(t){case"count":return o.count();case"min":return o.min(i);case"max":return o.max(i);case"sum":return o.sum(i);case"average":return o.average(i);default:return""}}},getRawData:function(){var e=this.readerRawData;return e||this.view.getStore().getProxy().getReader().rawData},generateSummaryData:function(e){var t,i,n,r,o,s,a,l=this.summaryRows,d={},c={};if(!l){if(!(n=this.getRawData()))return;if(t=this.view.store.getProxy().getReader(),(i=Ext.create("reader."+t.type,t.getConfig())).setRootProperty(this.remoteRoot),l=i.getRoot(n)){for(s=[],Ext.isArray(l)||(l=[l]),o=l.length,r=0;r<o;++r)a=i.extractRecordData(l[r],this.readDataOptions),s.push(a);this.summaryRows=l=s}i.destroy(),this.readerRawData=null}if(l)for(r=0,o=l.length;r<o;r++)d=l[r],e&&(c[d[e]]=d);return e?c:d},setSummaryData:function(e,t,i,n){var r=this.summaryData;n?(r[n]||(r[n]={}),r[n][t]=i):r[t]=i},destroy:function(){Ext.destroy(this.readerListeners),this.readerRawData=this.summaryRows=null,this.callParent()}}),Ext.define("Ext.grid.feature.GroupStore",{extend:"Ext.util.Observable",isStore:!0,defaultViewSize:100,isFeatureStore:!0,badGrouperKey:"[object Object]",constructor:function(e,t){this.callParent(),this.groupingFeature=e,this.bindStore(t),e.grid.isLocked||this.bindViewStoreListeners()},bindStore:function(e){var t=this;e&&t.store===e||(Ext.destroy(t.storeListeners),t.store=null),e&&(t.storeListeners=e.on({datachanged:t.onDataChanged,groupchange:t.onGroupChange,idchanged:t.onIdChanged,update:t.onUpdate,scope:t,destroyable:!0}),t.store=e,t.processStore(e))},bindViewStoreListeners:function(){var e=this.groupingFeature.view,t=e.getStoreListeners(this);t.scope=e,this.on(t)},processStore:function(e){var t,i,n,r,o,s,a,l,d,c,u=this.groupingFeature,h=u.startCollapsed,f=this.data,g=e.getGroups(),p=g?g.length:0,m=e.getGroupField(),x=g&&Ext.Array.unique(Ext.Object.getValues(g.itemGroupKeys)),E=u.getCache();if(u.invalidateCache(),i=u.getCache(),f?f.clear():f=this.data=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),e.getCount())if(u.startCollapsed=!1,0<p){for(c=e.getModel(),n=0;n<p;n++){if(l=(s=g.getAt(n)).getGroupKey(),this.badGrouperKey===l&&(o=u.getGrouper(m)))return u.startCollapsed=h,void e.group(o);d=E[l],t=i[l]=u.getMetaGroup(l),d&&(t.isCollapsed=d.isCollapsed),Ext.Array.splice(x,Ext.Array.indexOf(x,l),1),(t.isCollapsed=h||t.isCollapsed)?((d={})[m]=l,t.placeholder=d=new c(d),d.isNonData=d.isCollapsedPlaceholder=!0,d.groupKey=l,f.add(d)):f.insert(this.data.length,s.items)}if(x.length)for(n=0,r=x.length;n<r;n++)i[a=x[n]]=E[a];E=null}else f.add(e.getRange())},isCollapsed:function(e){return this.groupingFeature.getCache()[e].isCollapsed},isLoading:function(){return!1},getData:function(){return this.data},getCount:function(){return this.data.getCount()},getTotalCount:function(){return this.data.getCount()},rangeCached:function(e,t){return t<this.getCount()},getRange:function(e,t,i){var n=this.data.getRange(e,Ext.isNumber(t)?t+1:t);return i&&i.callback&&i.callback.call(i.scope||this,n,e,t,i),n},getAt:function(e){return this.data.getAt(e)},getById:function(e){return this.store.getById(e)},getByInternalId:function(e){return this.store.getByInternalId(e)||this.data.byInternalId.get(e)},expandGroup:function(e){var t,i,n,r,o=this,s=o.groupingFeature;"string"==typeof e&&(e=s.getGroup(e)),e&&(r=e.items,i=(t=s.getMetaGroup(e)).placeholder),r.length&&-1!==(n=o.data.indexOf(i))&&(t.isCollapsed=!1,o.isExpandingOrCollapsing=1,o.data.removeAt(n),o.data.insert(n,e.items),o.fireEvent("replace",o,n,[i],e.items),o.fireEvent("groupexpand",o,e),o.isExpandingOrCollapsing=0)},collapseGroup:function(e){var t,i,n,r=this,o=r.groupingFeature;"string"==typeof e&&(e=o.getGroup(e)),e&&(n=e.items),n&&(i=n.length)&&-1!==(t=r.data.indexOf(n[0]))&&(o.getMetaGroup(e).isCollapsed=!0,r.isExpandingOrCollapsing=2,r.data.removeAt(t,i),r.data.insert(t,i=r.getGroupPlaceholder(e)),r.fireEvent("replace",r,t,n,[i]),r.fireEvent("groupcollapse",r,e),r.isExpandingOrCollapsing=0)},getGroupPlaceholder:function(e){var t,i,n,r=this.groupingFeature.getMetaGroup(e);return r.placeholder||(i=(t=this.store).getModel(),n={},e=e.getGroupKey(),n[t.getGroupField()]=e,(n=r.placeholder=new i(n)).isNonData=n.isCollapsedPlaceholder=!0,n.groupKey=e),r.placeholder},indexOf:function(e){var t=-1;return e.isCollapsedPlaceholder||(t=this.data.indexOf(e)),t},contains:function(e){return-1<this.indexOf(e)},indexOfPlaceholder:function(e){return this.data.indexOf(e)},indexOfId:function(e){return this.data.indexOfKey(e)},indexOfTotal:function(e){return this.store.indexOf(e)},onIdChanged:function(e,t,i,n){this.data.updateKey(t,i)},onUpdate:function(e,t,i,n){var r,o,s=this,a=s.groupingFeature;if(e.isGrouped()){if(r=t.group=a.getGroup(t)){if(o=a.getMetaGroup(t),n&&Ext.Array.contains(n,a.getGroupField()))return s.onDataChanged();o.isCollapsed?s.fireEvent("update",s,o.placeholder):(Ext.suspendLayouts(),s.fireEvent("update",s,t,i,n),o=(e=r.items)[0],e=e[e.length-1],o!==t&&(o.group=r,s.fireEvent("update",s,o,"edit",n),delete o.group),e!==t&&e!==o&&a.showSummaryRow&&(e.group=r,s.fireEvent("update",s,e,"edit",n),delete e.group),Ext.resumeLayouts(!0))}delete t.group}else s.fireEvent("update",s,t,i,n)},onGroupChange:function(e,t){t||this.processStore(e),this.fireEvent("groupchange",e,t)},onDataChanged:function(){this.processStore(this.store),this.fireEvent("refresh",this)},destroy:function(){this.bindStore(null),Ext.destroy(this.data),this.groupingFeature=null,this.callParent()}}),Ext.define("Ext.grid.feature.Grouping",{extend:"Ext.grid.feature.Feature",mixins:{summary:"Ext.grid.feature.AbstractSummary"},requires:["Ext.grid.feature.GroupStore"],alias:"feature.grouping",eventPrefix:"group",eventSelector:"."+Ext.baseCSSPrefix+"grid-group-hd",refreshData:{},wrapsItem:!0,groupHeaderTpl:"{columnName}: {name}",depthToIndent:17,collapsedCls:Ext.baseCSSPrefix+"grid-group-collapsed",hdCollapsedCls:Ext.baseCSSPrefix+"grid-group-hd-collapsed",hdNotCollapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-not-collapsible",collapsibleCls:Ext.baseCSSPrefix+"grid-group-hd-collapsible",ctCls:Ext.baseCSSPrefix+"group-hd-container",groupByText:"Group by this field",showGroupsText:"Show in groups",hideGroupedHeader:!1,startCollapsed:!1,enableGroupingMenu:!0,enableNoGroups:!0,collapsible:!0,groupers:null,expandTip:"Click to expand. CTRL key collapses all others",collapseTip:"Click to collapse. CTRL/click collapses all others",showSummaryRow:!1,outerTpl:["{%","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.setup(values.rows, values.view.rowValues);","}","this.nextTpl.applyOut(values, out, parent);","if (!(this.groupingFeature.disabled || values.rows.length === 1 && values.rows[0].isSummary)) {","this.groupingFeature.cleanup(values.rows, values.view.rowValues);","}","%}",{priority:200}],groupRowTpl:["{%","var me = this.groupingFeature,",'colspan = "colspan=" + values.columns.length;',"if (me.disabled || parent.rows.length === 1 && parent.rows[0].isSummary) {","values.needsWrap = false;","} else {","me.setupRowData(values.record, values.rowIndex, values);","}","%}",'<tpl if="needsWrap">','<tpl if="isFirstRow">',"{% values.view.renderColumnSizer(values, out); %}",'<tr data-boundView="{view.id}" data-recordId="{record.internalId:htmlEncode}" data-recordIndex="{[values.isCollapsedGroup ? -1 : values.recordIndex]}" class="{groupHeaderCls}">','<td class="{[me.ctCls]}" {[colspan]}>',"{%",'var groupTitleStyle = (!values.view.lockingPartner || (values.view.ownerCt === values.view.ownerCt.ownerLockable.lockedGrid) || (values.view.lockingPartner.headerCt.getVisibleGridColumns().length === 0)) ? "" : "visibility:hidden";',"%}",'<div data-groupname="{groupName:htmlEncode}" class="',Ext.baseCSSPrefix,'grid-group-hd {collapsibleCls}" nottabindex="0" hidefocus="on" {ariaCellInnerAttr}>','<div class="',Ext.baseCSSPrefix,'grid-group-title" style="{[groupTitleStyle]}" {ariaGroupTitleAttr} data-qtip="{[values.isCollapsedGroup ? me.expandTip : me.collapseTip]}">','{[values.groupHeaderTpl.apply(values.groupRenderInfo, parent) || "&#160;"]}',"</div>","</div>","</td>","</tr>","</tpl>",'<tpl if="!isCollapsedGroup">',"{%","values.itemClasses.length = 0;","this.nextTpl.applyOut(values, out, parent);","%}","</tpl>",'<tpl if="summaryRecord">',"{%me.outputSummaryRecord(values.summaryRecord, values, out, parent);%}","</tpl>","<tpl else>","{%this.nextTpl.applyOut(values, out, parent);%}","</tpl>",{priority:200,beginRowSync:function(e){var t=this.groupingFeature;e.add("header",t.eventSelector),e.add("summary",t.summaryRowSelector)},syncContent:function(e,t,i){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"syncSrc");var n=this.groupingFeature,r=e.down(n.eventSelector,!0),o=t.down(n.eventSelector,!0),e=e.down(n.summaryRowSelector,!0),n=t.down(n.summaryRowSelector,!0);r&&o&&Ext.fly(r).syncContent(o),e&&n&&(i?this.groupingFeature.view.updateColumns(e,n,i):Ext.fly(e).syncContent(n))}}],relayedEvents:["groupcollapse","groupexpand"],init:function(e){var t,i,n=this,r=n.view,o=n.getGridStore();r.isGrouping=o.isGrouped(),n.mixins.summary.init.call(n),n.callParent([e]),r.headerCt.on({columnhide:n.onColumnHideShow,columnshow:n.onColumnHideShow,columnmove:n.onColumnMove,scope:n}),r.addTpl(Ext.XTemplate.getTpl(n,"outerTpl")).groupingFeature=n,r.addRowTpl(Ext.XTemplate.getTpl(n,"groupRowTpl")).groupingFeature=n,r.preserveScrollOnRefresh=!0,o.isBufferedStore?n.collapsible=!1:(t=n.lockingPartner)&&t.dataSource?n.dataSource=r.dataSource=i=t.dataSource:n.dataSource=r.dataSource=i=new Ext.grid.feature.GroupStore(n,o),(e=e.ownerLockable||e).on("beforereconfigure",n.beforeReconfigure,n),r.isLockedView||(n.gridEventRelayers=e.relayEvents(r,n.relayedEvents)),r.on({afterrender:n.afterViewRender,scope:n,single:!0}),n.groupRenderInfo={},i?i.on("groupchange",n.onGroupChange,n):n.setupStoreListeners(o),n.mixins.summary.bindStore.call(n,e,e.getStore())},getGridStore:function(){return this.view.getStore()},indexOf:function(e){return e.isCollapsedPlaceholder?this.dataSource.indexOfPlaceholder(e):this.dataSource.indexOf(e)},indexOfPlaceholder:function(e){return this.dataSource.indexOfPlaceholder(e)},isInCollapsedGroup:function(e){var t,i=!1;return this.getGridStore().isGrouped()&&(t=this.getMetaGroup(e))&&(i=!(!t||!t.isCollapsed)),i},createCache:function(){var e=this.metaGroupCache={},t=this.lockingPartner;return t&&(t.metaGroupCache=e),e},getCache:function(){return this.metaGroupCache||this.createCache()},invalidateCache:function(){var e=this.lockingPartner;this.metaGroupCache=null,e&&(e.metaGroupCache=null)},vetoEvent:function(e,t,i,n){if("mouseover"!==n.type&&"mouseout"!==n.type&&"mouseenter"!==n.type&&"mouseleave"!==n.type&&n.getTarget(this.eventSelector))return!1},enable:function(){var e=this.view,t=this.getGridStore(),i=this.hideGroupedHeader&&this.getGroupedHeader();e.isGrouping=!0,e.lockingPartner&&(e.lockingPartner.isGrouping=!0),this.callParent(),this.lastGrouper&&(t.group(this.lastGrouper),this.lastGrouper=null),i&&i.hide(),(i=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&i.setChecked(!0,!0)},disable:function(){var e=this.view,t=this.getGridStore(),i=this.hideGroupedHeader&&this.getGroupedHeader(),n=t.getGrouper();e.isGrouping=!1,e.lockingPartner&&(e.lockingPartner.isGrouping=!1),this.callParent(),n&&(this.lastGrouper=n,t.clearGrouping()),i&&i.show(),(i=this.view.headerCt.getMenu().down("#groupToggleMenuItem"))&&(i.setChecked(!1,!0),i.disable())},afterViewRender:function(){var e=this;e.view.on({scope:e,groupmousedown:e.onGroupMousedown,groupclick:e.onGroupClick}),e.enableGroupingMenu&&e.injectGroupingMenu(),e.pruneGroupedHeader(),e.lastGrouper=e.getGridStore().getGrouper(),e.disabled&&e.disable()},injectGroupingMenu:function(){var e=this.view.headerCt;e.showMenuBy=this.showMenuBy,e.getMenuItems=this.getMenuItems()},onColumnHideShow:function(e,t){var i,n,r,o=this.view,s=o.headerCt.getMenu(),a=s.activeHeader,s=s.down("#groupMenuItem"),l=this.grid.getVisibleColumnManager().getColumns().length;if(a&&s&&s[!1===a.groupable||!a.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable"](),o.rendered&&l)for(r=0,n=(i=o.el.query("."+this.ctCls)).length;r<n;++r)i[r].colSpan=l},onColumnMove:function(){var e,t,i,n,r=this.view;if(r.getStore().isGrouped()){for(e in t=this.getCache(),Ext.suspendLayouts(),t)(n=this.getGroup(e))&&(i=n.first(),n=n.last(),this.getMetaGroup(e).isCollapsed&&(i=n=this.dataSource.getGroupPlaceholder(e)),r.refreshNode(i),this.showSummaryRow&&n!==i&&r.refreshNode(n));Ext.resumeLayouts(!0)}},showMenuBy:function(e,t,i){var n=this.getMenu(),r=n.down("#groupMenuItem"),o=!1===i.groupable||!i.dataIndex||this.view.headerCt.getVisibleGridColumns().length<2?"disable":"enable",s=n.down("#groupToggleMenuItem"),n=this.grid.getStore().isGrouped();r[o](),s&&(s.setChecked(n,!0),s[n?"enable":"disable"]()),Ext.grid.header.Container.prototype.showMenuBy.apply(this,arguments)},getMenuItems:function(){var t=this,i=t.groupByText,n=t.disabled||!t.getGroupField(),r=t.showGroupsText,o=t.enableNoGroups,s=t.view.headerCt.getMenuItems;return function(){var e=s.call(this);return e.push("-",{iconCls:Ext.baseCSSPrefix+"group-by-icon",itemId:"groupMenuItem",text:i,handler:t.onGroupMenuItemClick,scope:t}),o&&e.push({itemId:"groupToggleMenuItem",text:r,checked:!n,checkHandler:t.onGroupToggleMenuItemClick,scope:t}),e}},onGroupMenuItemClick:function(e,t){var i=e.parentMenu.activeHeader,n=this.view,e=this.getGridStore();this.disabled&&(this.lastGrouper=null,this.block(),this.enable(),this.unblock()),n.isGrouping=!0,e.group(this.getGrouper(i.dataIndex)||i.dataIndex),this.pruneGroupedHeader()},block:function(e){this.blockRefresh=this.view.blockRefresh=!0,this.lockingPartner&&!e&&this.lockingPartner.block(!0)},unblock:function(e){this.blockRefresh=this.view.blockRefresh=!1,this.lockingPartner&&!e&&this.lockingPartner.unblock(!0)},onGroupToggleMenuItemClick:function(e,t){this[t?"enable":"disable"]()},pruneGroupedHeader:function(){var e=this.getGroupedHeader();this.hideGroupedHeader&&e&&(Ext.suspendLayouts(),this.prunedHeader&&this.prunedHeader!==e&&this.prunedHeader.show(),(this.prunedHeader=e).rendered&&e.hide(),Ext.resumeLayouts(!0))},getHeaderNode:function(e){var t,i,n,r,o=this.view.getEl();if(o)for(i=0,n=(t=o.query(this.eventSelector)).length;i<n;++i)if((r=t[i]).getAttribute("data-groupName")===e)return r},getGroup:function(e){var t,i=this.getGridStore(),n=e;return i.isGrouped()&&(e.isModel&&(e=e.get(i.getGroupField())),"string"!=typeof e&&(e=i.getGrouper().getGroupString(n)),t=i.getGroups().getByKey(e)),t},getGrouper:function(t){var e=this.groupers;return e?Ext.Array.findBy(e,function(e){return e.property===t}):null},getGroupField:function(){return this.getGridStore().getGroupField()},getMetaGroup:function(e){var t,i=this.metaGroupCache||this.createCache();return e.isModel&&(e=this.getGroup(e)),null!=e&&(t=(t=i[e="string"==typeof e?e:e.getGroupKey()])||(i[e]={isCollapsed:!1,lastGroup:null,lastGroupGeneration:null,lastFilterGeneration:null,aggregateRecord:new Ext.data.Model})),t},isExpanded:function(e){return!this.getMetaGroup(e).isCollapsed},expand:function(e,t){this.doCollapseExpand(!1,e,t)},expandAll:function(){var e,t=this.getCache(),i=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!1);for(e in Ext.suspendLayouts(),this.dataSource.onDataChanged(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!1,e),i&&i.afterCollapseExpand(!1,e))},collapse:function(e,t){this.doCollapseExpand(!0,e,t)},isAllCollapsed:function(){var e,t=this.getCache();for(e in t)if(t.hasOwnProperty(e)&&!t[e].isCollapsed)return!1;return!0},isAllExpanded:function(){var e,t=this.getCache();for(e in t)if(t.hasOwnProperty(e)&&t[e].isCollapsed)return!1;return!0},collapseAll:function(){var e,t=this.getCache(),i=this.lockingPartner;for(e in t)t.hasOwnProperty(e)&&(t[e].isCollapsed=!0);for(e in Ext.suspendLayouts(),this.dataSource.onDataChanged(),Ext.resumeLayouts(!0),t)t.hasOwnProperty(e)&&(this.afterCollapseExpand(!0,e),i&&i.afterCollapseExpand(!0,e))},doCollapseExpand:function(e,t,i){var n=this.lockingPartner,r=this.getGroup(t);!0===i&&(i={focus:!0}),this.getMetaGroup(r).isCollapsed!==e&&(this.isExpandingOrCollapsing=!0,Ext.suspendLayouts(),e?this.dataSource.collapseGroup(r):this.dataSource.expandGroup(r),Ext.resumeLayouts(!0),this.afterCollapseExpand(e,t,i),n&&(i&&i.focus&&((i=Ext.Object.chain(i)).focus=!1),n.afterCollapseExpand(e,t,i)),this.isExpandingOrCollapsing=!1)},afterCollapseExpand:function(e,t,i){var n=this.view,r=this.getHeaderNode(t);n.fireEvent(e?"groupcollapse":"groupexpand",n,r,t),i&&(t=e?(i.focus=!1,this.metaGroupCache[t].placeholder):this.getGroup(t).getAt(0),this.grid.ensureVisible(t,i))},onGroupChange:function(e,t){t?this.lastGrouper=t:this.view.ownerGrid.getView().refreshView()},getMenuItem:function(e){var t=this.view,e=t.headerCt.down("gridcolumn[dataIndex="+e+"]"),t=t.headerCt.getMenu();return e?t.down("menuitem[headerId="+e.id+"]"):null},onGroupKey:function(e,t){var i=this.getGroupName(t.target);i&&this.onGroupClick(this.view,t.target,i,t)},onGroupMousedown:function(e,t,i,n){"mouse"===n.pointerType&&n.preventDefault()},onGroupClick:function(e,t,i,n){var r,o=this.getCache(),s=!this.isExpanded(i);if(this.collapsible)if(n.ctrlKey){for(r in Ext.suspendLayouts(),o)r===i?s&&this.expand(i):o[r].isCollapsed||this.doCollapseExpand(!0,r,!1);Ext.resumeLayouts(!0)}else s?this.expand(i):this.collapse(i)},setupRowData:function(e,t,i){var n,r,o=this,s=i.recordIndex,a=o.refreshData,l=(o.getCache(),o.groupRenderInfo),d=a.header,c=a.groupField,u=o.getGridStore(),h=o.view.dataSource.isBufferedStore,f=o.grid.columnManager.getHeaderByDataIndex(c),g=!(!f||!f.renderer),p=e.groupKey,m=e.isCollapsedPlaceholder&&Ext.isDefined(p)?o.getGroup(p):e.group;if(i.isCollapsedGroup=!1,i.summaryRecord=i.groupHeaderCls=null,a.doGrouping){if(p=u.getGrouper(),e.isCollapsedPlaceholder)return n=m.getGroupKey(),r=m.items,i.isFirstRow=i.isLastRow=!0,i.groupHeaderCls=o.hdCollapsedCls,i.isCollapsedGroup=i.needsWrap=!0,i.groupName=n,(i.groupRenderInfo=l).groupField=c,l.name=l.renderedGroupValue=g?f.renderer(m.getAt(0).get(c),{},e):n,l.groupValue=r[0].get(c),l.columnName=d?d.text:c,i.collapsibleCls=o.collapsible?o.collapsibleCls:o.hdNotCollapsibleCls,l.rows=l.children=r,void(o.showSummaryRow&&(i.summaryRecord=a.summaryData[n]));n=p.getGroupString(e),m?(r=m.items,i.isFirstRow=e===r[0],i.isLastRow=e===r[r.length-1]):(i.isFirstRow=0===s,i.isFirstRow||(r=u.getAt(s-1))&&(i.isFirstRow=!r.isEqual(p.getGroupString(r),n)),i.isLastRow=s===(h?u.getTotalCount():u.getCount())-1,i.isLastRow||(s=u.getAt(s+1))&&(i.isLastRow=!s.isEqual(p.getGroupString(s),n))),i.isFirstRow&&(l.groupField=c,l.name=l.renderedGroupValue=g?f.renderer(e.get(c),{},e):n,l.groupValue=e.get(c),l.columnName=d?d.text:c,i.collapsibleCls=o.collapsible?o.collapsibleCls:o.hdNotCollapsibleCls,i.groupName=n,o.isExpanded(n)||(i.itemClasses.push(o.hdCollapsedCls),i.isCollapsedGroup=!0),l.rows=l.children=h?[]:o.getRecordGroup(e).items,i.groupRenderInfo=l),i.isLastRow&&o.showSummaryRow&&(i.summaryRecord=a.summaryData[n],i.itemClasses.push(Ext.baseCSSPrefix+"grid-group-last")),i.needsWrap=i.isFirstRow||i.summaryRecord}},setup:function(e,t){var i=this.refreshData,n=t.view,r=n.isGrouping=!this.disabled&&this.getGridStore().isGrouped(),o=n.bufferedRenderer;this.skippedRows=0,o&&(o.variableRowHeight=n.hasVariableRowHeight()||r),i.groupField=this.getGroupField(),i.header=this.getGroupedHeader(i.groupField),i.doGrouping=r,t.groupHeaderTpl=Ext.XTemplate.getTpl(this,"groupHeaderTpl"),r&&this.showSummaryRow&&(i.summaryData=this.generateSummaryData())},cleanup:function(e,t){var i=this.refreshData;t.groupRenderInfo=t.groupHeaderTpl=t.isFirstRow=null,i.groupField=i.header=i.summaryData=null},getAggregateRecord:function(e,t){return!0!==t&&e.aggregateRecord||(t=new Ext.data.Model,(e.aggregateRecord=t).isNonData=t.isSummary=!0),e.aggregateRecord},generateSummaryData:function(){var e,t,i,n,r,o,s,a=this,l=a.getGridStore(),d=l.getFilters(),c=l.getGroups().items,u=(l.getProxy().getReader(),a.getGroupField()),h=a.lockingPartner,f=a.updateSummaryRow,g={},p=a.view.ownerCt,m=a.didColumnsChange();for(a.remoteRoot&&(o=!!(s=a.mixins.summary.generateSummaryData.call(a,u))),e=0,t=c.length;e<t;++e)i=c[e],n=a.getMetaGroup(i),f||o||l.updating||a.grid.reconfiguring||m||a.didGroupChange(i,n,d)?(r=a.populateRecord(i,n,s),h&&p!==p.ownerLockable.normalGrid||(n.lastGroup=i,n.lastGroupGeneration=i.generation,n.lastFilterGeneration=d.generation)):r=a.getAggregateRecord(n),g[i.getGroupKey()]=r;return a.updateSummaryRow=!1,g},getGroupName:function(e){var t=this.view,i=this.eventSelector,n=Ext.fly(e).findParent(i);if(n||(t=Ext.fly(e).findParent(t.itemSelector))&&(n=t.down(i,!0)),n)return n.getAttribute("data-groupname")},getRecordGroup:function(e){var t=this.getGridStore(),i=t.getGrouper();if(i)return t.getGroups().getByKey(i.getGroupString(e))},getGroupedHeader:function(e){var t,i=this.view.headerCt,n=this.lockingPartner;return(e=e||this.getGroupField())&&(e="[dataIndex="+e+"]",!(t=i.down(e))&&n&&(t=n.view.headerCt.down(e))),t||null},getFireEventArgs:function(e,t,i,n){return[e,t,i,this.getGroupName(i),n]},destroy:function(){var e=this,t=e.dataSource;Ext.destroy(e.gridEventRelayers),e.gridEventRelayers=null,e.storeListeners=Ext.destroy(e.storeListeners),e.view=e.prunedHeader=e.grid=e.dataSource=e.groupers=null,e.invalidateCache(),t&&!t.destroyed&&(t.bindStore(null),Ext.destroy(t)),e.callParent()},beforeReconfigure:function(e,t,i,n,r){var o,s=this.view,a=this.dataSource;t&&t!==n&&(o=t.isBufferedStore,a||(Ext.destroy(this.storeListeners),this.setupStoreListeners(t)),o!==n.isBufferedStore&&Ext.raise("Cannot reconfigure grouping switching between buffered and non-buffered stores"),s.isGrouping=!!t.getGrouper(),a.bindStore(t))},populateRecord:function(e,t,i){var n,r,o,s,a,l,d=(this.grid.ownerLockable||this).view,c=this.getGridStore(),u=this.getAggregateRecord(t),h=d.headerCt.getGridColumns(),f=h.length,g=e.getGroupKey();if(u.beginEdit(),i)for(r in n=i[g])n.hasOwnProperty(r)&&r!==u.idProperty&&u.set(r,n[r]);for(o=0;o<f;++o)a=(s=h[o]).dataIndex||s.getItemId(),i?l=u.get(s.dataIndex):(l=this.getSummary(c,s.summaryType,a,e),u.set(a,l)),this.setSummaryData(u,s.getItemId(),l,g);return u.ownerGroup=g,u.endEdit(!0),u.commit(),u},privates:{didGroupChange:function(e,t,i){var n=!0;return e===t.lastGroup&&(n=t.lastGroupGeneration!==e.generation||t.lastFilterGeneration!==i.generation),n},didColumnsChange:function(){var e=this.view.headerCt.items.generation!==this.lastHeaderCtGeneration;return this.lastHeaderCtGeneration=this.view.headerCt.items.generation,e},setupStoreListeners:function(e){this.storeListeners=e.on({groupchange:this.onGroupChange,scope:this,destroyable:!0})}}}),Ext.define("Ext.grid.feature.GroupingSummary",{extend:"Ext.grid.feature.Grouping",alias:"feature.groupingsummary",showSummaryRow:!0,vetoEvent:function(e,t,i,n){var r=this.callParent(arguments);return!1!==r&&n.getTarget(this.summaryRowSelector)&&(r=!1),r}}),Ext.define("Ext.grid.feature.RowBody",{extend:"Ext.grid.feature.Feature",alias:"feature.rowbody",rowBodyCls:Ext.baseCSSPrefix+"grid-row-body",innerSelector:"."+Ext.baseCSSPrefix+"grid-rowbody",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowBodyTdSelector:"td."+Ext.baseCSSPrefix+"grid-cell-rowbody",eventPrefix:"rowbody",eventSelector:"tr."+Ext.baseCSSPrefix+"grid-rowbody-tr",bodyBefore:!1,outerTpl:{fn:function(e,t,i){var n=this.rowBody,r=t.view,o=r.getVisibleColumnManager().getColumns(),s=r.rowValues,a=n.rowExpander&&n.rowExpander.expanderColumn;s.rowBodyColspan=o.length,s.rowBodyCls=n.rowBodyCls,s.rowIdCls=n.rowIdCls,a&&a.getView()===r?(r.grid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),s.addSpacerCell=!0,--s.rowBodyColspan,s.spacerCellCls=Ext.baseCSSPrefix+"grid-cell "+Ext.baseCSSPrefix+"grid-row-expander-spacer "+Ext.baseCSSPrefix+"grid-cell-special"):(r.grid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),s.addSpacerCell=!1),this.nextTpl.applyOut(t,e,i),s.rowBodyCls=s.rowBodyColspan=s.rowBody=null},priority:100},extraRowTpl:["{%","if(this.rowBody.bodyBefore) {","values.view.renderColumnSizer(values, out);","} else {","this.nextTpl.applyOut(values, out, parent);","}","values.view.rowBodyFeature.setupRowData(values.record, values.recordIndex, values);","%}",'<tr class="'+Ext.baseCSSPrefix+'grid-rowbody-tr {rowBodyCls} {rowIdCls}" {ariaRowAttr}>','<tpl if="addSpacerCell">','<td class="{spacerCellCls}"></td>',"</tpl>",'<td class="'+Ext.baseCSSPrefix+"grid-td "+Ext.baseCSSPrefix+'grid-cell-rowbody" colspan="{rowBodyColspan}" {ariaCellAttr}>','<div class="'+Ext.baseCSSPrefix+'grid-rowbody {rowBodyDivCls}" {ariaCellInnerAttr}>{rowBody}</div>',"</td>","</tr>","{%","if(this.rowBody.bodyBefore) {","this.nextTpl.applyOut(values, out, parent);","}","%}",{priority:100,beginRowSync:function(e){e.add("rowBody",this.owner.eventSelector)},syncContent:function(e,t,i){var n,r=this.owner,e=Ext.fly(e).down(r.eventSelector,!0);e&&(n=Ext.fly(t).down(r.eventSelector,!0))&&Ext.fly(e).syncContent(n)}}],init:function(e){var t=this.view=e.getView();!this.rowExpander&&e.findPlugin("rowexpander")&&Ext.raise("The RowBody feature shouldn't be manually added when the grid has a RowExpander."),e.variableRowHeight=t.variableRowHeight=!0,t.rowBodyFeature=this,t.headerCt.on({columnschanged:this.onColumnsChanged,scope:this}),t.addTpl(this.outerTpl).rowBody=this,(t.addRowTpl(Ext.XTemplate.getTpl(this,"extraRowTpl")).rowBody=this).callParent(arguments)},getSelectedRow:function(e,t){t=e.getNode(t);return t?Ext.fly(t).down(this.eventSelector):null},onColumnsChanged:function(e){for(var t=this.view.el.query(this.rowBodyTdSelector),i=e.getVisibleGridColumns().length,n=t.length,r=0;r<n;++r)t[r].setAttribute("colSpan",i)},setupRowData:function(e,t,i){this.getAdditionalData&&Ext.apply(i,this.getAdditionalData(e.data,t,e,i))}}),Ext.define("Ext.grid.feature.Summary",{extend:"Ext.grid.feature.AbstractSummary",alias:"feature.summary",dock:void 0,summaryItemCls:Ext.baseCSSPrefix+"grid-row-summary-item",dockedSummaryCls:Ext.baseCSSPrefix+"docked-summary",panelBodyCls:Ext.baseCSSPrefix+"summary-",hasFeatureEvent:!1,fullSummaryTpl:["{%","var me = this.summaryFeature,","    record = me.summaryRecord,","    view = values.view,","    bufferedRenderer = view.bufferedRenderer;","this.nextTpl.applyOut(values, out, parent);","if (!me.disabled && me.showSummaryRow &&","!view.addingRows && view.store.isLast(values.record)) {","if (bufferedRenderer) {","    bufferedRenderer.variableRowHeight = true;","}","me.outputSummaryRecord((record && record.isModel) ? record : me.createSummaryRecord(view), values, out, parent);","}","%}",{priority:300,beginRowSync:function(e){e.add("fullSummary",this.summaryFeature.summaryRowSelector)},syncContent:function(e,t,i){e=Ext.fly(e,"syncDest"),t=Ext.fly(t,"sycSrc");var n=this.summaryFeature.summaryRowSelector,e=e.down(n,!0),n=t.down(n,!0);e&&n&&(i?this.summaryFeature.view.updateColumns(e,n,i):Ext.fly(e).syncContent(n))}}],init:function(t){var i=this,n=i.view,r=i.dock;i.callParent(arguments),r?(t.addBodyCls(i.panelBodyCls+r),t.headerCt.on({add:i.onStoreUpdate,afterlayout:i.onStoreUpdate,scope:i}),t.on({beforerender:function(){var e=[i.summaryTableCls];n.columnLines&&(e[e.length]=n.ownerCt.colLinesCls),i.summaryBar=t.addDocked({childEls:["innerCt","item"],renderTpl:['<div id="{id}-innerCt" data-ref="innerCt" role="presentation">','<table id="{id}-item" data-ref="item" cellPadding="0" cellSpacing="0" class="'+e.join(" ")+'">','<tr class="'+i.summaryRowCls+'"></tr>',"</table>","</div>"],scrollable:{x:!1,y:!1},hidden:!i.showSummaryRow,itemId:"summaryBar",cls:[i.dockedSummaryCls,i.dockedSummaryCls+"-"+r],xtype:"component",dock:r,weight:1e7})[0]},afterrender:function(){t.getView().getScrollable().addPartner(i.summaryBar.getScrollable(),"x"),i.onStoreUpdate()},single:!0}),t.headerCt.afterComponentLayout=Ext.Function.createSequence(t.headerCt.afterComponentLayout,function(){var e=this.getTableWidth(),t=i.summaryBar.innerCt;i.summaryBar.item.setWidth(e),this.tooNarrow&&(e+=Ext.getScrollbarSize().width),t.setWidth(e)})):t.bufferedRenderer?(i.wrapsItem=!0,n.addRowTpl(Ext.XTemplate.getTpl(i,"fullSummaryTpl")).summaryFeature=i,n.on("refresh",i.onViewRefresh,i)):(i.wrapsItem=!1,i.view.addFooterFn(i.renderSummaryRow)),t.ownerGrid.on({beforereconfigure:i.onBeforeReconfigure,columnmove:i.onStoreUpdate,scope:i}),i.bindStore(t,t.getStore())},onBeforeReconfigure:function(e,t){this.summaryRecord=null,t&&this.bindStore(e,t)},bindStore:function(e,t){Ext.destroy(this.storeListeners),this.storeListeners=t.on({scope:this,destroyable:!0,update:this.onStoreUpdate,datachanged:this.onStoreUpdate}),this.callParent([e,t])},renderSummaryRow:function(e,t,i){var n,r=e.view,o=r.findFeature("summary");o.disabled||!o.showSummaryRow||r.addingRows||r.updatingRows||(n=o.summaryRecord,t.push('<table cellpadding="0" cellspacing="0" class="'+o.summaryItemCls+'" style="table-layout: fixed; width: 100%;">'),o.outputSummaryRecord(n&&n.isModel?n:o.createSummaryRecord(r),e,t,i),t.push("</table>"))},toggleSummaryRow:function(e,t){var i=this.summaryBar;this.callParent([e,t]),i&&(i.setVisible(this.showSummaryRow),this.onViewScroll())},getSummaryBar:function(){return this.summaryBar},getSummaryRowPlaceholder:function(e){var t=this.summaryItemCls,e=Ext.fly(e.getNodeContainer());return e?e.down("."+t,!0)||e.createChild({tag:"table",cellpadding:0,cellspacing:0,cls:t,style:"table-layout: fixed; width: 100%",children:[{tag:"tbody"}]},!1,!0):null},vetoEvent:function(e,t,i,n){return!n.getTarget(this.summaryRowSelector)},onViewScroll:function(){this.summaryBar.setScrollX(this.view.getScrollX())},onViewRefresh:function(e){var t;this.disabled||!this.showSummaryRow||e.all.getCount()||(t=this.createSummaryRecord(e),this.getSummaryRowPlaceholder(e).appendChild(Ext.fly(e.createRowElement(t,-1)).down(this.summaryRowSelector,!0)))},createSummaryRecord:function(e){var t,i,n,r,o,s=e.headerCt.getGridColumns(),a=this.remoteRoot,l=this.summaryRecord,d=s.length;if(l||(o={id:e.id+"-summary-record"},l=this.summaryRecord=new Ext.data.Model(o)),l.beginEdit(),a)(r=this.generateSummaryData())&&l.set(r);else for(t=0;t<d;t++)n=(i=s[t]).dataIndex||i.getItemId(),r=this.getSummary(e.store,i.summaryType,n),l.set(n,r),this.setSummaryData(l,i.getItemId(),r);return l.endEdit(!0),l.commit(!0),l.isSummary=!0,l},onStoreUpdate:function(){var e,t,i,n=this.view,r=this.summaryRowSelector,o=this.dock;n.rendered&&(e=this.createSummaryRecord(n),(e=Ext.fly(n.createRowElement(e,-1)).down(r,!0))&&(o?(t=(i=this.summaryBar.item.dom.firstChild).firstChild,i.insertBefore(e,t),i.removeChild(t),this.onColumnHeaderLayout()):((i=(t=n.el.down(r,!0))&&t.parentNode)&&i.removeChild(t),(i=(i=n.getRow(n.all.last()))?i.parentElement:(i=this.getSummaryRowPlaceholder(n))&&i.tBodies&&i.tBodies[0])&&i.appendChild(e))))},onColumnHeaderLayout:function(){for(var e,t,i=this.view,n=i.headerCt.getVisibleGridColumns(),r=n.length,o=this.summaryBar.el,s=0;s<r;s++)e=n[s],(t=o.down(i.getCellSelector(e),!0))&&Ext.fly(t).setWidth(e.width||(e.lastBox?e.lastBox.width:100))},destroy:function(){this.summaryRecord=this.storeListeners=Ext.destroy(this.storeListeners),this.callParent()}}),Ext.define("Ext.menu.Item",{extend:"Ext.Component",alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:!0,mixins:["Ext.mixin.Queryable"],requires:["Ext.Glyph"],config:{glyph:null},activated:!1,activeCls:Ext.baseCSSPrefix+"menu-item-active",clickHideDelay:0,destroyMenu:!0,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:!0,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",focusable:!0,ariaRole:"menuitem",ariaEl:"itemEl",baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex != null"> tabindex="{tabIndex}"</tpl><tpl foreach="ariaAttributes"> {$}="{.}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on" role="presentation">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph"><tpl if="glyphFontFamily">font-family:{glyphFontFamily};</tpl>">{glyph}<tpl else>"></tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',autoEl:{role:"presentation"},maskOnDisable:!1,iconAlign:"left",initComponent:function(){var e=this,t=e.cls?[e.cls]:[];e.hasOwnProperty("canActivate")&&(e.focusable=e.canActivate),e.plain&&t.push(Ext.baseCSSPrefix+"menu-item-plain"),t.length&&(e.cls=t.join(" ")),e.menu&&(t=e.menu,e.menu=null,e.setMenu(t)),e.callParent(arguments)},canFocus:function(){return this.focusable&&this.rendered&&!1!==this.canActivate&&!this.destroying&&!this.destroyed&&this.isVisible(!0)},onFocus:function(e){this.callParent([e]),this.plain||this.addCls(this.activeCls),this.activated=!0,this.hasListeners.activate&&this.fireEvent("activate",this)},onFocusLeave:function(e){this.callParent([e]),this.plain||this.removeCls(this.activeCls),this.doHideMenu(),this.activated=!1,this.hasListeners.deactivate&&this.fireEvent("deactivate",this)},doHideMenu:function(){var e=this.menu;this.cancelDeferExpand(),e&&e.isVisible()&&e.hide()},deferHideParentMenus:function(){for(var e=this.getRefOwner();e&&(e.isMenu&&e.floating||e.isMenuItem);e=e.getRefOwner())e.isMenu&&e.hide()},expandMenu:function(e,t){var i=this;!i.disabled&&i.activated&&i.menu&&(i.hideOnClick=!1,i.cancelDeferHide(),0===(t=null==t?i.menuExpandDelay:t)?i.doExpandMenu(e):(i.cancelDeferExpand(),i.expandMenuTimer=Ext.defer(i.doExpandMenu,t,i,[e])))},doExpandMenu:function(e){var t=this.menu;t.isVisible()?e&&"keydown"===e.type&&t.focus():((this.parentMenu.activeChild=t).ownerCmp=this,t.parentMenu=this.parentMenu,t.constrainTo=document.body,t.autoFocus=!e||!e.pointerType,t.showBy(this,this.menuAlign))},getRefItems:function(e){var t,i=this.menu;return i&&(t=i.getRefItems(e)).unshift(i),t||[]},getValue:function(){return this.value},hideMenu:function(e){this.menu&&(this.cancelDeferExpand(),this.hideMenuTimer=Ext.defer(this.doHideMenu,Ext.isNumber(e)?e:this.menuHideDelay,this))},onClick:function(e){var t,i=this,n=i.clickHideDelay,r=e.browserEvent;return!((!i.href||i.disabled)&&(e.stopEvent(),i.disabled))&&(i.disabled||i.handlingClick||(i.hideOnClick&&!i.menu&&(n?i.deferHideParentMenusTimer=Ext.defer(i.deferHideParentMenus,n,i):i.deferHideParentMenus()),t=i.fireEvent("click",i,e),i.destroyed||(!1!==t&&i.handler&&Ext.callback(i.handler,i.scope,[i,e],0,i),i.destroyed))?void 0:(r=Ext.isIE9m?!1===r.returnValue:!!r.defaultPrevented,i.href&&"click"!==e.type&&!r&&(i.handlingClick=!0,i.itemEl.dom.click(),i.handlingClick=!1),i.hideOnClick||i.hasFocus||i.focus(),t))},onRemoved:function(){this.activated&&this.parentMenu.activeItem===this&&this.parentMenu.deactivateActiveItem(),this.callParent(arguments),this.parentMenu=this.ownerCmp=null},doDestroy:function(){this.rendered&&this.clearTip(),this.cancelDeferExpand(),this.cancelDeferHide(),clearTimeout(this.deferHideParentMenusTimer),this.setMenu(null),this.callParent()},beforeRender:function(){var e,t=this,i=t.glyph,n=!!(t.icon||t.iconCls||i),r=!!t.menu,o="right"===t.iconAlign&&!r,s=t.isMenuCheckItem,a=[],l=t.ownerCt,d=l.plain;t.plain&&(t.ariaEl="el"),t.callParent(),n&&r&&t.showCheckbox&&(n=!1),i&&(e=i.fontFamily,i=i.character),(!d||n&&!o||s)&&(l.showSeparator&&!d?a.push(t.indentCls):a.push(t.indentNoSeparatorCls)),r?a.push(t.indentRightArrowCls):n&&(o||s)&&a.push(t.indentRightIconCls),Ext.applyIf(t.renderData,{hasHref:!!t.href,href:t.href||"#",hrefTarget:t.hrefTarget,icon:t.icon,iconCls:t.iconCls,glyph:i,glyphCls:i?Ext.baseCSSPrefix+"menu-item-glyph":void 0,glyphFontFamily:e,hasIcon:n,hasMenu:r,indent:!d||n||s,isCheckItem:s,rightIcon:o,plain:t.plain,text:t.text,arrowCls:t.arrowCls,baseIconCls:t.baseIconCls,textCls:t.textCls,indentCls:a.join(" "),linkCls:t.linkCls,linkHrefCls:t.linkHrefCls,groupCls:t.group?t.groupCls:"",tabIndex:t.tabIndex})},onRender:function(){this.callParent(arguments),this.tooltip&&this.setTooltip(this.tooltip,!0)},getMenu:function(){return this.menu||null},setMenu:function(e,t){var i,n=this,r=n.menu,o=n.arrowEl,s=n.ariaEl.dom;r&&((!(r.ownerCmp=r.parentMenu=null)===t||!1!==t&&n.destroyMenu)&&Ext.destroy(r),s?(s.removeAttribute("aria-haspopup"),s.removeAttribute("aria-owns")):(delete(i=n.ariaRenderAttributes||(n.ariaRenderAttributes={}))["aria-haspopup"],delete i["aria-owns"])),e?(r=e.isMenu,(e=n.menu=Ext.menu.Manager.get(e,{ownerCmp:n,focusOnToFront:!1})).setOwnerCmp(n,r),s?(s.setAttribute("aria-haspopup",!0),s.setAttribute("aria-owns",e.id)):((i=n.ariaRenderAttributes||(n.ariaRenderAttributes={}))["aria-haspopup"]=!0,i["aria-owns"]=e.id)):e=n.menu=null,e&&n.rendered&&!n.destroying&&o&&o[e?"addCls":"removeCls"](n.arrowCls)},setHandler:function(e,t){this.handler=e||null,this.scope=t},setIcon:function(e){var t=this.iconEl,i=this.icon;this.glyph&&this.setGlyph(null),t&&t.setStyle("background-image",e?"url("+e+")":""),this.icon=e,this.fireEvent("iconchange",this,i,e)},setIconCls:function(e){var t=this.iconEl,i=this.iconCls;this.glyph&&this.setGlyph(null),t&&(t.setStyle("background-image",""),this.iconCls&&t.removeCls(this.iconCls),e&&t.addCls(e)),this.iconCls=e,this.fireEvent("iconchange",this,i,e)},setText:function(e){var t=this.textEl||this.el,i=this.text;this.text=e,this.rendered&&(t.setHtml(e||""),this.updateLayout()),this.fireEvent("textchange",this,i,e)},getTipAttr:function(){return"qtip"===this.tooltipType?"data-qtip":"title"},clearTip:function(){Ext.quickTipsActive&&Ext.isObject(this.tooltip)&&Ext.tip.QuickTipManager.unregister(this.itemEl)},setTooltip:function(e,t){return this.rendered?(t||this.clearTip(),Ext.quickTipsActive&&Ext.isObject(e)?(Ext.tip.QuickTipManager.register(Ext.apply({target:this.itemEl.id},e)),this.tooltip=e):this.itemEl.dom.setAttribute(this.getTipAttr(),e)):this.tooltip=e,this},getFocusEl:function(){return this.plain?this.el:this.itemEl},getFocusClsEl:function(){return this.el},privates:{cancelDeferExpand:function(){window.clearTimeout(this.expandMenuTimer)},cancelDeferHide:function(){window.clearTimeout(this.hideMenuTimer)}},applyGlyph:function(e,t){return e&&(e.isGlyph||(e=new Ext.Glyph(e)),e.isEqual(t)&&(e=void 0)),e},updateGlyph:function(e,t){var i=this.iconEl;i&&(i.setStyle("background-image","none"),this.icon=null,e?(i.dom.innerHTML=e.character,i.setStyle(e.getStyle())):i.dom.innerHTML="")}}),Ext.define("Ext.menu.CheckItem",{extend:"Ext.menu.Item",alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:!1,checkChangeDisabled:!1,submenuText:"{0} submenu",ariaRole:"menuitemcheckbox",childEls:["checkEl"],defaultBindProperty:"checked",showCheckbox:!0,isMenuCheckItem:!0,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){this.checked=!!this.checked,this.callParent(arguments),this.group&&(Ext.menu.Manager.registerCheckable(this),!1!==this.initialConfig.hideOnClick&&(this.hideOnClick=!0))},beforeRender:function(){var e,t=this;t.callParent(),Ext.apply(t.renderData,{checkboxCls:t.checkboxCls,showCheckbox:t.showCheckbox}),(e=t.ariaRenderAttributes||(t.ariaRenderAttributes={}))["aria-checked"]=t.menu?"mixed":t.checked,t.menu&&(e["aria-label"]=Ext.String.formatEncode(t.submenuText,t.text))},afterRender:function(){var e=this;e.callParent(),e.checked=!e.checked,e.setChecked(!e.checked,!0),e.checkChangeDisabled&&e.disableCheckChange(),Ext.isGecko&&e.checkEl&&e.checkEl.on("mousedown",e.onMouseDownCheck)},disableCheckChange:function(){var e=this.checkEl;e&&e.addCls(this.disabledCls),Ext.isIE8&&this.rendered&&this.el.repaint(),this.checkChangeDisabled=!0},enableCheckChange:function(){var e=this.checkEl;e&&e.removeCls(this.disabledCls),this.checkChangeDisabled=!1},onMouseDownCheck:function(e){e.preventDefault()},onClick:function(e){if(!(this.disabled||this.checkChangeDisabled||this.checked&&this.group||this.menu&&"touch"===e.pointerType&&!this.checkEl.contains(e.target))&&(this.setChecked(!this.checked),"keydown"===e.type&&this.menu))return!1;this.callParent([e])},doDestroy:function(){Ext.menu.Manager.unregisterCheckable(this),this.callParent()},setText:function(e){var t=this.ariaEl.dom;this.callParent([e]),t&&this.menu&&t.setAttribute("aria-label",Ext.String.formatEncode(this.submenuText,e))},setChecked:function(e,t){var i=this,n=i.checkedCls,r=i.uncheckedCls,o=i.el,s=i.ariaEl.dom;i.checked===e||!t&&!1===i.fireEvent("beforecheckchange",i,e)||(o&&(e?(o.addCls(n),o.removeCls(r)):(o.addCls(r),o.removeCls(n))),s&&s.setAttribute("aria-checked",i.menu?"mixed":!!e),i.checked=e,Ext.menu.Manager.onCheckChange(i,e),i.publishState("checked",e),t||(Ext.callback(i.checkHandler,i.scope,[i,e],0,i),i.fireEvent("checkchange",i,e)))}}),Ext.define("Ext.menu.Separator",{extend:"Ext.menu.Item",alias:"widget.menuseparator",focusable:!1,canActivate:!1,hideOnClick:!1,plain:!0,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(){this.addCls(this.separatorCls),this.callParent()}}),Ext.define("Ext.menu.Menu",{extend:"Ext.panel.Panel",alias:"widget.menu",requires:["Ext.layout.container.VBox","Ext.menu.CheckItem","Ext.menu.Item","Ext.menu.Manager","Ext.menu.Separator"],mixins:["Ext.util.FocusableContainer"],defaultType:"menuitem",enableKeyNav:!0,allowOtherMenus:!1,ariaRole:"menu",floating:!0,constrain:!0,hidden:!0,hideMode:"visibility",ignoreParentClicks:!1,mouseLeaveDelay:100,isMenu:!0,showSeparator:!0,minWidth:void 0,defaultMinWidth:120,defaultAlign:"tl-bl?",focusOnToFront:!1,bringParentToFront:!1,alignOnScroll:!1,focusable:!0,tabIndex:-1,defaultFocus:":focusable",allowFocusingDisabledChildren:!0,menuClickBuffer:0,baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var e=this,t=[Ext.baseCSSPrefix+"menu"],i=e.bodyCls?[e.bodyCls]:[],n=!1!==e.floating,r={element:"el",click:e.onClick,mouseover:e.onMouseOver,scope:e};Ext.supports.Touch&&(r.pointerdown=e.onMouseOver),e.on(r),e.on({beforeshow:e.onBeforeShow,scope:e}),e.plain&&t.push(Ext.baseCSSPrefix+"menu-plain"),e.cls=t.join(" "),i.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls),e.bodyCls=i.join(" "),n?void 0===e.minWidth&&(e.minWidth=e.defaultMinWidth):(e.hidden=!!e.initialConfig.hidden,e.constrain=!1),e.callParent(arguments),Ext.override(e.getLayout(),{configureItem:e.configureItem}),e.itemOverTask=new Ext.util.DelayedTask(e.handleItemOver,e)},initFloatConstrain:Ext.emptyFn,getInherited:function(){var e=this.callParent();return this.floating&&(e.hidden=this.hidden),e},beforeRender:function(){this.callParent(arguments),this.getSizeModel().width.shrinkWrap||(this.layout.align="stretch"),this.floating&&(this.ariaRenderAttributes=this.ariaRenderAttributes||{},this.ariaRenderAttributes["aria-expanded"]=!!this.autoShow)},onBoxReady:function(){var e=this,t=e._iconSeparatorCls,i=e.focusableKeyNav;i?(i.map.processEventScope=e,i.map.processEvent=function(e){return e.keyCode===e.ESC&&(e.target=this.el.dom),e},i.map.addBinding([{key:Ext.event.Event.ESC,handler:e.onEscapeKey,scope:e},{key:/[\w]/,handler:e.onShortcutKey,scope:e,shift:!1,ctrl:!1,alt:!1}])):e.escapeKeyNav=new Ext.util.KeyNav(e.el,{eventName:"keydown",scope:e,esc:e.onEscapeKey}),e.callParent(arguments),e.showSeparator&&(e.iconSepEl=e.body.insertFirst({role:"presentation",cls:t+" "+t+"-"+e.ui,html:"&#160;"})),(Ext.supports.Touch||Ext.supports.MSPointerEvents||Ext.supports.PointerEvents)&&e.el.on({scope:e,click:e.preventClick,translate:!1}),e.mouseMonitor=e.el.monitorMouseLeave(e.mouseLeaveDelay,e.onMouseLeave,e)},onFocusEnter:function(e){var t;this.callParent([e]),this.mixins.focusablecontainer.onFocusEnter.call(this,e),this.floating&&((t=this.getInherited()).topmostFocusEvent||(t.topmostFocusEvent=e))},onFocusLeave:function(e){this.callParent([e]),this.lastFocusedChild=null,this.mixins.focusablecontainer.onFocusLeave.call(this,e),this.floating&&this.hide()},handleItemOver:function(e,t){t.containsFocus||"mouse"!==e.pointerType&&!t.isMenuItem||t.focus(),t.expandMenu&&t.expandMenu(e)},canActivateItem:function(e){return e&&e.isFocusable()},deactivateActiveItem:function(){var e=this.lastFocusedChild;e&&e.blur()},getItemFromEvent:function(e){for(var t=this.layout.getRenderTarget().dom,i=e.getTarget();i.parentNode!==t;)if(!(i=i.parentNode))return;return Ext.getCmp(i.id)},lookupComponent:function(e){return"string"==typeof e?e="@"===e[0]?this.callParent([e]):this.lookupItemFromString(e):Ext.isObject(e)&&(e=this.lookupItemFromObject(e)),e.dock||(e.minWidth=e.minWidth||this.minWidth),e},lookupItemFromObject:function(e){var t=this.defaultType;return e.isComponent||(!e.xtype&&Ext.isBoolean(e.checked)&&(t="menucheckitem"),e=Ext.ComponentManager.create(e,t)),e.isMenuItem&&(e.parentMenu=this),e},lookupItemFromString:function(e){return"separator"===e||"-"===e?new Ext.menu.Separator:new Ext.menu.Item({canActivate:!1,hideOnClick:!1,plain:!0,text:e})},configureItem:function(e){var t,i=this.owner,n=Ext.baseCSSPrefix,r=i.ui;e.isMenuItem?e.setUI(r):1<i.items.getCount()&&!e.rendered&&!e.dock&&(t=[(t=i._itemCmpCls)+" "+t+"-"+r],i.plain||!1===e.indent&&"no-icon"!==e.iconCls||t.push(n+"menu-item-indent-"+r),e.rendered?e.el.addCls(t):e.cls=(e.cls||"")+" "+t.join(" "),e.$extraMenuCls=t),this.callParent(arguments)},onRemove:function(e){this.callParent([e]),!e.destroyed&&e.$extraMenuCls&&e.el.removeCls(e.$extraMenuCls)},onClick:function(e){var t,i,n="keydown"===e.type;if(this.disabled)e.stopEvent();else{if((t=this.getItemFromEvent(e))&&t.isMenuItem){if(t.menu&&this.ignoreParentClicks?e.stopEvent():i=t.onClick(e),this.destroyed)return;t.menu&&!1!==i&&n&&t.expandMenu(e,0)}t&&!t.disabled||(t=void 0),this.fireEvent("click",this,t,e)}},doDestroy:function(){var e=this;e.escapeKeyNav&&e.escapeKeyNav.destroy(),e.parentMenu=e.ownerCmp=e.escapeKeyNav=null,e.rendered&&(e.el.un(e.mouseMonitor),Ext.destroy(e.iconSepEl)),Ext.menu.Manager.onHide(e),e.callParent()},onMouseLeave:function(e){this.itemOverTask&&this.itemOverTask.cancel(),this.disabled||this.fireEvent("mouseleave",this,e)},onMouseOver:function(e){var t=this,i=e.getRelatedTarget(),n=!t.el.contains(i),r=t.getItemFromEvent(e),o=t.parentMenu,i=t.ownerCmp;n&&o&&(o.setActiveItem(i),i.cancelDeferHide(),o.mouseMonitor.mouseenter(),o.itemOverTask.cancel()),t.disabled||(r&&t.itemOverTask.delay(t.mouseLeaveDelay,null,null,[e,r]),n&&t.fireEvent("mouseenter",t,e),t.fireEvent("mouseover",t,r,e))},setActiveItem:function(e){e&&e!==this.lastFocusedChild&&this.focusChild(e,1)},onEscapeKey:function(){this.floating&&this.hide()},onShortcutKey:function(e,t){var i=String.fromCharCode(t.getCharCode()),n=this.query(">[text]"),r=n.length,o=this.lastFocusedChild,s=Ext.Array.indexOf(n,o),a=s;if(0!==r)for(;;){if(++a===r&&(a=0),o=n[a],a===s)return;if(o.text&&o.text[0].toUpperCase()===i)return void o.focus()}},onBeforeShow:function(){if(Ext.Date.getElapsed(this.lastHide)<this.menuClickBuffer)return!1},beforeShow:function(){this.floating&&(this.hasFloatMenuParent()||this.allowOtherMenus||Ext.menu.Manager.hideAll()),this.callParent(arguments)},afterShow:function(){var e=this.ariaEl.dom;this.callParent(arguments),Ext.menu.Manager.onShow(this),this.floating&&e&&e.setAttribute("aria-expanded",!0),this.floating&&(this.maxHeight=this.savedMaxHeight),this.autoFocus&&this.focus()},onHide:function(e,t,i){var n=this.ariaEl.dom;this.callParent([e,t,i]),this.lastHide=Ext.Date.now(),Ext.menu.Manager.onHide(this),this.floating&&n&&n.setAttribute("aria-expanded",!1)},afterHide:function(e,t){this.callParent([e,t]),delete this.getInherited().topmostFocusEvent},preventClick:function(e){var t=this.getItemFromEvent(e);t&&t.isMenuItem&&!t.href&&e.preventDefault()},privates:{applyDefaults:function(e){return Ext.isString(e)||(e=this.callParent(arguments)),e},initFocusableElement:function(){var e=this.tabIndex,t=this.el;this.floating&&null!=e&&t&&t.dom&&(t.dom.setAttribute("tabIndex",e),t.dom.setAttribute("data-componentid",this.id))},onFocusableContainerTabKey:function(e){this.floating&&(e.shiftKey?e.preventDefault():this.focusEnterEvent=this.getInherited().topmostFocusEvent,this.hide())},onFocusableContainerEnterKey:function(e){this.onClick(e)},onFocusableContainerSpaceKey:function(e){this.onClick(e)},onFocusableContainerLeftKey:function(e){e.preventDefault(),this.parentMenu&&(this.ownerCmp.focus(),this.hide())},onFocusableContainerRightKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)},hasFloatMenuParent:function(){return this.parentMenu||this.up("menu[floating=true]")},setOwnerCmp:function(e,t){this.parentMenu=e.isMenuItem?e:null,this.ownerCmp=e,this.registerWithOwnerCt(),delete this.hierarchicallyHidden,this.onInheritedAdd(e,t),this.containerOnAdded(e,t)}}}),Ext.define("Ext.grid.filters.filter.Base",{mixins:["Ext.mixin.Factoryable"],factoryConfig:{type:"grid.filter"},$configPrefixed:!1,$configStrict:!1,config:{itemDefaults:null,menuDefaults:{xtype:"menu"},updateBuffer:500,serializer:null},active:!1,type:"string",dataIndex:null,menu:null,isGridFilter:!0,defaultRoot:"data",filterIdPrefix:Ext.baseCSSPrefix+"gridfilter",constructor:function(e){var t=this;t.callParent([e]),t.initConfig(e),e=t.column,t.columnListeners=e.on("destroy",t.destroy,t,{destroyable:!0}),t.dataIndex=t.dataIndex||e.dataIndex,t.task=new Ext.util.DelayedTask(t.setValue,t)},destroy:function(){this.task&&(this.task.cancel(),this.task=null),this.columnListeners=this.columnListeners.destroy(),this.grid=this.menu=Ext.destroy(this.menu),this.callParent()},addStoreFilter:function(e){var t=this.getGridStore().getFilters(),i=t.indexOf(e),i=-1!==i?t.getAt(i):null;i&&Ext.util.Filter.isEqual(i,e)||t.add(e)},createFilter:function(e,t){t=new Ext.util.Filter(this.getFilterConfig(e,t));return t.isGridFilter=!0,t},getFilterConfig:function(e,t){return e.id=this.getBaseIdPrefix(),e.property||(e.property=this.dataIndex),e.root||(e.root=this.defaultRoot),t&&(e.id+="-"+t),e.serializer=this.getSerializer(),e},createMenu:function(){this.menu=Ext.widget(this.getMenuConfig())},getActiveState:function(e,t){e=e.active;return void 0!==e?e:void 0!==t},getBaseIdPrefix:function(){return this.filterIdPrefix+"-"+this.dataIndex},getMenuConfig:function(){return Ext.apply({},this.getMenuDefaults())},getGridStore:function(){return this.grid.getStore()},getStoreFilter:function(e){var t=this.getBaseIdPrefix();return e&&(t+="-"+e),this.getGridStore().getFilters().get(t)},onValueChange:function(e,t){var i=t.getKey(),n=this.updateBuffer;i!==t.TAB&&(e.isFormField||Ext.raise("`field` should be a form field instance."),e.isValid()&&(i!==t.RETURN?(e=this.getValue(e))!==this.value&&(n?this.task.delay(n,null,null,[e]):this.setValue(e)):this.menu.hide()))},preprocess:Ext.emptyFn,removeStoreFilter:function(e){this.getGridStore().getFilters().remove(e)},getValue:Ext.emptyFn,setActive:function(e){var t,i=this.owner.activeFilterMenuItem;this.active!==e&&(this.active=e,(t=this.getGridStore().getFilters()).beginUpdate(),e?this.activate():this.deactivate(),t.endUpdate(),i&&i.activeFilter===this&&i.setChecked(e),this.setColumnActive(e))},setColumnActive:function(e){this.column[e?"addCls":"removeCls"](this.owner.filterCls)},showMenu:function(e){this.menu||this.createMenu(),e.activeFilter=this,e.setMenu(this.menu,!1),e.setChecked(this.active),e.setDisabled(!0===this.disabled),this.activate(!0)},updateStoreFilter:function(){this.getGridStore().getFilters().notify("endupdate")}}),Ext.define("Ext.grid.filters.filter.SingleFilter",{extend:"Ext.grid.filters.filter.Base",constructor:function(e){var t,i,n=this;n.callParent([e]),i=n.value,(t=n.getStoreFilter())?n.active=!0:(n.grid.stateful&&n.getGridStore().saveStatefulFilters&&(i=void 0),n.active=n.getActiveState(e,i),t=n.createFilter({operator:n.operator,value:i}),n.active&&n.addStoreFilter(t)),n.active&&n.setColumnActive(!0),n.filter=t},activate:function(e){e?this.activateMenu():this.addStoreFilter(this.filter)},deactivate:function(){this.removeStoreFilter(this.filter)},getValue:function(e){return e.getValue()},onFilterRemove:function(){this.menu&&!this.active||(this.active=!1)}}),Ext.define("Ext.grid.filters.filter.Boolean",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.boolean",type:"boolean",operator:"==",defaultValue:!1,yesText:"Yes",noText:"No",updateBuffer:0,createMenu:function(e){var t=Ext.id(),i={scope:this,click:this.onClick},n=this.getItemDefaults();this.callParent(arguments),this.menu.add([Ext.apply({text:this.yesText,filterKey:1,group:t,checked:!!this.defaultValue,hideOnClick:!1,listeners:i},n),Ext.apply({text:this.noText,filterKey:0,group:t,checked:!this.defaultValue,hideOnClick:!1,listeners:i},n)])},onClick:function(e){this.setValue(!!e.filterKey)},setValue:function(e){this.filter.setValue(e),void 0!==e&&this.active?(this.value=e,this.updateStoreFilter()):this.setActive(!0)},activateMenu:Ext.emptyFn}),Ext.define("Ext.grid.filters.filter.TriFilter",{extend:"Ext.grid.filters.filter.Base",menuItems:["lt","gt","-","eq"],constructor:function(e){var t,i,n,r,o,s=this,a=!1,l={};if(s.callParent([e]),r=s.value,i=s.getStoreFilter("lt"),t=s.getStoreFilter("gt"),n=s.getStoreFilter("eq"),i||t||n?(a=s.active=!0,i&&s.onStateRestore(i),t&&s.onStateRestore(t),n&&s.onStateRestore(n)):(s.grid.stateful&&s.getGridStore().saveStatefulFilters&&(r=void 0),s.active=s.getActiveState(e,r)),l.lt=i||s.createFilter({operator:"lt",value:!a&&r&&Ext.isDefined(r.lt)?r.lt:null},"lt"),l.gt=t||s.createFilter({operator:"gt",value:!a&&r&&Ext.isDefined(r.gt)?r.gt:null},"gt"),l.eq=n||s.createFilter({operator:"eq",value:!a&&r&&Ext.isDefined(r.eq)?r.eq:null},"eq"),s.filter=l,s.active&&(s.setColumnActive(!0),!a))for(o in r)s.addStoreFilter(s.filter[o])},activate:function(e){var t,i,n,r,o,s=this.filter,a=this.fields;if(!this.preventFilterRemoval)for(n in s)t=s[n],i=a[n],!(r=t.getValue())&&0!==r||(i.isComponent?(i.setValue(r),void 0===o&&(o=this.owner.activeFilterMenuItem===i.up("menuitem")),o||i.up("menuitem").setChecked(!0,!0)):i.value=r,e||this.addStoreFilter(t))},deactivate:function(){var e,t,i,n=this.filter;if(this.countActiveFilters()&&!this.preventFilterRemoval){for(e in this.preventFilterRemoval=!0,n)!(i=(t=n[e]).getValue())&&0!==i||this.removeStoreFilter(t);this.preventFilterRemoval=!1}},countActiveFilters:function(){var e,t=this.filter,i=this.getGridStore().getFilters(),n=this.getBaseIdPrefix(),r=0;if(i.length)for(e in t)i.get(n+"-"+e)&&r++;return r},onFilterRemove:function(e){var t;!this.menu&&this.countActiveFilters()?this.active=!1:this.menu&&((t={})[e]=null,this.setValue(t))},onStateRestore:Ext.emptyFn,setValue:function(e){var t,i,n,r,o,s,a=this,l=a.filter,d=[],c=[],u=a.getGridStore().getFilters();if(!a.preventFilterRemoval){if(a.preventFilterRemoval=!0,"eq"in e?(!(n=l.lt.getValue())&&0!==n||c.push(l.lt),!(n=l.gt.getValue())&&0!==n||c.push(l.gt),(n=e.eq)||0===n?(d.push(l.eq),l.eq.setValue(n)):c.push(l.eq)):(!(n=l.eq.getValue())&&0!==n||c.push(l.eq),"lt"in e&&((n=e.lt)||0===n?(d.push(l.lt),l.lt.setValue(n)):c.push(l.lt)),"gt"in e&&((n=e.gt)||0===n?(d.push(l.gt),l.gt.setValue(n)):c.push(l.gt))),o=c.length,s=d.length,t=!!(a.countActiveFilters()+s-o),o||s||t!==a.active){if(u.beginUpdate(),o)for(r=0;r<o;r++)i=c[r],a.fields[i.getOperator()].setValue(null),i.setValue(null),a.removeStoreFilter(i);if(s)for(r=0;r<s;r++)a.addStoreFilter(d[r]);a.setActive(t),u.endUpdate()}a.preventFilterRemoval=!1}}}),Ext.define("Ext.grid.filters.filter.Date",{extend:"Ext.grid.filters.filter.TriFilter",alias:"grid.filter.date",uses:["Ext.picker.Date","Ext.menu.DatePicker"],type:"date",config:{fields:{lt:{text:"Before"},gt:{text:"After"},eq:{text:"On"}},pickerDefaults:{xtype:"datepicker",border:0},updateBuffer:0,dateFormat:void 0},itemDefaults:{xtype:"menucheckitem",selectOnFocus:!0,width:125,menu:{layout:"auto",plain:!0}},applyDateFormat:function(e){return e||Ext.Date.defaultFormat},createMenu:function(e){var t,i,n,r,o,s,a,l,d=this,c={scope:d,checkchange:d.onCheckChange},u=d.menuItems;for(d.callParent(arguments),i=d.getItemDefaults(),t=d.getFields(),n=Ext.apply({minDate:d.minDate,maxDate:d.maxDate,format:d.dateFormat,listeners:{scope:d,select:d.onMenuSelect}},d.getPickerDefaults()),d.fields={},r=0,o=u.length;r<o;r++)"-"!==(s=u[r])?(l={menu:{xtype:"datemenu",hideOnClick:!1,pickerCfg:Ext.apply({itemId:s},n)}},i&&Ext.merge(l,i),t&&Ext.merge(l,t[s]),a=d.menu.add(l),(l=d.fields[s]=a.down("datepicker")).filter=d.filter[s],l.filterKey=s,a.on(c)):d.menu.add(s)},getPicker:function(e){return this.fields[e]},onCheckChange:function(e,t){e=e.down("datepicker").filter;!t&&e.getValue()&&((t={})[e.getOperator()]=null,this.setValue(t))},onFilterRemove:function(e){var t={};t[e]=null,this.setValue(t),this.fields[e].up("menuitem").setChecked(!1,!0)},onStateRestore:function(e){e.setSerializer(this.getSerializer()),e.setConvert(this.convertDateOnly)},getFilterConfig:function(e,t){return(e=this.callParent([e,t])).serializer=this.getSerializer(),e.convert=this.convertDateOnly,e},convertDateOnly:function(e){var t=null;return e&&(t=Ext.Date.clearTime(e,!0).getTime()),t},getSerializer:function(){var i=this;return function(e){var t=e.value;t&&(e.value=Ext.Date.format(t,i.getDateFormat()))}},onMenuSelect:function(e,t){var i=this.fields,n=this.filter,r=i[e.itemId],o=i.gt,s=i.lt,a=i.eq,i={};r.up("menuitem").setChecked(!0,!0),r===a?(s.up("menuitem").setChecked(!1,!0),o.up("menuitem").setChecked(!1,!0)):(a.up("menuitem").setChecked(!1,!0),r===o&&+s.value<+t?(s.up("menuitem").setChecked(!1,!0),null!=n.lt.getValue()&&(i.lt=null)):r===s&&+o.value>+t&&(o.up("menuitem").setChecked(!1,!0),null!=n.gt.getValue()&&(i.gt=null))),i[r.filterKey]=t,this.setValue(i),e.up("menu").hide()}}),Ext.define("Ext.grid.filters.filter.List",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.list",type:"list",operator:"in",itemDefaults:{checked:!1,hideOnClick:!1},idField:"id",labelField:"text",labelIndex:null,loadingText:"Loading...",loadOnShow:!0,single:!1,plain:!0,gridStoreListenersCfg:{add:"onDataChanged",refresh:"onDataChanged",remove:"onDataChanged",update:"onDataChanged"},constructor:function(e){var t=this;t.callParent([e]),t.itemDefaults.checked&&Ext.raise("The itemDefaults.checked config is not supported, use the value config instead."),t.labelIndex=t.labelIndex||t.column.dataIndex,t.store&&(t.store=Ext.StoreManager.lookup(t.store)),t.store||t.options||(e=t.getGridStore(),null!=t.value&&t.active&&!e.isEmptyStore&&(t.gridStoreListeners=e.on(Ext.apply({scope:t,destroyable:!0},t.gridStoreListenersCfg))),t.gridListeners=t.grid.on({reconfigure:t.onReconfigure,scope:t,destroyable:!0}),t.inferOptionsFromGridStore=!0)},destroy:function(){var e=this.store,t=this.autoStore;e&&e.isStore&&(t||e.autoDestroy?e.destroy():e.un("load",this.bindMenuStore,this),this.store=null),Ext.destroy(this.gridStoreListeners,this.gridListeners),this.callParent()},activateMenu:function(){var e,t,i,n,r=this.filter.getValue();if(r&&r.length)for(t=0,i=(e=this.menu.items).length;t<i;t++)n=e.getAt(t),-1<Ext.Array.indexOf(r,n.value)&&n.setChecked(!0,!0)},bindMenuStore:function(e){this.grid.destroyed||this.preventFilterRemoval||(this.createListStore(e),this.createMenuItems(this.store),this.loaded=!0)},createListStore:function(e){var t,i,n,r,o,s=this,a=s.store,l=e.isStore,d=s.idField,c=s.labelField,u=!1;if(l)e!==s.getGridStore()?(u=!0,a=s.store=e):(s.autoStore=!0,t=s.getOptionsFromStore(e));else for(t=[],n=0,r=e.length;n<r;n++)switch(o=e[n],Ext.typeOf(o)){case"array":case"object":t.push(o);break;default:null!=o&&((i={})[d]=o,i[c]=o,t.push(i))}u||(a&&a.destroy(),a=s.store=new Ext.data.Store({fields:[d,c],data:t}),s.inferOptionsFromGridStore&!s.gridStoreListeners&&(s.gridStoreListeners=s.getGridStore().on(Ext.apply({scope:s,destroyable:!0},s.gridStoreListenersCfg))),s.loaded=!0),s.setStoreFilter(a)},createMenu:function(e){var t=this,i=t.getGridStore(),n=t.store,r=t.options;n&&(t.store=n=Ext.StoreManager.lookup(n)),t.callParent([e]),e=t.menu,n?n.getCount()?t.createMenuItems(n):(e.add({text:t.loadingText,iconCls:Ext.baseCSSPrefix+"mask-msg-text"}),e.on({show:t.show,scope:t}),n.on("load",t.bindMenuStore,t,{single:!0})):r?t.bindMenuStore(r):i.getCount()||i.isFiltered()?t.bindMenuStore(i):i.on("load",t.bindMenuStore,t,{single:!0})},createMenuItems:function(e){var t,i,n,r,o,s,a,l,d=this.menu,c=e.getCount(),u=Ext.Array.contains;if(c&&d){for(t=this.getItemDefaults(),d.suspendLayouts(),d.removeAll(!0),i=this.single?Ext.id():null,r=this.idField,s=this.labelField,l=[],a=0;a<c;a++)n=(o=e.getAt(a)).get(r),null==(o=o.get(s))||u(l,n)||(l.push(o),d.add(Ext.apply({text:o,group:i,value:n,checkHandler:this.onCheckChange,scope:this},t)));d.resumeLayouts(!0)}},getFilterConfig:function(e,t){return e.value=e.value||[],this.callParent([e,t])},getOptionsFromStore:function(e){var t,i,n=e.getData(),r={},o=[],s=this.dataIndex,a=this.labelIndex;return e.isFiltered()&&!e.remoteFilter&&(n=n.getSource()),e.each(function(e){i=e.data,t=i[s],void 0===(i=i[a])&&(i=t),r[t]||(r[t]=1,o.push([t,i]))},null,{filtered:!0,collapsed:!0}),o},onCheckChange:function(){var e=this.updateBuffer;e?this.task.delay(e):this.setValue()},onDataChanged:function(e){this.preventDefault?this.preventDefault=!1:this.bindMenuStore(e)},onReconfigure:function(e,t){t&&this.bindMenuStore(t)},setActive:function(e){this.active!==e&&(this.preventDefault=!0,this.callParent([e]))},setStoreFilter:function(e){var t=this.value,i=this.filter;t&&(Ext.isArray(t)||(t=[t]),i.setValue(t)),this.active&&(this.preventFilterRemoval=!0,this.addStoreFilter(i),this.preventFilterRemoval=!1)},setValue:function(){var e,t,i,n=this.menu.items,r=[];for(this.preventDefault=!0,e=0,t=n.length;e<t;e++)(i=n.getAt(e)).checked&&r.push(i.value);Ext.Array.equals(r,this.filter.getValue())||(this.filter.setValue(r),(t=r.length)&&this.active?this.updateStoreFilter():this.setActive(!!t))},show:function(){var e=this.store;!this.loadOnShow||this.loaded||e.hasPendingLoad()||e.load()}}),Ext.define("Ext.grid.filters.filter.Number",{extend:"Ext.grid.filters.filter.TriFilter",alias:["grid.filter.number","grid.filter.numeric"],uses:["Ext.form.field.Number"],type:"number",config:{fields:{gt:{iconCls:Ext.baseCSSPrefix+"grid-filters-gt",margin:"0 0 3px 0"},lt:{iconCls:Ext.baseCSSPrefix+"grid-filters-lt",margin:"0 0 3px 0"},eq:{iconCls:Ext.baseCSSPrefix+"grid-filters-eq",margin:0}}},emptyText:"Enter Number...",itemDefaults:{xtype:"numberfield",enableKeyEvents:!0,hideEmptyLabel:!1,labelSeparator:"",labelWidth:29,selectOnFocus:!1},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var e,t,i,n,r,o=this,s={scope:o,keyup:o.onValueChange,spin:{fn:o.onInputSpin,buffer:200},el:{click:o.stopFn}},a=o.getItemDefaults(),l=o.menuItems,d=o.getFields();for(o.callParent(),o.fields={},t=0,i=l.length;t<i;t++)"-"!==(n=l[t])?(e=d[n],r={labelClsExtra:Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls},a&&Ext.merge(r,a),Ext.merge(r,e),r.emptyText=r.emptyText||o.emptyText,delete r.iconCls,o.fields[n]=r=o.menu.add(r),r.filter=o.filter[n],r.filterKey=n,r.on(s)):o.menu.add(n)},getValue:function(e){var t={};return t[e.filterKey]=e.getValue(),t},onInputSpin:function(e,t){var i={};i[e.filterKey]=e.getValue(),this.setValue(i)},stopFn:function(e){e.stopPropagation()}}),Ext.define("Ext.grid.filters.filter.String",{extend:"Ext.grid.filters.filter.SingleFilter",alias:"grid.filter.string",type:"string",operator:"like",emptyText:"Enter Filter Text...",itemDefaults:{xtype:"textfield",enableKeyEvents:!0,hideEmptyLabel:!1,iconCls:Ext.baseCSSPrefix+"grid-filters-find",labelSeparator:"",labelWidth:29,margin:0,selectOnFocus:!0},menuDefaults:{bodyPadding:3,showSeparator:!1},createMenu:function(){var e;this.callParent(),!(e=Ext.apply({},this.getItemDefaults())).iconCls||"labelClsExtra"in e||(e.labelClsExtra=Ext.baseCSSPrefix+"grid-filters-icon "+e.iconCls),delete e.iconCls,e.emptyText=e.emptyText||this.emptyText,this.inputItem=this.menu.add(e),this.inputItem.on({scope:this,keyup:this.onValueChange,el:{click:function(e){e.stopPropagation()}}})},setValue:function(e){this.inputItem&&this.inputItem.setValue(e),this.filter.setValue(e),e&&this.active?(this.value=e,this.updateStoreFilter()):this.setActive(!!e)},activateMenu:function(){this.inputItem.setValue(this.filter.getValue())},createFilter:function(e,t){var i=this;return i.filterFn?new Ext.util.Filter({filterFn:function(e){return Ext.callback(i.filterFn,i.scope,[e,i.inputItem.getValue()])}}):i.callParent([e,t])}}),Ext.define("Ext.grid.filters.Filters",{extend:"Ext.plugin.Abstract",alias:"plugin.gridfilters",mixins:["Ext.util.StoreHolder"],requires:["Ext.grid.filters.filter.*"],id:"gridfilters",defaultFilterTypes:{boolean:"boolean",int:"number",date:"date",number:"number"},filterCls:Ext.baseCSSPrefix+"grid-filters-filtered-column",menuFilterText:"Filters",showMenu:!0,stateId:void 0,init:function(e){var t,i,n=this;Ext.Assert.falsey(n.grid),((n.grid=e).filters=n).grid.normalGrid&&(n.isLocked=!0),e.clearFilters=n.clearFilters.bind(n),t=e.store,i=e.headerCt,n.headerCtListeners=i.on({destroyable:!0,scope:n,add:n.onAdd,menucreate:n.onMenuCreate}),n.gridListeners=e.on({destroyable:!0,scope:n,reconfigure:n.onReconfigure}),n.bindStore(t),e.stateful&&(t.statefulFilters=!0),n.initColumns()},initColumns:function(){for(var e,t,i,n=this.grid,r=n.getStore(),o=n.columnManager.getColumns(),s=o.length,a=0;a<s;a++)(t=(e=o[a]).filter)&&!t.isGridFilter&&(i||(i=r.getFilters()).beginUpdate(),this.createColumnFilter(e));i&&i.endUpdate()},createColumnFilter:function(e){var t=e.filter,i={column:e,grid:this.grid,owner:this};Ext.isString(t)?i.type=t:Ext.apply(i,t),i.type||(t=(t=(t=this.store.getModel())&&t.getField(e.dataIndex))&&t.type,i.type=t&&this.defaultFilterTypes[t]||e.defaultFilterType||"string"),e.filter=Ext.Factory.gridFilter(i),e.menuDisabled||(e.requiresMenu=!0)},onAdd:function(e,t,i){var n=t.filter;n&&!n.isGridFilter&&this.createColumnFilter(t)},onMenuCreate:function(e,t){t.on({beforeshow:this.onMenuBeforeShow,scope:this})},onMenuBeforeShow:function(e){var t,i,n;this.showMenu&&(this.filterMenuItem||(this.filterMenuItem={}),n=(i=e.up("tablepanel")).id,(t=this.filterMenuItem[n])&&!t.destroyed||(t=this.createMenuItem(e,n)),this.activeFilterMenuItem=t,(i=this.getMenuFilter(i.headerCt))&&i.showMenu(t),t.setVisible(!!i),this.sep&&this.sep.setVisible(!!i))},createMenuItem:function(e,t){return e.items.length&&(this.sep=e.add("-")),e=e.add({checked:!1,itemId:"filters",text:this.menuFilterText,listeners:{scope:this,checkchange:this.onCheckChange}}),this.filterMenuItem[t]=e},destroy:function(){var e,t=this.filterMenuItem;for(e in Ext.destroy(this.headerCtListeners,this.gridListeners),this.bindStore(null),this.sep=Ext.destroy(this.sep),t)t[e].destroy();this.callParent()},onUnbindStore:function(e){e&&!e.destroyed&&e.getFilters().un("remove",this.onFilterRemove,this)},onBindStore:function(e,t,i){this.local=!e.getRemoteFilter(),e.getFilters().on("remove",this.onFilterRemove,this)},onFilterRemove:function(e,t){for(var i,n,r,o=t.items.length,s=this.grid.columnManager,a=0;a<o;a++)i=t.items[a],(n=s.getHeaderByDataIndex(i.getProperty()))&&(r=n.filter)&&r.menu&&-1!==i.getId().indexOf(r.getBaseIdPrefix())&&(r.preventFilterRemoval||r.onFilterRemove(i.getOperator()))},getMenuFilter:function(e){return e.getMenu().activeHeader.filter},onCheckChange:function(e,t){e=this.isLocked?e.up("tablepanel"):this.grid;this.getMenuFilter(e.headerCt).setActive(t)},getHeaders:function(){return this.grid.view.headerCt.columnManager.getColumns()},isStateful:function(){return this.grid.stateful},addFilter:function(e){var t,i,n,r,o,s=this.grid,a=this.store,l=!1,d=!0;for(Ext.isArray(e)||(e=[e]),i=0,n=e.length;i<n;i++)o=(r=e[i]).dataIndex,(t=s.columnManager.getHeaderByDataIndex(o))&&(l=!0,r.value&&(d=!1),(o=t.filter)&&o.isGridFilter&&(o.deactivate(),o.destroy(),this.activeFilterMenuItem&&(this.activeFilterMenuItem.menu=null)),t.filter=r);l&&(a.suppressNextFilter=d,this.initColumns(),a.suppressNextFilter=!1)},addFilters:function(e){e&&this.addFilter(e)},clearFilters:function(){for(var e,t,i=this.grid,n=i.columnManager.getColumns(),r=i.store,o=0,s=n.length;o<s;o++)(e=n[o].filter)&&e.isGridFilter&&(t||(t=r.getFilters()).beginUpdate(),e.setActive(!1));t&&t.endUpdate()},onReconfigure:function(e,t,i,n){var r,o=this.filterMenuItem,s=n!==t;if(i)for(r in o)o[r].setMenu(null);t&&(n&&!n.destroyed&&s&&this.resetFilters(n),s&&(this.bindStore(t),this.applyFilters(t))),this.initColumns()},privates:{applyFilters:function(e){for(var t,i,n=this.grid.columnManager.getColumns(),r=n.length,o=0;o<r;o++)(t=n[o].filter)&&t.isGridFilter&&(i||(i=e.getFilters()).beginUpdate(),t.active&&t.activate());i&&i.endUpdate()},resetFilters:function(e){var t,i,n,r=e.getFilters();if(r){for(t=r.getCount()-1;0<=t;--t)(n=r.getAt(t)).isGridFilter&&(i||r.beginUpdate(),r.remove(n),i=!0);i&&r.endUpdate()}}}}),Ext.define("Ext.grid.locking.HeaderContainer",{extend:"Ext.grid.header.Container",requires:["Ext.grid.ColumnManager"],headerCtRelayEvents:["blur","focus","move","resize","destroy","beforedestroy","boxready","afterrender","render","beforerender","removed","hide","beforehide","show","beforeshow","enable","disable","added","deactivate","beforedeactivate","activate","beforeactivate","remove","add","beforeremove","beforeadd","afterlayout","menucreate","sortchange","columnschanged","columnshow","columnhide","columnmove","headertriggerclick","headercontextmenu","headerclick","columnresize","statesave","beforestatesave","staterestore","beforestaterestore"],constructor:function(e){var t=this,i=e.lockedGrid,n=e.normalGrid;t.lockable=e,t.callParent(),i.visibleColumnManager.rootColumns=n.visibleColumnManager.rootColumns=e.visibleColumnManager=t.visibleColumnManager=new Ext.grid.ColumnManager(!0,i.headerCt,n.headerCt),i.columnManager.rootColumns=n.columnManager.rootColumns=e.columnManager=t.columnManager=new Ext.grid.ColumnManager(!1,i.headerCt,n.headerCt),t.lockedEventRelayers=t.relayEvents(i.headerCt,t.headerCtRelayEvents),t.normalEventRelayers=t.relayEvents(n.headerCt,t.headerCtRelayEvents)},destroy:function(){Ext.destroy(this.lockedEventRelayers,this.normalEventRelayers),this.lockedEventRelayers=this.normalEventRelayers=null,this.callParent()},getRefItems:function(){return this.lockable.lockedGrid.headerCt.getRefItems().concat(this.lockable.normalGrid.headerCt.getRefItems())},getGridColumns:function(){return this.lockable.lockedGrid.headerCt.getGridColumns().concat(this.lockable.normalGrid.headerCt.getGridColumns())},getColumnsState:function(){var e=this.lockable.lockedGrid.headerCt.getColumnsState(),t=this.lockable.normalGrid.headerCt.getColumnsState();return e.concat(t)},applyColumnsState:function(e,t){for(var i,n,r,o,s=this.lockable.lockedGrid.headerCt,a=this.lockable.normalGrid.headerCt,l=s.items.items.concat(a.items.items),d=l.length,c=0;c<d;c++)(r=e[(i=l[c]).getStateId()])&&(n=null!=r.locked&&Boolean(i.locked)!==r.locked,i.applyColumnState&&i.applyColumnState(r,t),n&&(i.locked?s:a).add(i));for(o=s.items.items.length,c=0;c<d;c++)(r=e[(i=l[c]).getStateId()])&&!i.locked&&(r.index-=o);s.applyColumnsState(e,t),a.applyColumnsState(e,t)},disable:function(){var e=this.lockable;e.lockedGrid.headerCt.disable(),e.normalGrid.headerCt.disable()},enable:function(){var e=this.lockable;e.lockedGrid.headerCt.enable(),e.normalGrid.headerCt.enable()}}),Ext.define("Ext.grid.locking.View",{alternateClassName:"Ext.grid.LockingView",requires:["Ext.view.AbstractView","Ext.view.Table"],mixins:["Ext.util.Observable","Ext.util.StoreHolder","Ext.util.Focusable"],isLockingView:!0,loadMask:!0,eventRelayRe:/^(beforeitem|beforecontainer|item|container|cell|refresh)/,constructor:function(e){var t,i,n=Ext,r=this;r.ownerGrid=e.ownerGrid,(r.ownerGrid.view=r).navigationModel=new("treepanel"===e.locked.xtype?n.tree:n.grid).NavigationModel(r),e.locked.viewConfig.bindStore=n.emptyFn,e.normal.viewConfig.bindStore=r.subViewBindStore,e.normal.viewConfig.isNormalView=e.locked.viewConfig.isLockedView=!0,e.locked.viewConfig.navigationModel=e.normal.viewConfig.navigationModel=r.navigationModel,r.lockedGrid=r.ownerGrid.lockedGrid=n.ComponentManager.create(e.locked),r.lockedView=t=r.lockedGrid.getView(),r.selModel=e.normal.viewConfig.selModel=t.getSelectionModel(),r.lockedGrid.isTree&&(r.lockedView.animate=!1,e.normal.store=t.store,e.normal.viewConfig.stripeRows=r.lockedView.stripeRows,e.normal.rowLines=r.lockedGrid.rowLines),r.normalGrid=r.ownerGrid.normalGrid=n.ComponentManager.create(e.normal),t.lockingPartner=i=r.normalView=r.normalGrid.getView(),i.lockingPartner=t,Ext.override(r.normalGrid,{beforeRender:r.beforeNormalGridRender}),r.loadMask=(void 0!==e.loadMask?e:r).loadMask,r.mixins.observable.constructor.call(r),r.lockedViewEventRelayers=r.relayEvents(t,n.view.Table.events),r.normalViewEventRelayers=r.relayEvents(i,n.view.Table.events.concat(n.view.Table.normalSideEvents)),i.on({scope:r,itemmouseleave:r.onItemMouseLeave,itemmouseenter:r.onItemMouseEnter}),t.on({scope:r,itemmouseleave:r.onItemMouseLeave,itemmouseenter:r.onItemMouseEnter}),r.loadingText=i.loadingText,r.loadingCls=i.loadingCls,r.loadingUseMsg=i.loadingUseMsg,r.itemSelector=r.getItemSelector(),r.all=i.all,r.bindStore(i.dataSource,!0,"dataSource")},subViewBindStore:function(e,t){var i=this.ownerGrid;this.destroying||this.destroyed||i.destroying||i.destroyed||((i=this.getSelectionModel()).bindStore(e,t),i.bindComponent(this))},beforeNormalGridRender:function(){this.ownerGrid.lockedGrid.getHeader()&&!this.title&&(this.title=""),this.callParent()},onPanelRender:function(e){var t=this,i=t.loadMask,n={target:t.ownerGrid,msg:t.loadingText,msgCls:t.loadingCls,useMsg:t.loadingUseMsg,store:t.ownerGrid.store};t.el=e,t.rendered=!0,t.fireEvent("render",t),i&&(Ext.isObject(i)&&(n=Ext.apply(n,i)),t.loadMask=new Ext.LoadMask(n))},getRefOwner:function(){return this.ownerGrid},getVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getTopLevelVisibleColumnManager:function(){return this.ownerGrid.getVisibleColumnManager()},getGridColumns:function(){return this.getVisibleColumnManager().getColumns()},getEl:function(e){return this.getViewForColumn(e).getEl()},getCellSelector:function(){return this.normalView.getCellSelector()},getItemSelector:function(){return this.normalView.getItemSelector()},getViewForColumn:function(t){var i,e=this.lockedView;return e.headerCt.cascade(function(e){if(e===t)return!(i=!0)}),i?e:this.normalView},onItemMouseEnter:function(e,t){var i=this.lockedView,n=this.normalView;e.trackOver&&(e!==i&&(n=i),t=n.getNode(t),n.highlightItem(t))},onItemMouseLeave:function(e,t){var i=this.lockedView,n=this.normalView;e.trackOver&&(e!==i&&(n=i),n.clearHighlight())},relayFn:function(e,t){t=t||[];var i=this.lockedView;this.relayingOperation=!0,i[e].apply(i,t),(i=this.normalView)[e].apply(i,t),this.relayingOperation=!1},getSelectionModel:function(){return this.normalView.getSelectionModel()},getNavigationModel:function(){return this.navigationModel},getStore:function(){return this.ownerGrid.store},onBindStore:function(e,t,i){var n=this.lockedView,r=this.normalView;!r.componentLayoutCounter||n.blockRefresh&&r.blockRefresh||(Ext.suspendLayouts(),n.doFirstRefresh(e),r.doFirstRefresh(e),Ext.resumeLayouts(!0))},getStoreListeners:function(){return{priority:1e3,refresh:this.onDataRefresh,replace:this.onReplace,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.onDataRefresh,beginupdate:this.onBeginUpdate,endupdate:this.onEndUpdate}},onOwnerGridHide:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridHide",arguments),Ext.resumeLayouts(!0)},onOwnerGridShow:function(){Ext.suspendLayouts(),this.relayFn("onOwnerGridShow",arguments),Ext.resumeLayouts(!0)},onBeginUpdate:function(){Ext.suspendLayouts(),this.relayFn("onBeginUpdate",arguments),Ext.resumeLayouts(!0)},onEndUpdate:function(){Ext.suspendLayouts(),this.relayFn("onEndUpdate",arguments),Ext.resumeLayouts(!0)},onDataRefresh:function(){Ext.suspendLayouts(),this.relayFn("onDataRefresh",arguments),Ext.resumeLayouts(!0)},onReplace:function(){Ext.suspendLayouts(),this.relayFn("onReplace",arguments),Ext.resumeLayouts(!0)},onAdd:function(){Ext.suspendLayouts(),this.relayFn("onAdd",arguments),Ext.resumeLayouts(!0)},onRemove:function(){Ext.suspendLayouts(),this.relayFn("onRemove",arguments),Ext.resumeLayouts(!0)},setActionableMode:function(e,t){var i,n;if(e)return!!(t=t||this.getNavigationModel().getPosition())&&((t=t.clone()).view=n=t.column.getView(),!1!==(i=n.setActionableMode(e,t))&&n.lockingPartner.grid.isVisible()&&(n.lockingPartner.setActionableMode(e,t),n.lockingPartner.actionableMode||(n.setActionableMode(!1),i=!1)),i);this.relayFn("setActionableMode",[!1])},onUpdate:function(){Ext.suspendLayouts(),this.relayFn("onUpdate",arguments),Ext.resumeLayouts(!0)},refresh:function(){var e=this.lockedView,t=this.normalView;Ext.suspendLayouts(),e.clearViewEl(!0),t.clearViewEl(!0),t.refresh(),e.refresh(),Ext.resumeLayouts(!0)},refreshView:function(){var e=this.lockedView,t=this.normalView,i=t.all.startIndex;Ext.suspendLayouts(),e.clearViewEl(!0),t.clearViewEl(!0),t.refreshView(i),e.refreshView(i),Ext.resumeLayouts(!0)},setScrollable:function(e){Ext.suspendLayouts(),this.lockedView.setScrollable(e),e.isScroller&&(e=new Ext.scroll.Scroller(e.initialConfig)),this.normalView.setScrollable(e),Ext.resumeLayouts(!0)},getNode:function(e){return this.normalView.getNode(e)},getRow:function(e){return this.normalView.getRow(e)},getCell:function(e,t){e=this.getViewForColumn(t).getRow(e);return Ext.fly(e).down(t.getCellSelector())},indexOf:function(e){return this.lockedView.indexOf(e)||this.normalView.indexOf(e)},focus:function(){var e=this.ownerGrid.down(">tablepanel:not(hidden)>tableview");e&&e.focus()},focusRow:function(e){var t=this.getNavigationModel().lastFocused;(t?t.view:this.normalView).focusRow(e)},focusCell:function(e){e.view.focusCell(e)},onRowFocus:function(){this.relayFn("onRowFocus",arguments)},isVisible:function(e){return this.ownerGrid.isVisible(e)},getCellInclusive:function(e,t){var i=e.column,n=this.lockedGrid.getColumnManager().getColumns().length;return n<=i?((e=Ext.apply({},e)).column-=n,this.normalView.getCellInclusive(e,t)):this.lockedView.getCellInclusive(e,t)},getHeaderByCell:function(e){return!!e&&this.getVisibleColumnManager().getHeaderById(e.getAttribute("data-columnId"))},onRowSelect:function(){this.relayFn("onRowSelect",arguments)},onRowDeselect:function(){this.relayFn("onRowDeselect",arguments)},onCellSelect:function(e){e.column.getView().onCellSelect({record:e.record,column:e.column})},onCellDeselect:function(e){e.column.getView().onCellDeselect({record:e.record,column:e.column})},getCellByPosition:function(e,t){var i=e.view,n=e.column;return i===this&&(e=new Ext.grid.CellContext(n.getView()).setPosition(e.record,e.column)),i.getCellByPosition(e,t)},getRecord:function(e){return this.lockedView.getRecord(e)||this.normalView.getRecord(e)},scrollBy:function(){var e=this.ownerGrid.getScrollable();e.scrollBy.apply(e,arguments)},ensureVisible:function(){var e=this.normalView;e.ensureVisible.apply(e,arguments)},disable:function(){this.relayFn("disable",arguments)},enable:function(){this.relayFn("enable",arguments)},addElListener:function(){this.relayFn("addElListener",arguments)},refreshNode:function(){this.relayFn("refreshNode",arguments)},addRowCls:function(){this.relayFn("addRowCls",arguments)},removeRowCls:function(){this.relayFn("removeRowCls",arguments)},destroy:function(){var e=this;e.rendered=!1,e.bindStore(null,!1,"dataSource"),Ext.destroy(e.selModel,e.navigationModel,e.loadMask,e.lockedViewEventRelayers,e.normalViewEventRelayers),e.lockedView.lockingPartner=e.normalView.lockingPartner=null,e.callParent()}},function(){this.borrow(Ext.Component,["up"]),this.borrow(Ext.view.AbstractView,["doFirstRefresh","applyFirstRefresh"]),this.borrow(Ext.view.Table,["cellSelector","selectedCellCls","selectedItemCls"])}),Ext.define("Ext.scroll.LockingScroller",{extend:"Ext.scroll.Scroller",alias:"scroller.locking",config:{lockedScroller:null,normalScroller:null},scrollTo:function(e,t,i){var n;Ext.isObject(e)&&(n=e.lockedX)&&this.getLockedScroller().scrollTo(n,null,i),this.callParent([e,t,i])},updateLockedScroller:function(e){e.on("scroll","onLockedScroll",this),e.setLockingScroller(this)},updateNormalScroller:function(e){e.on("scroll","onNormalScroll",this),e.setLockingScroller(this)},getPosition:function(){var e=this.callParent();return e.x=this.getNormalScroller().getPosition().x,e.lockedX=this.getLockedScroller().getPosition().x,e},privates:{updateSpacerXY:function(e){var t=this.getLockedScroller(),i=this.getNormalScroller(),n=t.component,t=i.component,i=e.y+(t.headerCt.tooNarrow||n.headerCt.tooNarrow?Ext.getScrollbarSize().height:0);t.stretchHeight(i),n.stretchHeight(i),this.callParent([e])},doScrollTo:function(e,t,i){null!=e&&(this.getNormalScroller().scrollTo(e,null,i),e=null),this.callParent([e,t,i])},onLockedScroll:function(e,t,i){this.position.lockedX=t},onNormalScroll:function(e,t,i){this.position.x=t}}}),Ext.define("Ext.grid.locking.Lockable",{alternateClassName:"Ext.grid.Lockable",requires:["Ext.grid.locking.View","Ext.grid.header.Container","Ext.grid.locking.HeaderContainer","Ext.view.Table","Ext.scroll.LockingScroller"],syncRowHeight:!0,headerCounter:0,lockedGridCls:Ext.baseCSSPrefix+"grid-inner-locked",normalGridCls:Ext.baseCSSPrefix+"grid-inner-normal",lockingBodyCls:Ext.baseCSSPrefix+"grid-locking-body",scrollContainerCls:Ext.baseCSSPrefix+"grid-scroll-container",scrollBodyCls:Ext.baseCSSPrefix+"grid-scroll-body",scrollbarClipperCls:Ext.baseCSSPrefix+"grid-scrollbar-clipper",scrollbarCls:Ext.baseCSSPrefix+"grid-scrollbar",scrollbarVisibleCls:Ext.baseCSSPrefix+"grid-scrollbar-visible",unlockText:"Unlock",lockText:"Lock",bothCfgCopy:["hideHeaders","enableColumnHide","enableColumnMove","enableColumnResize","sortableColumns","multiColumnSort","columnLines","rowLines","variableRowHeight","numFromEdge","trailingBufferZone","leadingBufferZone","scrollToLoadBuffer","syncRowHeight"],normalCfgCopy:["scroll"],lockedCfgCopy:[],determineXTypeToCreate:function(e){var t,i,n;if(this.subGridXType)t=this.subGridXType;else{if(!e)return"gridpanel";e=(i=this.getXTypes().split("/"))[(n=i.length)-1],t="tablepanel"!==(n=i[n-2])?n:e}return t},injectLockable:function(){this.focusable=!1,this.lockable=!0,this.hasView=!0;var e,t,i=this,n=i.store=Ext.StoreManager.lookup(i.store),r=i.lockedViewConfig,o=i.normalViewConfig,s=Ext.Object,a=i.viewConfig,l=a&&a.loadMask,d=void 0!==l?l:i.loadMask,c=i.bufferedRenderer,u=i.constructLockableFeatures();for(i.scrollable=new Ext.scroll.LockingScroller({component:i,x:!1,y:!0}),i.features=null,t=i.constructLockablePlugins(),i.plugins=t.topPlugins,l={id:i.id+"-locked",$initParent:i,isLocked:!0,bufferedRenderer:c,ownerGrid:i,ownerLockable:i,xtype:i.determineXTypeToCreate(!0),store:n,scrollerOwner:!1,animate:!1,border:!1,cls:i.lockedGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.normalGrid.floatedFromCollapse},features:u.lockedFeatures,plugins:t.lockedPlugins},u={id:i.id+"-normal",$initParent:i,isLocked:!1,bufferedRenderer:c,ownerGrid:i,ownerLockable:i,xtype:i.determineXTypeToCreate(),store:n,reserveScrollbar:i.reserveScrollbar,scrollerOwner:!1,border:!1,cls:i.normalGridCls,isLayoutRoot:function(){return this.floatedFromCollapse||this.ownerGrid.lockedGrid.floatedFromCollapse},features:u.normalFeatures,plugins:t.normalPlugins},i.addCls(Ext.baseCSSPrefix+"grid-locked"),Ext.copy(u,i,i.bothCfgCopy,!0),Ext.copy(l,i,i.bothCfgCopy,!0),Ext.copy(u,i,i.normalCfgCopy,!0),Ext.copy(l,i,i.lockedCfgCopy,!0),Ext.apply(u,i.normalGridConfig),Ext.apply(l,i.lockedGridConfig),e=0;e<i.normalCfgCopy.length;e++)delete i[i.normalCfgCopy[e]];for(e=0;e<i.lockedCfgCopy.length;e++)delete i[i.lockedCfgCopy[e]];i.addStateEvents(["lockcolumn","unlockcolumn"]),t=i.processColumns(i.columns||[],l),l.columns=t.locked,l.columns.items.length||(l.hidden=!0),u.columns=t.normal,u.columns.items.length||(u.hidden=!0),u.flex=1,l.viewConfig=r=r?s.chain(r):{},u.viewConfig=o=o?s.chain(o):{},r.loadingUseMsg=!1,r.loadMask=!1,o.loadMask=!1,a&&a.id&&Ext.log.warn('id specified on Lockable viewConfig, it will be shared between both views: "'+a.id+'"'),Ext.applyIf(r,a),Ext.applyIf(o,a),i.layout===Ext.panel.Table.prototype.layout&&(i.layout={type:"hbox",align:"stretch"}),i.getLayout(),"border"===i.layout.type&&(i.split&&(l.split=i.split),l.region||(l.region="west"),u.region||(u.region="center"),i.addCls(Ext.baseCSSPrefix+"grid-locked-split")),i.layout instanceof Ext.layout.container.Box||(i.split=!1),i.view=new Ext.grid.locking.View({loadMask:d,locked:l,normal:u,ownerGrid:i}),l=i.lockedGrid,u=i.normalGrid,l.on({beginfloat:i.onBeginLockedFloat,endfloat:i.onEndLockedFloat,scope:i}),l.getVisibleColumnManager().getColumns().length||l.hide(),u.getVisibleColumnManager().getColumns().length||u.hide(),a=l.headerCt,d=u.headerCt,i.headerCt=i.view.headerCt=new Ext.grid.locking.HeaderContainer(i),a.lockedCt=!0,a.lockableInjected=!0,d.lockableInjected=!0,a.on({add:i.delaySyncLockedWidth,remove:i.delaySyncLockedWidth,columnshow:i.delaySyncLockedWidth,columnhide:i.delaySyncLockedWidth,sortchange:i.onLockedHeaderSortChange,columnresize:i.delaySyncLockedWidth,scope:i}),d.on({add:i.delaySyncLockedWidth,remove:i.delaySyncLockedWidth,columnshow:i.delaySyncLockedWidth,columnhide:i.delaySyncLockedWidth,sortchange:i.onNormalHeaderSortChange,scope:i}),i.modifyHeaderCt(),i.items=[l],i.split&&(i.addCls(Ext.baseCSSPrefix+"grid-locked-split"),i.items[1]=Ext.apply({xtype:"splitter"},i.split)),i.items.push(u),i.relayHeaderCtEvents(a),i.relayHeaderCtEvents(d),i.storeRelayers=i.relayEvents(n,["filterchange","groupchange","beforeload","load"]),i.gridRelayers=i.relayEvents(u,["viewready"])},afterInjectLockable:function(){delete this.lockedGrid.$initParent,delete this.normalGrid.$initParent},getLockingViewConfig:function(){return{xclass:"Ext.grid.locking.View",locked:this.lockedGrid,normal:this.normalGrid,panel:this}},onBeginLockedFloat:function(e){var t=e.getContentTarget().dom,i=this.lockedGrid.headerCt,n=this.normalGrid.headerCt,r=Math.max(n.getHeight(),i.getHeight());i.minHeight=r,n.minHeight=r,e.el.addCls(Ext.panel.Panel.floatCls),t.firstChild!==e.view.el.dom&&t.appendChild(e.view.el.dom),e.body.dom.style.overflowX=this.normalGrid.headerCt.tooNarrow?"scroll":"",e.body.dom.scrollTop=this.getScrollable().getPosition().y},onEndLockedFloat:function(){var e=this.lockedGrid;e.getContentTarget().dom;e.collapsed?e.el.removeCls(Ext.panel.Panel.floatCls):this.lockedGrid.headerCt.minHeight=this.normalGrid.headerCt.minHeight=null,this.lockedScrollbarClipper.appendChild(e.view.el.dom),this.syncLockableLayout()},beforeLayout:function(){var e,t=this.lockedGrid,i=this.normalGrid;t&&i&&(!t.layoutCounter&&t.getSizeModel().width.shrinkWrap&&(t.gridPanelBorderWidth=t.el.getBorderWidth("lr"),t.shrinkWrapColumns=!0),t.shrinkWrapColumns&&(e=t.headerCt.getTableWidth(),isNaN(e)&&Ext.raise("Locked columns in an unsized locked side do NOT support a flex width."),t.setWidth(e+t.gridPanelBorderWidth)),this.scrollContainer||this.initScrollContainer(),this.lastScrollPos=this.getScrollable().getPosition(),t.view.el.setStyle("margin-bottom",""),i.view.el.setStyle("margin-bottom",""))},syncLockableLayout:function(){var e,t,i,n,r,o,s,a,l,d,c,u,h,f,g,p,m=this,x=m.lockedGrid,E=m.normalGrid;!m.isCollapsingOrExpanding&&x&&E&&(h=x.isVisible(!0)&&!x.collapsed,p=E.isVisible(!0),u=x.view.el,e=E.view.el,u.dom,e.dom,f=m.scrollBody.dom,t=h?x.body.getRegion(!0):new Ext.util.Region(0,0,0,0),g=p?E.body.getRegion(!0):new Ext.util.Region(0,0,0,0),i=(c=Ext.getScrollbarSize()).width,n=c.height,r=p?g.width:0,h&&t.width,o=h?g.x-t.x:0,s=E.headerCt.tooNarrow||x.headerCt.tooNarrow?n:0,a=g.height,l=m.lockedScrollbar,d=m.normalScrollbar,c=m.scrollbarVisibleCls,p=e._rtlScrollbarOnRight,s&&(u.setStyle("margin-bottom",-n+"px"),e.setStyle("margin-bottom",-n+"px"),a-=n,h&&x.view.body.dom&&m.lockedScrollbarScroller.setSize({x:x.headerCt.getTableWidth()}),E.view.body.dom&&m.normalScrollbarScroller.setSize({x:E.headerCt.getTableWidth()})),m.scrollBody.setHeight(a),u.dom.style.height=e.dom.style.height="",u=m.scrollable.getSize().y+s,E.view.stretchHeight(u),x.view.stretchHeight(u),(u=i&&f.scrollHeight>f.clientHeight)&&r&&(r-=i,e.setStyle("width",r+"px")),l.toggleCls(c,h&&!!s),d.toggleCls(c,!!s),m.normalScrollbarClipper.toggleCls(m.scrollbarClipperCls+"-floated",!!m.normalGrid.floatedFromCollapse),m.normalScrollbar.toggleCls(m.scrollbarCls+"-floated",!!m.normalGrid.floatedFromCollapse),m.lockedScrollbarClipper.toggleCls(m.scrollbarClipperCls+"-floated",!!m.lockedGrid.floatedFromCollapse),m.lockedScrollbar.toggleCls(m.scrollbarCls+"-floated",!!m.lockedGrid.floatedFromCollapse),l.setSize(m.lockedScrollbarClipper.dom.offsetWidth,n),d.setSize(r,n),m.getInherited().rtl?(d.rtlSetLocalX(o),m.normalScrollbarClipper.rtlSetLocalX(o)):(d.setLocalX(o),m.normalScrollbarClipper.setLocalX(o)),m.scrollContainer.setBox(g=h?t.union(g):g),p&&(u?(f.style.width=g+i+"px",f.style.right=-i+"px",E.headerCt.layout.innerCt.setWidth(E.headerCt.layout.innerCt.getWidth()+i),m.verticalScrollbarScroller.setSize({y:m.scrollable.getSize().y}),m.verticalScrollbar.show()):m.verticalScrollbar.hide()),m.getScrollable().scrollTo(m.lastScrollPos))},initScrollContainer:function(){var e,t,i=this,n=i.scrollContainer=i.body.insertFirst({cls:[i.scrollContainerCls,i._rtlCls]}),r=i.scrollBody=n.appendChild({cls:i.scrollBodyCls}),o=i.lockedScrollbar=n.appendChild({cls:[i.scrollbarCls,i.scrollbarCls+"-locked",i._rtlCls]}),s=i.normalScrollbar=n.appendChild({cls:[i.scrollbarCls,i._rtlCls]}),a=i.lockedGrid.view,l=i.normalGrid.view,d=a.getScrollable(),c=l.getScrollable(),u=Ext.scroll.Scroller;a.stretchHeight(0),l.stretchHeight(0),i.scrollable.setConfig({element:r,lockedScroller:d,normalScroller:c}),e=i.lockedScrollbarClipper=r.appendChild({cls:[i.scrollbarClipperCls,i.scrollbarClipperCls+"-locked",i._rtlCls]}),t=i.normalScrollbarClipper=r.appendChild({cls:[i.scrollbarClipperCls,i._rtlCls]}),e.appendChild(a.el),t.appendChild(l.el),a.ignoreDomPosition=!0,l.ignoreDomPosition=!0,o=i.lockedScrollbarScroller=new u({element:o,x:"scroll",y:!1,rtl:d.getRtl&&d.getRtl()}),s=i.normalScrollbarScroller=new u({element:s,x:"scroll",y:!1,rtl:c.getRtl&&c.getRtl()}),l.el._rtlScrollbarOnRight&&(i.verticalScrollbar=n.appendChild({cls:i.scrollbarCls,style:{top:0,left:0,bottom:0,width:Ext.getScrollbarSize().width+"px"}}),i.verticalScrollbarScroller=new u({element:i.verticalScrollbar,x:!1,y:!0}),i.verticalScrollbarScroller.addPartner(i.scrollable,"y")),o.addPartner(d,"x"),s.addPartner(c,"x"),(c=i.lockedGrid.headerCt.getScrollable())&&o.addPartner(c,"x"),(c=i.normalGrid.headerCt.getScrollable())&&s.addPartner(c,"x"),i.view.onPanelRender(r)},processColumns:function(e,t){var i,n,r,o=new Ext.grid.header.Container({$initParent:this}),s=[],a=[],l={itemId:"lockedHeaderCt",stretchMaxPartner:"^^>>#normalHeaderCt",items:s},d={itemId:"normalHeaderCt",stretchMaxPartner:"^^>>#lockedHeaderCt",items:a},c={locked:l,normal:d};for(Ext.isObject(e)&&(Ext.applyIf(l,e),Ext.applyIf(d,e),delete(d=Ext.apply({},e)).items,Ext.apply(o,d),e=e.items),o.constructing=!0,i=0,n=e.length;i<n;++i)(r=e[i]).isComponent||delete(r=((r=o.applyDefaults(r)).$initParent=o).lookupComponent(r)).$initParent,r.processed=!0,(r.locked||r.autoLock?s:a).push(r);return this.fireEvent("processcolumns",this,s,a),o.destroy(),c},ensureLockedVisible:function(){this.lockedGrid.ensureVisible.apply(this.lockedGrid,arguments),this.normalGrid.ensureVisible.apply(this.normalGrid,arguments)},syncRowHeights:function(){var e,t,i,n;this.destroyed||(n=this.normalGrid.getView(),e=this.lockedGrid.getView(),t=n.syncRowHeightBegin(),i=e.syncRowHeightBegin(),n.syncRowHeightMeasure(t),e.syncRowHeightMeasure(i),n.syncRowHeightFinish(t,i),e.syncRowHeightFinish(i,t),n=n.getScrollY(),e.setScrollY(n))},modifyHeaderCt:function(){var e=this;e.lockedGrid.headerCt.getMenuItems=e.getMenuItems(e.lockedGrid.headerCt.getMenuItems,!0),e.normalGrid.headerCt.getMenuItems=e.getMenuItems(e.normalGrid.headerCt.getMenuItems,!1),e.lockedGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.lockedGrid.headerCt.showMenuBy,e.showMenuBy),e.normalGrid.headerCt.showMenuBy=Ext.Function.createInterceptor(e.normalGrid.headerCt.showMenuBy,e.showMenuBy)},onUnlockMenuClick:function(){this.unlock()},onLockMenuClick:function(){this.lock()},showMenuBy:function(e,t,i){var n=this.getMenu(),r=n.down("#unlockItem"),o=n.down("#lockItem"),n=r.prev();!1===i.lockable?(n.hide(),r.hide(),o.hide()):(n.show(),r.show(),o.show(),r.initialConfig.disabled||r.setDisabled(!1===i.lockable),o.initialConfig.disabled||o.setDisabled(!i.isLockable()))},getMenuItems:function(t,i){var n=this.unlockText,r=this.lockText,o=Ext.baseCSSPrefix+"hmenu-unlock",s=Ext.baseCSSPrefix+"hmenu-lock",a=this.onUnlockMenuClick.bind(this),l=this.onLockMenuClick.bind(this);return function(){var e=t.call(this);return e.push("-",{itemId:"unlockItem",iconCls:o,text:n,handler:a,disabled:!i}),e.push({itemId:"lockItem",iconCls:s,text:r,handler:l,disabled:i}),e}},syncTaskDelay:1,delaySyncLockedWidth:function(){var e=this.syncLockedWidthTask||(this.syncLockedWidthTask=new Ext.util.DelayedTask(this.syncLockedWidth,this));this.reconfiguring||(Ext.Component.layoutSuspendCount&&0!==this.syncTaskDelay?e.delay(1):this.syncLockedWidth())},syncLockedWidth:function(){var e=this,t=e.rendered,i=e.lockedGrid,n=(i.view.getScrollable(),e.normalGrid),r=i.getVisibleColumnManager().getColumns().length,o=n.getVisibleColumnManager().getColumns().length,s=e.syncLockedWidthTask;if(s&&s.cancel(),!e.reconfiguring)return Ext.suspendLayouts(),o?(n.show(),r?("border"===e.layout.type&&(i.region=i.initialConfig.region),t&&i.shrinkWrapColumns&&!i.headerCt.forceFit&&(delete i.flex,i.width=i.headerCt.getTableWidth()+i.gridPanelBorderWidth,i.updateLayout()),i.addCls(e.lockedGridCls),i.show(),i.split&&(e.child("splitter").show(),e.addCls(Ext.baseCSSPrefix+"grid-locked-split"))):(i.hide(),t&&i.getView().clearViewEl(!0),i.split&&(e.child("splitter").hide(),e.removeCls(Ext.baseCSSPrefix+"grid-locked-split")))):(n.hide(),delete i.width,"border"===e.layout.type?(i.region="center",n.region="west"):i.flex=1,i.removeCls(e.lockedGridCls),i.show()),Ext.resumeLayouts(!0),{locked:!!r,normal:!!o}},onLockedHeaderSortChange:Ext.emptyFn,onNormalHeaderSortChange:Ext.emptyFn,lock:function(e,t,i){var n=this.normalGrid,r=this.lockedGrid,o=n.view,s=r.view,a=o.all.startIndex,l=o.getScrollable(),d=s.getScrollable(),c=n.headerCt,u=this.componentLayoutCounter;(e=e||c.getMenu().activeHeader).unlockedWidth=e.width,e.flex&&(e.lockedWidth?(e.width=e.lockedWidth,e.lockedWidth=null):e.width=e.lastBox.width,e.flex=null),i=i||r.headerCt,(c=e.ownerCt)&&!e.isLockable()||(Ext.suspendLayouts(),l&&(l.suspendPartnerSync(),d.suspendPartnerSync()),r.hidden&&(r.componentLayoutCounter||(r.height=n.lastBox.height,s.bufferedRenderer&&s.bufferedRenderer.onViewResize(s,0,n.body.lastBox.height)),r.show()),r.reconfiguring=n.reconfiguring=!0,e.ownerCmp=e.ownerCt,c&&c.remove(e,!1),e.locked=!0,Ext.isDefined(t)?i.insert(t,e):i.add(e),r.reconfiguring=n.reconfiguring=!1,e.ownerCmp=null,(i=this.syncLockedWidth()).locked&&s.clearViewEl(!0),i.normal&&o.clearViewEl(!0),i.normal&&n.getView().refreshView(a),i.locked&&r.getView().refreshView(a),this.fireEvent("lockcolumn",this,e),Ext.resumeLayouts(!0),l&&(l.resumePartnerSync(!0),d.resumePartnerSync()),this.componentLayoutCounter===u&&this.syncLockableLayout())},unlock:function(e,t,i){var n=this.normalGrid,r=this.lockedGrid,o=n.view,s=r.view,a=o.all.startIndex,l=r.headerCt,d=this.componentLayoutCounter;Ext.isDefined(t)||(t=0),(e=e||l.getMenu().activeHeader).lockedWidth=e.width,e.flex&&(e.unlockedWidth?(e.width=e.unlockedWidth,e.unlockedWidth=null):e.width=e.lastBox.width,e.flex=null),i=i||n.headerCt,Ext.suspendLayouts(),r.reconfiguring=n.reconfiguring=!0,e.ownerCmp=e.ownerCt,e.ownerCt&&e.ownerCt.remove(e,!1),e.locked=!1,i.insert(t,e),r.reconfiguring=n.reconfiguring=!1,e.ownerCmp=null,(t=this.syncLockedWidth()).locked&&s.clearViewEl(!0),t.normal&&o.clearViewEl(!0),t.normal&&n.getView().refreshView(a),t.locked&&r.getView().refreshView(a),this.fireEvent("unlockcolumn",this,e),Ext.resumeLayouts(!0),this.componentLayoutCounter===d&&this.syncLockableLayout()},reconfigureLockable:function(e,t,i){var n=this,r=n.store,o=n.lockedGrid,s=n.normalGrid;!e&&i&&(e=Ext.StoreManager.lookup("ext-empty-store")),e&&e!==r&&(e=Ext.data.StoreManager.lookup(e),n.store=e,o.view.blockRefresh=s.view.blockRefresh=!0,o.bindStore(e),(r=o.view).store=e,r.dataSource.isFeatureStore||(r.dataSource=e),r.bufferedRenderer&&r.bufferedRenderer.bindStore(e),s.bindStore(e),(r=s.view).store=e,r.dataSource.isFeatureStore||(r.dataSource=e),r.bufferedRenderer&&r.bufferedRenderer.bindStore(e),n.view.store=e,(r=n.view.loadMask)&&r.isLoadMask&&r.bindStore(e),n.view.bindStore(s.view.dataSource,!1,"dataSource"),o.view.blockRefresh=s.view.blockRefresh=!1),t&&(o.reconfiguring=s.reconfiguring=!0,o.headerCt.removeAll(),s.headerCt.removeAll(),t=n.processColumns(t,o),o.headerCt.add(t.locked.items),s.headerCt.add(t.normal.items),o.reconfiguring=s.reconfiguring=!1,n.syncLockedWidth()),n.refreshCounter=s.view.refreshCounter},afterReconfigureLockable:function(){this.syncLockedWidth(),this.refreshCounter===this.normalGrid.getView().refreshCounter&&this.view.refreshView()},constructLockableFeatures:function(){var e,t,i,n,r,o=this.features,s=0;if(o)for(Ext.isArray(o)||(o=[o]),i=[],n=[],r=o.length;s<r;s++)switch((e=o[s]).isFeature||(e=Ext.create("feature."+e.ftype,e)),e.lockableScope){case"locked":i.push(e);break;case"normal":n.push(e);break;default:e.lockableScope="both",i.push(e),n.push(t=e.clone()),(t.lockingPartner=e).lockingPartner=t}return{normalFeatures:n,lockedFeatures:i}},constructLockablePlugins:function(){var e,t,i,n,r,o,s,a=this.plugins,l=0;if(a)for(Ext.isArray(a)||(a=[a]),n=[],r=[],o=[],s=a.length;l<s;l++)switch(((e=a[l]).init?e:(e.ptype?Ext.ClassManager.getByAlias("plugin."+e.ptype):Ext.ClassManager.get(e.xclass)).prototype).lockableScope){case"both":r.push(i=e.clonePlugin()),o.push(t=e.clonePlugin()),(i.lockingPartner=t).lockingPartner=i,Ext.destroy(e);break;case"locked":r.push(e);break;case"normal":o.push(e);break;default:n.push(e)}return{topPlugins:n,normalPlugins:o,lockedPlugins:r}},destroyLockable:function(){var e=this,t=e.syncLockedWidthTask;t&&(t.cancel(),e.syncLockedWidthTask=null),e.lockedGrid&&e.lockedGrid.headerCt&&(e.lockedGrid.headerCt.showMenuBy=null),e.normalGrid&&e.normalGrid.headerCt&&(e.normalGrid.headerCt.showMenuBy=null),Ext.destroy(e.view,e.headerCt)}},function(){this.borrow(Ext.Component,["constructPlugin"])}),Ext.define("Ext.grid.plugin.BufferedRenderer",{extend:"Ext.AbstractPlugin",alias:"plugin.bufferedrenderer",isBufferedRenderer:!0,lockableScope:"both",numFromEdge:2,trailingBufferZone:10,leadingBufferZone:20,synchronousRender:!0,scrollToLoadBuffer:200,viewSize:100,rowHeight:21,position:0,scrollTop:0,lastScrollDirection:1,bodyTop:0,scrollHeight:0,loadId:0,init:function(e){var t=this,i=e.view,n={refresh:t.onViewRefresh,columnschanged:t.checkVariableRowHeight,boxready:t.onViewBoxReady,scope:t,destroyable:!0},r={scroll:t.onViewScroll,scope:t},o=i.initialConfig;t.scroller=i.lockingPartner?i.ownerGrid.scrollable:i.getScrollable(),(e.isTree||e.ownerLockable&&e.ownerLockable.isTree)&&(i.blockRefresh=!1,o&&void 0===o.loadMask&&(i.loadMask=!0)),i.positionBody&&(n.refresh=t.onViewRefresh),Ext.isWebKit&&(t.needsPointerEventsFix=!0,r.scrollend=t.onViewScrollEnd,n.itemmousedown=t.onViewItemMouseDown),t.grid=e,t.view=i,t.isRTL=i.getInherited().rtl,i.bufferedRenderer=t,i.preserveScrollOnRefresh=!0,i.animate=!1,t.bindStore(i.dataSource),i.hasOwnProperty("rowHeight")&&(t.rowHeight=i.rowHeight),t.position=0,t.viewListeners=i.on(n),t.scroller&&(t.scrollListeners=t.scroller.on(r))},checkVariableRowHeight:function(){var e=this.variableRowHeight;this.variableRowHeight=this.view.hasVariableRowHeight(),Boolean(this.variableRowHeight)!==Boolean(e)&&delete this.rowHeight},bindStore:function(e){var t=this,i=t.store;i&&i.isFeatureStore||(i&&t.unbindStore(),t.storeListeners=e.on({scope:t,groupchange:t.onStoreGroupChange,clear:t.onStoreClear,beforeload:t.onBeforeStoreLoad,load:t.onStoreLoad,destroyable:!0}),t.store=e,t.setBodyTop(0),delete t.viewSize,delete t.rowHeight,e.isBufferedStore&&e.setViewSize(t.viewSize))},unbindStore:function(){this.storeListeners.destroy(),this.storeListeners=this.store=null},onBeforeStoreLoad:function(e){var t=this,i=t.view;i&&i.refreshCounter&&(e.isTreeStore||i.preserveScrollOnReload?t.nextRefreshStartIndex=i.all.startIndex:0!==t.scrollTop&&(t.setBodyTop(t.bodyTop=t.scrollTop=t.position=t.scrollHeight=t.nextRefreshStartIndex=0),t.scroller.scrollTo(null,0)),t.lastScrollDirection=t.scrollOffset=null),t.disable()},onStoreLoad:function(){this.enable()},onStoreClear:function(){var e=this,t=e.view;t.rendered&&!e.store.destroyed&&(0!==e.scrollTop&&(e.bodyTop=e.scrollTop=e.position=e.scrollHeight=0,e.nextRefreshStartIndex=null,e.scroller.scrollTo(null,0)),t.refresh(),e.lastScrollDirection=e.scrollOffset=null)},onStoreGroupChange:function(e){this.refreshSize()},onViewBoxReady:function(e){this.refreshScroller(e,this.scrollHeight)},onViewRefresh:function(e,t){var i,n=this,r=e.all;if(n.checkVariableRowHeight(),!e.componentLayoutCounter&&(e.headerCt.down("{flex}")||n.variableRowHeight))return e.on({boxready:Ext.Function.pass(n.onViewRefresh,[e,t],n),single:!0}),void(n.skipNextRefreshSize=!0);n.skipNextRefreshSize=!1,n.refreshing||(n.refreshSize(),n.scroller&&(n.scrollTop!==n.scroller.getPosition().y?(n.onViewScroll(),n.onViewScrollEnd()):(n.hasOwnProperty("bodyTop")||(n.bodyTop=r.startIndex*n.rowHeight,n.scroller.scrollTo(null,n.bodyTop)),n.setBodyTop(n.bodyTop),(i=e.lastBox&&e.lastBox.height)&&r.getCount()&&(n.onViewResize(e,null,i),t&&r.getCount()!==t.length&&(t.length=0,t.push.apply(t,n.store.getRange(r.startIndex,r.endIndex)))))))},beforeTableLayout:function(e){var t=this.view.body.dom;t&&(e.bodyHeight=t.offsetHeight,e.bodyWidth=t.offsetWidth)},afterTableLayout:function(e){var t,i=this,n=i.view;e.bodyHeight&&n.body.dom&&(delete i.rowHeight,i.refreshSize(),n.body.dom.offsetHeight!==e.bodyHeight&&(i.onViewResize(n,null,n.el.lastBox.height),(t=i.bodyHeight)<e.bodyHeight&&(i.viewSize>=i.store.getCount()?i.setBodyTop(0):(i.bodyTop>i.scrollTop||i.bodyTop+t<i.scrollTop+i.viewClientHeight)&&i.setBodyTop(i.scrollTop-i.trailingBufferZone*i.rowHeight)),n.all.endIndex===n.dataSource.getCount()-1&&i.stretchView(n,i.scrollHeight=i.bodyTop+t-1)))},refreshSize:function(){var e=this.view,t=this.skipNextRefreshSize||Ext.Component.pendingLayouts&&Ext.Component.layoutSuspendCount||!e.body.dom;this.skipNextRefreshSize=!1,t||(this.bodyHeight=e.body.dom.offsetHeight,this.scrollHeight=this.getScrollHeight(),this.stretchView(e,this.scrollHeight))},onViewResize:function(e,t,i,n,r){this.refreshSize(),r&&i===r||(this.viewClientHeight=e.lockingPartner?this.scroller&&this.scroller.getClientSize().y||i:e.el.dom.clientHeight,i=Math.ceil(i/this.rowHeight)+this.trailingBufferZone+this.leadingBufferZone,this.viewSize=this.setViewSize(i))},stretchView:function(e,t){var i=this;i.scrollTop>t&&(i.position=i.scrollTop=Math.max(t-i.bodyHeight,0),i.scroller.scrollTo(null,i.scrollTop)),i.bodyTop>t&&e.body.translate(null,i.bodyTop=i.position),e.getScrollable()&&i.refreshScroller(e,t)},refreshScroller:function(e,t){var i=e.getScrollable();i&&(i.setElementSize&&i.setElementSize(),i.setSize({x:e.headerCt.getTableWidth(),y:t}),e.lockingPartner&&this.scroller.setSize({x:0,y:t}))},setViewSize:function(n,r){var o,e,t,s=this,i=s.store,a=s.view,l=a.all,d=l.getCount(),c=i.getCount(),u=s.view.lockingPartner&&s.view.lockingPartner.bufferedRenderer,h=0,f=Math.max(0,c-1),g=Ext.Number.sign(s.getFirstVisibleRowIndex()-l.startIndex-(l.endIndex-s.getLastVisibleRowIndex()));return u&&!r&&u.view.componentLayoutCounter&&(u.viewSize>n?n=u.viewSize:a.componentLayoutCounter&&u.setViewSize(n,!0)),(t=d-n)&&(s.scrollTop=s.scroller?s.scroller.getPosition().y:0,s.viewSize=n,i.isBufferedStore&&i.setViewSize(n),d&&(e=Math.max(0,Math.min(l.startIndex,c-n)),f=Math.min(e+n-1,f),e===l.startIndex&&f===l.endIndex?t<0&&s.handleViewScroll(g):(u&&u.disable(),t<0?n<c&&d<c?i.getRange(e,f,{callback:function(e,t,i){o=a.ownerGrid,i>l.endIndex&&l.scroll(Ext.Array.slice(e,l.endIndex+1,1/0),1,0),t<l.startIndex&&(h=l.first(!0),l.scroll(Ext.Array.slice(e,0,l.startIndex-t),-1,0),s.bodyTop-=h.offsetTop),s.setBodyTop(s.bodyTop),u&&!r&&(o.syncRowHeight||o.syncRowHeightOnNextLayout)&&(u.setViewSize(n,!0),o.syncRowHeights())}}):s.refreshView(0):(1===g&&(h=l.item(l.startIndex+t,!0).offsetTop),l.clip(g,t),s.setBodyTop(s.bodyTop+h)),u&&u.enable())),s.refreshSize()),n},getViewRange:function(){var e=this,t=e.view,i=t.all,n=i.getCount(),r=t.lockingPartner&&t.lockingPartner.all,o=e.store,t=0;return!e.hasOwnProperty("viewSize")&&e.ownerCt&&e.ownerCt.height&&(e.viewSize=Math.ceil(e.ownerCt.height/e.rowHeight)),o.data.getCount()?(e=!n&&r&&r.getCount()?(t=r.startIndex,Math.min(r.endIndex,t+e.viewSize-1,o.getCount()-1)):(n?t=i.startIndex:o.isBufferedStore&&(o.currentPage||(o.currentPage=1),t=i.startIndex=(o.currentPage-1)*(o.pageSize||1),o.currentPage=1),t+(e.viewSize||o.defaultViewSize)-1),o.getRange(t,e)):[]},onReplace:function(e,t,i,n){var r,o=this,s=o.scroller,a=o.view,l=a.all,d=l.getCount(),c=t+i.length-1,u=n.length-i.length,h=u*o.rowHeight;if(!(t>=l.startIndex+o.viewSize))return d&&c<l.startIndex&&l.getCount()>=o.viewSize?(l.moveBlock(u),o.refreshSize(),r=l.startIndex,0<u&&(o.doNotMirror=!0,o.handleViewScroll(-1),o.doNotMirror=!1),l.startIndex===r?l.startIndex&&(o.setBodyTop(o.bodyTop+=h),a.suspendEvent("scroll"),a.scrollBy(0,h),a.resumeEvent("scroll"),o.position=o.scrollTop=o.scroller.getPosition().y):(a.suspendEvent("scroll"),a.scrollBy(0,(r-l.startIndex)*o.rowHeight),a.resumeEvent("scroll")),void a.refreshSize(l.getCount()!==d)):d&&t>l.endIndex?(o.refreshSize(),0<u&&o.onRangeFetched(null,l.startIndex,Math.min(e.getCount(),l.startIndex+o.viewSize)-1,null,!0),void a.refreshSize(l.getCount()!==d)):void(t<l.startIndex&&c<=l.endIndex?o.refreshView(l.startIndex-i.length+n.length):(t<l.startIndex&&c<=l.endIndex&&h&&(s.suspendEvent("scroll"),s.scrollTo(null,o.position=o.scrollTop+=h),s.resumeEvent("scroll")),o.refreshView()));o.refreshSize()},scrollTo:function(n,r){var e,t,o,s,i,a,l,d=arguments,c=this,u=c.view,h=u.lockingPartner&&u.lockingPartner.grid.isVisible()&&u.lockingPartner.bufferedRenderer,f=c.store,g=f.getCount();if(void 0===r||r instanceof Object||(r={select:d[1],callback:d[2],scope:d[3]}),(i=u.dataSource.groupingFeature)&&i.collapsible)a=n.isEntity?n:u.store.getAt(Math.min(Math.max(n,0),u.store.getCount()-1)),d=i.getMetaGroup(a),n=d&&d.isCollapsed?i.isExpandingOrCollapsing||a===d.placeholder?(a=d.placeholder,i.indexOfPlaceholder(a)):(i.expand(i.getGroup(a).getGroupKey()),g=f.getCount(),i.indexOf(a)):i.indexOf(a);else if(n.isEntity){if(a=n,-1===(n=f.indexOf(a)))return void Ext.raise("Unknown record passed to BufferedRenderer#scrollTo")}else n=Math.min(Math.max(n,0),g-1),a=f.getAt(n);if(a&&(o=u.getNode(a)))return u.grid.ensureVisible(a,r),c.onViewScroll(),void c.onViewScrollEnd();n<u.all.startIndex?(l=-1,e=Math.max(Math.min(n-Math.floor((c.leadingBufferZone+c.trailingBufferZone)/2),g-c.viewSize+1),0),t=Math.min(e+c.viewSize-1,g-1)):(l=1,t=Math.min(n+Math.floor((c.leadingBufferZone+c.trailingBufferZone)/2),g-1),e=Math.max(t-(c.viewSize-1),0)),s=Math.max(e*c.rowHeight,0),f.getRange(e,t,{callback:function(e,t,i){c.renderRange(t,i,!0,!0),a=f.data.getRange(n,n+1)[0],o=u.getNode(a),u.body.translate(null,c.bodyTop=s),1===l&&c.refreshSize(),h&&(h.renderRange(t,i,!0,!0),c.syncRowHeights(),h.view.body.translate(null,h.bodyTop=s),1===l&&h.refreshSize()),o&&(u.grid.ensureVisible(a,r),c.scrollTop=c.position=c.scroller.getPosition().y,h&&(h.position=h.scrollTop=c.scrollTop))}})},onViewItemMouseDown:function(){Ext.getDoc().on({mouseup:this.onDocumentMouseUp,scope:this,single:!0}),this.preservePointerEvents=!0},onDocumentMouseUp:function(){this.preservePointerEvents=!1},onViewScroll:function(e,t,i){var n=this,r=n.view.body.dom,o=n.store.getCount(),s=n.scrollTop=n.scroller.getPosition().y;r&&(n.needsPointerEventsFix&&!n.preservePointerEvents&&(r.style.pointerEvents="none"),n.disabled||o<n.viewSize||(s=0<(o=s-n.position)?1:-1,(20<=Math.abs(o)||s!==n.lastScrollDirection)&&(n.lastScrollDirection=s,n.handleViewScroll(n.lastScrollDirection,o))))},onViewScrollEnd:function(){var e=this.view.body.dom;e&&this.needsPointerEventsFix&&(e.style.pointerEvents="",this.preservePointerEvents=!1)},handleViewScroll:function(e,t){var i,n=this,r=n.view.all,o=n.store.getCount(),s=n.viewSize,a=o-1,o=Math.max(0,o-s);if(-1===e?r.startIndex&&n.topOfViewCloseToEdge()&&(i=Math.max(0,n.getLastVisibleRowIndex()+n.trailingBufferZone-s))>r.startIndex&&(i=r.startIndex+Math.floor(t/n.rowHeight)):r.endIndex<a&&n.bottomOfViewCloseToEdge()&&(i=Math.max(0,Math.min(n.getFirstVisibleRowIndex()-n.trailingBufferZone,o))),null==i)n.position=n.scrollTop,n.loadId++;else if(s=Math.min(i+s-1,a),n.variableRowHeight&&s===r.endIndex&&s<a&&(s++,i++),i!==r.startIndex||s!==r.endIndex)return n.renderRange(i,s),!0},bottomOfViewCloseToEdge:function(){var e=this;return e.variableRowHeight?e.bodyTop+e.bodyHeight<e.scrollTop+e.view.lastBox.height+e.numFromEdge*e.rowHeight:e.view.all.endIndex-e.getLastVisibleRowIndex()<e.numFromEdge},topOfViewCloseToEdge:function(){return this.variableRowHeight?this.bodyTop>this.scrollTop-this.numFromEdge*this.rowHeight:this.getFirstVisibleRowIndex()-this.view.all.startIndex<this.numFromEdge},refreshView:function(e){var t,i=this,n=i.viewSize,r=i.view,o=r.all,s=i.store,a=s.getCount(),l=Math.max(0,a-1),r=r.lockingPartner&&r.lockingPartner.all;if(!a)return i.doRefreshView([],0,0);a<n?(e=0,t=l):null==e&&!o.getCount()&&r&&r.getCount()?(e=r.startIndex,t=Math.min(r.endIndex,e+n-1,l)):(null==e&&(null!=i.nextRefreshStartIndex?(e=i.nextRefreshStartIndex,i.nextRefreshStartIndex=null):e=o.startIndex),e=Math.max(0,Math.min(e,l-n+1)),n<(t=Math.min(e+n-1,l))-e+1&&(e=t-n+1)),0===e&&-1===t?i.doRefreshView([],0,0):s.getRange(e,t,{callback:i.doRefreshView,scope:i})},doRefreshView:function(e,t,i,n){var r,o,s,a=this,l=a.view,d=a.scroller,c=l.all,u=c.startIndex,h=c.endIndex,f=c.getCount(),g=t!==c.startIndex;if(l.refreshing=a.refreshing=!0,l.refreshCounter){if(l.hasListeners.beforerefresh&&!1===l.fireEvent("beforerefresh",l))return l.refreshNeeded=l.refreshing=a.refreshing=!1;s=l.saveFocusState(),l.clearViewEl(!0),l.refreshCounter++,e.length?(l.doAdd(e,t),g&&(u=c.item(u,!0),h=c.item(h,!0),u?o=-u.offsetTop:h&&(o=c.last(!0).offsetTop-h.offsetTop),o?(r=Math.max(a.bodyTop+o,0),a.scrollTop=r?a.scrollTop+o:0):(r=t*a.rowHeight,a.scrollTop=Math.max(r+a.rowHeight*(r<a.bodyTop?a.leadingBufferZone:a.trailingBufferZone),0)))):(a.scrollTop&&(r=a.scrollTop=0),l.addEmptyText()),g&&(a.setBodyTop(r),d.suspendEvent("scroll"),d.scrollTo(null,a.position=a.scrollTop),d.resumeEvent("scroll")),a.refreshSize(),l.refreshSize(c.getCount()!==f),l.fireItemMutationEvent("refresh",l,e),s(),l.headerCt.setSortState()}else l.refresh();l.getVisibleColumnManager().getColumns().length&&c.getCount()!==Math.min(a.store.getCount(),a.viewSize)&&Ext.raise("rendered block refreshed at "+c.getCount()+" rows while BufferedRenderer view size is "+a.viewSize),l.refreshNeeded=l.refreshing=a.refreshing=!1},renderRange:function(e,t,i,n){var r=this,o=r.view.all,s=r.store;e===o.startIndex&&t===o.endIndex||(s.rangeCached(e,t)?(r.cancelLoad(),r.synchronousRender||i?r.onRangeFetched(null,e,t,null,n):(r.renderTask||(r.renderTask=new Ext.util.DelayedTask(r.onRangeFetched,r,null,!1)),r.renderTask.delay(1,null,null,[null,e,t,null,n]))):r.attemptLoad(e,t,r.scrollTop))},onRangeFetched:function(e,t,i,n,r){var o,s,a,l,d,c,u,h,f,g=this,p=g.view,m=g.scroller,x=p.el,E=p.all,y=0,v=p.lockingPartner&&!r&&!g.doNotMirror&&p.lockingPartner.bufferedRenderer,b=g.variableRowHeight,C=g.bodyHeight,S=p.componentLayoutCounter;if(!p.destroyed){if(e)r||(g.scrollTop=g.scroller.getPosition().y);else if(!(e=g.store.getRange(t,i)))return;if(c=Ext.Element.getActiveElement(!0),(s=x.contains(c))&&c.suspendFocusEvents(),o=t*g.rowHeight,t<E.startIndex&&i>E.endIndex){for(h=E.startIndex-t,p.clearViewEl(!0),l=p.doAdd(e,t),p.fireItemMutationEvent("itemadd",e,t,l,p),a=0;a<h;a++)y-=l[a].offsetHeight;d=g.bodyTop+y}else(f=g.teleported||t>E.endIndex||i<E.startIndex)&&(p.clearViewEl(!0),g.teleported=!1),E.getCount()?i>E.endIndex?(u=Math.max(t-E.startIndex,0),b&&(y=E.item(E.startIndex+u,!0).offsetTop),l=E.scroll(Ext.Array.slice(e,E.endIndex+1-t),1,u),d=b?g.bodyTop+y:o):(u=Math.max(E.endIndex-i,0),r=E.startIndex,l=E.scroll(Ext.Array.slice(e,0,E.startIndex-t),-1,u),b?(d=g.bodyTop-E.item(r,!0).offsetTop,E.startIndex?d<0&&(y=E.startIndex*g.rowHeight,m.scrollTo(null,g.position=g.scrollTop+=y),d=g.bodyTop+y):d&&(m.scrollTo(null,g.position=g.scrollTop-=d),d=0)):d=o):(l=p.doAdd(e,t),p.fireItemMutationEvent("itemadd",e,t,l,p),d=o,f&&b&&(f=g.scrollTop<g.position?g.leadingBufferZone:g.trailingBufferZone,d=Math.max(g.scrollTop-E.item(E.startIndex+f-1,!0).offsetTop,0))),g.position=g.scrollTop;return s&&(c.resumeFocusEvents(),x.contains(c)||(c=p.actionableMode?p.actionPosition:p.lastFocused)&&c.column&&(p.renderingRows=!0,p.onFocusLeave({}),p.renderingRows=!1,((c.column.focusable?c.column:c.column.el.findTabbableElements()[0])||p.el).focus())),d=Math.max(Math.floor(d),0),p.positionBody&&g.setBodyTop(d),l&&v&&!v.disabled&&(v.scrollTop=v.position=g.scrollTop,v.view.ownerCt.isVisible()&&(n=v.onRangeFetched(e,t,i,n,!0),(p.ownerGrid.syncRowHeight||p.ownerGrid.syncRowHeightOnNextLayout||v.variableRowHeight!==b)&&(g.syncRowHeights(l,n),p.ownerGrid.syncRowHeightOnNextLayout=!1)),v.bodyTop!==d&&v.setBodyTop(d),v.scroller.scrollTo(null,g.scrollTop)),g.variableRowHeight&&g.bodyHeight!==C&&p.componentLayoutCounter===S&&(delete g.rowHeight,g.refreshSize()),p.getVisibleColumnManager().getColumns().length&&E.getCount()!==Math.min(g.store.getCount(),g.viewSize)&&Ext.raise("rendered block refreshed at "+E.getCount()+" rows while BufferedRenderer view size is "+g.viewSize),l}},syncRowHeights:function(e,t){var i,n,r=0,o=1,s=[],a=[],l=Ext.grid.locking.RowSynchronizer;for(e&&t&&(r=e.length,o=t.length),r!==o&&(e=this.view.all.slice(),t=this.view.lockingPartner.all.slice(),r=o=e.length),i=0;i<r;i++)s[i]=n=new l(this.view,e[i]),n.measure();for(i=0;i<o;i++)a[i]=n=new l(this.view.lockingPartner,t[i]),n.measure();for(i=0;i<r;i++)s[i].finish(a[i]),a[i].finish(s[i]);this.syncRowHeightsFinish()},syncRowHeightsFinish:function(){var e=this.view,t=e.lockingPartner.bufferedRenderer;e.componentLayoutCounter&&(delete this.rowHeight,this.refreshSize(),t.rowHeight!==this.rowHeight&&(delete t.rowHeight,t.refreshSize())),this.bodyHeight=t.bodyHeight=e.body.dom.offsetHeight},setBodyTop:function(e){var t=this,i=t.view,n=i.all,r=t.store,o=i.body;o.dom&&(t.translateBody(o,e),t.variableRowHeight?(t.bodyHeight=o.dom.offsetHeight,n.endIndex===r.getCount()-1?t.scrollHeight=e+t.bodyHeight-1:t.scrollHeight=t.getScrollHeight(),t.stretchView(i,t.scrollHeight)):t.bodyHeight=n.getCount()*t.rowHeight)},translateBody:function(e,t){e.translate(null,this.bodyTop=t)},getFirstVisibleRowIndex:function(e,t,i,n){var r,o=this,s=o.view.all,a=s.elements,l=o.viewClientHeight,d=o.bodyTop;if(s.getCount()&&o.variableRowHeight){if(arguments.length){if(e===t)return t;r=e+Math.floor((t-e)/2)}else{if(e=s.startIndex,t=s.endIndex,(n=(i=o.scrollTop)+l)<d||d+o.bodyHeight<i)return o.teleported=!0,Math.floor(o.scrollTop/o.rowHeight);r=e+Math.min(o.numFromEdge+(-1===o.lastScrollDirection?o.leadingBufferZone:o.trailingBufferZone),Math.floor((t-e)/2))}if((d=d+a[r].offsetTop)+a[r].offsetHeight<=i)return o.getFirstVisibleRowIndex(r+1,t,i,n);if(d<=i)return r;if(r!==e)return o.getFirstVisibleRowIndex(e,r-1,i,n)}return Math.floor(o.scrollTop/o.rowHeight)},getLastVisibleRowIndex:function(e,t,i,n){var r,o=this,s=o.view.all,a=s.elements,l=o.viewClientHeight,d=o.bodyTop;if(s.getCount()&&o.variableRowHeight){if(arguments.length){if(e===t)return t;r=e+Math.floor((t-e)/2)}else{if(e=s.startIndex,t=s.endIndex,(n=(i=o.scrollTop)+l)<d||d+o.bodyHeight<i)return o.teleported=!0,Math.floor(o.scrollTop/o.rowHeight)+Math.ceil(l/o.rowHeight);r=t-Math.min(o.numFromEdge+(1===o.lastScrollDirection?o.leadingBufferZone:o.trailingBufferZone),Math.floor((t-e)/2))}if(d=d+a[r].offsetTop,n<d)return o.getLastVisibleRowIndex(e,r-1,i,n);if(a=d+a[r].offsetHeight,n<=a)return r;if(r!==t)return o.getLastVisibleRowIndex(r+1,t,i,n)}return o.getFirstVisibleRowIndex()+Math.ceil(l/o.rowHeight)},getScrollHeight:function(){var e,t,i,n,r=this,o=r.view.all,s=r.store.getCount(),a=o.getCount();return s?(r.hasOwnProperty("rowHeight")||(a?r.variableRowHeight?r.rowHeight=Math.floor(r.bodyHeight/a):(t=(e=o.first()).getHeight(),Ext.isIE8&&0<(i=e.getBorderWidth("b"))&&(t-=i),r.rowHeight=t):delete r.rowHeight),r.variableRowHeight?o.endIndex===s-1?n=r.bodyTop+r.bodyHeight-1:(n=Math.floor((s-a)*r.rowHeight)+r.bodyHeight,n+=r.bodyTop-o.startIndex*r.rowHeight):n=Math.floor(s*r.rowHeight),r.scrollHeight=n):0},attemptLoad:function(e,t,i){this.scrollToLoadBuffer?(this.loadTask||(this.loadTask=new Ext.util.DelayedTask),this.loadTask.delay(this.scrollToLoadBuffer,this.doAttemptLoad,this,[e,t,i])):this.doAttemptLoad(e,t,i)},cancelLoad:function(){this.loadTask&&this.loadTask.cancel()},doAttemptLoad:function(e,t,r){var o=this;o.destroyed||o.store.getRange(e,t,{loadId:++o.loadId,callback:function(e,t,i,n){n.loadId===o.loadId&&o.scrollTop===r&&o.onRangeFetched(e,t,i,n)},fireEvent:!1})},destroy:function(){var e=this,t=e.view;e.cancelLoad(),t&&t.el&&t.un("scroll",e.onViewScroll,e),e.store&&e.unbindStore(),Ext.destroy(e.viewListeners,e.stretcher,e.gridListeners,e.scrollListeners),e.callParent()}}),Ext.define("Ext.rtl.grid.plugin.BufferedRenderer",{override:"Ext.grid.plugin.BufferedRenderer",translateBody:function(e,t){var i=this.view.getScrollable();this.isRTL&&Ext.supports.xOriginBug&&i&&i.getY()?e.translate(Ext.getScrollbarSize().width,this.bodyTop=t):this.callParent([e,t])}}),Ext.define("Ext.grid.plugin.Editing",{extend:"Ext.plugin.Abstract",alias:"editing.editing",requires:["Ext.grid.column.Column","Ext.util.KeyNav","Ext.form.field.Base","Ext.view.Table"],mixins:["Ext.mixin.Observable"],clicksToEdit:2,triggerEvent:void 0,relayedEvents:["beforeedit","edit","validateedit","canceledit"],defaultFieldUI:"default",defaultFieldXType:"textfield",editStyle:"",constructor:function(e){var i=this;i.callParent([e]),i.mixins.observable.constructor.call(i),i.on("edit",function(e,t){i.fireEvent("afteredit",e,t)})},init:function(e){var t=this,i=e.ownerLockable;t.grid=e,t.view=e.view,t.initEvents(),e.rendered?t.setup():t.mon(e,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t,beforerender:{fn:t.onBeforeRender,single:!0,scope:t}}),e.editorEventRelayers=e.relayEvents(t,t.relayedEvents),i&&(i.editorEventRelayers=i.relayEvents(t,t.relayedEvents)),e.isEditable=!0,e.editingPlugin=e.view.editingPlugin=t},onBeforeReconfigure:function(){this.reconfiguring=!0},onReconfigure:function(){this.setup(),delete this.reconfiguring},onBeforeRender:function(){this.setup()},setup:function(){this.initFieldAccessors(this.grid.getTopLevelColumnManager().getColumns())},destroy:function(){var e=this.grid;Ext.destroy(this.keyNav),this.clearListeners(),e&&(e.ownerLockable&&(Ext.destroy(e.ownerLockable.editorEventRelayers),e.ownerLockable.editorEventRelayers=null),Ext.destroy(e.editorEventRelayers),e.editorEventRelayers=null,e.editingPlugin=e.view.editingPlugin=null),this.callParent()},getEditStyle:function(){return this.editStyle},initFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);function t(e,t){return o.getColumnField(this,t)}function i(){return o.hasColumnField(this)}function n(e){o.setColumnField(this,e)}for(var r,o=this,s=e.length,a=0;a<s;a++)(r=e[a]).getEditor||(r.getEditor=t),r.hasEditor||(r.hasEditor=i),r.setEditor||(r.setEditor=n)},removeFieldAccessors:function(e){e.isGroupHeader?e=e.getGridColumns():Ext.isArray(e)||(e=[e]);for(var t,i=e.length,n=0;n<i;n++)(t=e[n]).getEditor=t.hasEditor=t.setEditor=t.field=t.editor=null},getColumnField:function(e,t){var i=e.field;return i&&i.isFormField||(i=e.field=this.createColumnField(e,t)),i&&"default"===i.ui&&!i.hasOwnProperty("ui")&&(i.ui=this.defaultFieldUI),i},hasColumnField:function(e){return!(!e.field||!e.field.isComponent)},setColumnField:function(e,t){e.field=t,e.field=this.createColumnField(e)},createColumnField:function(e,t){var i=e.field;return!i&&e.editor&&((i=e.editor=Ext.clone(e.editor)).field&&((i=i.field).editorCfg=e.editor,delete i.editorCfg.field),e.editor=null),!i&&t&&(i=t),i&&(t=e.dataIndex,i.isComponent?i.column=e:(i=Ext.isString(i)?{name:t,xtype:i,column:e}:Ext.apply({name:t,column:e},i),i=Ext.ComponentManager.create(i,this.defaultFieldXType)),i.dataIndex=t,i.isEditorComponent=!0,e.field=i),i},initEvents:function(){this.initEditTriggers(),this.initCancelTriggers()},initCancelTriggers:Ext.emptyFn,initEditTriggers:function(){var e=this,t=e.view;"cellfocus"===e.triggerEvent?e.mon(t,"cellfocus",e.onCellFocus,e):"rowfocus"===e.triggerEvent?e.mon(t,"rowfocus",e.onRowFocus,e):(t.getSelectionModel().isCellModel&&(t.onCellFocus=e.beforeViewCellFocus.bind(e)),e.mon(t,e.triggerEvent||"cell"+(1===e.clicksToEdit?"click":"dblclick"),e.onCellClick,e)),e.initAddRemoveHeaderEvents(),e.view.getNavigationModel().addKeyBindings({esc:e.onEscKey,scope:e})},beforeViewCellFocus:function(e){!this.view.selModel.keyNavigation&&this.editing&&this.isCellEditable&&this.isCellEditable(e.row,e.columnHeader)||this.view.focusCell.apply(this.view,arguments)},onRowFocus:function(e,t,i){this.startEdit(t,0)},onCellFocus:function(e,t,i){this.startEdit(i.row,i.column)},onCellClick:function(e,t,i,n,r,o,s){var a,l=e.ownerGrid,d=e.expanderSelector,n=e.ownerCt.getColumnManager().getHeaderAtIndex(i).getEditor(n);!this.shouldStartEdit(n)||d&&s.getTarget(d)?l.actionableMode&&e.owns(s.target)&&(a=Ext.Component.fromElement(s.target,t)&&a.focusable)||l.actionableMode&&l.setActionableMode(!1):l.setActionableMode(!0,s.position)},initAddRemoveHeaderEvents:function(){var e=this.grid.headerCt;this.mon(e,{scope:this,add:this.onColumnAdd,columnmove:this.onColumnMove,beforedestroy:this.beforeGridHeaderDestroy})},onColumnAdd:function(e,t){this.initFieldAccessors(t)},onColumnMove:Ext.emptyFn,onEscKey:function(e){if(this.editing){e=Ext.getCmp(e.getTarget().getAttribute("componentId"));if(!(e&&e.isPickerField&&e.isExpanded))return this.cancelEdit()}},beforeEdit:Ext.emptyFn,shouldStartEdit:function(e){return!!e},getEditingContext:function(e,t){var i,n,r,o,s=this.grid,a=s.visibleColumnManager,l=this.grid.lockable?this.grid:this.view;if(l.componentLayoutCounter){if(!this.disabled&&!this.grid.collapsed&&this.grid.view.isVisible(!0)&&(Ext.isNumber(t)&&(t=a.getHeaderAtIndex(Math.min(t,a.getColumns().length))),t&&(t.hidden&&(t=t.next(":not([hidden])")||t.prev(":not([hidden])")),i=t.getView(),s=i.ownerCt,Ext.isNumber(e)?(r=Math.min(e,i.dataSource.getCount()-1),e=i.dataSource.getAt(r)):r=i.dataSource.indexOf(e),s.ensureVisible(e,{column:t}),n=i.getRow(e),n&&(o=i.getVisibleColumnManager().indexOf(t),e))))return(o=new Ext.grid.CellContext(i).setAll(i,r,o,e,t)).grid=s,o.store=i.dataSource,o.field=t.dataIndex,o.value=o.originalValue=e.get(t.dataIndex),o.row=n,o.node=i.getNode(e),o.cell=o.getCell(!0),o}else l.on({boxready:Ext.Function.bind(this.startEdit,this,[e,t]),single:!0})},cancelEdit:function(){this.editing=!1,this.fireEvent("canceledit",this,this.context)},completeEdit:function(){this.editing&&this.validateEdit()&&this.fireEvent("edit",this,this.context),this.context=null,this.editing=!1},validateEdit:function(e){return!1!==this.fireEvent("validateedit",this,e)&&!e.cancel}}),Ext.define("Ext.grid.plugin.CellEditing",{alias:"plugin.cellediting",extend:"Ext.grid.plugin.Editing",requires:["Ext.grid.CellEditor","Ext.util.DelayedTask"],init:function(e){e.registerActionable(this),this.callParent(arguments),this.editors=new Ext.util.MixedCollection(!1,function(e){return e.editorId})},beforeGridHeaderDestroy:function(e){for(var t,i,n=this.grid.getColumnManager().getColumns(),r=n.length,o=0;o<r;o++)t=n[o],i=(i=this.editors.getByKey(t.getItemId()))||(t.editor||t.field),Ext.destroy(i),this.removeFieldAccessors(t)},onReconfigure:function(e,t,i){i&&this.editors.clear(),this.callParent()},destroy:function(){this.editors&&(this.editors.each(Ext.destroy,Ext),this.editors.clear()),this.callParent()},initCancelTriggers:function(){var e=this.grid;this.mon(e,{columnresize:this.cancelEdit,columnmove:this.cancelEdit,scope:this})},isCellEditable:function(e,t){var i=this.getEditingContext(e,t);if(i.view.isVisible(!0)&&i&&(t=i.column,e=i.record,t&&this.getEditor(e,t)))return!0},activateCell:function(e,t,i){var n,r,o,s=this,a=e.record,l=e.column,d=s.getActiveEditor(),c=s.getEditingContext(a,l);if(c&&l.getEditor(a)){if(d&&d.editing){if(s.view.actionPosition=null,n=c.generation,!1===d.completeEdit())return;c.generation===n&&c.refresh()}if(!t){if(n=c.generation,!1===s.beforeEdit(c)||!1===s.fireEvent("beforeedit",s,c)||c.cancel)return;c.generation===n&&c.refresh()}if(r=s.getEditor(a,l),c.cell!==c.getCell(!0)&&(c=s.getEditingContext(c.rowIdx,c.colIdx),e.setPosition(c)),r){if(a=Ext.get(c.cell),r.rendered){if((o=r.el.dom.parentNode)!==a.dom){try{o.removeChild(r.el.dom)}catch(e){}(r.container=a).dom.appendChild(r.el.dom,a.dom.firstChild)}}else r.hidden=!0,r.render(a);return(l=c.record.get(c.column.dataIndex))!==c.originalValue&&(c.value=c.originalValue=l),s.setEditingContext(c),r.startEdit(a,c.value,i||!1),r.editing&&(s.setActiveEditor(r),s.setActiveRecord(c.record),s.setActiveColumn(c.column),s.editing=!0,s.scroll=e.view.el.getScroll()),r.editing}}},activateRow:Ext.emptyFn,deactivate:function(){for(var e,t=this.context,i=this.editors.items,n=i.length,r=0;r<n;r++)e=i[r],t.view.renderingRows&&(e.editing&&this.cancelEdit(),e.cacheElement())},suspend:function(){var e=this.activeEditor;e&&e.editing&&(this.suspendedEditor=e,this.suspendEvents(),e.suspendEvents(),e.cancelEdit(!0),e.resumeEvents(),this.resumeEvents())},resume:function(e){var t,i=this.activeEditor=this.suspendedEditor;return i&&(this.suspendEvents(),i.suspendEvents(),t=this.activateCell(e,!0,!0),i.resumeEvents(),this.resumeEvents()),t},startEdit:function(e,t){this.startEditByPosition(new Ext.grid.CellContext(this.view).setPosition(e,t))},completeEdit:function(e){var t=this.getActiveEditor();t&&t.completeEdit(e)},setEditingContext:function(e){this.context=e},setActiveEditor:function(e){this.activeEditor=e},getActiveEditor:function(){return this.activeEditor},setActiveColumn:function(e){this.activeColumn=e},getActiveColumn:function(){return this.activeColumn},setActiveRecord:function(e){this.activeRecord=e},getActiveRecord:function(){return this.activeRecord},getEditor:function(e,t){var i=this.editors,n=t.getItemId(),r=i.getByKey(n);if(!r){if(!(r=t.getEditor(e)))return!1;r instanceof Ext.grid.CellEditor||(r=new Ext.grid.CellEditor(Ext.apply({floating:!0,editorId:n,field:r},r.editorCfg))),r.field.excludeForm=!0,r.column!==t&&(r.column=t).on("removed",this.onColumnRemoved,this),i.add(r)}return r.ownerCmp=this.grid.ownerGrid,t.isTreeColumn&&(r.isForTree=t.isTreeColumn,r.addCls(Ext.baseCSSPrefix+"tree-cell-editor")),r.setGrid(this.grid),r.editingPlugin=this,r},onColumnRemoved:function(e){var t=this.context;t&&t.column===e&&this.cancelEdit(),e.un("removed",this.onColumnRemoved,this)},setColumnField:function(e,t){var i=this.editors.getByKey(e.getItemId());Ext.destroy(i,e.field),this.editors.removeAtKey(e.getItemId()),this.callParent(arguments)},getCell:function(e,t){return this.grid.getView().getCell(e,t)},onEditComplete:function(e,t,i){var n=e.context,r=n.view,e=n.record;n.value=t,e.isEqual(t,i)||(e.set(n.column.dataIndex,t),n.rowIdx=r.indexOf(e)),this.context===n&&(this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null),this.editing=!1),this.fireEvent("edit",this,n)},cancelEdit:function(e){var t=this.context;e&&e.isCellEditor?(this.context.value="editedValue"in e?e.editedValue:e.getValue(),this.callParent(arguments),e.context===t?(this.setActiveEditor(null),this.setActiveColumn(null),this.setActiveRecord(null)):this.editing=!0):(e=this.getActiveEditor())&&e.field&&e.cancelEdit()},startEditByPosition:function(e){var t,i=this,n=i.grid.getColumnManager(),r=i.getActiveEditor();if(e.isCellContext||(e=new Ext.grid.CellContext(i.view).setPosition(e.row,i.grid.getColumnManager().getColumns()[e.column])),t=n.getHeaderIndex(e.column),e.column=n.getVisibleHeaderClosestToIndex(t),i.grid.actionableMode){if(i.editing&&e.isEqual(i.context))return;r&&r.completeEdit()}if(!i.grid.actionableMode)return i.grid.setActionableMode(!0,e);i.activateCell(e)&&(i.activateRow(i.view.all.item(e.rowIdx,!0)),(r=i.getEditor(e.record,e.column))&&r.field.focus())}}),Ext.define("Ext.plugin.AbstractClipboard",{extend:"Ext.plugin.Abstract",requires:["Ext.util.KeyMap"],cachedConfig:{formats:{text:{get:"getTextData",put:"putTextData"}}},config:{memory:null,source:"system",system:"text"},destroy:function(){var e=this.keyMap,t=this.shared;Ext.destroy(this.destroyListener),e?(this.keyMap=Ext.destroy(e),--t.counter||(t.textArea=Ext.destroy(t.textArea))):this.renderListener=Ext.destroy(this.renderListener),this.callParent()},init:function(e){var t=this;e.rendered?this.finishInit(e):t.renderListener=e.on({render:function(){t.renderListener=null,t.finishInit(e)},destroyable:!0,single:!0})},getTarget:function(e){return e.el},privates:{shared:{counter:0,data:null,textArea:null},applyMemory:function(e){if(e=this.applySource(e))for(var t=e.length;0<t--;)"system"===e[t]&&Ext.raise('Invalid clipboard format "'+e[t]+'"');return e},applySource:function(e){if(e&&(Ext.isString(e)?e=[e]:0===e.length&&(e=null)),e)for(var t=this.getFormats(),i=e.length;0<i--;)"system"===e[i]||t[e[i]]||Ext.raise('Invalid clipboard format "'+e[i]+'"');return e||null},applySystem:function(e){return this.getFormats()[e]||Ext.raise('Invalid clipboard format "'+e+'"'),e},doCutCopy:function(e,t){var i=this.allFormats||this.syncFormats(),n=this.getData(t,i),r=this.getMemory(),t=this.getSystem();!1!==this.validateAction(e)&&(this.shared.data=r&&n,t&&(r=n[t],i[t]<3&&delete n[t],this.setClipboardData(r)))},doPaste:function(e,t){var i=this.getFormats();this[i[e].put](t,e)},finishInit:function(e){var t=this;t.keyMap=new Ext.util.KeyMap({target:t.getTarget(e),ignoreInputFields:!0,binding:[{ctrl:!0,key:"x",fn:t.onCut,scope:t},{ctrl:!0,key:"c",fn:t.onCopy,scope:t},{ctrl:!0,key:"v",fn:t.onPaste,scope:t}]}),++t.shared.counter,t.destroyListener=e.on({destroyable:!0,destroy:"destroy",scope:t})},getData:function(e,t){var i,n,r,o,s=this.getFormats();if(Ext.isString(t))s[t]||Ext.raise('Invalid clipboard format "'+t+'"'),i=this[s[t].get](t,e);else{if(i={},o=[],t)for(r in t)s[r]||Ext.raise('Invalid clipboard format "'+r+'"'),o.push(r);else o=Ext.Object.getAllKeys(s);for(n=o.length;0<n--;)i[r]=this[s[r].get](r,e&&!n)}return i},getHiddenTextArea:function(){var e=this.shared,t=e.textArea;return t||(t=e.textArea=Ext.getBody().createChild({tag:"textarea",tabIndex:-1,style:{position:"absolute",top:"-1000px",width:"1px",height:"1px"}})).suspendFocusEvents(),t},onCopy:function(e,t){this.doCutCopy(t,!1)},onCut:function(e,t){this.doCutCopy(t,!0)},onPaste:function(e,t){var i,n,r,o=this.shared.data,s=this.getSource();if(!1!==this.validateAction(t)&&s)for(i=0,n=s.length;i<n;++i){if("system"===(r=s[i])){r=this.getSystem(),this.pasteClipboardData(r);break}if(o&&r in o){this.doPaste(r,o[r]);break}}},pasteClipboardData:function(e){var t,i,n=this,r=window.clipboardData;r&&r.getData?n.doPaste(e,r.getData("text")):(i=Ext.Element.getActiveElement(!0),(t=n.getHiddenTextArea().dom).value="",i&&i.suspendFocusEvents(),t.focus(),Ext.defer(function(){i&&(i.focus(),i.resumeFocusEvents()),n.doPaste(e,t.value),t.value=""},100,n))},setClipboardData:function(e){var t,i,n=window.clipboardData;n&&n.setData?n.setData("text",e):(t=this.getHiddenTextArea().dom,i=Ext.Element.getActiveElement(!0),t.value=e,i&&i.suspendFocusEvents(),t.focus(),t.select(),Ext.defer(function(){t.value="",i&&(i.focus(),i.resumeFocusEvents())},50))},syncFormats:function(){var e,t,i={},n=this.getMemory(),r=this.getSystem();if(r&&(i[r]=1),n)for(e=n.length;0<e--;)i[t=n[e]]=i[t]?3:2;return this.allFormats=i},updateMemory:function(){this.allFormats=null},updateSystem:function(){this.allFormats=null},validateAction:Ext.privateFn}}),Ext.define("Ext.grid.plugin.Clipboard",{extend:"Ext.plugin.AbstractClipboard",alias:"plugin.clipboard",requires:["Ext.util.Format","Ext.util.TSV"],formats:{cell:{get:"getCells"},html:{get:"getCellData"},raw:{get:"getCellData",put:"putCellData"}},getCellData:function(e,t){var i,n,r,o,s,a,l,d,c=this.getCmp().getSelectionModel(),u=[],h="raw"===e,f="text"===e;return c.getSelected().eachCell(function(e){s=e.column,d=e.column.getView(),a=e.record,s.ignoreExport||(o!==a&&(o=a,u.push(l=[])),r=s.dataIndex,h?n=a.data[r]:(i=(i=d.all.item(e.rowIdx))||Ext.fly(d.createRowElement(a,e.rowIdx)),s=i.down(s.getCellInnerSelector()),n=s.dom.innerHTML,f&&(n=Ext.util.Format.stripTags(n))),l.push(n),t&&r&&a.set(r,null))}),Ext.util.TSV.encode(u)},getCells:function(e,t){var i,n,r,o,s=this.getCmp().getSelectionModel(),a=[];return s.getSelected().eachCell(function(e){r=e.record,n!==r&&(n=r,a.push(o={model:r.self,fields:[]})),i=e.column.dataIndex,o.fields.push({name:i,value:r.data[i]}),t&&i&&r.set(i,null)}),a},getTextData:function(e,t){return this.getCellData(e,t)},putCellData:function(e,t){var i,n,r,o,s,a=Ext.util.TSV.decode(e),l=a.length,d=l?a[0].length:0,e=this.getCmp().getView(),c=e.dataSource.getCount()-1,u=e.getVisibleColumnManager().getColumns().length-1,h=e.getNavigationModel().getPosition(),f={};for(h||e.getSelectionModel().getSelected().eachCell(function(e){return h=e,!1}),s=(h=h?new Ext.grid.CellContext(e).setPosition(h.record,h.column):new Ext.grid.CellContext(e).setPosition(0,0)).colIdx,n=0;n<l;n++){for(i=a[n],r=0;r<d;r++){if(o=h.column.dataIndex)switch(t){case"raw":case"text":f[o]=i[r]}if(h.colIdx===u)break;h.setColumn(h.colIdx+1)}if(h.record.set(f),h.rowIdx===c)break;h.setPosition(h.rowIdx+1,s)}},putTextData:function(e,t){this.putCellData(e,t)},getTarget:function(e){return e.body},privates:{validateAction:function(e){if(this.getCmp().getView().actionableMode)return!1}}}),Ext.define("Ext.grid.plugin.DragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.gridviewdragdrop",uses:["Ext.view.DragZone","Ext.grid.ViewDropZone"],dragText:"{0} selected row{1}",ddGroup:"GridDD",enableDrop:!0,enableDrag:!0,containerScroll:!1,init:function(e){Ext.applyIf(e,{copy:this.copy,allowCopy:this.allowCopy}),e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){this.dragZone=this.dropZone=Ext.destroy(this.dragZone,this.dropZone),this.callParent()},enable:function(){this.dragZone&&this.dragZone.unlock(),this.dropZone&&this.dropZone.unlock(),this.callParent()},disable:function(){this.dragZone&&this.dragZone.lock(),this.dropZone&&this.dropZone.lock(),this.callParent()},onViewRender:function(e){var t,i=this;(e.ownerCt.ownerGrid||e.ownerCt).relayEvents(e,["beforedrop","drop"]),i.enableDrag&&(i.containerScroll&&(t=e.getEl()),i.dragZone=new Ext.view.DragZone(Ext.apply({view:e,ddGroup:i.dragGroup||i.ddGroup,dragText:i.dragText,containerScroll:i.containerScroll,scrollEl:t},i.dragZone))),i.enableDrop&&(i.dropZone=new Ext.grid.ViewDropZone(Ext.apply({view:e,ddGroup:i.dropGroup||i.ddGroup},i.dropZone)))}}),Ext.define("Ext.grid.plugin.RowEditing",{extend:"Ext.grid.plugin.Editing",alias:"plugin.rowediting",requires:["Ext.grid.RowEditor"],lockableScope:"top",editStyle:"row",autoCancel:!0,autoUpdate:!1,errorSummary:!0,formAriaLabel:"Editing row {0}",formAriaLabelRowBase:2,constructor:function(){var e=this;e.callParent(arguments),e.clicksToMoveEditor||(e.clicksToMoveEditor=e.clicksToEdit),e.autoCancel=!!e.autoCancel,e.autoUpdate=!!e.autoUpdate,e.autoUpdate&&(e.autoCancel=!1)},init:function(e){this.callParent([e]),e.lockedGrid?(e.lockedGrid.registerActionable(this),e.normalGrid.registerActionable(this)):e.registerActionable(this)},destroy:function(){Ext.destroy(this.editor),this.callParent()},onBeforeReconfigure:function(){this.callParent(arguments),this.cancelEdit()},onReconfigure:function(e,t,i){var n=this.editor;this.callParent(arguments),i&&n&&n.rendered&&(n.needsSyncFieldWidths=!0)},shouldStartEdit:function(e){return!0},startEdit:function(e,t){var i,n=this,r=n.getEditor();return Ext.isEmpty(t)&&(t=n.grid.getTopLevelVisibleColumnManager().getHeaderAtIndex(0)),!(!1===r.beforeEdit()||!(i=n.getEditingContext(e,t))||!1===n.beforeEdit(i)||!1===n.fireEvent("beforeedit",n,i)||i.cancel)&&(n.context=i,n.lockingPartner&&n.lockingPartner.cancelEdit(),r.startEdit(i.record,i.column,i),n.editing=!0)},activateCell:function(e){if(!e.getCell().query('[tabIndex="-1"]').length)return this.startEdit(e.record,e.column),!0},suspend:Ext.emptyFn,resume:Ext.emptyFn,onEnterKey:function(e){!this.grid.ownerGrid.actionableMode&&this.editing&&((e=Ext.getCmp(e.getTarget().getAttribute("componentId")))&&e.isPickerField&&e.isExpanded||this.completeEdit())},cancelEdit:function(){return!this.editing||(this.getContextFieldValues(),this.getEditor().cancelEdit(),void this.callParent(arguments))},completeEdit:function(){var e=this.context;this.editing&&this.validateEdit(e)&&(this.editing=!1,this.fireEvent("edit",this,e))},validateEdit:function(){return this.getContextFieldValues(),this.callParent(arguments)&&this.getEditor().completeEdit()},getEditor:function(){return this.editor||(this.editor=this.initEditor()),this.editor},getContextFieldValues:function(){for(var e,t,i=this.editor,n=this.context,r=n.record,o={},s={},a=i.query(">[isFormField]"),l=a.length,d=0;d<l;d++)o[e=(t=a[d]).dataIndex]=t.getValue(),s[e]=r.get(e);Ext.apply(n,{newValues:o,originalValues:s})},initEditor:function(){return new Ext.grid.RowEditor(this.initEditorConfig())},initEditorConfig:function(){for(var e,t=this,i=t.grid,n=t.view,r=i.headerCt,o=["saveBtnText","cancelBtnText","errorsText","dirtyText"],s=o.length,a={autoCancel:t.autoCancel,autoUpdate:t.autoUpdate,removeUnmodified:t.removeUnmodified,errorSummary:t.errorSummary,formAriaLabel:t.formAriaLabel,formAriaLabelRowBase:t.formAriaLabelRowBase+(i.hideHeaders?-1:0),fields:r.getGridColumns(),hidden:!0,view:n,editingPlugin:t},l=0;l<s;l++)e=o[l],Ext.isDefined(t[e])&&(a[e]=t[e]);return a},initEditTriggers:function(){var e=this,t=e.view,i=1===e.clicksToMoveEditor?"click":"dblclick";e.callParent(arguments),e.clicksToMoveEditor!==e.clicksToEdit&&e.mon(t,"cell"+i,e.moveEditorByClick,e),t.on({render:function(){e.mon(e.grid.headerCt,{scope:e,columnresize:e.onColumnResize,columnhide:e.onColumnHide,columnshow:e.onColumnShow})},single:!0})},moveEditorByClick:function(){this.editing&&this.superclass.onCellClick.apply(this,arguments)},onColumnAdd:function(e,t){var i;t.isHeader&&(this.initFieldAccessors(t),(i=this.editor)&&i.onColumnAdd(t))},beforeGridHeaderDestroy:function(e){for(var t,i,n=this.grid.getColumnManager().getColumns(),r=n.length,o=0;o<r;o++)(t=n[o]).hasEditor&&(t.hasEditor()&&(i=t.getEditor())&&i.destroy(),this.removeFieldAccessors(t))},onColumnResize:function(e,t,i){var n;!t.isHeader||(n=this.getEditor())&&n.onColumnResize(t,i)},onColumnHide:function(e,t){var i=this.getEditor();i&&i.onColumnHide(t)},onColumnShow:function(e,t){var i=this.getEditor();i&&i.onColumnShow(t)},onColumnMove:function(e,t,i,n){var r=this.getEditor();this.initFieldAccessors(t),r&&r.onColumnMove(t,i,n)},setColumnField:function(e,t){var i=this.getEditor();i&&i.destroyColumnEditor(e),this.callParent(arguments),i&&i.insertColumnEditor(e)},createColumnField:function(e,t){var i,n=this.editor;return n&&(i=n.getDefaultFieldCfg()),(i=this.callParent([e,t||i]))&&(i.skipLabelForAttribute=!0,i.ariaAttributes=i.ariaAttributes||{},this.grid.hideHeaders?i.ariaAttributes["aria-label"]=e.text:i.ariaAttributes["aria-labelledby"]=e.id),i}}),Ext.define("Ext.rtl.grid.plugin.RowEditing",{override:"Ext.grid.plugin.RowEditing",initEditorConfig:function(){var e=this.callParent();return e.rtl=this.grid.getInherited().rtl,e}}),Ext.define("Ext.grid.plugin.RowExpander",{extend:"Ext.plugin.Abstract",lockableScope:"top",requires:["Ext.grid.feature.RowBody"],alias:"plugin.rowexpander",columnWidth:24,rowBodyTpl:null,lockedTpl:null,expandOnDblClick:!0,selectRowOnExpand:!1,scrollIntoViewOnExpand:!0,headerWidth:24,bodyBefore:!1,rowBodyTrSelector:"."+Ext.baseCSSPrefix+"grid-rowbody-tr",rowBodyHiddenCls:Ext.baseCSSPrefix+"grid-row-body-hidden",rowCollapsedCls:Ext.baseCSSPrefix+"grid-row-collapsed",addCollapsedCls:{fn:function(e,t,i){var n=this.rowExpander;n.recordsExpanded[t.record.internalId]||t.itemClasses.push(n.rowCollapsedCls),this.nextTpl.applyOut(t,e,i)},syncRowHeights:function(e,t){this.rowExpander.syncRowHeights(e,t)},priority:2e4},setCmp:function(e){var t;this.callParent(arguments),this.recordsExpanded={},this.rowBodyTpl||Ext.raise("The 'rowBodyTpl' config is required and is not defined."),this.rowBodyTpl=Ext.XTemplate.getTpl(this,"rowBodyTpl"),t=this.getFeatureConfig(e),e.features?e.features=Ext.Array.push(t,e.features):e.features=t},getFeatureConfig:function(e){var t=this,i=[],n={ftype:"rowbody",rowExpander:t,rowIdCls:t.rowIdCls,bodyBefore:t.bodyBefore,recordsExpanded:t.recordsExpanded,rowBodyHiddenCls:t.rowBodyHiddenCls,rowCollapsedCls:t.rowCollapsedCls,setupRowData:t.getRowBodyFeatureData,setup:t.setup};return i.push(Ext.apply({lockableScope:"normal",getRowBodyContents:t.getRowBodyContentsFn(t.rowBodyTpl)},n)),e.enableLocking&&i.push(Ext.apply({lockableScope:"locked",getRowBodyContents:t.lockedTpl?t.getRowBodyContentsFn(t.lockedTpl):function(){return""}},n)),i},getRowBodyContentsFn:function(t){var i=this;return function(e){return t.owner=i,t.applyTemplate(e.record.getData())}},init:function(e){var t,i,n,r=this,o=e.lockable&&e;o&&(r.lockedGrid=o.lockedGrid,r.normalGrid=o.normalGrid,i=r.lockedView=r.lockedGrid.getView(),n=r.normalView=r.normalGrid.getView()),r.callParent(arguments),r.grid=e,t=r.view=e.getView(),r.bindView(t),o?(r.addExpander(r.lockedGrid.headerCt.items.getCount()?r.lockedGrid:r.normalGrid),i.addRowTpl(r.addCollapsedCls).rowExpander=n.addRowTpl(r.addCollapsedCls).rowExpander=i.rowExpander=n.rowExpander=r,o.mon(o,{processcolumns:r.onLockableProcessColumns,lockcolumn:r.onColumnLock,unlockcolumn:r.onColumnUnlock,scope:r})):((t.addRowTpl(r.addCollapsedCls).rowExpander=t.rowExpander=r).addExpander(e),e.on("beforereconfigure",r.beforeReconfigure,r))},onItemAdd:function(e,t,i){for(var n,r=this.grid.lockable,o=i.length,s=0;s<o;s++)if(!(n=e[s]).isNonData&&this.recordsExpanded[n.internalId])return void(r&&(this.grid.syncRowHeightOnNextLayout=!0))},beforeReconfigure:function(e,t,i,n,r){this.viewListeners&&this.viewListeners.destroy(),i&&(this.expanderColumn=new Ext.grid.Column(this.getHeaderConfig()),i.unshift(this.expanderColumn))},onLockableProcessColumns:function(e,t,i){this.addExpander(t.length?e.lockedGrid:e.normalGrid)},addExpander:function(e){var t=e.getSelectionModel(),i=t.injectCheckbox;this.expanderColumn=e.headerCt.insert(0,this.getHeaderConfig()),0!==i&&"first"!==i||(i=1),t.injectCheckbox=i},getRowBodyFeatureData:function(e,t,i){this.self.prototype.setupRowData.apply(this,arguments),i.rowBody=this.getRowBodyContents(i),i.rowBodyCls=this.recordsExpanded[e.internalId]?"":this.rowBodyHiddenCls},bindView:function(e){var t={itemkeydown:this.onKeyDown,scope:this};this.expandOnDblClick&&(t.itemdblclick=this.onDblClick),this.grid.lockable&&(t.itemadd=this.onItemAdd),e.on(t)},onKeyDown:function(e,t,i,n,r){var o=r.getKey();e.getNavigationModel().getPosition()&&(i=(i=Ext.fly(i)).hasCls(this.rowCollapsedCls),((107===o||187===o&&r.shiftKey)&&i||(109===o||189===o)&&!i)&&this.toggleRow(n,t))},onDblClick:function(e,t,i,n,r){this.toggleRow(n,t)},toggleRow:function(e,t){var i,n=this,r=n.normalView||n.view,o=r,s=r.getNode(e),a=Ext.fly(s),l=a.down(n.rowBodyTrSelector,!0),d=a.hasCls(n.rowCollapsedCls),c=d?"removeCls":"addCls",u=n.grid.lockable&&n.grid;a[c](n.rowCollapsedCls),Ext.fly(l)[c](n.rowBodyHiddenCls),n.recordsExpanded[t.internalId]=d,Ext.suspendLayouts(),u&&(i=u.componentLayoutCounter,o=u.getView(),n.lockedGrid.isVisible()&&((r=n.lockedView).lockingPartner.updateLayout(),(a=Ext.fly(r.getNode(e)))&&(a[c](n.rowCollapsedCls),l=a.down(n.rowBodyTrSelector,!0),Ext.fly(l)[c](n.rowBodyHiddenCls))),u.syncRowHeightOnNextLayout=!0),o.fireEvent(d?"expandbody":"collapsebody",s,t,l),r.refreshSize(!0),Ext.resumeLayouts(!0),n.scrollIntoViewOnExpand&&d&&n.grid.ensureVisible(e),u&&u.componentLayoutCounter===i&&u.syncLockableLayout()},syncRowHeights:function(e,t){var i=Ext.fly(e).down(this.rowBodyTrSelector),n=Ext.fly(t).down(this.rowBodyTrSelector);n.isVisible()?(e=i.getHeight())!==(t=n.getHeight())&&(t<e?n.setHeight(e):i.setHeight(t)):i.dom.style.height=n.dom.style.height=""},onColumnUnlock:function(e,t){var i;1===(i=(e=e||this.grid).lockedGrid.visibleColumnManager.getColumns()).length&&(e.normalGrid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),e.lockedGrid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),i[0]===this.expanderColumn?e.unlock(this.expanderColumn):e.lock(this.expanderColumn,0))},onColumnLock:function(e,t){e=e||this.grid,1===this.lockedGrid.visibleColumnManager.getColumns().length&&(this.lockedGrid.headerCt.insert(0,this.expanderColumn),e.normalGrid.addCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"),e.lockedGrid.removeCls(Ext.baseCSSPrefix+"grid-hide-row-expander-spacer"))},getHeaderConfig:function(){var d=this,e=d.grid.lockable&&d.grid;return{width:d.headerWidth,ignoreExport:!0,lockable:!1,autoLock:!0,sortable:!1,resizable:!1,draggable:!1,hideable:!1,menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"grid-cell-special",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-row-expander",renderer:function(){return'<div class="'+Ext.baseCSSPrefix+'grid-row-expander" role="presentation" tabIndex="0"></div>'},processEvent:function(e,t,i,n,r,o,s){var a="touch"===o.pointerType,l=!!o.getTarget("."+Ext.baseCSSPrefix+"grid-row-expander");"click"===e&&l||"keydown"===e&&o.getKey()===o.SPACE?(a&&i.focus(),d.toggleRow(n,s,o),o.stopSelection=!d.selectRowOnExpand):"mousedown"===o.type&&!a&&l&&o.preventDefault()},isLocked:function(){return e&&(e.lockedGrid.isVisible()||this.locked)},editRenderer:function(){return"&#160;"}}}}),Ext.define("Ext.grid.plugin.RowWidget",{extend:"Ext.grid.plugin.RowExpander",mixins:["Ext.mixin.Identifiable","Ext.mixin.StyleCacher"],lockableScope:"top",alias:"plugin.rowwidget",config:{defaultWidgetUI:{}},widget:null,lockedWidget:null,addCollapsedCls:{fn:function(e,t,i){var n=this.rowExpander;n.recordsExpanded[t.record.internalId]||t.itemClasses.push(n.rowCollapsedCls),this.nextTpl.applyOut(t,e,i)},priority:2e4},setCmp:function(e){var t,i=this;i.rowIdCls=Ext.id(null,Ext.baseCSSPrefix+"rowwidget-"),i.recordsExpanded={},Ext.plugin.Abstract.prototype.setCmp.apply(i,arguments),(t=i.widget)&&!t.isComponent||Ext.raise("RowWidget requires a widget configuration."),i.widget=t=Ext.apply({},t),t.ui||(t.ui=i.getDefaultWidgetUI()[t.xtype]||"default"),e.enableLocking&&i.lockedWidget&&(i.lockedWidget=t=Ext.apply({},i.lockedWidget),t.ui||(t.ui=i.getDefaultWidgetUI()[t.xtype]||"default")),i=i.getFeatureConfig(e),e.features?e.features=Ext.Array.push(i,e.features):e.features=i},getFeatureConfig:function(e){var t=[],i={ftype:"rowbody",rowExpander:this,rowIdCls:this.rowIdCls,bodyBefore:this.bodyBefore,recordsExpanded:this.recordsExpanded,rowBodyHiddenCls:this.rowBodyHiddenCls,rowCollapsedCls:this.rowCollapsedCls,setupRowData:this.setupRowData,setup:this.setup,onClick:Ext.emptyFn};return t.push(Ext.apply({lockableScope:"normal"},i)),e.enableLocking&&t.push(Ext.apply({lockableScope:"locked"},i)),t},setupRowData:function(e,t,i){var n=this.rowExpander;n.rowBodyFeature=this,i.rowBodyCls=n.recordsExpanded[e.internalId]?"":n.rowBodyHiddenCls},bindView:function(e){this.viewListeners=e.on({refresh:this.onViewRefresh,itemadd:this.onItemAdd,scope:this,destroyable:!0}),Ext.override(e,this.viewOverrides)},destroy:function(){var e=this,t=e.getId();e.viewListeners.destroy(),e.grid.lockable?(e.grid.destroyManagedWidgets(t+"-"+e.lockedView.getId()),e.grid.destroyManagedWidgets(t+"-"+e.normalView.getId())):e.grid.destroyManagedWidgets(t+"-"+e.view.getId()),e.callParent()},privates:{viewOverrides:{handleEvent:function(e){e.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([e])},onFocusEnter:function(e){e.event.getTarget("."+this.rowExpander.rowIdCls,this.body)||this.callParent([e])},toggleChildrenTabbability:function(e){for(var t=this.getTargetEl(),i=this.all,n=i.startIndex;n<=i.endIndex;n++)t=Ext.fly(this.getRow(i.item(n))),e?t.restoreTabbableState(!0):t.saveTabbableState({skipSelf:!0,includeSaved:!1})}},destroyLiveWidget:function(e,t){t.destroy()},destroyFreeWidget:function(e){e.destroy()},onItemAdd:function(e,t,i,n){var r,o,s=i.length,a=this.grid.lockable;for(Ext.suspendLayouts(),r=0;r<s;r++)!(o=e[r]).isNonData&&this.recordsExpanded[o.internalId]&&(a&&(this.grid.syncRowHeightOnNextLayout=!0),this.addWidget(n,o));Ext.resumeLayouts(!0)},onViewRefresh:function(e,t){var i,n,r=e.all;for(Ext.suspendLayouts(),i=r.startIndex,n=0;i<=r.endIndex;i++,n++)this.addWidget(e,t[n]);Ext.resumeLayouts(!0)},returnFalse:function(){return!1},listenerScopeDecorator:function(e){return"this"===e?this:this.ownerCt.resolveListenerScope(e)},getWidget:function(e,t){var i,n;return t&&(n=this.grid.lockable&&e===this.lockedView?this.lockedWidget:this.widget)&&((i=this.grid.createManagedWidget(this.getId()+"-"+e.getId(),n,t)).resolveListenerScope=this.listenerScopeDecorator,i.measurer=this,i.ownerCt=e,i.ownerLayout=e.componentLayout),i},addWidget:function(e,t){var i,n,r=!!this.onWidgetAttach,o=this.isFixedSize;if(!t.isNonData&&this.recordsExpanded[t.internalId])return n=(i=Ext.fly(e.getNode(t)).down(this.rowBodyFeature.innerSelector)).getWidth(!0)-i.getPadding("lr"),(e=this.getWidget(e,t))&&(e.defaultBindProperty&&!e.getBind()&&e.setConfig(e.defaultBindProperty,t),r&&Ext.callback(this.onWidgetAttach,this.scope,[this,e,t],0,this),(t=e.el||e.element)?(i.dom.appendChild(t.dom),o||e.width===n?e.updateLayout():e.setWidth(n),e.reattachToBody()):(o||(e.width=n),e.render(i))),e},toggleRow:function(e,t){var i,n=this,r=n.normalView||n.view,o=r.getNode(e),s=Ext.fly(o),a=s.down(n.rowBodyTrSelector,!0),l=s.hasCls(n.rowCollapsedCls),d=l?"removeCls":"addCls",c=n.grid.lockable&&n.grid;s[d](n.rowCollapsedCls),Ext.fly(a)[d](n.rowBodyHiddenCls),Ext.suspendLayouts(),i=l?(n.recordsExpanded[t.internalId]=!0,n.addWidget(r,t)):(delete n.recordsExpanded[t.internalId],n.getWidget(r,t)),c&&c.lockedGrid.isVisible()&&(r=n.lockedView,(s=Ext.fly(r.getNode(e)))&&(s[d](n.rowCollapsedCls),a=s.down(n.rowBodyTrSelector,!0),Ext.fly(a)[d](n.rowBodyHiddenCls),i=l&&n.lockedWidget?[i,n.addWidget(r,t)]:[i,n.getWidget(r,t)]),c.syncRowHeightOnNextLayout=!0),n.view.fireEvent(l?"expandbody":"collapsebody",o,t,a,i),r.updateLayout(),Ext.resumeLayouts(!0),n.scrollIntoViewOnExpand&&l&&n.grid.ensureVisible(e)}}}),Ext.define("Ext.grid.property.Grid",{extend:"Ext.grid.Panel",alias:"widget.propertygrid",alternateClassName:"Ext.grid.PropertyGrid",uses:["Ext.grid.plugin.CellEditing","Ext.grid.property.Store","Ext.grid.property.HeaderContainer","Ext.XTemplate","Ext.grid.CellEditor","Ext.form.field.Date","Ext.form.field.Text","Ext.form.field.Number","Ext.form.field.ComboBox"],valueField:"value",nameField:"name",inferTypes:!0,enableColumnMove:!1,columnLines:!0,stripeRows:!1,trackMouseOver:!1,clicksToEdit:1,enableHdMenu:!1,gridCls:Ext.baseCSSPrefix+"property-grid",initComponent:function(){var e,i=this,t=!Ext.isIE;i.source=i.source||{},i.addCls(i.gridCls),i.plugins=i.plugins||[],i.plugins.push(new Ext.grid.plugin.CellEditing({clicksToEdit:i.clicksToEdit,startEdit:function(e,t){return this.self.prototype.startEdit.call(this,e,i.valueColumn)}})),i.selModel={type:"cellmodel",onCellSelect:function(e){return e.column=i.valueColumn,e.colIdx=i.valueColumn.getVisibleIndex(),this.self.prototype.onCellSelect.call(this,e)}},i.sourceConfig=Ext.apply({},i.sourceConfig),i.store||(i.propStore=i.store=new Ext.grid.property.Store(i,i.source)),i.configure(i.sourceConfig),i.sortableColumns&&i.store.sort("name","ASC"),i.columns=new Ext.grid.property.HeaderContainer(i,i.store),i.callParent(),(e=i.getView()).walkCells=i.walkCells,e.getDefaultFocusPosition=i.getDefaultFocusPosition,i.editors={date:new Ext.grid.CellEditor({field:new Ext.form.field.Date({selectOnFocus:t})}),string:new Ext.grid.CellEditor({field:new Ext.form.field.Text({selectOnFocus:t})}),number:new Ext.grid.CellEditor({field:new Ext.form.field.Number({selectOnFocus:t})}),boolean:new Ext.grid.CellEditor({field:new Ext.form.field.ComboBox({editable:!1,store:[[!0,i.headerCt.trueText],[!1,i.headerCt.falseText]]})})},i.store.on("update",i.onUpdate,i)},configure:function(e){var t,i,n=this.store,r=0,o=this.store.getCount(),s=this.nameField,a=this.valueField;if(this.configureLegacy(e),this.inferTypes)for(;r<o;++r)t=(i=n.getAt(r)).get(s),this.getConfigProp(t,"type")||(i=i.get(a),i=Ext.isDate(i)?"date":Ext.isNumber(i)?"number":Ext.isBoolean(i)?"boolean":"string",this.setConfigProp(t,"type",i))},getConfigProp:function(e,t,i){var n,e=this.sourceConfig[e];return e&&(n=e[t]),n||i},setConfigProp:function(e,t,i){var n=this.sourceConfig,r=n[e];return r?r.__copied||(r=Ext.apply({__copied:!0},r),n[e]=r):r=n[e]={__copied:!0},r[t]=i},configureLegacy:function(e){this.copyLegacyObject(e,this.customRenderers,"renderer"),this.copyLegacyObject(e,this.customEditors,"editor"),this.copyLegacyObject(e,this.propertyNames,"displayName"),(this.customRenderers||this.customEditors||this.propertyNames)&&Ext.global.console&&Ext.global.console.warn&&Ext.global.console.warn(this.$className,'customRenderers, customEditors & propertyNames have been consolidated into a new config, see "sourceConfig". These configurations will be deprecated.')},copyLegacyObject:function(e,t,i){for(var n in t)t.hasOwnProperty(n)&&(e[n]||(e[n]={}),e[n][i]=t[n])},onUpdate:function(e,t,i){var n;this.rendered&&i===Ext.data.Model.EDIT&&(n=t.get(this.valueField),i=t.modified.value,!1!==this.fireEvent("beforepropertychange",this.source,t.getId(),n,i)?(this.source&&(this.source[t.getId()]=n),t.commit(),this.fireEvent("propertychange",this.source,t.getId(),n,i)):t.reject())},walkCells:function(e,t,i,n,r,o){var s=this.ownerCt.valueColumn;return"left"===t?t="up":"right"===t&&(t="down"),(e=Ext.view.Table.prototype.walkCells.call(this,e,t,i,n,r,o)).column=s,e.colIdx=s.getVisibleIndex(),e},getDefaultFocusPosition:function(){return new Ext.grid.CellContext(this).setColumn(1)},getCellEditor:function(e,t){var i=e.get(this.nameField),n=e.get(this.valueField),r=this.getConfigProp(i,"editor"),e=this.getConfigProp(i,"type"),o=this.editors;if(r)r instanceof Ext.grid.CellEditor||(r instanceof Ext.form.field.Base||(r=Ext.ComponentManager.create(r,"textfield")),r=this.setConfigProp(i,"editor",new Ext.grid.CellEditor({field:r})));else if(e)switch(e){case"date":r=o.date;break;case"number":r=o.number;break;case"boolean":r=this.editors.boolean;break;default:r=o.string}else r=Ext.isDate(n)?o.date:Ext.isNumber(n)?o.number:Ext.isBoolean(n)?o.boolean:o.string;return(n=r.field)&&"default"===n.ui&&!n.hasOwnProperty("ui")&&(n.ui=this.editingPlugin.defaultFieldUI),r.editorId=i,r.field.column=this.valueColumn,i&&(i=Ext.String.htmlEncode(i),n.rendered?n.inputEl.dom.setAttribute("aria-label",i):n.ariaLabel=i),r},doDestroy:function(){this.destroyEditors(this.editors),this.destroyEditors(this.customEditors),this.callParent()},destroyEditors:function(e){for(var t in e)e.hasOwnProperty(t)&&Ext.destroy(e[t])},setSource:function(e,t){this.source=e,void 0!==t&&(this.sourceConfig=Ext.apply({},t),this.configure(this.sourceConfig)),this.propStore.setSource(e)},getSource:function(){return this.propStore.getSource()},getProperty:function(e){return this.propStore.getProperty(e)},setProperty:function(e,t,i){this.propStore.setValue(e,t,i)},removeProperty:function(e){this.propStore.remove(e)}}),Ext.define("Ext.grid.property.HeaderContainer",{extend:"Ext.grid.header.Container",alternateClassName:"Ext.grid.PropertyColumnModel",nameWidth:115,nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",nameColumnCls:Ext.baseCSSPrefix+"grid-property-name",nameColumnInnerCls:Ext.baseCSSPrefix+"grid-cell-inner-property-name",constructor:function(e,t){var i=this;i.grid=e,i.store=t,i.callParent([{isRootHeader:!0,enableColumnResize:(Ext.isDefined(e.enableColumnResize)?e:i).enableColumnResize,enableColumnMove:(Ext.isDefined(e.enableColumnMove)?e:i).enableColumnMove,items:[{header:i.nameText,width:e.nameColumnWidth||i.nameWidth,sortable:e.sortableColumns,dataIndex:e.nameField,scope:i,renderer:i.renderProp,itemId:e.nameField,menuDisabled:!0,tdCls:i.nameColumnCls,innerCls:i.nameColumnInnerCls},{header:i.valueText,scope:i,renderer:i.renderCell,getEditor:i.getCellEditor.bind(i),sortable:e.sortableColumns,flex:1,fixed:!0,dataIndex:e.valueField,itemId:e.valueField,menuDisabled:!0}]}]),i.grid.valueColumn=i.items.getAt(1)},getCellEditor:function(e){return this.grid.getCellEditor(e,this)},renderProp:function(e){return this.getPropertyName(e)},renderCell:function(e,t,i){var n=this.grid,r=n.getConfigProp(i.get(n.nameField),"renderer"),n=e;return r?Ext.callback(r,null,arguments,0,this):(Ext.isDate(e)?n=this.renderDate(e):Ext.isBoolean(e)&&(n=this.renderBool(e)),Ext.util.Format.htmlEncode(n))},renderDate:Ext.util.Format.date,renderBool:function(e){return this[e?"trueText":"falseText"]},getPropertyName:function(e){return this.grid.getConfigProp(e,"displayName",e)}}),Ext.define("Ext.grid.property.Property",{extend:"Ext.data.Model",alternateClassName:"Ext.PropGridProperty",fields:[{name:"name",type:"string"},{name:"value"}],idProperty:"name",constructor:function(e,t){Ext.isObject(e)||(e={name:e,value:t}),this.callParent([e])}}),Ext.define("Ext.grid.property.Reader",{extend:"Ext.data.reader.Reader",successProperty:null,totalProperty:null,messageProperty:null,read:function(e){return this.readRecords(e)},readRecords:function(e){var t,i,n=this.getModel(),r={records:[],success:!0};for(i in e)e.hasOwnProperty(i)&&(t=e[i],this.isEditableValue(t)&&r.records.push(new n({name:i,value:t})));return r.total=r.count=r.records.length,new Ext.data.ResultSet(r)},isEditableValue:function(e){return Ext.isPrimitive(e)||Ext.isDate(e)||null===e}}),Ext.define("Ext.grid.property.Store",{extend:"Ext.data.Store",alternateClassName:"Ext.grid.PropertyStore",remoteSort:!0,requires:["Ext.grid.property.Reader","Ext.data.proxy.Memory","Ext.grid.property.Property"],constructor:function(e,t){this.grid=e,this.source=t,this.callParent([{data:t,model:Ext.grid.property.Property,proxy:this.getProxy()}])},getProxy:function(){return this.proxy||(this.proxy=new Ext.data.proxy.Memory({model:Ext.grid.property.Property,reader:this.getReader()}))},getReader:function(){return this.reader||(this.reader=new Ext.grid.property.Reader({model:Ext.grid.property.Property}))},setSource:function(e){var t=this;t.source=e,t.suspendEvents(),t.removeAll(),t.getProxy().setData(e),t.load(),t.resumeEvents(),t.fireEvent("datachanged",t),t.fireEvent("refresh",t)},getProperty:function(e){var t=Ext.isNumber(e)?this.getAt(e):this.getById(e),e=null;return t&&(e=t.get("value")),e},setValue:function(e,t,i){var n=this.getRec(e);n?(n.set("value",t),this.source[e]=t):i&&(this.source[e]=t,n=new Ext.grid.property.Property({name:e,value:t},e),this.add(n))},remove:function(e){var t=this.getRec(e);t&&(this.callParent([t]),delete this.source[e])},getRec:function(e){return this.getById(e)},getSource:function(){return this.source},doDestroy:function(){Ext.destroy(this.reader,this.proxy),this.callParent()}}),Ext.define("Ext.grid.selection.Selection",{constructor:function(e){e&&(e.isTableView||e.isLockingView)||Ext.raise("Selection must be created for a given TableView or LockingView"),this.view=e.ownerGrid.view}}),Ext.define("Ext.grid.selection.Cells",{extend:"Ext.grid.selection.Selection",type:"cells",isCells:!0,clone:function(){var e=new this.self(this.view);return this.startCell&&(e.startCell=this.startCell.clone(),e.endCell=this.endCell.clone()),e},contains:function(e){var t;return!(!e||!e.isCellContext)&&(!!(this.startCell&&(t=this.getRowRange(),e.rowIdx>=t[0]&&e.rowIdx<=t[1]))&&(t=this.getColumnRange(),e.colIdx>=t[0]&&e.colIdx<=t[1]))},eachRow:function(e,t){for(var i=this.getRowRange(),n=new Ext.grid.CellContext(this.view),r=i[0];r<=i[1];r++)if(n.setRow(r),!1===e.call(t||this,n.record))return},eachColumn:function(e,t){for(var i=this.getColumnRange(),n=new Ext.grid.CellContext(this.view),r=i[0];r<=i[1];r++)if(n.setColumn(r),!1===e.call(t||this,n.column,r))return},eachCell:function(e,t){for(var i,n=this.getRowRange(),r=this.getColumnRange(),o=new Ext.grid.CellContext(this.view),s=n[0];s<=n[1];s++)for(o.setRow(s),i=r[0];i<=r[1];i++)if(o.setColumn(i),!1===e.call(t||this,o,i,s))return},getFirstRowIndex:function(){return this.startCell?Math.min(this.startCell.rowIdx,this.endCell.rowIdx):0},getLastRowIndex:function(){return this.startCell?Math.max(this.startCell.rowIdx,this.endCell.rowIdx):-1},getFirstColumnIndex:function(){return this.startCell?Math.min(this.startCell.colIdx,this.endCell.colIdx):0},getLastColumnIndex:function(){return this.startCell?Math.max(this.startCell.colIdx,this.endCell.colIdx):-1},privates:{clear:function(){var t=this.view;this.eachCell(function(e){t.onCellDeselect(e)}),this.startCell=this.endCell=null},setRangeStart:function(e,t){this.startCell=(this.endCell=e.clone()).clone(),this.view.onCellSelect(e)},setRangeEnd:function(e){var t,i,n,r,o,s,a,l=this.view,d=l.all,c=new Ext.grid.CellContext(l),u=l.getVisibleColumnManager().getColumns().length-1;for(this.endCell=e.clone(),t=this.getRange(),i=this.lastRange||t,e=Math.max(Math.min(t[0][1],i[0][1]),d.startIndex),n=Math.min(Math.max(t[1][1],i[1][1]),d.endIndex),r=Math.min(t[0][0],i[0][0]),o=Math.min(Math.max(t[1][0],i[1][0]),u),s=e;s<=n;s++)for(a=r;a<=o;a++)c.setPosition(s,a),s<t[0][1]||s>t[1][1]||a<t[0][0]||a>t[1][0]?l.onCellDeselect(c):l.onCellSelect(c);this.lastRange=t},extendRange:function(e){var t,i=this;e[e.type]<0?(t=i.endCell.clone().setPosition(i.getLastRowIndex(),i.getLastColumnIndex()),i.startCell=e.start.clone(),i.setRangeEnd(t),i.view.getNavigationModel().setPosition(e.start)):(i.startCell=i.startCell.setPosition(i.getFirstRowIndex(),i.getFirstColumnIndex()),i.setRangeEnd(e.end),i.view.getNavigationModel().setPosition(e.end))},getRange:function(){return[[this.getFirstColumnIndex(),this.getFirstRowIndex()],[this.getLastColumnIndex(),this.getLastRowIndex()]]},getRangeSize:function(){return this.getCount()},getCount:function(){var e=this.getRange();return(e[1][0]-e[0][0]+1)*(e[1][1]-e[0][1]+1)},selectAll:function(){var e=this.view;this.clear(),this.setRangeStart(new Ext.grid.CellContext(e).setPosition(0,0)),this.setRangeEnd(new Ext.grid.CellContext(e).setPosition(e.dataSource.getCount()-1,e.getVisibleColumnManager().getColumns().length-1))},isAllSelected:function(){var e=this.rangeStart,t=this.rangeEnd;return!(!e||e.colIdx||e.rowIdx)&&(t.colIdx===t.view.getVisibleColumnManager().getColumns().length-1&&t.rowIdx===t.view.dataSource.getCount-1)},getColumnRange:function(){return[this.getFirstColumnIndex(),this.getLastColumnIndex()]},getLastSelected:function(){return this.view.dataSource.getAt(this.endCell.rowIdx)},getRowRange:function(){return[this.getFirstRowIndex(),this.getLastRowIndex()]},onSelectionFinish:function(){var e=this;e.getCount()?e.view.getSelectionModel().onSelectionFinish(e,new Ext.grid.CellContext(e.view).setPosition(e.getFirstRowIndex(),e.getFirstColumnIndex()),new Ext.grid.CellContext(e.view).setPosition(e.getLastRowIndex(),e.getLastColumnIndex())):e.view.getSelectionModel().onSelectionFinish(e)}}}),Ext.define("Ext.grid.selection.Columns",{extend:"Ext.grid.selection.Selection",type:"columns",isColumns:!0,clone:function(){var e=new this.self(this.view),t=this.selectedColumns;return t&&(e.selectedColumns=Ext.Array.slice(t)),e},eachRow:function(e,t){var i=this.selectedColumns;i&&i.length&&this.view.dataSource.each(e,t||this)},eachColumn:function(e,t){var i,n,r=this.view,o=this.selectedColumns,s=new Ext.grid.CellContext(r);if(o)for(i=o.length,n=0;n<i;n++)if(s.setColumn(o[n]),!1===e.call(t||this,s.column,s.colIdx))return!1},eachCell:function(t,i){var n,r,o=this,e=o.view,s=o.selectedColumns,a=new Ext.grid.CellContext(e);s&&(n=s.length,e.dataSource.each(function(e){for(a.setRow(e),r=0;r<n;r++)if(a.setColumn(s[r]),!1===t.call(i||o,a,a.colIdx,a.rowIdx))return!1}))},contains:function(e){var t=this.selectedColumns;return!!(e&&e.isColumn&&t&&t.length)&&Ext.Array.contains(t,e)},getCount:function(){var e=this.selectedColumns;return e?e.length:0},getColumns:function(){return this.selectedColumns||[]},privates:{add:function(e){e.isColumn||Ext.raise("Column selection must be passed a grid Column header object"),Ext.Array.include(this.selectedColumns||(this.selectedColumns=[]),e),this.refreshColumns(e)},clear:function(){var e=this.selectedColumns;e&&e.length&&(this.selectedColumns=[],this.refreshColumns.apply(this,e))},setRangeStart:function(e){var t=this.getColumns();this.startColumn=e,this.selectedColumns=[e],t.push(e),this.refreshColumns.apply(this,t)},setRangeEnd:function(e){var t,i=this.getColumns(),n=this.view.ownerGrid.getVisibleColumnManager(),r=n.getColumns(),o=n.indexOf(this.startColumn),s=n.indexOf(e);for(s<o&&(t=o,o=s,s=t),this.selectedColumns=[],t=o;t<=s;t++)this.selectedColumns.push(r[t]),i.push(r[t]);this.refreshColumns.apply(this,i)},isAllSelected:function(){var e=this.selectedColumns;return e&&e.length===this.view.ownerGrid.getVisibleColumnManager().getColumns().length},refreshColumns:function(e){var t,i,n=this.view,r=n.all,o=arguments,s=o.length,a=new Ext.grid.CellContext(n),l=[];if(n.rendered){for(i=0;i<s;i++)l[i]=this.contains(o[i]);for(t=r.startIndex;t<=r.endIndex;t++)for(a.setRow(t),i=0;i<s;i++)a.setColumn(o[i]),l[i]?n.onCellSelect(a):n.onCellDeselect(a)}},remove:function(e){e.isColumn||Ext.raise("Column selection must be passed a grid Column header object"),this.selectedColumns&&(Ext.Array.remove(this.selectedColumns,e),e.getView()&&e.isVisible()&&this.refreshColumns(e))},selectAll:function(){this.clear(),this.selectedColumns=this.view.getSelectionModel().lastContiguousColumnRange=this.view.getVisibleColumnManager().getColumns(),this.refreshColumns.apply(this,this.selectedColumns)},extendRange:function(e){for(var t=this.view.getVisibleColumnManager().getColumns(),i=e.start.colIdx;i<=e.end.colIdx;i++)this.add(t[i])},onSelectionFinish:function(){var e=this.getContiguousSelection();e?this.view.getSelectionModel().onSelectionFinish(this,new Ext.grid.CellContext(this.view).setPosition(0,e[0]),new Ext.grid.CellContext(this.view).setPosition(this.view.dataSource.getCount()-1,e[1])):this.view.getSelectionModel().onSelectionFinish(this)},getContiguousSelection:function(){var e,t=Ext.Array.sort(this.getColumns(),function(e,t){return e.getView().ownerGrid.getVisibleColumnManager().indexOf(e)-t.getView().ownerGrid.getVisibleColumnManager().indexOf(t)}),i=t.length;if(i){for(e=1;e<i;e++)if(t[e].getVisibleIndex()!==t[e-1].getVisibleIndex()+1)return!1;return[t[0],t[i-1]]}}}}),Ext.define("Ext.grid.selection.Replicator",{extend:"Ext.plugin.Abstract",alias:"plugin.selectionreplicator",init:function(e){this.gridListeners=e.on({beforeselectionextend:this.onBeforeSelectionExtend,scope:this,destroyable:!0})},onBeforeSelectionExtend:function(e,t,i){var n=this.columns=[];return t.eachColumn(function(e){n.push(e)}),this.replicateSelection(e,t,i)},replicateSelection:function(e,t,i){if(!i.columns&&!t.isColumns){var n,r,o,s,a,l,d,c,u,h,f,g,p=this.columns,m=t.getFirstRowIndex(),x=t.getLastRowIndex(),E=x-m+1,y=[],v=p.length,b=p[0].getView().dataSource;if(1==E)o=this.getColumnValues(t.view.dataSource.getAt(m));else for(o=new Array(v),(y=i.rows<0?[b.getAt(m+1),b.getAt(m)]:[b.getAt(x-1),b.getAt(x)])[0]=this.getColumnValues(y[0]),y[1]=this.getColumnValues(y[1]),n=0;n<v;n++)f=y[1][n],g=y[0][n],isNaN(f)||isNaN(g)||(o[n]=Number(f)-Number(g));if(d=i.rows<0?(s=i.end.rowIdx,a=i.start.rowIdx-1,-1):(s=i.start.rowIdx,a=i.end.rowIdx+1,1),1==E)for(l=s;l!==a;l+=d)for(c=b.getAt(l),n=0;n<v;n++)(r=p[n]).dataIndex&&c.set(r.dataIndex,o[n]);else for(l=s;l!==a;l+=d)for(c=b.getAt(l),u=this.getColumnValues(b.getAt(l-d)),n=0;n<v;n++)(r=p[n]).dataIndex&&(h=u[n],isNaN(h)||c.set(r.dataIndex,Ext.coerce(Number(h)+o[n],h)))}},getColumnValues:function(e){for(var t,i=this.columns,n=i.length,r=new Array(i.length),o=0;o<n;o++)(t=i[o]).dataIndex&&(r[o]=e.get(t.dataIndex));return r},destroy:function(){this.gridListeners=Ext.destroy(this.gridListeners),this.callParent()}}),Ext.define("Ext.grid.selection.Rows",{extend:"Ext.grid.selection.Selection",requires:["Ext.util.Collection"],type:"rows",isRows:!0,clone:function(){var e=new this.self(this.view);return this.selectedRecords&&(e.selectedRecords=this.selectedRecords.clone()),this.rangeStart&&(e.setRangeStart(this.rangeStart),e.setRangeEnd(this.rangeEnd)),e},addOne:function(e){e.isModel||Ext.raise("Row selection must be passed a record");var t=this.selectedRecords||(this.selectedRecords=this.createRecordCollection());t.byInternalId.get(e.internalId)||(t.add(e),this.view.onRowSelect(e))},add:function(e){var t,i;if(e.isModel)this.addOne(e);else if(Ext.isArray(e))for(t=0,i=e.length;t<i;t++)this.addOne(e[t]);else Ext.raise("add must be called with a record or array of records")},removeOne:function(e){e.isModel||Ext.raise("Row selection must be passed a record");return!(!this.selectedRecords||!this.selectedRecords.byInternalId.get(e.internalId))&&(this.selectedRecords.remove(e),this.view.onRowDeselect(e),!(this.allSelected=!1))},remove:function(e){var t,i,n=!0;if(e.isModel)return this.removeOne(e);if(Ext.isArray(e))for(t=0,i=e.length;t<i;t++)n&=this.removeOne(e[t]);else Ext.raise("remove must be called with a record or array of records");return n},contains:function(e){if(!e||!e.isModel)return!1;var t=!1,i=this.selectedRecords;return this.allSelected?(this.add(e),!0):(i&&(t=!!i.byInternalId.get(e.internalId)),t||null==this.rangeStart||(i=this.getRange(),t=(e=this.view.dataSource.indexOf(e))>=i[0]&&e<=i[1]),t)},getCount:function(){for(var e=this.selectedRecords,t=e?e.getCount():0,i=this.getRange(),n=this.view.dataSource,r=i[0];r<=i[1];r++)e&&e.byInternalId.get(n.getAt(r).internalId)||t++;return t},getRecords:function(){var e=this.selectedRecords;return e?e.getRange():[]},selectAll:function(){var e=this.view.dataSource,e=(e.isBufferedStore?e.getData():e).getCount();this.clear(),this.setRangeStart(0),this.setRangeEnd(e-1),this.addRange(),this.allSelected=!0},getFirstRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):0},getLastRowIndex:function(){return this.getCount()?this.view.dataSource.indexOf(this.selectedRecords.first()):-1},eachRow:function(e,t){var i=this.selectedRecords;i&&i.each(e,t||this)},eachColumn:function(e,t){var i,n=this.view.getVisibleColumnManager().getColumns(),r=n.length;if(this.selectedRecords)for(i=0;i<r;i++)if(!1===e.call(this||t,n[i],i))return},eachCell:function(t,i){var n,r,o,s,a,l=this,e=l.selectedRecords,d=l.view,c=d.ownerGrid.getVisibleColumnManager().getColumns(),u=!1;c&&(n=c.length,s=new Ext.grid.CellContext(d),e&&e.each(function(e){for(s.setRow(e),r=0;r<n;r++)if(s.setColumn(c[r]),!1===t.call(i||l,s,s.colIdx,s.rowIdx))return!(u=!0)}),u||null==l.rangeStart||(e=l.getRange(),l.view.dataSource.getRange(e[0],e[1],{forRender:!1,callback:function(e){for(a=e.length,r=0;!u&&r<a;r++)for(s.setRow(e[r]),o=0;!u&&o<n;o++)s.setColumn(c[o]),!1===t.call(i||l,s,s.colIdx,s.rowIdx)&&(u=!0)}})))},beginUpdate:function(){var e=this.selectedRecords;e&&e.beginUpdate()},endUpdate:function(){var e=this.selectedRecords;e&&e.endUpdate()},destroy:function(){this.selectedRecords=Ext.destroy(this.selectedRecords),this.callParent()},privates:{clear:function(){var t=this.view;this.allSelected=!1,this.selectedRecords&&(this.eachRow(function(e){t.onRowDeselect(e)}),this.selectedRecords.clear())},isAllSelected:function(){return!!this.allSelected},setRangeStart:function(e){this.allSelected=!1,this.rangeStart=this.rangeEnd=e,this.view.onRowSelect(e)},setRangeEnd:function(e){var t,i,n,r,o=this.view,s=o.dataSource,a=o.all,l=this.selectedRecords;for(this.rangeEnd=e,t=this.getRange(),i=this.lastRange||t,n=Math.max(Math.min(t[0],i[0]),a.startIndex),e=Math.min(Math.max(t[1],i[1]),a.endIndex);n<=e;n++)a.item(n),n<t[0]||n>t[1]?(l&&(r=l.byInternalId.get(s.getAt(n).internalId))&&l.remove(r),o.onRowDeselect(n)):o.onRowSelect(n);this.lastRange=t},extendRange:function(e){for(var t=this.view.dataSource,i=e.start.rowIdx;i<=e.end.rowIdx;i++)this.add(t.getAt(i))},getLastSelected:function(){return this.selectedRecords.last()},getRange:function(){var e=this.rangeStart,t=this.rangeEnd;return null==e?[0,-1]:e<=t?[e,t]:[t,e]},getRangeSize:function(){var e=this.getRange();return e[1]-e[0]+1},createRecordCollection:function(){var i=this.view.dataSource;return new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{rootProperty:!1,property:"internalId"}},sorters:[function(e,t){return i.indexOf(e)-i.indexOf(t)}]})},addRange:function(){var e,t;null!=this.rangeStart&&(e=this.getRange(),t=this.selectedRecords||(this.selectedRecords=this.createRecordCollection()),this.view.dataSource.getRange(e[0],e[1],{forRender:!1,callback:function(e){t.add.apply(t,e)}}),this.setRangeStart(this.lastRange=null))},onSelectionFinish:function(){var e=this.getContiguousSelection();e?this.view.getSelectionModel().onSelectionFinish(this,new Ext.grid.CellContext(this.view).setPosition(e[0],0),new Ext.grid.CellContext(this.view).setPosition(e[1],this.view.getVisibleColumnManager().getColumns().length-1)):this.view.getSelectionModel().onSelectionFinish(this)},getContiguousSelection:function(){var e,t,i,n=this.view.dataSource;if(this.selectedRecords&&(t=(e=Ext.Array.sort(this.selectedRecords.getRange(),function(e,t){return n.indexOf(e)-n.indexOf(t)})).length)){for(i=1;i<t;i++)if(n.indexOf(e[i])!==n.indexOf(e[i-1])+1)return!1;return[n.indexOf(e[0]),n.indexOf(e[t-1])]}}}}),Ext.define("Ext.grid.selection.SelectionExtender",{extend:"Ext.dd.DragTracker",maskBox:{},constructor:function(e){e.view.rendered?this.initSelectionExtender(e):(this.view=e.view,e.view.on({render:this.initSelectionExtender,args:[e],scope:this}))},initSelectionExtender:function(e){var t=this,i=Ext.dom.Element.DISPLAY;t.el=e.view.el,t.handle=e.view.ownerGrid.body.createChild({cls:Ext.baseCSSPrefix+"ssm-extender-drag-handle",style:"display:none"}).setVisibilityMode(i),t.handle.on({contextmenu:function(e){e.stopEvent()}}),t.mask=t.el.createChild({cls:Ext.baseCSSPrefix+"ssm-extender-mask",style:"display:none"}).setVisibilityMode(i),t.superclass.constructor.call(t,e),t.mask.skipGarbageCollection=t.handle.skipGarbageCollection=!0,t.viewListeners=t.view.on({scroll:t.onViewScroll,scope:t,destroyable:!0}),t.gridListeners=t.view.ownerGrid.on({columnResize:t.alignHandle,scope:t,destroyable:!0}),t.extendX=!!(1&t.axes),t.extendY=!!(2&t.axes)},setHandle:function(e,t){var i=this;i.view.rendered?(i.firstPos=e,i.lastPos=t,e&&t&&e.getCell()&&t.getCell()?(i.curPos?i.curPos.setPosition(t):i.curPos=t.clone(),i.alignHandle()):i.disable()):i.view.on({render:i.initSelectionExtender,args:[e,t],scope:i})},alignHandle:function(){var e=this.firstPos&&this.firstPos.getCell(),t=this.lastPos&&this.lastPos.getCell();e&&t?(this.enable(),this.handle.alignTo(t,"c-br")):this.disable()},enable:function(){this.handle.show(),this.callParent()},disable:function(){this.handle.hide(),this.mask.hide(),this.callParent()},onDrag:function(e){e.target===this.mask.dom&&(this.mask.hide(),e.target=document.elementFromPoint.apply(document,e.getXY()),this.mask.show());var t=this,i=t.view,n=i.el.getY(),r=i.el.getX(),o=e.getTarget(t.view.getCellSelector()),s=t.scrollTask||(t.scrollTask=Ext.util.TaskManager.newTask({run:t.doAutoScroll,scope:t,interval:10})),a=t.scrollBy||(t.scrollBy=[]);if(!t.el.contains(e.target))return a[0]=a[1]=0,s.stop();t.lastXY[1]>n+i.el.getHeight(!0)-15?t.extendY&&(a[1]=3,s.start()):t.lastXY[1]<n+10?t.extendY&&(a[1]=-3,s.start()):t.lastXY[0]>r+i.el.getWidth(!0)-15?t.extendX&&(a[0]=3,s.start()):t.lastXY[0]<r+10?t.extendX&&(a[0]=-3,s.start()):(a[0]=a[1]=0,s.stop()),o&&o!==t.lastOverCell&&(t.lastOverCell=o,t.syncMaskOnCell(o))},doAutoScroll:function(){var e,t=this.view;t.scrollBy.apply(t,this.scrollBy),(e=(e=document.elementFromPoint.apply(document,this.lastXY))&&Ext.fly(e).up(t.cellSelector))&&e!==this.lastOverCell&&(this.lastOverCell=e,this.syncMaskOnCell(e))},onEnd:function(e){this.scrollTask&&this.scrollTask.stop(),this.extensionDescriptor&&(this.disable(),this.view.getSelectionModel().extendSelection(this.extensionDescriptor))},onViewScroll:function(){this.active&&this.lastOverCell&&this.syncMaskOnCell(this.lastOverCell),this.firstPos&&this.alignHandle()},syncMaskOnCell:function(e){var t=this,i=t.view,n=i.all,r=t.curPos,o=t.maskBox,s=t.firstPos.clone(),a=t.lastPos.clone(),l=t.firstPos.clone(),d=t.lastPos.clone();s.setRow(Math.min(Math.max(s.rowIdx,n.startIndex),n.endIndex)),a.setRow(Math.min(Math.max(a.rowIdx,n.startIndex),n.endIndex)),t.selectionRegion=a=s.getCell().getRegion().union(a.getCell().getRegion()),r.setPosition(i.getRecord(e),i.getHeaderByCell(e)),e=Ext.fly(e),t.mask.dom.style.borderTopWidth=t.mask.dom.style.borderRightWidth=t.mask.dom.style.borderBottomWidth=t.mask.dom.style.borderLeftWidth="",r.rowIdx<t.firstPos.rowIdx&&t.extendY?(t.extensionDescriptor={type:"rows",start:l.setRow(r.rowIdx),end:d.setRow(t.firstPos.rowIdx-1),rows:r.rowIdx-t.firstPos.rowIdx,mousePosition:t.lastXY},t.mask.dom.style.borderBottomWidth="0",o.x=a.x,o.y=e.getY(),o.width=a.right-a.left,o.height=a.top-e.getY()):r.rowIdx>t.lastPos.rowIdx&&t.extendY?(t.extensionDescriptor={type:"rows",start:l.setRow(t.lastPos.rowIdx+1),end:d.setRow(r.rowIdx),rows:r.rowIdx-t.lastPos.rowIdx,mousePosition:t.lastXY},t.mask.dom.style.borderTopWidth="0",o.x=a.x,o.y=a.bottom,o.width=a.right-a.left,o.height=e.getRegion().bottom-a.bottom):r.colIdx<t.firstPos.colIdx&&t.extendX?(t.extensionDescriptor={type:"columns",start:l.setColumn(r.colIdx),end:d.setColumn(t.firstPos.colIdx-1),columns:r.colIdx-t.firstPos.colIdx,mousePosition:t.lastXY},t.mask.dom.style.borderRightWidth="0",o.x=e.getX(),o.y=a.top,o.width=a.left-e.getX(),o.height=a.bottom-a.top):r.colIdx>t.lastPos.colIdx&&t.extendX?(t.extensionDescriptor={type:"columns",start:l.setColumn(t.lastPos.colIdx+1),end:d.setColumn(r.colIdx),columns:r.colIdx-t.lastPos.colIdx,mousePosition:t.lastXY},t.mask.dom.style.borderLeftWidth="0",o.x=a.right,o.y=a.top,o.width=e.getRegion().right-a.right,o.height=a.bottom-a.top):t.extensionDescriptor=null,i.ownerGrid.hasListeners.selectionextenderdrag&&i.ownerGrid.fireEvent("selectionextenderdrag",i.ownerGrid,i.getSelectionModel().getSelected(),t.extensionDescriptor),t.extensionDescriptor?(t.mask.show(),t.mask.setBox(o)):t.mask.hide()},destroy:function(){Ext.destroy(this.gridListeners,this.viewListeners,this.mask,this.handle),this.callParent()}}),Ext.define("Ext.grid.selection.SpreadsheetModel",{extend:"Ext.selection.Model",requires:["Ext.grid.selection.Selection","Ext.grid.selection.Cells","Ext.grid.selection.Rows","Ext.grid.selection.Columns","Ext.grid.selection.SelectionExtender"],alias:"selection.spreadsheet",isSpreadsheetModel:!0,config:{columnSelect:{$value:!1,lazy:!0},cellSelect:{$value:!0,lazy:!0},rowSelect:{$value:!0,lazy:!0},dragSelect:{$value:!0,lazy:!0},selected:null,extensible:{$value:!0,lazy:!0}},checkboxSelect:!1,checkboxColumnIndex:0,showHeaderCheckbox:!0,checkColumnHeaderText:null,checkboxHeaderWidth:24,rowNumbererHeaderWidth:46,columnSelectCls:Ext.baseCSSPrefix+"ssm-column-select",rowNumbererHeaderCls:Ext.baseCSSPrefix+"ssm-row-numberer-hd",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"selmodel-column",bindComponent:function(e){var t,i=this;i.view!==e&&(i.view&&(i.navigationModel=null,Ext.destroy(i.viewListeners,i.navigationListeners)),(i.view=e)&&(i.getCellSelect(),(t=e.ownerGrid.lockedGrid)?(i.hasLockedHeader=!0,i.onViewCreated(t,t.getView())):e.grid.on({viewcreated:i.onViewCreated,scope:i,single:!0}),i.gridListeners=e.ownerGrid.on({columnschanged:i.onColumnsChanged,columnmove:i.onColumnMove,scope:i,destroyable:!0}),(t=i.getStoreListeners()).scope=i,t.destroyable=!0,i.storeListeners=i.store.on(t),(t=i.getViewListeners()).scope=i,t.destroyable=!0,i.viewListeners=e.on(t),i.navigationModel=e.getNavigationModel(),i.navigationListeners=i.navigationModel.on({navigate:i.onNavigate,scope:i,destroyable:!0}),i.getColumnSelect()&&e.ownerGrid.addCls(i.columnSelectCls),i.updateHeaderState()))},getCheckboxHeaderConfig:function(){var e=!1!==this.showHeaderCheckbox;return{xtype:"checkcolumn",isCheckerHd:e,headerCheckbox:e,ignoreExport:!0,text:this.checkColumnHeaderText,clickTargetName:"el",width:this.checkboxHeaderWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,tdCls:this.tdCls,cls:Ext.baseCSSPrefix+"selmodel-column",stopSelection:!1,editRenderer:this.editRenderer||this.renderEmpty,locked:this.hasLockedHeader,updateHeaderState:this.updateHeaderState.bind(this),toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:Ext.emptyFn}},renderEmpty:function(){return"&#160;"},getStoreListeners:function(){var e=this.callParent();return e.priority=2e3,e.refresh=this.onStoreChanged,e.clear=this.onStoreChanged,e},onHeaderClick:function(e,t,i){var n,r,o,s=this,a=s.selected;if(t===s.numbererColumn||t===s.checkColumn)i.stopEvent(),a&&a.isAllSelected()?s.deselectAll():s.selectAll(),s.updateHeaderState(),s.lastColumnSelected=null;else if(s.columnSelect)if(i.shiftKey&&a&&a.lastColumnSelected)for(a.clear(),n=s.view.ownerGrid.getVisibleColumnManager(),o=(r=Ext.Array.sort([n.indexOf(a.lastColumnSelected),n.indexOf(t)],Ext.Array.numericSortFn))[0];o<=r[1];o++)s.selectColumn(n.getHeaderAtIndex(o),!0);else s.isColumnSelected(t)?(s.deselectColumn(t),s.selected.lastColumnSelected=null):(s.selectColumn(t,i.ctrlKey),s.selected.lastColumnSelected=t)},updateHeaderState:function(){var e,t=this.view.dataSource,i=this.views,n=this.selected,r=!1,o=this.checkColumn;t&&n&&n.isRows&&(e=t.getCount(),r=t.isBufferedStore?n.allSelected:0<e&&e===n.getCount()),i&&i.length&&o&&o.setHeaderStatus(r)},onBindStore:function(e,t,i){i||this.onStoreRefresh()},onBeforeReconfigure:function(e,t,i,n,r){var o=this.checkboxColumnIndex;i&&(Ext.suspendLayouts(),this.numbererColumn&&(this.numbererColumn.ownerCt.remove(this.numbererColumn,!1),i.unshift(this.numbererColumn)),this.checkColumn&&("first"===o?o=0:"last"===o&&(o=i.length),this.checkColumn.ownerCt.remove(this.checkColumn,!1),Ext.Array.insert(i,o,[this.checkColumn])),Ext.resumeLayouts())},getCellContext:function(e,t){return new Ext.grid.CellContext(this.view.ownerGrid.getView()).setPosition(e,t)},select:function(e,t,i){var n,r,o,s=this.selected,a=this.view,l=a.dataSource,d=!1;for(s&&s.isRows&&s.view===a?t||s.clear():(this.resetSelection(!0),s=this.selected=new Ext.grid.selection.Rows(a)),Ext.isArray(e)||(e=[e]),n=e.length,r=0;r<n;r++)"number"==typeof(o=e[r])&&(o=l.getAt(o)),s.contains(o)||(s.add(o),d=!0);d&&(this.updateHeaderState(),i||this.fireSelectionChange())},deselect:function(e,t){var i,n,r,o=this.selected,s=this.view.dataSource,a=!1;if(o&&o.isRows)for(Ext.isArray(e)||(e=[e]),i=e.length,n=0;n<i;n++)"number"==typeof(r=e[n])&&(r=s.getAt(r)),a=a||o.remove(r);a&&(this.updateHeaderState(),t||this.fireSelectionChange())},selectCells:function(e,t,i){var n=this.view.ownerGrid.view;e=e.isCellContext?e.clone():new Ext.grid.CellContext(n).setPosition(e),t=t.isCellContext?t.clone():new Ext.grid.CellContext(n).setPosition(t),this.resetSelection(!0),this.selected=n=new Ext.grid.selection.Cells(e.view),n.setRangeStart(e),n.setRangeEnd(t),i||this.fireSelectionChange()},selectAll:function(e){var t,i=this,n=i.selected,r=i.view;i.rowSelect?(n&&n.isRows||(i.resetSelection(!0),i.selected=n=new Ext.grid.selection.Rows(r)),t=!0):i.cellSelect?(n&&n.isCells||(i.resetSelection(!0),i.selected=n=new Ext.grid.selection.Cells(r)),t=!0):i.columnSelect&&(n&&n.isColumns||(i.resetSelection(!0),i.selected=n=new Ext.grid.selection.Columns(r)),t=!0),n&&(n.allSelected=!0),t&&(i.updateHeaderState(),n.selectAll(),e||i.fireSelectionChange())},deselectAll:function(e){var t=this.selected;t&&t.getCount()&&(t.clear(),t.allSelected=!1,this.updateHeaderState(),e||this.fireSelectionChange())},selectRows:function(e,t,i){var n,r=this.selected,o=r&&r.isRows,s=e.length;if(t&&o||this.resetSelection(!0),o||(this.selected=r=new Ext.grid.selection.Rows(this.view)),e.isEntity)r.add(e);else for(n=0;n<s;n++)r.add(e[n]);i||this.fireSelectionChange()},isSelected:function(e){return this.isRowSelected(e)},selectColumn:function(e,t,i){var n=this.selected,r=e.getView();n&&n.isColumns&&n.view===r.ownerGrid.view||(this.resetSelection(!0),this.selected=n=new Ext.grid.selection.Columns(r)),n.contains(e)||(t||n.clear(),n.add(e),this.updateHeaderState(),i||this.fireSelectionChange())},deselectColumn:function(e,t){var i=this.getSelected();i&&i.isColumns&&i.contains(e)&&(i.remove(e),this.updateHeaderState(),t||this.fireSelectionChange())},getSelection:function(){var e=this.selected;return e&&e.isRows?e.getRecords():[]},destroy:function(){var e=this,t=e.scrollEls;Ext.destroy(e.gridListeners,e.viewListeners,e.selected,e.navigationListeners,e.extensible),t&&Ext.dd.ScrollManager.unregister(t),e.selected=e.gridListeners=e.viewListeners=e.selectionData=e.navigationListeners=e.scrollEls=null,e.callParent()},privates:{axesConfigs:{x:1,y:2,xy:3,both:3,true:3},getViewListeners:function(){return{refresh:this.onViewRefresh,keyup:{element:"el",fn:this.onViewKeyUp,scope:this}}},onViewKeyUp:function(e){var t=this.selected;e.keyCode===e.SHIFT&&t&&t.isRows&&t.getRangeSize()&&t.addRange()},onStoreChanged:function(){this.view;var e=this.selected;e&&(e.isCells?this.resetSelection():e.isRows&&(!1===this.pruneRemoved&&e.selectedRecords.length?this.refresh():this.resetSelection()))},onColumnsChanged:function(){var e,t,i,n,r,o,s,a=this.selected;if(a)if(r=a.view,a.isCells)for(o=new Ext.grid.CellContext(r),e=a.getRowRange(),t=r.getVisibleColumnManager().getColumns().length,n=e[0];n<=e[1];n++)for(o.setRow(n),i=0;i<t;i++)o.setColumn(i),r.onCellDeselect(o);else a.isColumns&&(s=!1,a.eachColumn(function(e,t){e.isVisible()&&r.ownerGrid.isAncestor(e)||(this.remove(e),s=!0)}));Ext.on("idle",s?this.fireSelectionChange:this.updateSelectionExtender,this,{single:!0})},onColumnMove:function(){this.updateSelectionExtender()},onViewRefresh:function(e){var t=this.selected,i=this.view.store,n=!1;t&&t.isRows&&i.isFiltered()&&t.eachRow(function(e){i.contains(e)||(this.remove(e),n=!0)}),this[n?"fireSelectionChange":"updateSelectionExtender"]()},resetSelection:function(e){var t=this.selected;t&&(t.clear(),e||this.fireSelectionChange())},onViewCreated:function(e,t){var i=this,n=t.ownerGrid,r=t.headerCt;n.lockable&&!t.isLockedView||(i.getRowSelect()&&i.getNumbererColumn(),i.checkboxSelect&&i.addCheckbox(t,!0),i.mon(t.ownerGrid,"beforereconfigure",i.onBeforeReconfigure,i)),r.sortOnClick=!i.getColumnSelect(),i.getDragSelect()&&t.on("render",i.onViewRender,i,{single:!0})},onViewRender:function(e){for(var t=e.getEl(),i=this.views,n=i.length,r=0;r<n;r++)i[r].headerCt.sortOnClick=!this.columnSelect;t.ddScrollConfig={vthresh:50,hthresh:50,frequency:300,increment:100},Ext.dd.ScrollManager.register(t),(this.scrollEls||(this.scrollEls=[])).push(t),e.on("cellmousedown",this.handleMouseDown,this),e.lockingPartner&&e.lockingPartner.on("cellmousedown",this.handleMouseDown,this)},handleMouseDown:function(e,t,i,n,r,o,s){var a,l,d=this,c=d.selected,u=s.position.column;if(!(s.button||s.shiftKey||s.altKey||"touch"===s.pointerType||e.actionableMode)&&u){if(d.mousedownPosition=s.position.clone(),(a=u===d.checkColumn)&&(d.checkCellClicked=s.position.getCell(!0)),u===d.numbererColumn||a||!d.cellSelect)if(d.rowSelect)c&&c.isRows?s.ctrlKey||a||c.clear():(c&&c.clear(),c=d.selected=new Ext.grid.selection.Rows(e)),l=!0;else{if(!d.columnSelect)return!1;c&&c.isColumns?s.ctrlKey||a||c.clear():(c&&c.clear(),c=d.selected=new Ext.grid.selection.Columns(e)),l=!0}else c&&c.clear(),c&&c.isCells||(c=d.selected=new Ext.grid.selection.Cells(e)),l=!0;d.lastOverRecord=d.lastOverColumn=null,Ext.getBody().on("mouseup",d.onMouseUp,d,{single:!0,view:c.view}),l&&c.view.el.on("mousemove",d.onMouseMove,d,{view:c.view})}},onMouseMove:function(e,t,i){var n,r,o=this,s=i.view,a=e.getTarget(s.cellSelector),l=i.view.getHeaderByCell(a),d=o.selected;if(o.checkCellClicked){if(a===o.checkCellClicked)return void(o.lastOverRecord||(o.lastOverRecord=s.getRecord(a.parentNode)));o.checkCellClicked=null,o.lastOverRecord&&(o.select(o.lastOverRecord),d.setRangeStart(o.store.indexOf(o.lastOverRecord)))}o.extensible&&o.extensible.disable(),l&&(n=s.getRecord(a.parentNode),e=o.store.indexOf(n),i=n!==o.lastOverRecord,a=l!==o.lastOverColumn,(i||a)&&(r=o.getCellContext(n,l)),d.isRows?i&&(o.lastOverRecord?d.setRangeEnd(e):d.setRangeStart(e)):d.isCells?(i||a)&&(o.lastOverRecord?d.setRangeEnd(r):d.setRangeStart(r)):d.isColumns&&a&&(o.lastOverColumn?d.setRangeEnd(r.column):d.setRangeStart(r.column)),(i||a)&&s.getNavigationModel().setPosition(new Ext.grid.CellContext(l.getView()).setPosition(n,l)),o.lastOverColumn=l,o.lastOverRecord=n)},onMouseUp:function(e,t,i){var n,r=i.view;this.checkCellClicked=null,r&&!r.destroyed&&(e.position||(i=e.getTarget(r.cellSelector))&&(n=r.getRecord(i))&&(e.position=new Ext.grid.CellContext(r).setPosition(n,r.getHeaderByCell(i))),this.extensible&&this.extensible.disable(),r.el.un("mousemove",this.onMouseMove,this),this.selected.isRows&&this.selected.addRange(),e.position&&e.position.isEqual(this.mousedownPosition)||this.fireSelectionChange())},addCheckbox:function(e,t){var i=this.checkboxColumnIndex,n=e.headerCt;!1!==i&&("first"===i?i=0:"last"===i&&(i=n.getColumnCount()),this.checkColumn=n.add(i,this.getCheckboxHeaderConfig())),!0!==t&&e.refresh()},onNavigate:function(e){var t,i=this,n=e.view.ownerGrid.view,r=e.record,o=i.selected,s=new Ext.grid.CellContext(n).setPosition(r,e.column),a=e.keyEvent,l=a.ctrlKey,d=a.shiftKey,c=a.getKey();if(!a.stopSelection&&(!l||c!==a.UP&&c!==a.LEFT&&c!==a.RIGHT&&c!==a.DOWN)&&(!(o&&(o.isCells||o.isColumns&&!l&&!d)&&1<o.getCount())||a.shiftKey||"click"!==a.type)&&(i.cellSelect||i.columnSelect||i.rowSelect)&&e.record&&"mousedown"!==a.type){if(l&&a.keyCode===a.A)return!o||o.getCount()<2?i.selectAll():i.deselectAll(),void i.updateHeaderState();d?s.column===i.numbererColumn||s.column===i.checkColumn||!i.cellSelect&&!i.columnSelect||o&&o.isRows?i.rowSelect&&(o&&o.isRows&&o.view===n||(i.resetSelection(!0),o=i.selected=new Ext.grid.selection.Rows(n)),o.getRangeSize()||o.setRangeStart(e.previousRecordIndex||0),o.setRangeEnd(e.recordIndex),o.addRange(),t=!0):i.cellSelect?(o&&o.isCells&&o.view===n||(i.resetSelection(!0),o=i.selected=new Ext.grid.selection.Cells(n)),o.getRangeSize()||o.setRangeStart(e.previousPosition||i.getCellContext(0,0)),o.setRangeEnd(s),t=!0):i.columnSelect&&(o&&o.isColumns&&o.view===n||(i.resetSelection(!0),o=i.selected=new Ext.grid.selection.Columns(n)),o.getCount()||o.setRangeStart(s.column),o.setRangeEnd(e.position.column),t=!0):s.column===i.numbererColumn||s.column===i.checkColumn||i.rowSelect&&!i.cellSelect?(o&&o.isRows&&o.view===n||(i.resetSelection(!0),o=i.selected=new Ext.grid.selection.Rows(n)),l||s.column===i.checkColumn?o.contains(r)?o.remove(r):o.add(r):(o.clear(),o.add(r)),t=!0):i.cellSelect?(o&&o.isCells&&o.view===n?o.clear():(i.resetSelection(!0),i.selected=o=new Ext.grid.selection.Cells(n)),o.setRangeStart(s),t=!0):i.columnSelect&&(o&&o.isColumns&&o.view===n||(i.resetSelection(!0),i.selected=o=new Ext.grid.selection.Columns(n)),l?o.contains(s.column)?o.remove(s.column):o.add(s.column):o.setRangeStart(s.column),t=!0),t&&(o.isRows&&i.updateHeaderState(),i.fireSelectionChange())}},isRowSelected:function(e){var t=this.selected;return!(!t||!t.isRows)&&(e=Ext.isNumber(e)?this.store.getAt(e):e,t.contains(e))},isColumnSelected:function(e){var t=this.selected;return!(!t||!t.isColumns)&&t.contains(e)},isCellSelected:function(e,t,i){var n=this.selected;if(e=e.ownerGrid.view,n){if(n.isColumns)return"number"==typeof i&&(i=e.getVisibleColumnManager().getColumns()[i]),n.contains(i);if(n.isCells)return i=new Ext.grid.CellContext(e).setPosition({row:t,column:i}),n.contains(i)}return!1},applySelected:function(e){return e&&!(e.isRows||e.isCells||e.isColumns)&&Ext.raise("SpreadsheelModel#setSelected must be passed an instance of Ext.grid.selection.Selection"),e},updateSelected:function(e,t){var i,n,r,o,s;t&&t.clear(),e&&e.getCount()&&(i=e.view,e.isRows?e.eachRow(i.onRowSelect,i):e.isColumns?(n=e.getColumns(),(r=n.length)&&(s=new Ext.grid.CelContext(i),i.store.each(function(e){for(s.setRow(e),o=0;o<r;o++)s.setColumn(n[o]),i.onCellSelect(s)}))):e.isCells&&e.eachCell(i.onCellSelect,i))},getNumbererColumn:function(e){var t=this.numbererColumn,i=this.view;return t||(i.isNormalView&&(i=i.ownerGrid.lockedGrid),t=this.numbererColumn=i.headerCt.down("rownumberer")||i.headerCt.add(0,this.getNumbererColumnConfig())),t},getNumbererColumnConfig:function(){return{xtype:"rownumberer",width:this.rowNumbererHeaderWidth,editRenderer:"&#160;",tdCls:this.rowNumbererTdCls,cls:this.rowNumbererHeaderCls,locked:this.hasLockedHeader}},updateRowSelect:function(e){var t=this,i=t.selected,n=t.view;n&&n.rendered&&(n.isNormalView&&(n=n.lockingPartner),e?(t.checkColumn&&t.checkColumn.show(),t.getNumbererColumn().show()):(t.checkColumn&&t.checkColumn.hide(),t.numbererColumn&&t.numbererColumn.hide()),!e&&i&&i.isRows&&(i.clear(),t.fireSelectionChange()))},updateColumnSelect:function(e){for(var t=this.selected,i=this.views,n=i?i.length:0,r=0;r<n;r++)i[r].headerCt.sortOnClick=!e;!e&&t&&t.isColumns&&(t.clear(),this.fireSelectionChange()),e?this.view.ownerGrid.addCls(this.columnSelectCls):this.view.ownerGrid.removeCls(this.columnSelectCls)},updateCellSelect:function(e){var t=this.selected;!e&&t&&t.isCells&&(t.clear(),this.fireSelectionChange())},fireSelectionChange:function(){var e,t=this,i=t.selected,n=i.view,r=n.ownerGrid,o=n.dataSource;t.updateSelectionExtender(),i.isRows?(e=i.getRecords(),n=o.getTotalCount()||o.getCount(),t.selected.allSelected=!!(o.isBufferedStore?t.selected.allSelected:n&&e.length&&n===e.length),t.fireEvent("selectionchange",t,e)):i.isCells&&(t.selected.allSelected=!1,t.fireEvent("selectionchange",t,i.getCount()?t.store.getRange.apply(i.view.dataSource,i.getRowRange()):[])),r.fireEvent("selectionchange",r,i)},getLastSelected:function(){var e=this.selected;if(e.getLastSelected)return e.getLastSelected()},updateSelectionExtender:function(){var e=this.selected;e&&e.onSelectionFinish()},onSelectionFinish:function(e,t,i){var n=this.getExtensible();n&&n.setHandle(t,i)},applyExtensible:function(e){if(e)return(e=!0===e||"string"==typeof e?{axes:this.axesConfigs[e]}:Ext.Object.chain(e)).view=this.selected.view,new Ext.grid.selection.SelectionExtender(e)},extendSelection:function(e){var t=this.selected;!1!==this.view.ownerGrid.fireEvent("beforeselectionextend",this.view.ownerGrid,t,e)&&(t.extendRange(e),this.fireSelectionChange())},onIdChanged:function(e,t,i,n){var r=this.selected;r&&r.isRows&&r.selectedRecords&&r.selectedRecords.updateKey(t,i)},onPageAdd:function(e,t,i){var n,r,o=this.selected,s=i.length,a=o&&o.selectedRecords;if(a&&o.isRows)for(n=0;n<s;n++)r=i[n],a.get(r.id)?a.replace(r):o.allSelected&&a.add(r)},refresh:function(){var e=this.getSelected();e&&e.isRows&&this.callParent()},onStoreAdd:function(){var e=this.getSelected();e&&e.isRows&&(this.callParent(arguments),this.updateHeaderState())},onStoreClear:function(){this.resetSelection()},onStoreLoad:function(){var e=this.getSelected();e&&e.isRows&&(this.callParent(arguments),this.updateHeaderState())},onStoreRefresh:function(){var e=this.selected;e&&e.isRows&&e.selectedRecords&&this.updateSelectedInstances(e.selectedRecords),this.view&&this.updateHeaderState()},onPageRemove:function(e,t,i){var n=this.selected;n&&n.allSelected||this.onStoreRemove(this.store,i)},onStoreRemove:function(){var e=this.getSelected();e&&e.isRows&&this.callParent(arguments)}}},function(e){Ext.ClassManager.get("Ext.grid.column.RowNumberer")&&(e.prototype.rowNumbererTdCls=Ext.grid.column.RowNumberer.prototype.tdCls+" "+Ext.baseCSSPrefix+"ssm-row-numberer-cell")}),Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(e,t){var i,n=this.getKey(e);return(i=this.map[n])?t&&(this.map[n]=e,this.items[Ext.Array.indexOf(this.items,i)]=e):(++this.length,this.items.push(e),this.map[n]=e),e},clear:function(){var e=this.items;return this.items=[],this.map={},this.length=0,e},contains:function(e){e=this.getKey(e);return this.map.hasOwnProperty(e)},getCount:function(){return this.length},getKey:function(e){return e.id},remove:function(e){var t,i=this.getKey(e),n=this.items;return this.map[i]&&(t=Ext.Array.indexOf(n,e),Ext.Array.erase(n,t,1),delete this.map[i],--this.length),e}}),Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:!1,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:!0,isContextItem:!0,isTopLevel:!1,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:!1,constructor:function(e){var t,i,n,r,o,s,a,l,d=this,c=Ext.layout.SizeModel.sizeModels,u=c.configured,h=c.shrinkWrap;Ext.apply(d,e),a=d.target,t=d.el,d.id=a.id,d.flushedProps={},d.props=n={},d.styles={},a.isComponent?(d.wrapsComponent=!0,d.framing=a.frameSize||null,d.isComponentChild=a.ownerLayout&&a.ownerLayout.isComponentLayout,i=a.lastBox,(r=a.ownerCt)&&(s=r.el&&d.context.items[r.el.id])&&(d.ownerCtContext=s),d.sizeModel=o=a.getSizeModel(s&&s.widthModel.pairsByHeightOrdinal[s.heightModel.ordinal]),d.widthModel=c=o.width,d.heightModel=e=o.height,i&&!1===i.invalid&&(s=a.width===(r=i.width),a=a.height===(o=i.height),c===h&&e===h?l=!0:c===u&&s&&(l=e===h||e===u&&a),l&&(d.optOut=!0,n.width=r,n.height=o))):i=t.lastBox,d.lastBox=i},init:function(e,t){var i,n,r,o,s,a=this,l=a.props,d=a.dirty,c=a.ownerCtContext,u=a.target.ownerLayout,h=!a.state,f=e||h,g=a.heightModel,p=a.widthModel,m=0;if(a.dirty=a.invalid=!1,a.props={},a.remainingChildDimensions=0,a.boxChildren&&(a.boxChildren.length=0),h||(a.clearAllBlocks("blocks"),a.clearAllBlocks("domBlocks")),!a.wrapsComponent)return f;if(s=a.target,a.state={},h)s.beforeLayout&&s.beforeLayout!==Ext.emptyFn&&s.beforeLayout(),!c&&(o=s.ownerCt)&&(c=a.context.items[o.el.id]),c?(a.ownerCtContext=c,a.isBoxParent=u&&u.isItemBoxParent(a)):a.isTopLevel=!0,a.frameBodyContext=a.getEl("frameBody");else for(c=a.ownerCtContext,a.isTopLevel=!c,n=0,r=(i=a.children).length;n<r;++n)i[n].init(!0);return a.hasRawContent=!(s.isContainer&&0<s.items.items.length),e?(a.widthModel=a.heightModel=null,e=s.getSizeModel(c&&c.widthModel.pairsByHeightOrdinal[c.heightModel.ordinal]),h&&(a.sizeModel=e),a.widthModel=e.width,a.heightModel=e.height,c&&!a.isComponentChild&&(u.needsItemSize||!s.liquidLayout?c.remainingChildDimensions+=2:(a.widthModel.calculated&&++c.remainingChildDimensions,a.heightModel.calculated&&++c.remainingChildDimensions))):l&&(a.recoverProp("x",l,d),a.recoverProp("y",l,d),a.widthModel.calculated?a.recoverProp("width",l,d):"width"in l&&++m,a.heightModel.calculated?a.recoverProp("height",l,d):"height"in l&&++m,c&&!a.isComponentChild&&(c.remainingChildDimensions+=m)),l&&u&&u.manageMargins&&(a.recoverProp("margin-top",l,d),a.recoverProp("margin-right",l,d),a.recoverProp("margin-bottom",l,d),a.recoverProp("margin-left",l,d)),t&&(l=t.heightModel,(d=t.widthModel)&&l&&p&&g&&p.shrinkWrap&&g.shrinkWrap&&d.constrainedMax&&l.constrainedMin&&(l=null),d&&(a.widthModel=d),l&&(a.heightModel=l),t.state&&Ext.apply(a.state,t.state)),f},initContinue:function(e){var t=this.ownerCtContext,i=this.target,n=this.widthModel,i=i.getInherited();return n.fixed?i.inShrinkWrapTable=!1:delete i.inShrinkWrapTable,e&&(t&&n.shrinkWrap?(i=t.isBoxParent?t:t.boxParent)&&i.addBoxChild(this):n.natural&&(this.boxParent=t)),e},initDone:function(e){var t=this.props,i=this.state;0===this.remainingChildDimensions&&(t.containerChildrenSizeDone=!0),e&&(t.containerLayoutDone=!0),this.boxChildren&&this.boxChildren.length&&this.widthModel.shrinkWrap&&(this.el.setWidth(1e4),i.blocks=(i.blocks||0)+1)},initAnimation:function(){var e=this.target,t=this.ownerCtContext;t&&t.isTopLevel?this.animatePolicy=e.ownerLayout.getAnimatePolicy(this):!t&&e.isCollapsingOrExpanding&&e.animCollapse&&(this.animatePolicy=e.componentLayout.getAnimatePolicy(this)),this.animatePolicy&&this.context.queueAnimation(this)},addBlock:function(e,t,i){e=this[e]||(this[e]={}),i=e[i]||(e[i]={});i[t.id]||(++(i[t.id]=t).blockCount,++this.context.blockCount)},addBoxChild:function(e){var t=e.widthModel;e.boxParent=this,e.measuresBox=t.shrinkWrap?e.hasRawContent:t.natural,e.measuresBox&&((t=this.boxChildren)?t.push(e):this.boxChildren=[e])},addPositionStyles:function(e,t){var i=t.x,n=t.y,t=0;return void 0!==i&&(e.left=i+"px",++t),void 0!==n&&(e.top=n+"px",++t),t},addTrigger:function(e,t){var i=t?"domTriggers":"triggers",n=this[i]||(this[i]={}),r=this.context,i=r.currentLayout,n=n[e]||(n[e]={});n[i.id]||(++(n[i.id]=i).triggerCount,((n=r.triggers[t?"dom":"data"])[i.id]||(n[i.id]=[])).push({item:this,prop:e}),void 0!==this.props[e]&&(t&&this.dirty&&e in this.dirty||++i.firedTriggers))},boxChildMeasured:function(){var e=this.state;(e.boxesMeasured=(e.boxesMeasured||0)+1)===this.boxChildren.length&&(e.clearBoxWidth=1,++this.context.progressCount,this.markDirty())},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(e){e=e.getStyles(e.borderNames,e.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e},marginInfo:function(e){e=e.getStyles(e.marginNames,e.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e},paddingInfo:function(e){e=(e.frameBodyContext||e).getStyles(e.paddingNames,e.trblNames);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}},checkCache:function(e){return this.cacheMissHandlers[e](this)},clearAllBlocks:function(e){var t,i=this[e];if(i)for(t in i)this.clearBlocks(e,t)},clearBlocks:function(e,t){var i,n,r,e=this[e],o=e&&e[t];if(o)for(r in delete e[t],i=this.context,o)n=o[r],--i.blockCount,--n.blockCount||n.pending||n.done||i.queueLayout(n)},block:function(e,t){this.addBlock("blocks",e,t)},domBlock:function(e,t){this.addBlock("domBlocks",e,t)},fireTriggers:function(e,t){var i,n,e=this[e],r=e&&e[t],o=this.context;if(r)for(n in r)++(i=r[n]).firedTriggers,i.done||i.blockCount||i.pending||o.queueLayout(i)},flush:function(){var e=this,t=e.dirty,i=e.state,n=e.el;e.dirtyCount=0,"attributes"in e&&(n.set(e.attributes),delete e.attributes),"innerHTML"in e&&(n.innerHTML=e.innerHTML,delete e.innerHTML),i&&i.clearBoxWidth&&(i.clearBoxWidth=0,e.el.setStyle("width",null),--i.blocks||e.context.queueItemLayouts(e)),t&&(delete e.dirty,e.writeProps(t,!0))},flushAnimations:function(){var e,t,i,n,r,o,s,a,l,d,c,u=this,h=u.previousSize;if(h){for(i=(t=(e=u.target).getAnimationProps()).duration,n=Ext.Object.getKeys(u.animatePolicy),r=Ext.apply({},{from:{},to:{},duration:i||Ext.fx.Anim.prototype.duration},t),s=o=0,a=n.length;s<a;s++)(d=h[l=n[s]])!==(c=u.peek(l))&&null!=c&&(l=u.translateProps[l]||l,r.from[l]=d,r.to[l]=c,++o);o?(1===u.isCollapsingOrExpanding?e.componentLayout.undoLayout(u):u.writeProps(r.from),u.el.animate(r),r=Ext.fx.Manager.getFxQueue(u.el.id)[0],(e.$layoutAnim=r).on({afteranimate:function(){delete e.$layoutAnim,e.destroying||e.destroyed||(1===u.isCollapsingOrExpanding?(e.componentLayout.redoLayout(u),e.afterCollapse(!0)):2===u.isCollapsingOrExpanding&&e.afterExpand(!0),e.hasListeners.afterlayoutanimation&&e.fireEvent("afterlayoutanimation",e))}})):2===u.isCollapsingOrExpanding&&e.afterExpand(!0)}},getBorderInfo:function(){var e=this.borderInfo;return e||(this.borderInfo=e=this.checkCache("borderInfo")),e},getEl:function(e,t){var i,n,r;if(e){if(e.dom)n=e;else if(i=this.target,t&&(i=t),n=i[e],"function"==typeof n&&(n=n.call(i))===this.el)return this;n&&(r=this.context.getEl(this,n))}return r||null},getFrameInfo:function(){var e,t,i=this.frameInfo;return i||(e=this.framing,t=this.getBorderInfo(),this.frameInfo=i=e?{top:e.top+t.top,right:e.right+t.right,bottom:e.bottom+t.bottom,left:e.left+t.left,width:e.width+t.width,height:e.height+t.height}:t),i},getMarginInfo:function(){var e,t,i,n=this,r=n.marginInfo;return r||(n.wrapsComponent?(i=(t=(e=n.target).ownerLayout)?t.id:null,t=t&&t.manageMargins,(r=e.margin$)&&r.ownerId!==i&&(r=null),r||(r=n.parseMargins(e,e.margin)||n.checkCache("marginInfo"),t&&(n.setProp("margin-top",0),n.setProp("margin-right",0),n.setProp("margin-bottom",0),n.setProp("margin-left",0)),r.ownerId=i,e.margin$=r),r.width=r.left+r.right,r.height=r.top+r.bottom):r=n.checkCache("marginInfo"),n.marginInfo=r),r},clearMarginCache:function(){delete this.marginInfo,delete this.target.margin$},getPaddingInfo:function(){var e=this.paddingInfo;return e||(this.paddingInfo=e=this.checkCache("paddingInfo")),e},getProp:function(e){var t=this.props[e];return this.addTrigger(e),t},getDomProp:function(e){var t=this.dirty&&e in this.dirty?void 0:this.props[e];return this.addTrigger(e,!0),t},getStyle:function(e){var t,i,n=this.styles;return e in n?i=n[e]:(t=this.styleInfo[e],i=this.el.getStyle(e),t&&t.parseInt&&(i=parseInt(i,10)||0),n[e]=i),i},getStyles:function(e,t){var i,n,r,o,s,a,l,d,c=this.styles,u={},h=0,f=e.length;for(t=t||e,i=0;i<f;++i)(o=e[i])in c?(u[t[i]]=c[o],++h,i&&1===h&&(n=e.slice(0,i),r=t.slice(0,i))):h&&((n=n||[]).push(o),(r=r||[]).push(t[i]));if(h<f)for(n=n||e,r=r||t,a=this.styleInfo,l=this.el.getStyle(n),i=n.length;i--;)s=a[o=n[i]],d=l[o],s&&s.parseInt&&(d=parseInt(d,10)||0),u[r[i]]=d,c[o]=d;return u},hasProp:function(e){return null!=this.getProp(e)},hasDomProp:function(e){return null!=this.getDomProp(e)},invalidate:function(e){this.context.queueInvalidate(this,e)},markDirty:function(){1==++this.dirtyCount&&this.context.queueFlush(this)},onBoxMeasured:function(){var e=this.boxParent,t=this.state;e&&e.widthModel.shrinkWrap&&!t.boxMeasured&&this.measuresBox&&(t.boxMeasured=1,e.boxChildMeasured())},parseMargins:function(e,t){!0===t&&(t=5);var i,n=typeof t;return"string"==n||"number"==n?i=e.parseBox(t):t&&(i={top:0,right:0,bottom:0,left:0},t=t&&Ext.apply(i,e.parseBox(t))),i},peek:function(e){return this.props[e]},recalculateSizeModel:function(){var e=this.target,t=e.componentLayout,i=this.ownerCtContext,n=t.ownerContext;t.ownerContext=null,this.sizeModel=i=e.getSizeModel(i&&i.widthModel.pairsByHeightOrdinal[i.heightModel.ordinal]),this.widthModel=i.width,this.heightModel=i.height,n&&(t.ownerContext=this)},recoverProp:function(e,t,i){var n=this.props;e in t&&(n[e]=t[e],i&&e in i&&((this.dirty||(this.dirty={}))[e]=i[e]))},redo:function(e){var t,i,n;if(this.revertProps(this.props),e&&this.wrapsComponent){if(this.childItems)for(n=0,i=(t=this.childItems).length;n<i;n++)t[n].redo(e);for(n=0,i=(t=this.children).length;n<i;n++)t[n].redo()}},removeEl:function(e,t){var i,n;if(e){if(e.dom)n=e;else if(i=this.target,t&&(i=t),n=i[e],"function"==typeof n&&(n=n.call(i))===this.el)return this;n&&this.context.removeEl(n,this)}},revertProps:function(e){var t,i=this.flushedProps,n={};for(t in e)i.hasOwnProperty(t)&&(n[t]=e[t]);this.writeProps(n)},setAttribute:function(e,t){this.attributes||(this.attributes={}),this.attributes[e]=t,this.markDirty()},setBox:function(e){"left"in e&&this.setProp("x",e.left),"top"in e&&this.setProp("y",e.top),this.setSize(e.width,e.height)},setContentHeight:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentHeight",e)},setContentWidth:function(e,t){return!t&&this.hasRawContent?1:this.setProp("contentWidth",e)},setContentSize:function(e,t,i){return this.setContentWidth(e,i)+this.setContentHeight(t,i)===2},setProp:function(e,t,i){var n=this,r=typeof t;return"undefined"==r||"number"==r&&isNaN(t)?0:(n.props[e]===t||(n.props[e]=t,++n.context.progressCount,!1===i?(n.fireTriggers("domTriggers",e),n.clearBlocks("domBlocks",e)):n.styleInfo[e]&&(n.dirty||(n.dirty={}),n.dirty[e]=t,n.markDirty()),n.fireTriggers("triggers",e),n.clearBlocks("blocks",e)),1)},setHeight:function(e,t){var i,n=this,r=n.target,o=n.ownerCtContext;if(e<0&&(e=0),n.wrapsComponent){if(i=!n.collapsedVert&&r.minHeight||0,e=Ext.Number.constrain(e,i,r.maxHeight),r=n.props.height,!n.setProp("height",e,t))return NaN;o&&!n.isComponentChild&&isNaN(r)&&(--o.remainingChildDimensions||o.setProp("containerChildrenSizeDone",!0)),(r=n.frameBodyContext)&&(o=n.getFrameInfo(),r[n.el.vertical?"setWidth":"setHeight"](e-o.height,t))}else if(!n.setProp("height",e,t))return NaN;return e},setWidth:function(e,t){var i,n=this,r=n.target,o=n.ownerCtContext;if(e<0&&(e=0),n.wrapsComponent){if(i=!n.collapsedHorz&&r.minWidth||0,e=Ext.Number.constrain(e,i,r.maxWidth),r=n.props.width,!n.setProp("width",e,t))return NaN;o&&!n.isComponentChild&&isNaN(r)&&(--o.remainingChildDimensions||o.setProp("containerChildrenSizeDone",!0)),(r=n.frameBodyContext)&&(o=n.getFrameInfo(),r.setWidth(e-o.width,t))}else if(!n.setProp("width",e,t))return NaN;return e},setSize:function(e,t,i){this.setWidth(e,i),this.setHeight(t,i)},translateProps:{x:"left",y:"top"},undo:function(e){var t,i,n;if(this.revertProps(this.lastBox),e&&this.wrapsComponent){if(this.childItems)for(n=0,i=(t=this.childItems).length;n<i;n++)t[n].undo(e);for(n=0,i=(t=this.children).length;n<i;n++)t[n].undo()}},unsetProp:function(e){var t=this.dirty;delete this.props[e],t&&delete t[e]},writeProps:function(e,t){if(e&&"object"==typeof e){var i,n,r,o,s,a,l=this,d=l.el,c={},u=0,h=l.styleInfo,f=e.width,g=e.height,p=l.target;for(n in"displayed"in e&&d.setDisplayed(e.displayed),e)t&&(l.fireTriggers("domTriggers",n),l.clearBlocks("domBlocks",n),l.flushedProps[n]=1),(i=h[n])&&i.dom&&(i.suffix&&(r=parseInt(e[n],10))?c[n]=r+i.suffix:c[n]=e[n],++u);("x"in e||"y"in e)&&(p.isComponent?p.setPosition(e.x,e.y):u+=l.addPositionStyles(c,e)),"overflowX"in e&&(a=p.getScrollable())&&a.setX(e.overflowX),"overflowY"in e&&(a=a||p.getScrollable())&&a.setY(e.overflowY),l.wrapsComponent&&Ext.isIE9&&((o=void 0!==f&&l.hasOverflowY)||(s=void 0!==g&&l.hasOverflowX))&&(void 0===(p=l.isAbsolute)&&(p=!1,a=l.target.getTargetEl().getStyle("position"),l.isAbsolute=p="absolute"===a),p&&(p=Ext.getScrollbarSize(),o&&(f=parseInt(f,10)+p.width,c.width=f+"px",++u),s&&(g=parseInt(g,10)+p.height,c.height=g+"px",++u))),u&&d.setStyle(c)}else Ext.Logger.warn("writeProps expected dirtyProps to be an object")},debugHooks:{$enabled:!1,addBlock:function(e,t,i){return(t.blockedBy||(t.blockedBy={}))[this.id+"."+i+("dom"===e.substring(0,3)?":dom":"")]=1,this.callParent(arguments)},addBoxChild:function(e){var t=this.callParent(arguments),i=this.boxChildren;return i&&1===i.length&&(this.context.boxParents||(this.context.boxParents=new Ext.util.MixedCollection)).add(this),t},addTrigger:function(e,t){var i,n=this.context.currentLayout;this.callParent(arguments),((i=this.context.triggersByLayoutId)[n.id]||(i[n.id]={}))[this.id+"."+e+(t?":dom":"")]={item:this,name:e}},checkAuthority:function(e){var t,i=this[e+"Model"],n=this.context.currentLayout;n===this.target.ownerLayout?t=i.calculated:n.isComponentLayout&&(t=this.isTopLevel||i.auto||i.configured),t||(n=this.context.getLayoutName(n),Ext.log(n+" cannot set "+e))},clearBlocks:function(e,t){var i,n=this[e],r=n&&n[t],o=this.id+"."+t+("dom"===e.substring(0,3)?":dom":"");if(r)for(i in r)delete r[i].blockedBy[o];return this.callParent(arguments)},getEl:function(e){var t=this.callParent(arguments);return t&&t!==this&&t.parent!==this&&Ext.raise({msg:"Got element from wrong component"}),t},init:function(){var e=this.callParent(arguments);return this.context.logOn.initItem&&Ext.log(this.id," consumers: content=",this.consumersContentWidth,"/",this.consumersContentHeight,", container=",this.consumersContainerWidth,"/",this.consumersContainerHeight,", size=",this.consumersWidth,"/",this.consumersHeight),e},invalidate:function(){return this.wrapsComponent?this.context.logOn.invalidate&&Ext.log("invalidate: ",this.id):Ext.raise({msg:"Cannot invalidate an element contextItem"}),this.callParent(arguments)},setProp:function(e,t,i){var n=this.context.currentLayout,r=this.context.getLayoutName(n),o=this.id+"."+e;return null!==t&&((n=this.setBy||(this.setBy={}))[e]?n[e]!==r&&Ext.log({level:"warn"},"BAD! ",o," set by ",n[e]," and ",r):n[e]=r),this.context.logOn.setProp&&(void 0===t||isNaN(t)||this.props[e]===t||Ext.log("set ",o," = ",t," (",i,")")),this.callParent(arguments)},setHeight:function(e,t,i){return!i&&this.wrapsComponent&&this.checkAuthority("height"),this.callParent(arguments)},setWidth:function(e,t,i){return!i&&this.wrapsComponent&&this.checkAuthority("width"),this.callParent(arguments)}}},function(){var e={dom:!0,parseInt:!0,suffix:"px"},t={dom:!0},i={dom:!1};this.prototype.styleInfo={containerChildrenSizeDone:i,containerLayoutDone:i,displayed:i,done:i,x:i,y:i,columnsChanged:i,rowHeights:i,viewOverflowY:i,overflowX:i,overflowY:i,left:e,top:e,right:e,bottom:e,width:e,height:e,"border-top-width":e,"border-right-width":e,"border-bottom-width":e,"border-left-width":e,"margin-top":e,"margin-right":e,"margin-bottom":e,"margin-left":e,"padding-top":e,"padding-right":e,"padding-bottom":e,"padding-left":e,"line-height":t,display:t,clear:t}}),Ext.define("Ext.rtl.layout.ContextItem",{override:"Ext.layout.ContextItem",addPositionStyles:function(e,t){var i=t.x,n=t.y,t=0;return void 0!==i&&(e[this.parent.target.getInherited().rtl?"right":"left"]=i+"px",++t),void 0!==n&&(e.top=n+"px",++t),t}}),Ext.define("Ext.layout.Context",{requires:["Ext.perf.Monitor","Ext.util.Queue","Ext.layout.ContextItem","Ext.layout.Layout","Ext.fx.Anim","Ext.fx.Manager"],remainingLayouts:0,state:0,cycleWatchDog:200,constructor:function(e){var t=this;Ext.apply(t,e),t.items={},t.layouts={},t.blockCount=0,t.cycleCount=0,t.flushCount=0,t.calcCount=0,t.animateQueue=t.newQueue(),t.completionQueue=t.newQueue(),t.finalizeQueue=t.newQueue(),t.finishQueue=t.newQueue(),t.flushQueue=t.newQueue(),t.invalidateData={},t.layoutQueue=t.newQueue(),t.invalidQueue=[],t.triggers={data:{},dom:{}}},callLayout:function(e,t){(this.currentLayout=e)[t](this.getCmp(e.owner))},cancelComponent:function(e,t,i){for(var n,r,o,s,a,l,d,c,u=e,h=!e.isComponent,f=h?u.length:1,g=0;g<f;++g){if(h&&(e=u[g]),i&&(e.ownerCt?(c=this.items[e.ownerCt.el.id])&&Ext.Array.remove(c.childItems,this.getCmp(e)):e.rendered&&this.removeEl(e.el)),!t&&(r=(a=this.invalidQueue).length))for(this.invalidQueue=s=[],n=0;n<r;++n)(d=(l=a[n]).item.target)===e||d.up(e)||s.push(l);c=e.componentLayout,this.cancelLayout(c),e.destroying||(c.getLayoutItems&&(o=c.getLayoutItems()).length&&this.cancelComponent(o,!0),e.isContainer&&!e.collapsed&&(c=e.layout,this.cancelLayout(c),(o=c.getVisibleItems()).length&&this.cancelComponent(o,!0)))}},cancelLayout:function(e){this.completionQueue.remove(e),this.finalizeQueue.remove(e),this.finishQueue.remove(e),this.layoutQueue.remove(e),e.running&&this.layoutDone(e),e.ownerContext=null},clearTriggers:function(e,t){for(var i,n,r=e.id,o=this.triggers[t?"dom":"data"],s=o&&o[r],a=s&&s.length||0,l=0;l<a;++l)i=(n=s[l]).item,delete(o=t?i.domTriggers:i.triggers)[n.prop][r]},flush:function(){var e,t=this.flushQueue.clear(),i=t.length;if(i)for(++this.flushCount,e=0;e<i;++e)t[e].flush()},flushAnimations:function(){var e,t=this.animateQueue.clear(),i=t.length;if(i){for(e=0;e<i;e++)!1!==t[e].target.animate&&t[e].flushAnimations();Ext.fx.Manager.runner()}},flushInvalidates:function(){var e,t,i,n,r=this.invalidQueue,o=r&&r.length;if(this.invalidQueue=[],o){for(t=[],n=0;n<o;++n)(e=(i=r[n]).item.target).container.isDetachedBody||(t.push(e),i.options&&(this.invalidateData[e.id]=i.options));this.invalidate(t,null)}},flushLayouts:function(e,t,i){var n,r,o=i?this[e].items:this[e].clear(),s=o.length;if(s){for(n=0;n<s;++n)(r=o[n]).running||this.callLayout(r,t);this.currentLayout=null}},getCmp:function(e){return this.getItem(e,e.el)},getEl:function(e,t){t=this.getItem(t,t);return t.parent||((t.parent=e).children.length?e.children.push(t):e.children=[t]),t},getItem:function(e,t){var i=t.id,n=this.items;return n[i]||(n[i]=new Ext.layout.ContextItem({context:this,target:e,el:t}))},handleFailure:function(){var e,t,i=this.layouts;for(t in Ext.failedLayouts=(Ext.failedLayouts||0)+1,i)e=i[t],i.hasOwnProperty(t)&&(e.running=!1,e.ownerContext=null);2!==Ext.devMode||this.pageAnalyzerMode?Ext.log.error("Layout run failed"):Ext.raise("Layout run failed")},invalidate:function(e,t){for(var i,n,r,o,s,a,l,d,c,u,h=this,f=!e.isComponent,g=0,p=f?e.length:1;g<p;++g)(r=f?e[g]:e).rendered&&!r.hidden&&(i=r.ownerLayout,a=r.componentLayout,u=!1,i&&i.needsItemSize||!r.liquidLayout||(u=!0),(!u||i&&i.setsItemSize)&&(n=!(o=h.getCmp(r)).state,l=r.isContainer&&!r.collapsed?r.layout:null,d=h.invalidateData[o.id],delete h.invalidateData[o.id],c=o.init(t,d)),u||(d&&h.processInvalidate(d,o,"before"),a.beforeLayoutCycle&&a.beforeLayoutCycle(o),l&&l.beforeLayoutCycle&&l.beforeLayoutCycle(o),c=o.initContinue(c),u=!0,a.getLayoutItems&&(a.renderChildren(),(s=a.getLayoutItems()).length&&h.invalidate(s,!0)),l&&(u=!1,l.renderChildren(),(l.needsItemSize||l.activeItemCount)&&(s=l.getVisibleItems()).length&&h.invalidate(s,!0)),o.initDone(u),h.resetLayout(a,o,n),l&&h.resetLayout(l,o,n),o.initAnimation(),d&&h.processInvalidate(d,o,"after")));h.currentLayout=null},isDescendant:function(e,t){if(e.isContainer)for(var i=t.ownerCt;i;i=i.ownerCt)if(i===e)return!0;return!1},layoutDone:function(e){var t=e.ownerContext;e.running=!1,e.isComponentLayout?(t.measuresBox&&t.onBoxMeasured(),t.setProp("done",!0)):t.setProp("containerLayoutDone",!0),--this.remainingLayouts,++this.progressCount},newQueue:function(){return new Ext.util.Queue},processInvalidate:function(e,t,i){var n;e[i]&&(n=this.currentLayout,this.currentLayout=e.layout||null,e[i](t,e),this.currentLayout=n)},queueAnimation:function(e){this.animateQueue.add(e)},queueCompletion:function(e){this.completionQueue.add(e)},queueFinalize:function(e){this.finalizeQueue.add(e)},queueFlush:function(e,t){this.flushQueue.add(e,t)},chainFns:function(i,n,e){var r=this,o=i.layout,s=n.layout,a=i[e],l=n[e];return function(e){var t=r.currentLayout;a&&(r.currentLayout=o,a.call(i.scope||i,e,i)),r.currentLayout=s,l.call(n.scope||n,e,n),r.currentLayout=t}},purgeInvalidates:function(){for(var e,t,i,n,r,o=[],s=this.invalidQueue,a=s.length,l=0;l<a;++l){for(n=(i=s[l]).item.target,r=!0,e=o.length;e--;){if(t=o[e].item.target,n.isLayoutChild(t)){r=!1;break}t.isLayoutChild(n)&&Ext.Array.erase(o,e,1)}r&&o.push(i)}this.invalidQueue=o},queueInvalidate:function(e,t){var i,n,r,o,s,a=[],l=this.invalidQueue,d=l.length;for(e.isComponent?(i=e,(e=this.items[i.el.id])?e.recalculateSizeModel():e=this.getCmp(i)):i=e.target,e.invalid=!0;d--;){if(r=(n=l[d]).item.target,!i.isFloating&&i.up(r))return;if(r===i)return void((o=n.options)?t&&(t.widthModel&&(o.widthModel=t.widthModel),t.heightModel&&(o.heightModel=t.heightModel),(s=o.state)?t.state&&Ext.apply(s,t.state):o.state=t.state,t.before&&(o.before=this.chainFns(o,t,"before")),t.after&&(o.after=this.chainFns(o,t,"after"))):n.options=t);r.isLayoutChild(i)||a.push(n)}a.push({item:e,options:t}),this.invalidQueue=a},queueItemLayouts:function(e){var t=e.isComponent?e:e.target,e=t.componentLayout;e.pending||e.invalid||e.done||this.queueLayout(e),!(e=t.layout)||e.pending||e.invalid||e.done||t.collapsed||this.queueLayout(e)},queueLayout:function(e){this.layoutQueue.add(e),e.pending=!0},removeEl:function(e,t){var i=e.id,e=t?t.children:null,t=this.items;e&&Ext.Array.remove(e,t[i]),delete t[i]},resetLayout:function(e,t,i){(this.currentLayout=e).done=!1,e.pending=!0,e.firedTriggers=0,this.layoutQueue.add(e),i?((this.layouts[e.id]=e).running=!0,e.finishedLayout&&this.finishQueue.add(e),++this.remainingLayouts,++e.layoutCount,e.ownerContext=t,e.beginCount=0,e.blockCount=0,e.calcCount=0,e.triggerCount=0,e.initialized||e.initLayout(),e.beginLayout(t)):(++e.beginCount,e.running||(++this.remainingLayouts,e.running=!0,e.ownerContext=t,e.isComponentLayout&&t.unsetProp("done"),this.completionQueue.remove(e),this.finalizeQueue.remove(e))),e.beginLayoutCycle(t,i)},run:function(){var e=this,t=!1,i=e.cycleWatchDog;for(e.purgeInvalidates(),e.flushInvalidates(),e.state=1,e.totalCount=e.layoutQueue.getCount(),e.flush();(e.remainingLayouts||e.invalidQueue.length)&&i--;){if(e.invalidQueue.length&&e.flushInvalidates(),e.runCycle())t=!1;else if(t){if(!e.invalidQueue.length){e.state=2;break}}else e.flush(),t=!0,e.flushLayouts("completionQueue","completeLayout");e.remainingLayouts||e.invalidQueue.length||(e.flush(),e.flushLayouts("completionQueue","completeLayout"),e.flushLayouts("finalizeQueue","finalizeLayout"))}return e.runComplete()},runComplete:function(){return this.state=2,this.remainingLayouts?(this.handleFailure(),!1):(this.flush(),this.flushLayouts("finishQueue","finishedLayout",!0),this.flushLayouts("finishQueue","notifyOwner"),this.flush(),this.flushAnimations(),!0)},runCycle:function(){var e,t=this.layoutQueue.clear(),i=t.length;for(++this.cycleCount,e=this.progressCount=0;e<i;++e)this.runLayout(this.currentLayout=t[e]);return this.currentLayout=null,0<this.progressCount},runLayout:function(e){var t=this.getCmp(e.owner);e.pending=!1,t.state.blocks||(e.done=!0,++e.calcCount,++this.calcCount,e.calculate(t),e.done?(this.layoutDone(e),e.completeLayout&&this.queueCompletion(e),e.finalizeLayout&&this.queueFinalize(e)):e.pending||e.invalid||e.blockCount+e.triggerCount-e.firedTriggers||this.queueLayout(e))},setItemSize:function(e,t,i){var n,r=e,o=1;for(e.isComposite?(o=(r=e.elements).length,e=r[0]):e.dom||e.el||(o=r.length,e=r[0]),n=0;n<o;)this.get(e).setSize(t,i),e=r[++n]},debugHooks:{$enabled:!1,pageAnalyzerMode:!0,logOn:{0:0},cancelComponent:function(e){this.logOn.cancelComponent&&Ext.log("cancelCmp: ",e.id),this.callParent(arguments)},cancelLayout:function(e){this.logOn.cancelLayout&&Ext.log("cancelLayout: ",this.getLayoutName(e)),this.callParent(arguments)},callLayout:function(e,t){var i=this.accumByType[e.type],n=i&&i.enter();this.callParent(arguments),i&&n.leave()},checkRemainingLayouts:function(){var e,t,i=0;for(e in this.layouts)t=this.layouts[e],this.layouts.hasOwnProperty(e)&&t.running&&++i;this.remainingLayouts!==i&&Ext.raise({msg:"Bookkeeping error me.remainingLayouts"})},flush:function(){var e;return this.logOn.flush&&(e=this.flushQueue,Ext.log("--- Flush ",e&&e.getCount())),this.callParent(arguments)},flushInvalidates:function(){this.logOn.flushInvalidate&&Ext.log(">> flushInvalidates");var e=this.callParent(arguments);return this.logOn.flushInvalidate&&Ext.log("<< flushInvalidates"),e},getCmp:function(e){var t=this.callParent(arguments);return t.wrapsComponent||Ext.raise({msg:e.id+" is not a component"}),t},getEl:function(e,t){var i=this.callParent(arguments);return i&&i.wrapsComponent&&Ext.raise({msg:e.id+"/"+t.id+" is a component (expected element)"}),i},getLayoutName:function(e){return e.owner.id+"<"+e.type+">"},layoutDone:function(e){var t=this.getLayoutName(e);this.logOn.layoutDone&&Ext.log("layoutDone: ",t," ( ",this.remainingLayouts," running)"),e.running||Ext.raise({msg:t+" is already done"}),this.remainingLayouts||Ext.raise({msg:t+" finished but no layouts are running"}),this.callParent(arguments)},layoutTreeHasFailures:function(e,r){var o=this;return!!function e(t){var i,n,r=!t.done;if(t.done)for(i in o.layouts)o.layouts.hasOwnProperty(i)&&(n=o.layouts[i]).owner.ownerLayout===t&&e(n)&&(r=!0);return r}(e)||(function e(t){var i,n;for(i in r[t.id]=1,o.layouts)o.layouts.hasOwnProperty(i)&&(n=o.layouts[i]).owner.ownerLayout===t&&e(n)}(e),!1)},queueLayout:function(e){return(e.done||e.blockCount||e.pending)&&Ext.raise({msg:this.getLayoutName(e)+" should not be queued for layout"}),this.logOn.queueLayout&&Ext.log("Queue ",this.getLayoutName(e)),this.callParent(arguments)},reportLayoutResult:function(e,t){var i,n,r,o,s,a,l,d,c=this,u=e.owner,u=c.getCmp(u),h=[],f=[];for(i in t[e.id]=1,e.blockedBy)e.blockedBy.hasOwnProperty(i)&&h.push(e.blockedBy[i]);for(i in h.sort(),c.triggersByLayoutId[e.id])c.triggersByLayoutId[e.id].hasOwnProperty(i)&&(n=c.triggersByLayoutId[e.id][i],f.push({name:i,info:n}));if(f.sort(function(e,t){return e.name<t.name?-1:t.name<e.name?1:0}),Ext.log({indent:1},e.done?"++":"--",c.getLayoutName(e),u.isBoxParent?" [isBoxParent]":"",u.boxChildren?" - boxChildren: "+u.state.boxesMeasured+"/"+u.boxChildren.length:"",u.boxParent?" - boxParent: "+u.boxParent.id:""," - size: ",u.widthModel.name,"/",u.heightModel.name),!e.done||c.reportOnSuccess){if(h.length){for(++Ext.log.indent,Ext.log({indent:1},"blockedBy:  count=",e.blockCount),o=h.length,r=0;r<o;r++)Ext.log(h[r]);Ext.log.indent-=2}if(f.length){for(++Ext.log.indent,Ext.log({indent:1},"triggeredBy: count="+e.triggerCount),o=f.length,r=0;r<o;r++)l=(a=(d=n.info||n).item).setBy&&a.setBy[d.name]||"?",n=f[r],Ext.log(n.name," (",a.props[d.name],") dirty: ",!!a.dirty&&!!a.dirty[d.name],", setBy: ",l);Ext.log.indent-=2}}for(i in c.layouts)c.layouts.hasOwnProperty(i)&&((s=c.layouts[i]).done||s.owner.ownerLayout!==e||c.reportLayoutResult(s,t));for(i in c.layouts)c.layouts.hasOwnProperty(i)&&(s=c.layouts[i]).done&&s.owner.ownerLayout===e&&c.reportLayoutResult(s,t);--Ext.log.indent},resetLayout:function(e){var t=this,i=e.type,n=t.getLayoutName(e),r=t.accumByType[i];t.logOn.resetLayout&&Ext.log("resetLayout: ",n," ( ",t.remainingLayouts," running)"),t.state||(!r&&t.profileLayoutsByType&&(t.accumByType[i]=r=Ext.Perf.get("layout_"+e.type)),t.numByType[i]=(t.numByType[i]||0)+1),i=r&&r.enter(),t.callParent(arguments),r&&i.leave(),t.checkRemainingLayouts()},round:function(e){return Math.round(1e3*e)/1e3},run:function(){var e,t,i,n,r,o,s,a,l,d,c,u,h,f,g=this;if(g.accumByType={},g.calcsByType={},g.numByType={},g.timesByType={},g.triggersByLayoutId={},Ext.log.indentSize=3,Ext.log("==================== LAYOUT ===================="),t=Ext.perf.getTimestamp(),e=g.callParent(arguments),t=Ext.perf.getTimestamp()-t,g.logOn.boxParent&&g.boxParents)for(i in g.boxParents)if(g.boxParents.hasOwnProperty(i))for(a=(s=(o=g.boxParents[i]).boxChildren).length,Ext.log("boxParent: ",o.id),n=0;n<a;++n)Ext.log(" --\x3e ",s[n].id);for(i in e?Ext.log("----------------- SUCCESS -----------------"):Ext.log({level:"error"},"----------------- FAILURE -----------------"),g.layouts)g.layouts.hasOwnProperty(i)&&((r=g.layouts[i]).running&&Ext.log.error("Layout left running: ",g.getLayoutName(r)),r.ownerContext&&Ext.log.error("Layout left connected: ",g.getLayoutName(r)));if(!e||g.reportOnSuccess){for(i in l={},d=0,g.layouts)g.layouts.hasOwnProperty(i)&&(r=g.layouts[i],g.items[r.owner.el.id].isTopLevel&&(g.reportOnSuccess||g.layoutTreeHasFailures(r,l))&&g.reportLayoutResult(r,l));for(i in g.layouts)g.layouts.hasOwnProperty(i)&&(l[(r=g.layouts[i]).id]||(d||Ext.log("----- Unreported!! -----"),++d,g.reportLayoutResult(r,l)))}for(i in Ext.log("Cycles: ",g.cycleCount,", Flushes: ",g.flushCount,", Calculates: ",g.calcCount," in ",g.round(t)," msec"),Ext.log("Calculates by type:"),c=[],g.numByType)g.numByType.hasOwnProperty(i)&&(u=g.numByType[i],c.push({type:i,total:u,calcs:g.calcsByType[i],multiple:Math.round(g.calcsByType[i]/u*10)/10,calcTime:g.round(g.timesByType[i]),avgCalcTime:g.round(g.timesByType[i]/g.calcsByType[i])}));for(c.sort(function(e,t){return t.calcTime-e.calcTime}),h=c.length,n=0;n<h;n++)f=c[n],Ext.log(f.type,": ",f.total," in ",f.calcs," tries (",f.multiple,"x) at ",f.calcTime," msec (avg ",f.avgCalcTime," msec)");return e},runCycle:function(){return this.logOn.runCycle&&Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")"),this.callParent(arguments)},runLayout:function(e){var t,i,n,r=e.type,o=this.accumByType[r];return this.logOn.calculate&&Ext.log("-- calculate ",this.getLayoutName(e)),t=o&&o.enter(),n=Ext.perf.getTimestamp(),i=this.callParent(arguments),n=Ext.perf.getTimestamp()-n,o&&t.leave(),this.calcsByType[r]=(this.calcsByType[r]||0)+1,this.timesByType[r]=(this.timesByType[r]||0)+n,i}}}),Ext.define("Ext.layout.component.Body",{alias:["layout.body"],extend:"Ext.layout.component.Auto",type:"body",beginLayout:function(e){this.callParent(arguments),e.bodyContext=e.getEl("body")},beginLayoutCycle:function(e,t){var i=this.lastWidthModel,n=this.lastHeightModel,r=this.owner.body;this.callParent(arguments),i&&i.fixed&&e.widthModel.shrinkWrap&&r.setWidth(null),n&&n.fixed&&e.heightModel.shrinkWrap&&r.setHeight(null)},calculateOwnerHeightFromContentHeight:function(e,t){var i=this.callParent(arguments);return e.targetContext!==e&&(i+=e.getPaddingInfo().height),i},calculateOwnerWidthFromContentWidth:function(e,t){var i=this.callParent(arguments);return e.targetContext!==e&&(i+=e.getPaddingInfo().width),i},measureContentWidth:function(e){return e.bodyContext.setWidth(e.bodyContext.el.dom.offsetWidth,!1)},measureContentHeight:function(e){return e.bodyContext.setHeight(e.bodyContext.el.dom.offsetHeight,!1)},publishInnerHeight:function(e,t){t-=e.getFrameInfo().height;return e.targetContext!==e&&(t-=e.getPaddingInfo().height),e.bodyContext.setHeight(t,!e.heightModel.natural)},publishInnerWidth:function(e,t){t-=e.getFrameInfo().width;e.targetContext!==e&&(t-=e.getPaddingInfo().width),e.bodyContext.setWidth(t,!e.widthModel.natural)}}),Ext.define("Ext.layout.component.FieldSet",{extend:"Ext.layout.component.Body",alias:["layout.fieldset"],type:"fieldset",defaultCollapsedWidth:100,beforeLayoutCycle:function(e){e.target.collapsed&&(e.heightModel=this.sizeModels.shrinkWrap)},beginLayout:function(e){var t=this.owner.legend;this.callParent([e]),t&&(e.legendContext=e.context.getCmp(t))},beginLayoutCycle:function(e){var t=e.target;this.callParent(arguments),t.collapsed&&(e.setContentHeight(0),e.restoreMinHeight=t.minHeight,delete t.minHeight,e.widthModel.shrinkWrap&&(t=this.lastComponentSize,e.setContentWidth(t&&t.contentWidth||this.defaultCollapsedWidth)))},finishedLayout:function(e){var t=this.owner,i=e.restoreMinHeight;this.callParent(arguments),i&&(t.minHeight=i)},calculateOwnerWidthFromContentWidth:function(e,t){var i=e.legendContext;return i&&(t=Math.max(t,i.getProp("width"))),this.callParent([e,t])},calculateOwnerHeightFromContentHeight:function(e,t){var i=e.getBorderInfo(),n=e.legendContext;return e.getProp("contentHeight")+e.getPaddingInfo().height+(Ext.isIE8?e.bodyContext.getPaddingInfo().top:0)+(n?n.getProp("height"):i.top)+i.bottom},publishInnerHeight:function(e,t){var i=e.legendContext,n=0;i&&(n=i.getProp("height")),void 0===n?this.done=!1:this.callParent([e,t-n])},getLayoutItems:function(){var e=this.owner.legend;return e?[e]:[]}}),Ext.define("Ext.layout.container.Absolute",{alias:"layout.absolute",extend:"Ext.layout.container.Anchor",alternateClassName:"Ext.layout.AbsoluteLayout",targetCls:Ext.baseCSSPrefix+"abs-layout-ct",itemCls:Ext.baseCSSPrefix+"abs-layout-item",type:"absolute",adjustWidthAnchor:function(e,t){var i=this.targetPadding;return e-t.getStyle("left")+i.left},adjustHeightAnchor:function(e,t){var i=this.targetPadding;return e-t.getStyle("top")+i.top},isItemShrinkWrap:function(e){return!0},onContentChange:function(e,t){var i=!1;return e.anchor&&t&&t.show&&(i=this.callParent([e,t])),i},beginLayout:function(e){var t=this.getTarget();this.callParent([e]),t.dom!==document.body&&t.position(),this.targetPadding=e.targetContext.getPaddingInfo()},isItemBoxParent:function(e){return!0},calculateContentSize:function(e,t){var i,n,r,o,s,a,l=(t||0)|((e.widthModel.shrinkWrap?1:0)|(e.heightModel.shrinkWrap?2:0)),d=1&l||void 0,c=2&l||void 0,u=e.childItems,h=u.length,f=0,g=0,t=0,l=e.props;if(d&&(isNaN(l.contentWidth)?++t:d=void 0),c&&(isNaN(l.contentHeight)?++t:c=void 0),t){for(o=0;o<h;++o)if(n=(s=u[o]).target,r=c&&s.getProp("height"),a=d&&s.getProp("width"),r+=(s=s.getMarginInfo()).bottom,a+=s.right,f=Math.max(f,(n.y||0)+r),g=Math.max(g,(n.x||0)+a),isNaN(f)&&isNaN(g))return void(this.done=!1);(d||c)&&(i=e.targetContext.getPaddingInfo()),d&&!e.setContentWidth(g+i.width)&&(this.done=!1),c&&!e.setContentHeight(f+i.height)&&(this.done=!1)}}}),Ext.define("Ext.rtl.layout.container.Absolute",{override:"Ext.layout.container.Absolute",adjustWidthAnchor:function(e,t){if(this.owner.getInherited().rtl){var i=this.targetPadding;return e-t.getStyle("right")+i.right}return this.callParent([e,t])}}),Ext.define("Ext.layout.container.Accordion",{extend:"Ext.layout.container.VBox",alias:"layout.accordion",type:"accordion",alternateClassName:"Ext.layout.AccordionLayout",targetCls:Ext.baseCSSPrefix+"accordion-layout-ct",itemCls:[Ext.baseCSSPrefix+"box-item",Ext.baseCSSPrefix+"accordion-item"],align:"stretch",enableSplitters:!1,fill:!0,titleCollapse:!0,hideCollapseTool:!1,collapseFirst:void 0,animate:!0,activeOnTop:!1,multi:!1,wrapOver:!0,panelCollapseMode:"header",defaultAnimatePolicy:{y:!0,height:!0},constructor:function(){this.callParent(arguments),this.animate?(this.animatePolicy={},this.animatePolicy[this.names.x]=!0,this.animatePolicy[this.names.width]=!0):this.animatePolicy=null},beforeRenderItems:function(e){for(var t,i=this,n=e.length,r=i.owner,o=i.collapseFirst,s=Ext.isDefined(o),a=i.getExpanded(!0)[0],l=i.multi,d=0;d<n;d++)(t=e[d]).rendered||(t.isAccordionPanel=!0,t.bodyAriaRole="tabpanel",t.accordionWrapOver=i.wrapOver,l&&!1===t.collapsible||(t.collapsible=!0),t.collapsible&&(s&&(t.collapseFirst=o),i.hideCollapseTool?(t.hideCollapseTool=i.hideCollapseTool,t.titleCollapse=!0):i.titleCollapse&&void 0===t.titleCollapse&&(t.titleCollapse=i.titleCollapse)),t.hideHeader=t.width=null,t.title=t.title||"&#160;",t.addBodyCls(Ext.baseCSSPrefix+"accordion-body"),l||(a?t.collapsed=a!==t:t.hasOwnProperty("collapsed")&&!1===t.collapsed?a=t:t.collapsed=!0,r.mon(t,"show",i.onComponentShow,i)),t.headerOverCls=Ext.baseCSSPrefix+"accordion-hd-over");i.processing||l||(a?i.activeOnTop&&(a.collapsed=!1,i.configureItem(a),0<r.items.indexOf(a)&&r.insert(0,a)):n&&(e[0].collapsed=!1))},getItemsRenderTree:function(e){return this.beforeRenderItems(e),this.callParent(arguments)},renderItems:function(e,t){this.beforeRenderItems(e),this.callParent(arguments)},configureItem:function(e){this.callParent(arguments),e.ignoreHeaderBorderManagement=!0,e.animCollapse=!1,this.fill&&(e.flex=1)},beginLayout:function(e){this.callParent(arguments),this.innerCt.dom.setAttribute("role","tablist"),this.innerCt.dom.setAttribute("aria-multiselectable",!0),this.updatePanelClasses(e)},updatePanelClasses:function(e){for(var t,i,n=e.visibleItems,r=n.length,o=!0,s=0;s<r;s++)(i=(t=n[s]).header).addCls(Ext.baseCSSPrefix+"accordion-hd"),o?i.removeCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"):i.addCls(Ext.baseCSSPrefix+"accordion-hd-sibling-expanded"),s+1===r&&t.collapsed?i.addCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"):i.removeCls(Ext.baseCSSPrefix+"accordion-hd-last-collapsed"),o=t.collapsed},onBeforeComponentExpand:function(e){var t,i,n=this.owner,r=this.multi,o=!r&&!this.animate&&this.activeOnTop;this.processing||(this.processing=!0,i=n.deferLayouts,n.deferLayouts=!0,r||(t=this.getExpanded()[0])&&t!==e&&((r=t.$layoutAnim)&&r.jumpToEnd(),t.collapse()),o&&(Ext.suspendLayouts(),n.insert(0,e),Ext.resumeLayouts()),n.deferLayouts=i,this.processing=!1)},onBeforeComponentCollapse:function(e){var t,i=this.owner;if(1===this.owner.items.getCount())return!1;this.processing||(this.processing=!0,t=i.deferLayouts,i.deferLayouts=!0,e=e.next()||e.prev(),this.multi?1===this.getExpanded().length&&e.expand():e&&e.expand(),i.deferLayouts=t,this.processing=!1)},onComponentShow:function(e){this.onBeforeComponentExpand(e)},onAdd:function(e){this.callParent(arguments),"placeholder"===e.collapseMode&&(e.collapseMode=this.panelCollapseMode),e.collapseDirection=e.headerPosition,this.layoutCount&&!this.multi&&1<this.owner.items.getCount()&&(this.processing=!0,e.collapse(),this.processing=!1)},onRemove:function(e,t){var i;this.callParent(arguments),this.owner.destroying||this.multi||e.collapsed||(i=this.owner.items.first())&&i.expand()},getExpanded:function(e){for(var t,i=this.owner.items.items,n=i.length,r=0,o=[];r<n;++r)(t=i[r]).hidden||(e?t.hasOwnProperty("collapsed")&&!1===t.collapsed:!t.collapsed)&&o.push(t);return o},afterCollapse:Ext.emptyFn,afterExpand:Ext.emptyFn}),Ext.define("Ext.resizer.BorderSplitter",{extend:"Ext.resizer.Splitter",uses:["Ext.resizer.BorderSplitterTracker"],alias:"widget.bordersplitter",collapseTarget:null,getTrackerConfig:function(){var e=this.callParent();return e.xclass="Ext.resizer.BorderSplitterTracker",e},onTargetCollapse:function(e){this.callParent([e]),!1!==this.performCollapse&&"mini"==e.collapseMode&&e.addCls(e.baseCls+"-"+e.collapsedCls+"-mini")},onTargetExpand:function(e){this.callParent([e]),!1!==this.performCollapse&&"mini"==e.collapseMode&&e.removeCls(e.baseCls+"-"+e.collapsedCls+"-mini")}}),Ext.define("Ext.layout.container.Border",{extend:"Ext.layout.container.Container",alias:"layout.border",alternateClassName:"Ext.layout.BorderLayout",requires:["Ext.resizer.BorderSplitter","Ext.fx.Anim","Ext.layout.container.border.Region"],targetCls:Ext.baseCSSPrefix+"border-layout-ct",itemCls:[Ext.baseCSSPrefix+"border-item",Ext.baseCSSPrefix+"box-item"],type:"border",isBorderLayout:!0,padding:void 0,percentageRe:/(\d+)%/,horzPositionProp:"left",padOnContainerProp:"left",padNotOnContainerProp:"right",axisProps:{horz:{borderBegin:"west",borderEnd:"east",horizontal:!0,posProp:"x",sizeProp:"width",sizePropCap:"Width"},vert:{borderBegin:"north",borderEnd:"south",horizontal:!1,posProp:"y",sizeProp:"height",sizePropCap:"Height"}},centerRegion:null,manageMargins:!0,panelCollapseAnimate:!0,panelCollapseMode:"placeholder",regionWeights:{north:20,south:10,center:0,west:-10,east:-20},beginAxis:function(e,t,i){for(var n,r,o,s,a,l,d,c,u,h=this.axisProps[i],f=!h.horizontal,g=h.sizeProp,p=0,m=e.childItems,x=m.length,E=0;E<x;++E)s=(r=m[E]).target,r.layoutPos={},s.region&&(r.region=d=s.region,r.isCenter=s.isCenter,r.isHorz=s.isHorz,r.isVert=s.isVert,r.weight=s.weight||this.regionWeights[d]||0,s.weight=r.weight,t[s.id]=r,s.isCenter?(n=r,o=s.flex,e.centerRegion=n):f===r.isVert&&(r.reverseWeighting=d===h.borderEnd,d=typeof(l=s[g]),s.collapsed||("string"==d&&(a=this.percentageRe.exec(l))?r.percentage=parseInt(a[1],10):s.flex&&(p+=r.flex=s.flex))));return n&&((u=(c=n.target).placeholderFor)?o||f!==u.collapsedVertical()||(o=0,n.collapseAxis=i):c.collapsed&&f===c.collapsedVertical()&&(o=0,n.collapseAxis=i)),null==o&&(o=1),p+=o,Ext.apply({before:f?"top":"left",totalFlex:p},h)},beginLayout:function(e){var t,i,n,r,o,s,a,l,d,c=this,u=c.getLayoutItems(),h=c.padding,f=typeof h,g=!1;for(e.heightModel.shrinkWrap&&Ext.raise("Border layout does not currently support shrinkWrap height. Please specify a height on component: "+c.owner.id+", or use a container layout that sets the component's height."),e.widthModel.shrinkWrap&&Ext.raise("Border layout does not currently support shrinkWrap width. Please specify a width on component: "+c.owner.id+", or use a container layout that sets the component's width."),h?"string"!=f&&"number"!=f||(h=Ext.util.Format.parseBox(h)):(h=e.getEl("getTargetEl").getPaddingInfo(),g=!0),e.outerPad=h,e.padOnContainer=g,r=0,n=u.length;r<n;++r)i=u[r],(s=c.getSplitterTarget(i))&&(a=void 0,l=!!i.hidden,s.split?l!==s.hidden&&(a=!s.hidden):s.isCollapsingOrExpanding&&(a=!!s.collapsed),a?i.show():!1===a&&i.hide());for(c.callParent(arguments),n=(u=e.childItems).length,o={},e.borderAxisHorz=c.beginAxis(e,o,"horz"),e.borderAxisVert=c.beginAxis(e,o,"vert"),r=0;r<n;++r)t=u[r],(s=c.getSplitterTarget(t.target))&&((d=o[s.id])||((d=e.getEl(s.el,c)).region=s.region),t.collapseTarget=s=d,t.weight=s.weight,t.reverseWeighting=s.reverseWeighting,(s.splitter=t).isHorz=s.isHorz,t.isVert=s.isVert);c.sortWeightedItems(u,"reverseWeighting"),c.setupSplitterNeighbors(u)},calculate:function(e){var t,i,n,r,o,s,a=this,l=a.getContainerSize(e),d=e.childItems,c=d.length,u=e.borderAxisHorz,h=e.borderAxisVert,f=e.outerPad,g=e.padOnContainer;for(u.begin=f[a.padOnContainerProp],h.begin=f.top,o=u.end=u.flexSpace=l.width+(g?f[a.padOnContainerProp]:-f[a.padNotOnContainerProp]),s=h.end=h.flexSpace=l.height+(g?f.top:-f.bottom),t=0;t<c;++t)n=(i=d[t]).getMarginInfo(),(i.isHorz||i.isCenter)&&(u.addUnflexed(n.width),o-=n.width),(i.isVert||i.isCenter)&&(h.addUnflexed(n.height),s-=n.height),i.flex||i.percentage||(i.isHorz||i.isCenter&&"horz"===i.collapseAxis?(r=i.getProp("width"),u.addUnflexed(r),i.collapseTarget&&(o-=r)):(i.isVert||i.isCenter&&"vert"===i.collapseAxis)&&(r=i.getProp("height"),h.addUnflexed(r),i.collapseTarget&&(s-=r)));for(t=0;t<c;++t)n=(i=d[t]).getMarginInfo(),i.percentage&&(i.isHorz?(r=Math.ceil(o*i.percentage/100),r=i.setWidth(r),u.addUnflexed(r)):i.isVert&&(r=Math.ceil(s*i.percentage/100),r=i.setHeight(r),h.addUnflexed(r)));for(t=0;t<c;++t)(i=d[t]).isCenter||(a.calculateChildAxis(i,u),a.calculateChildAxis(i,h));a.finishAxis(e,h)+a.finishAxis(e,u)<2?a.done=!1:a.finishPositions(d)},calculateChildAxis:function(e,t){var i,n,r,o,s=e.collapseTarget,a="set"+t.sizePropCap,l=t.sizeProp,d=e.getMarginInfo()[l];s?i=s.region:(i=e.region,n=e.flex),(s=i===t.borderBegin)||i===t.borderEnd?(o=n?(o=Math.ceil(t.flexSpace*(n/t.totalFlex)),e[a](o)):e.percentage?e.peek(l):e.getProp(l),o+=d,s?(r=t.begin,t.begin+=o):t.end=r=t.end-o):(e[a](t.end-t.begin-d),r=t.begin),e.layoutPos[t.posProp]=r},eachItem:function(e,t,i){var n,r=this.getLayoutItems(),o=0;for(Ext.isFunction(e)&&(i=t=e);o<r.length&&(n=r[o],e&&n.region!==e||!1!==t.call(i,n));o++);},finishAxis:function(e,t){var i=t.end-t.begin,e=e.centerRegion;return e&&(e["set"+t.sizePropCap](i-e.getMarginInfo()[t.sizeProp]),e.layoutPos[t.posProp]=t.begin),Ext.isNumber(i)?1:0},finishPositions:function(e){for(var t,i=e.length,n=this.horzPositionProp,r=0;r<i;++r)(t=e[r]).setProp("x",t.layoutPos.x+t.marginInfo[n]),t.setProp("y",t.layoutPos.y+t.marginInfo.top)},getLayoutItems:function(){for(var e,t,i=this.owner,n=i&&i.items&&i.items.items||[],r=n.length,o=[],s=0;s<r;s++)t=(e=n[s]).placeholderFor,!e.hidden&&(e.floated&&2!==e.isCollapsingOrExpanding||t&&2===t.isCollapsingOrExpanding)||o.push(e);return o},getPlaceholder:function(e){return e.getPlaceholder&&e.getPlaceholder()},getMaxWeight:function(e){return this.getMinMaxWeight(e)},getMinWeight:function(e){return this.getMinMaxWeight(e,!0)},getMinMaxWeight:function(e,t){var i=null;return this.eachItem(e,function(e){e.hasOwnProperty("weight")&&(null===i||t&&e.weight<i||e.weight>i)&&(i=e.weight)},this),i},getSplitterTarget:function(e){e=e.collapseTarget;return e&&e.collapsed&&e.placeholder||e},isItemBoxParent:function(e){return!0},isItemShrinkWrap:function(e){return!0},insertSplitter:function(e,t,i,n){var r=e.region,n=Ext.apply({xtype:"bordersplitter",collapseTarget:e,id:e.id+"-splitter",hidden:i,canResize:!1!==e.splitterResize,splitterFor:e,synthetic:!0},n),r=t+("south"===r||"east"===r?0:1);"mini"===e.collapseMode&&(n.collapsedCls=e.collapsedCls),e.splitter=this.owner.add(r,n)},getMoveAfterIndex:function(e){var t=this.callParent(arguments);return e.splitter&&t++,t},moveItemBefore:function(e,t){var i;return t&&t.splitter&&("south"!==(i=t.region)&&"east"!==i||(t=t.splitter)),this.callParent([e,t])},onAdd:function(e,t){var i,n,r,o=this,s=e.placeholderFor,a=e.region;o.callParent(arguments),a?(Ext.apply(e,o.regionFlags[a]),o.owner.isViewport&&(e.isViewportBorderChild=!0),e.initBorderRegion&&e.initBorderRegion(),(i="center"===a)?(o.centerRegion&&Ext.raise("Cannot have multiple center regions in a BorderLayout."),o.centerRegion=e):(a=e.split,n=!!e.hidden,"object"==typeof a&&(r=a,a=!0),!e.isHorz&&!e.isVert||!a&&"mini"!==e.collapseMode||o.insertSplitter(e,t,n||!a,r)),i||e.hasOwnProperty("collapseMode")||(e.collapseMode=o.panelCollapseMode),e.hasOwnProperty("animCollapse")||("placeholder"!==e.collapseMode?e.animCollapse=!1:e.animCollapse=o.panelCollapseAnimate),n&&e.placeholder&&e.placeholder.isVisible()&&o.owner.insert(t,e.placeholder)):s&&(Ext.apply(e,o.regionFlags[s.region]),e.region=s.region,e.weight=s.weight)},onDestroy:function(){this.centerRegion=null,this.callParent()},onRemove:function(e,t){var i=e.region,n=e.splitter,r=this.owner,o=r.destroying;i&&(e.isCenter&&(this.centerRegion=null),delete e.isCenter,delete e.isHorz,delete e.isVert,n&&!r.destroying&&r.doRemove(n,!0),delete e.splitter),this.callParent(arguments),o||t||!e.rendered||(o=e.getEl())&&(o.setStyle("top",""),o.setStyle(this.horzPositionProp,""))},regionMeta:{center:{splitterDelta:0},north:{splitterDelta:1},south:{splitterDelta:-1},west:{splitterDelta:1},east:{splitterDelta:-1}},regionFlags:{center:{isCenter:!0,isHorz:!1,isVert:!1},north:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"top"},south:{isCenter:!1,isHorz:!1,isVert:!0,collapseDirection:"bottom"},west:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"left"},east:{isCenter:!1,isHorz:!0,isVert:!1,collapseDirection:"right"}},setupSplitterNeighbors:function(e){for(var t,i,n,r,o,s,a,l,d={},c=e.length,u=this.touchedRegions,h=0;h<c;++h)if(s=(o=e[h].target).region,o.isCenter)i=o;else if(s){for(t=0,n=(l=u[s]).length;t<n;++t)(r=d[l[t]])&&r.neighbors.push(o);(a=(o.placeholderFor||o).splitter)&&(a.neighbors=[]),d[s]=a}if(i)for(t=0,n=(l=u.center).length;t<n;++t)(r=d[l[t]])&&r.neighbors.push(i)},touchedRegions:{center:["north","south","east","west"],north:["north","east","west"],south:["south","east","west"],east:["east","north","south"],west:["west","north","south"]},sizePolicies:{vert:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},horz:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},flexAll:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(e){var t,i,n=this.sizePolicies;return e.isCenter?(i=e.placeholderFor)?i.collapsedVertical()?n.vert:n.horz:e.collapsed?e.collapsedVertical()?n.vert:n.horz:n.flexAll:(i=e.collapseTarget)?i.isVert?n.vert:n.horz:e.region?(i=e.isVert?(t=e.height,n.vert):(t=e.width,n.horz),e.flex||"string"==typeof t&&this.percentageRe.test(t)?n.flexAll:i):this.autoSizePolicy}},function(){var e={addUnflexed:function(e){this.flexSpace=Math.max(this.flexSpace-e,0)}},t=this.prototype.axisProps;Ext.apply(t.horz,e),Ext.apply(t.vert,e)}),Ext.define("Ext.rtl.layout.container.Border",{override:"Ext.layout.container.Border",initLayout:function(){this.owner.getInherited().rtl&&(this.padOnContainerProp="right",this.padNotOnContainerProp="left",this.horzPositionProp="right"),this.callParent(arguments)}}),Ext.define("Ext.layout.container.Card",{extend:"Ext.layout.container.Fit",alternateClassName:"Ext.layout.CardLayout",alias:"layout.card",type:"card",hideInactive:!0,deferredRender:!1,getRenderTree:function(){var e=this.getActiveItem();if(e)return e.hasListeners.beforeactivate&&!1===e.fireEvent("beforeactivate",e)?e=this.activeItem=this.owner.activeItem=null:e.hasListeners.activate&&e.on({boxready:function(){e.fireEvent("activate",e)},single:!0}),this.deferredRender?e?this.getItemsRenderTree([e]):void 0:this.callParent(arguments)},renderChildren:function(){var e=this.getActiveItem();this.deferredRender?e&&this.renderItems([e],this.getRenderTarget()):this.callParent()},isValidParent:function(e,t,i){e=e.el?e.el.dom:Ext.getDom(e);return e&&e.parentNode===(t.dom||t)||!1},getActiveItem:function(){var e=void 0===this.activeItem?this.owner&&this.owner.activeItem:this.activeItem,e=this.parseActiveItem(e);return e&&-1!==this.owner.items.indexOf(e)&&(this.activeItem=e),null==e?null:this.activeItem||this.owner.activeItem},parseActiveItem:function(e){e=e&&e.isComponent?e:"number"==typeof e||void 0===e?this.getLayoutItems()[e||0]:null===e?null:this.owner.getComponent(e);return e},configureItem:function(e){e.setHiddenState(e!==this.getActiveItem()),this.callParent(arguments)},onAdd:function(e,t){this.callParent([e,t]),this.setItemHideMode(e)},onRemove:function(e){this.callParent([e]),this.resetItemHideMode(e),e===this.activeItem&&(this.activeItem=void 0)},getAnimation:function(e,t){e=(e||{}).cardSwitchAnimation;return!1!==e&&(e||t.cardSwitchAnimation)},getNext:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)+1]||!!e&&t[0]},next:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getNext(t),e)},getPrev:function(){var e=arguments[0],t=this.getLayoutItems();return t[Ext.Array.indexOf(t,this.activeItem)-1]||!!e&&t[t.length-1]},prev:function(){var e=arguments[0],t=arguments[1];return this.setActiveItem(this.getPrev(t),e)},setActiveItem:function(e){var t,i=this,n=i.owner,r=i.activeItem,o=n.rendered;if(e=i.parseActiveItem(e),-1===n.items.indexOf(e)&&(n.items.items.length,Ext.suspendLayouts(),e=n.add(e),Ext.resumeLayouts()),e&&r!==e){if(!1===e.fireEvent("beforeactivate",e,r))return!1;if(r&&!1===r.fireEvent("beforedeactivate",r,e))return!1;if(o){if(Ext.suspendLayouts(),e.rendered||i.renderItem(e,i.getRenderTarget(),n.items.length),r&&i.hideInactive){if(t=r.el.contains(Ext.Element.getActiveElement()),r.hide(),!r.hidden)return!1;r.hiddenByLayout=!0,r.fireEvent("deactivate",r,e)}e.hidden&&e.show(),e.hidden?i.activeItem=e=null:(i.activeItem=e,t&&(e.defaultFocus||(e.defaultFocus=":focusable"),e.focus())),Ext.resumeLayouts(!0)}else i.activeItem=e;return e.fireEvent("activate",e,r),i.activeItem}return!1},resetItemHideMode:function(e){e.hideMode=e.originalHideMode,delete e.originalHideMode},setItemHideMode:function(e){e.originalHideMode=e.hideMode,e.hideMode="offsets"}}),Ext.define("Ext.layout.container.Center",{extend:"Ext.layout.container.Fit",alias:["layout.center","layout.ux.center"],alternateClassName:"Ext.ux.layout.Center",type:"center",percentRe:/^\d+(?:\.\d+)?\%$/,itemCls:Ext.baseCSSPrefix+"center-layout-item",childEls:["targetEl"],renderTpl:['<div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div>'],targetElCls:Ext.baseCSSPrefix+"center-target",beginLayout:function(e){var t,i,n,r,o,s=this.percentRe;for(this.callParent([e]),n=0,i=(t=e.childItems).length;n<i;++n)o=(r=t[n]).target,r.widthModel,r.heightModel,s.test(o.width)&&o.getEl().setStyle("width",""),s.test(o.height)&&o.getEl().setStyle("height","");e.targetElContext=e.getEl("targetEl",this)},beginLayoutCycle:function(e,t){var i=this.targetEl;this.callParent([e,t]),i.setStyle("width",""),i.setStyle("height","")},getRenderData:function(){var e=this.callParent();return e.targetElCls=this.targetElCls,e},getRenderTarget:function(){return this.targetEl},getItemSizePolicy:function(e,t){var i=t||this.owner.getSizeModel(),t=this.percentRe,e=(i.width.shrinkWrap||!t.test(e.width)?0:1)|(i.height.shrinkWrap||!t.test(e.height)?0:2);return this.sizePolicies[e]},isItemShrinkWrap:function(e){return!0},calculate:function(e){var t,i=e.targetElContext;this.callParent([e]),t=e.state.info,e.widthModel.shrinkWrap&&i.setWidth(t.contentWidth),e.heightModel.shrinkWrap&&i.setHeight(t.contentHeight)},getPos:function(e,t,i){var n=i+"Model",r=e.props[i],o=0;return e[n].calculated||(r+=t.margins[i]),t.ownerContext[n].shrinkWrap||(o=Math.round((t.targetSize[i]-r)/2),isNaN(o)&&(this.done=!1)),Math.max(o,0)},positionItemX:function(e,t){t=this.getPos(e,t,"width");e.setProp("x",t)},positionItemY:function(e,t){t=this.getPos(e,t,"height");e.setProp("y",t)},setItemHeight:function(e,t){var i=parseFloat(e.target.height)/100;e.setHeight(Math.round((t.targetSize.height-t.margins.height)*i))},setItemWidth:function(e,t){var i=parseFloat(e.target.width)/100;e.setWidth(Math.round((t.targetSize.width-t.margins.width)*i))}}),Ext.define("Ext.layout.container.Form",{extend:"Ext.layout.container.Auto",alternateClassName:"Ext.layout.FormLayout",alias:"layout.form",type:"form",formWrapCls:Ext.baseCSSPrefix+"form-layout-wrap",formWrapAutoLabelCls:Ext.baseCSSPrefix+"form-layout-auto-label",formWrapSizedLabelCls:Ext.baseCSSPrefix+"form-layout-sized-label",formColGroupCls:Ext.baseCSSPrefix+"form-layout-colgroup",formColumnCls:Ext.baseCSSPrefix+"form-layout-column",formLabelColumnCls:Ext.baseCSSPrefix+"form-layout-label-column",childEls:["formWrap","labelColumn"],beforeBodyTpl:'<div id="{ownerId}-formWrap" data-ref="formWrap" class="{formWrapCls}"<tpl if="itemSpacing"> style="border-spacing:{itemSpacing}px"</tpl>><div class="{formColGroupCls}"><div id="{ownerId}-labelColumn" data-ref="labelColumn" class="{formColumnCls} {formLabelColumnCls}"<tpl if="labelWidth"> style="width:{labelWidth}"</tpl>></div><div class="{formColumnCls}"></div></div>',afterBodyTpl:"</div>",getRenderData:function(){var e=this.labelWidth,t=this.formWrapCls,i=this.callParent();return e?("number"==typeof e&&(e+="px"),i.labelWidth=e,t+=" "+this.formWrapSizedLabelCls):t+=" "+this.formWrapAutoLabelCls,i.formWrapCls=t,i.formColGroupCls=this.formColGroupCls,i.formColumnCls=this.formColumnCls,i.formLabelColumnCls=this.formLabelColumnCls,i},getRenderTarget:function(){return this.formWrap}}),Ext.define("Ext.menu.Bar",{extend:"Ext.menu.Menu",xtype:"menubar",isMenuBar:!0,defaultMenuAlign:"tl-bl?",floating:!1,constrain:!1,showSeparator:!1,allowOtherMenus:!0,ariaRole:"menubar",ui:"default-menubar",layout:{type:"hbox",align:"stretchmax",pack:"start",overflowHandler:"menu"},lookupComponent:function(e){return(e=this.callParent([e])).isMenuItem&&(e.menuAlign=this.defaultMenuAlign),e},privates:{onFocusableContainerLeftKey:function(e){e.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerLeftKey.call(this,e)},onFocusableContainerRightKey:function(e){e.preventDefault(),this.mixins.focusablecontainer.onFocusableContainerRightKey.call(this,e)},onFocusableContainerUpKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)},onFocusableContainerDownKey:function(e){var t=this.lastFocusedChild;e.preventDefault(),t&&t.expandMenu&&t.expandMenu(e,0)}}}),Ext.define("Ext.menu.ColorPicker",{extend:"Ext.menu.Menu",alias:"widget.colormenu",requires:["Ext.picker.Color"],hideOnClick:!0,pickerId:null,initComponent:function(){var e=this,t=Ext.apply({},e.initialConfig);delete t.listeners,Ext.apply(e,{plain:!0,showSeparator:!1,bodyPadding:0,items:Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-color-item",margin:0,id:e.pickerId,xtype:"colorpicker"},t)}),e.callParent(arguments),e.picker=e.down("colorpicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.menu.DatePicker",{extend:"Ext.menu.Menu",alias:"widget.datemenu",requires:["Ext.picker.Date"],ariaRole:"dialog",ariaLabel:"Date picker",hideOnClick:!0,pickerId:null,enableFocusableContainer:!1,initComponent:function(){var e=this,t=e.pickerCfg?Ext.apply({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:e.pickerId,xtype:"datepicker"},e.pickerCfg):(delete(t=Ext.apply({},e.initialConfig)).listeners,Ext.applyIf({cls:Ext.baseCSSPrefix+"menu-date-item",margin:0,border:!1,id:e.pickerId,xtype:"datepicker"},t));Ext.apply(e,{showSeparator:!1,plain:!0,bodyPadding:0,items:[t]}),e.callParent(),e.picker=e.down("datepicker"),e.relayEvents(e.picker,["select"]),e.hideOnClick&&e.on("select",e.hidePickerOnSelect,e)},onEscapeKey:function(e){this.floating&&this.ownerCmp&&this.ownerCmp.focus&&this.ownerCmp.focus()},hidePickerOnSelect:function(){Ext.menu.Manager.hideAll()}}),Ext.define("Ext.panel.Pinnable",{extend:"Ext.Mixin",mixinId:"pinnable",pinnable:!0,pinnedTip:"Unpin this item",unpinnedTip:"Pin this item",initPinnable:function(){var e=this.isPinned();this.addTool(this.pinTool=Ext.widget({xtype:"tool",type:e?"unpin":"pin",callback:"togglePin",scope:this,tooltip:e?this.pinnedTip:this.unpinnedTip}))},isPinned:function(){return!this.floating},setPinned:function(e){var t;e!==this.isPinned()&&!(t=[this,e])!==this.fireEventArgs("beforepinchange",t)&&(this.updatePinned(e),this.fireEventArgs("pinchange",t))},togglePin:function(){this.setPinned(!this.isPinned())},updatePinned:function(e){var t=this.pinTool;t.setTooltip(e?this.pinnedTip:this.unpinnedTip),t.setType(e?"unpin":"pin")}}),Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:!0,typeName:"ptype",create:function(e,t,i){e=e.init?e:(i?(e=Ext.apply({},e)).cmp=i:i=e.cmp,e.xclass?Ext.create(e):(t="plugin."+(e.ptype||t),Ext.ClassManager.instantiateByAlias(t,e)));return e&&i&&e.setCmp&&!e.setCmpCalled&&(e.setCmp(i),e.setCmpCalled=!0),e}}),Ext.define("Ext.resizer.BorderSplitterTracker",{extend:"Ext.resizer.SplitterTracker",requires:["Ext.util.Region"],getPrevCmp:null,getNextCmp:null,calculateConstrainRegion:function(){var e,t,i,n=this.splitter,r=n.collapseTarget,o=n.defaultSplitMin,s=n.vertical?"Width":"Height",a="min"+s,l="max"+s,d="get"+s,c=n.neighbors,u=c.length,h=r.el.getBox(),f=h.x,g=h.y,p=h.right,s=h.bottom,m=n.vertical?p-f:s-g,x=(r[a]||Math.min(m,o))-m,E=r[l];for(E?E-=m:E=1e9,r=m,e=0;e<u;++e)m=(i=c[e])[d](),null===(t=i[l])&&(t=void 0),t=m-t,i=m-(i[a]||Math.min(m,o)),isNaN(t)||x<t&&(x=t),i<E&&(E=i);return E-x<2?null:(h=new Ext.util.Region(g,p,s,f),this.constraintAdjusters[this.getCollapseDirection()](h,x,E,n),this.dragInfo={minRange:x,maxRange:E,targetSize:r},h)},constraintAdjusters:{left:function(e,t,i,n){e[0]=e.x=e.left=e.right+t,e.right+=i+n.getWidth()},top:function(e,t,i,n){e[1]=e.y=e.top=e.bottom+t,e.bottom+=i+n.getHeight()},bottom:function(e,t,i,n){e.bottom=e.top-t,e.top-=i+n.getHeight()},right:function(e,t,i,n){e.right=e.left-t,e[0]=e.x=e.left=e.x-i+n.getWidth()}},onBeforeStart:function(e){var t,i,n=this.splitter,r=n.collapseTarget,o=n.neighbors,s=o.length;if(r.collapsed)return!1;for(t=0;t<s;++t)if((i=o[t]).collapsed&&i.isHorz===r.isHorz)return!1;return!!(this.constrainTo=this.calculateConstrainRegion())},performResize:function(e,t){var i=this.splitter,n=i.getCollapseDirection(),r=i.collapseTarget,o=this.splitAdjusters[i.vertical?"horz":"vert"],s=t[o.index],t=this.dragInfo;"right"!==n&&"bottom"!==n||(s=-s),(s=Math.min(Math.max(t.minRange,s),t.maxRange))&&((i=i.ownerCt).suspendLayouts(),o.adjustTarget(r,t.targetSize,s),i.resumeLayouts(!0))},splitAdjusters:{horz:{index:0,adjustTarget:function(e,t,i){e.flex=null,e.setSize(t+i)}},vert:{index:1,adjustTarget:function(e,t,i){e.flex=null,e.setSize(void 0,t+i)}}},getCollapseDirection:function(){return this.splitter.getCollapseDirection()}}),Ext.define("Ext.rtl.resizer.BorderSplitterTracker",{override:"Ext.resizer.BorderSplitterTracker",rtlDirections:{top:"top",right:"left",bottom:"bottom",left:"right"},getCollapseDirection:function(){var e=this.splitter.getCollapseDirection();return!this.splitter.getInherited().rtl!=!Ext.rootInheritedState.rtl&&(e=this.rtlDirections[e]),e}}),Ext.define("Ext.resizer.Handle",{extend:"Ext.Component",handleCls:"",baseHandleCls:Ext.baseCSSPrefix+"resizable-handle",region:"",ariaRole:"presentation",beforeRender:function(){this.callParent(),this.protoEl.unselectable(),this.addCls(this.baseHandleCls,this.baseHandleCls+"-"+this.region,this.handleCls)}}),Ext.define("Ext.resizer.ResizeTracker",{extend:"Ext.dd.DragTracker",dynamic:!0,preserveRatio:!1,preventDefault:!1,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(e){var t,i,n,r=this;e.el||(e.target.isComponent?r.el=e.target.getEl():r.el=e.target),this.callParent(arguments),r.preserveRatio&&r.minWidth&&r.minHeight&&((t=r.minWidth/r.el.getWidth())<(i=r.minHeight/r.el.getHeight())?r.minWidth=r.el.getWidth()*i:r.minHeight=r.el.getHeight()*t),r.throttle&&(n=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments)},r.throttle),r.resize=function(e,t,i){i?Ext.resizer.ResizeTracker.prototype.resize.apply(r,arguments):n.apply(null,arguments)})},onBeforeStart:function(e){this.startBox=this.target.getBox()},getProxy:function(){var e=this;if(e.dynamic||e.proxy||(e.proxy=e.createProxy(e.target||e.el),e.hideProxy=!0),e.proxy)return e.proxy.show(),e.proxy},createProxy:function(e){var t=this.proxyCls,e=e.isComponent?e.getProxy().addCls(t):e.createProxy({tag:"div",role:"presentation",cls:t,id:e.id+"-rzproxy"},Ext.getBody());return e.removeCls(Ext.baseCSSPrefix+"proxy-el"),e},onStart:function(e){this.activeResizeHandle=Ext.get(this.getDragTarget().id),this.dynamic||this.resize(this.startBox)},onMouseDown:function(e,t){this.callParent([e,t]),Ext.dom.Element.maskIframes()},onMouseUp:function(e){this.callParent([e]),Ext.dom.Element.unmaskIframes()},onDrag:function(e){(this.dynamic||this.proxy)&&this.updateDimensions(e)},updateDimensions:function(e,t){var i,n,r,o,s,a,l,d=this,c=d.activeResizeHandle.region,u=d.getOffset(d.constrainTo?"dragTarget":null),h=d.startBox,f=0,g=0,p=0,m=0;switch(c=d.convertRegionName(c)){case"south":g=u[1],s=2;break;case"north":m=-(g=-u[1]),s=2;break;case"east":f=u[0],s=1;break;case"west":p=-(f=-u[0]),s=1;break;case"northeast":m=-(g=-u[1]),f=u[0],o=[h.x,h.y+h.height],s=3;break;case"southeast":g=u[1],f=u[0],o=[h.x,h.y],s=3;break;case"southwest":p=-(f=-u[0]),g=u[1],o=[h.x+h.width,h.y],s=3;break;case"northwest":m=-(g=-u[1]),p=-(f=-u[0]),o=[h.x+h.width,h.y+h.height],s=3}if(a={width:h.width+f,height:h.height+g,x:h.x+p,y:h.y+m},n=Ext.Number.snap(a.width,d.widthIncrement),r=Ext.Number.snap(a.height,d.heightIncrement),n!==a.width||r!==a.height){switch(c){case"northeast":case"north":a.y-=r-a.height;break;case"southwest":case"west":a.x-=n-a.width;break;case"northwest":a.x-=n-a.width,a.y-=r-a.height}a.width=n,a.height=r}a.width<d.minWidth||a.width>d.maxWidth?(a.width=Ext.Number.constrain(a.width,d.minWidth,d.maxWidth),p&&(a.x=h.x+(h.width-a.width))):d.lastX=a.x,a.height<d.minHeight||a.height>d.maxHeight?(a.height=Ext.Number.constrain(a.height,d.minHeight,d.maxHeight),m&&(a.y=h.y+(h.height-a.height))):d.lastY=a.y,(d.preserveRatio||e.shiftKey)&&(i=d.startBox.width/d.startBox.height,l=Math.min(Math.max(d.minHeight,a.width/i),d.maxHeight),e=Math.min(Math.max(d.minWidth,a.height*i),d.maxWidth),1===s?a.height=l:2===s?a.width=e:(i<Math.abs(o[0]-this.lastXY[0])/Math.abs(o[1]-this.lastXY[1])?a.height=l:a.width=e,"northeast"===c?a.y=h.y-(a.height-h.height):"northwest"===c?(a.y=h.y-(a.height-h.height),a.x=h.x-(a.width-h.width)):"southwest"===c&&(a.x=h.x-(a.width-h.width)))),d.setPosition=a.x!==d.startBox.x||a.y!==d.startBox.y,d.resize(a,t)},resize:function(e,t){var i=this.setPosition;(this.dynamic||!this.dynamic&&t)&&(i?this.target.setBox(e):this.target.setSize(e.width,e.height)),t||(t=this.getProxy())&&t!==this.target&&(i||this.hideProxy?t.setBox(e):t.setSize(e.width,e.height))},onEnd:function(e){this.updateDimensions(e,!0),this.proxy&&this.hideProxy&&this.proxy.hide()},convertRegionName:function(e){return e}}),Ext.define("Ext.rtl.resizer.ResizeTracker",{override:"Ext.resizer.ResizeTracker",_rtlRegionNames:{south:"south",north:"north",east:"west",west:"east",northeast:"northwest",southeast:"southwest",southwest:"southeast",northwest:"northeast"},convertRegionName:function(e){return Ext.rootInheritedState.rtl?this._rtlRegionNames[e]:e}}),Ext.define("Ext.resizer.Resizer",{mixins:{observable:"Ext.util.Observable"},uses:["Ext.resizer.ResizeTracker","Ext.Component"],alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:!0,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:1e4,maxWidth:1e4,pinned:!1,preserveRatio:!1,transparent:!1,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},touchActionMap:{n:{panY:!1},s:{panY:!1},e:{panX:!1},w:{panX:!1},se:{panX:!1,panY:!1},sw:{panX:!1,panY:!1},nw:{panX:!1,panY:!1},ne:{panX:!1,panY:!1}},ariaRole:"presentation",constructor:function(e){var t,i,n,r,o,s,a,l,d,c,u,h,f=this,g=Ext.dom.Element.unselectableCls,p=[];for((Ext.isString(e)||Ext.isElement(e)||e.dom)&&(h=e,(e=arguments[1]||{}).target=h),f.mixins.observable.constructor.call(f,e),(h=f.target)?h.isComponent?(h.addClsWithUI("resizable"),h.minWidth&&(f.minWidth=h.minWidth),h.minHeight&&(f.minHeight=h.minHeight),h.maxWidth&&(f.maxWidth=h.maxWidth),h.maxHeight&&(f.maxHeight=h.maxHeight),h.floating&&(f.hasOwnProperty("handles")||(f.handles="n ne e se s sw w nw")),f.el=h.getEl()):h=f.el=f.target=Ext.get(h):h=f.target=f.el=Ext.get(f.el),f.el.addCls(Ext.Component.prototype.borderBoxCls),Ext.isNumber(f.width)&&(f.width=Ext.Number.constrain(f.width,f.minWidth,f.maxWidth)),Ext.isNumber(f.height)&&(f.height=Ext.Number.constrain(f.height,f.minHeight,f.maxHeight)),null===f.width&&null===f.height||f.target.setSize(f.width,f.height),"TEXTAREA"!==(s=f.el.dom.tagName.toUpperCase())&&"IMG"!==s&&"TABLE"!==s||(f.originalTarget=f.target,c=h.isComponent?h.getEl():h,f.el.addCls(f.wrappedCls),f.target=f.el=f.el.wrap({role:"presentation",cls:f.wrapCls,id:f.el.id+"-rzwrap",style:c.getStyle(["margin-top","margin-bottom"])}),u=c.getPositioning(),f.el.setPositioning(u),c.clearPositioning(),s=c.getBox(),"absolute"!==u.position&&(s.x=0,s.y=0),f.el.setBox(s),c.setStyle("position","absolute"),f.isTargetWrapped=!0),f.el.position(),f.pinned&&f.el.addCls(f.pinnedCls),f.resizeTracker=new Ext.resizer.ResizeTracker({disabled:f.disabled,target:h,el:f.el,constrainTo:f.constrainTo,handleCls:f.handleCls,overCls:f.overCls,throttle:f.throttle,proxy:f.originalTarget?f.el:null,dynamic:!!f.originalTarget||f.dynamic,originalTarget:f.originalTarget,delegate:"."+f.handleCls,preserveRatio:f.preserveRatio,heightIncrement:f.heightIncrement,widthIncrement:f.widthIncrement,minHeight:f.minHeight,maxHeight:f.maxHeight,minWidth:f.minWidth,maxWidth:f.maxWidth}),f.resizeTracker.on({mousedown:f.onBeforeResize,drag:f.onResize,dragend:f.onResizeEnd,scope:f}),"all"===f.handles&&(f.handles="n s e w ne nw se sw"),l=f.handles=f.handles.split(f.delimiterRe),i=f.possiblePositions,n=l.length,t=f.handleCls+" "+f.handleCls+"-{0}",f.target.isComponent&&(t+=" "+(h=f.target.baseCls)+"-handle "+h+"-handle-{0}",Ext.supports.CSS3BorderRadius&&(t+=" "+h+"-handle-{0}-br")),r=0;r<n;r++)(a=l[r])&&i[a]&&((d=f[o=i[a]]=f.el.createChild({id:f.el.id+"-"+o+"-handle",cls:Ext.String.format(t,o)+" "+g,unselectable:"on",role:"presentation"})).region=o,f.transparent&&d.setOpacity(0),d.setTouchAction(f.touchActionMap[a]),p.push(d));f.resizeTracker.handleEls=p},disable:function(){this.disabled=!0,this.resizeTracker.disable()},enable:function(){this.disabled=!1,this.resizeTracker.enable()},onBeforeResize:function(e,t){return this.fireResizeEvent("beforeresize",e,t)},onResize:function(e,t){return this.fireResizeEvent("resizedrag",e,t)},onResizeEnd:function(e,t){return this.fireResizeEvent("resize",e,t)},fireResizeEvent:function(e,t,i){var n;if(this.hasListeners[e])return n=this.el.getBox(),this.fireEvent(e,this,n.width,n.height,i)},resizeTo:function(e,t){this.target.setSize(e,t),this.fireEvent("resize",this,e,t,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e,t,i,n=this.handles,r=n.length,o=this.possiblePositions;for(this.resizeTracker.destroy(),this.isTargetWrapped&&this.target.destroy(),i=0;i<r;i++)(e=this[t=o[n[i]]])&&(e.destroy(),this[t]=null);this.callParent()}}),Ext.define("Ext.selection.CellModel",{extend:"Ext.selection.DataViewModel",alias:"selection.cellmodel",requires:["Ext.grid.CellContext"],isCellModel:!0,deselectOnContainerClick:!1,enableKeyNav:!0,preventWrap:!1,bindComponent:function(e){var t;this.view&&this.gridListeners&&this.gridListeners.destroy(),this.callParent([e]),e&&!1!==(t=e.grid||e.ownerCt).optimizedColumnMove&&(this.gridListeners=t.on({columnmove:this.onColumnMove,scope:this,destroyable:!0}))},getViewListeners:function(){var e=this.callParent();return e.refresh=this.onViewRefresh,e},getHeaderCt:function(){var e=this.navigationModel.getPosition();return(e?e.view:this.primaryView).headerCt},onNavigate:function(e){e.record&&!e.keyEvent.stopSelection&&this.setPosition(e.position)},selectWithEvent:function(e,t){this.select(e)},select:function(e,t,i){var n=this.getPosition(),r=this.view.store;!e&&0!==e||(e.isModel?e=-1!==(r=r.indexOf(e))?{row:r,column:n?n.column:0}:null:"number"==typeof e&&(e={row:e,column:0})),e?this.selectByPosition(e,i):this.deselect()},getCurrentPosition:function(){var e=this.selecting?this.nextSelection:this.selection;return e&&{view:e.view,record:e.record,row:e.rowIdx,columnHeader:e.column,column:e.view.getColumnManager().indexOf(e.column)}},getPosition:function(){return(this.selecting?this.nextSelection:this.selection)||null},setCurrentPosition:function(e,t,i){return e&&!e.isCellContext&&(e=new Ext.grid.CellContext(this.view).setPosition({row:e.row,column:"number"==typeof e.column?this.view.getColumnManager().getColumns()[e.column]:e.column})),this.setPosition(e,t,i)},setPosition:function(e,t,i){var n=this,r=n.selection;return e=e&&(e.isCellContext?e.clone():new Ext.grid.CellContext(n.view).setPosition(e)),!i&&r&&(e&&e.record===r.record&&e.column===r.column&&e.view===r.view?e=null:n.onCellDeselect(n.selection,t)),e?(n.nextSelection=e,n.selecting=!0,n.onCellSelect(n.nextSelection,t),n.selecting=!1,n.selection=e):null},isCellSelected:function(e,t,i){var n=this.getPosition();if(n&&n.view===e)return(i=new Ext.grid.CellContext(e).setPosition({row:t,column:"number"==typeof i?e.getColumnManager().getColumns()[i]:i})).record===n.record&&i.column===n.column},onStoreRemove:function(e,t,i){var n=this.getPosition();this.callParent(arguments),n&&e.isMoving(n.record)||(n&&e.getCount()&&-1!==e.indexOf(n.record)?n.setRow(n.record):this.selection=null)},onStoreClear:function(){this.callParent(arguments),this.selection=null},onStoreAdd:function(){var e=this.getPosition();this.callParent(arguments),e?e.setRow(e.record):this.selection=null},updateSelectedInstances:function(e){var t=this.getPosition(),i=e.getAt(0);i&&t&&t.record.id===i.id&&t.setRow(i),this.callParent([e])},onCellClick:function(e,t,i,n,r,o,s){-1!==o&&this.setPosition(s.position)},onCellSelect:function(e,t){e&&void 0!==e.rowIdx&&-1<e.rowIdx&&this.doSelect(e.record,!1,t)},onCellDeselect:function(e,t){e&&void 0!==e.rowIdx&&this.doDeselect(e.record,t)},onSelectChange:function(e,t,i,n){var r,o=t?(r=this.nextSelection,"select"):(r=this.selection,"deselect"),s=r.view||this.primaryView;!1!==(i||this.fireEvent("before"+o,this,e,r.rowIdx,r.colIdx))&&!1!==n()&&(t?s.onCellSelect(r):(s.onCellDeselect(r),delete this.selection),i||this.fireEvent(o,this,e,r.rowIdx,r.colIdx))},refresh:function(){var e,t=this.getPosition();t&&-1!==(e=this.store.indexOf(this.selected.last()))&&(t.rowIdx=e)},onColumnMove:function(e,t,i,n){e=e.up("tablepanel");e&&this.onViewRefresh(e.view)},onUpdate:function(e){this.isSelected(e)&&(e=this.selecting?this.nextSelection:this.selection,this.view.onCellSelect(e))},onViewRefresh:function(e){var t,i,n=this.getPosition(),r=e.headerCt;n&&n.view===e&&(t=n.record,(i=e.getColumnByPosition(n)).isDescendantOf(r)||(i=r.queryById(i.id)||r.down('[text="'+i.text+'"]')||r.down('[dataIndex="'+i.dataIndex+'"]')),n.record?i&&-1!==e.store.indexOfId(t.getId())&&(i=new Ext.grid.CellContext(e).setPosition({row:t,column:i}),this.setPosition(i)):this.selection=null)},selectByPosition:function(e,t){this.setPosition(e,t)}}),Ext.define("Ext.selection.RowModel",{extend:"Ext.selection.DataViewModel",alias:"selection.rowmodel",requires:["Ext.grid.CellContext"],enableKeyNav:!0,isRowModel:!0,deselectOnContainerClick:!1,onUpdate:function(e){var t,i=this.view;i&&this.isSelected(e)&&(t=i.indexOf(e),i.onRowSelect(t),e===this.lastFocused&&i.onRowFocus(t,!0))},onSelectChange:function(e,t,i,n){var r,o,s=this.views||[this.view],a=s.length,l=this.store.indexOf(e),d=t?"select":"deselect";if(!1!==(i||this.fireEvent("before"+d,this,e,l))&&!1!==n()){for(r=0;r<a;r++)l=(o=s[r]).indexOf(e),-1!==o.indexOf(e)&&(t?o.onRowSelect(l,i):o.onRowDeselect(l,i));i||this.fireEvent(d,this,e,l)}},getCurrentPosition:function(){var e=this.selected.getAt(0);if(e)return new Ext.grid.CellContext(this.view).setPosition(this.store.indexOf(e),0)},selectByPosition:function(e,t){e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e.row,e.column)),this.select(e.record,t)},selectNext:function(e,t){var i=this.store,n=this.getSelection(),n=n[n.length-1],n=this.view.indexOf(n)+1,t=n!==i.getCount()&&0!==n&&(this.doSelect(n,e,t),!0);return t},selectPrevious:function(e,t){var i=this.getSelection()[0],i=this.view.indexOf(i)-1,t=!(i<0)&&(this.doSelect(i,e,t),!0);return t},isRowSelected:function(e){return this.isSelected(e)},isCellSelected:function(e,t,i){return this.isSelected(t)},vetoSelection:function(e){var t=this.view.getNavigationModel(),i=e.getKey();return(i===e.RIGHT||i===e.LEFT)&&t.previousRecord===t.record||this.callParent([e])}}),Ext.define("Ext.selection.CheckboxModel",{alias:"selection.checkboxmodel",extend:"Ext.selection.RowModel",requires:["Ext.grid.column.Check"],mode:"MULTI",injectCheckbox:0,checkOnly:!1,showHeaderCheckbox:void 0,headerText:void 0,headerAriaLabel:"Row selector",headerSelectText:"Press Space to select all rows",headerDeselectText:"Press Space to deselect all rows",rowSelectText:"Press Space to select this row",rowDeselectText:"Press Space to deselect this row",allowDeselect:!0,headerWidth:24,checkerOnCls:Ext.baseCSSPrefix+"grid-hd-checker-on",tdCls:Ext.baseCSSPrefix+"grid-cell-special "+Ext.baseCSSPrefix+"selmodel-column",constructor:function(){this.callParent(arguments),"SINGLE"===this.mode&&(this.showHeaderCheckbox&&Ext.Error.raise("The header checkbox is not supported for SINGLE mode selection models."),this.showHeaderCheckbox=!1)},beforeViewRender:function(e){var t=this,i=e.grid.ownerLockable;t.callParent(arguments),!1!==t.injectCheckbox&&(i&&!t.lockListeners&&(t.lockListeners=i.mon(i,{lockcolumn:t.onColumnLock,unlockcolumn:t.onColumnUnlock,scope:t,destroyable:!0})),(!i||e.isLockedView&&t.hasLockedHeader()||e.isNormalView&&!t.column)&&(t.addCheckbox(e),i=e.ownerCt,e.headerCt.lockedCt&&(i=i.ownerCt),t.mon(e.ownerGrid,{beforereconfigure:t.onBeforeReconfigure,reconfigure:t.onReconfigure,scope:t})))},onColumnUnlock:function(e,t){var i=this.injectCheckbox,n=e.lockedGrid.visibleColumnManager.getColumns();1===n.length&&n[0]===this.column&&("first"===i?i=0:"last"===i&&(i=e.normalGrid.visibleColumnManager.getColumns().length),e.unlock(this.column,i))},onColumnLock:function(e,t){var i=this.injectCheckbox;1===e.lockedGrid.visibleColumnManager.getColumns().length&&("first"===i?i=0:"last"===i&&(i=e.lockedGrid.visibleColumnManager.getColumns().length),e.lock(this.column,i))},bindComponent:function(e){this.sortable=!1,this.callParent(arguments)},hasLockedHeader:function(){for(var e=this.view.ownerGrid.getVisibleColumnManager().getColumns(),t=e.length,i=0;i<t;i++)if(e[i].locked)return!0;return!1},addCheckbox:function(e){var t=this.injectCheckbox,i=e.headerCt;!1!==t&&("first"===t?t=0:"last"===t&&(t=i.getColumnCount()),Ext.suspendLayouts(),e.getStore().isBufferedStore&&(this.showHeaderCheckbox=!1),this.column=i.add(t,this.column||this.getHeaderConfig()),Ext.resumeLayouts())},onBeforeReconfigure:function(e,t,i,n,r){var o=this.column,s=o.ownerCt;i&&s&&s.remove(o,!1)},onReconfigure:function(e,t,i){i&&(e.lockable?e.lockedGrid.isVisible()?e.lock(this.column,0):e.unlock(this.column,0):this.addCheckbox(this.view),e.view.refreshView())},onHeaderClick:function(e,t,i){var n,r,o,s,a,l=this.store;this.column;if(!1!==this.showHeaderCheckbox&&t===this.column&&"SINGLE"!==this.mode)if(i.stopEvent(),t.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on")){for(n=[],r=0,o=(s=this.getSelection()).length;r<o;++r)a=s[r],-1<l.indexOf(a)&&n.push(a);0<n.length&&this.deselect(n)}else this.selectAll()},getHeaderConfig:function(){var e=this,t=!1!==e.showHeaderCheckbox,i=Ext.String.htmlEncode,t={xtype:"checkcolumn",headerCheckbox:t,isCheckerHd:t,ignoreExport:!0,text:e.headerText,width:e.headerWidth,sortable:!1,draggable:!1,resizable:!1,hideable:!1,menuDisabled:!0,checkOnly:e.checkOnly,checkboxAriaRole:"presentation",tdCls:e.tdCls,cls:Ext.baseCSSPrefix+"selmodel-column",editRenderer:e.editRenderer||e.renderEmpty,locked:e.hasLockedHeader(),processEvent:e.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:e.isRowSelected.bind(e)};return e.checkOnly?(t.useAriaElements=!0,t.ariaLabel=i(e.headerAriaLabel),t.headerSelectText=i(e.headerSelectText),t.headerDeselectText=i(e.headerDeselectText),t.rowSelectText=i(e.rowSelectText),t.rowDeselectText=i(e.rowDeselectText)):(t.tabIndex=void 0,t.ariaRole="presentation",t.focusable=!1,t.cellFocusable=!1),t},processColumnEvent:function(e,t,i,n,r,o,s,a){var l=t.getNavigationModel();("keydown"===o.type&&t.actionableMode&&o.getKey()===o.SPACE||!this.checkOnly&&o.type===this.triggerEvent)&&l.fireEvent("navigate",{view:t,navigationModel:l,keyEvent:o,position:o.position,recordIndex:n,record:s,item:o.item,cell:o.position.cellElement,columnIndex:o.position.colIdx,column:o.position.column})},toggleRecord:function(e,t,i,n){this[i?"select":"deselect"]([e],"SINGLE"!==this.mode)},renderEmpty:function(){return"&#160;"},refresh:function(){this.callParent(arguments),this.updateHeaderState()},selectByPosition:function(e,t){e.isCellContext||(e=new Ext.grid.CellContext(this.view).setPosition(e.row,e.column)),this.checkOnly&&e.column!==this.column||this.callParent([e,t])},onSelectChange:function(e,t){this.callParent(arguments),this.column&&this.column.updateCellAriaDescription(e,t),this.suspendChange||this.updateHeaderState()},onStoreLoad:function(){this.callParent(arguments),this.updateHeaderState()},onStoreAdd:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRemove:function(){this.callParent(arguments),this.updateHeaderState()},onStoreRefresh:function(){this.callParent(arguments),this.updateHeaderState()},maybeFireSelectionChange:function(e){e&&!this.suspendChange&&this.updateHeaderState(),this.callParent(arguments)},resumeChanges:function(){this.callParent(),this.suspendChange||this.updateHeaderState()},updateHeaderState:function(){var e,t,i,n=this.store,r=n.getCount(),o=this.views,s=!1,a=0;if(!n.isBufferedStore&&0<r){for(s=!0,i=0,t=(e=this.selected).getCount();i<t;++i)-1<n.indexOfId(e.getAt(i).id)&&++a;s=r===a}o&&o.length&&this.column.setHeaderStatus(s)},vetoSelection:function(e){var t,i,n=this.column;return this.checkOnly&&(t=e.type===n.triggerEvent&&e.getTarget(this.column.getCellSelector()),i=e.getKey()===e.SPACE&&e.position.column===n,i=!(t||i)),i||this.callParent([e])},privates:{onBeforeNavigate:function(e){var t=e.keyEvent;"SINGLE"!==this.selectionMode&&(e.ctrlKey=e.ctrlKey||t.ctrlKey||t.type===this.column.triggerEvent&&!t.shiftKey||t.getKey()===t.SPACE)},selectWithEventMulti:function(e,t,i){t.shiftKey||t.ctrlKey||!t.getTarget(this.column.getCellSelector())?this.callParent([e,t,i]):i?this.doDeselect(e):this.doSelect(e,!0)}}},function(e){e.prototype.checkSelector="."+Ext.grid.column.Check.prototype.checkboxCls}),Ext.define("Ext.selection.TreeModel",{extend:"Ext.selection.RowModel",alias:"selection.treemodel",selectOnExpanderClick:!1,constructor:function(e){this.callParent([e]),this.pruneRemoved&&(this.pruneRemoved=!1,this.pruneRemovedNodes=!0)},getStoreListeners:function(){var e=this.callParent();return e.noderemove=this.onNodeRemove,e},onNodeRemove:function(e,t,i){i||(i=[],this.gatherSelected(t,i),i.length&&this.deselect(i))},pruneRemovedOnRefresh:function(){return this.pruneRemovedNodes},vetoSelection:function(e){var t=this.view;return!this.selectOnExpanderClick&&"click"===e.type&&e.getTarget(t.expanderSelector||t.lockingPartner&&t.lockingPartner.expanderSelector)||this.callParent([e])},privates:{gatherSelected:function(e,t){var i,n,r,o=e.childNodes;if(this.selected.containsKey(e.id)&&t.push(e),o)for(i=0,n=o.length;i<n;++i)r=o[i],this.gatherSelected(r,t)}}}),Ext.define("Ext.slider.Thumb",{requires:["Ext.dd.DragTracker","Ext.util.Format"],overCls:Ext.baseCSSPrefix+"slider-thumb-over",constructor:function(e){Ext.apply(this,e||{},{cls:Ext.baseCSSPrefix+"slider-thumb",constrain:!1}),this.callParent([e])},render:function(){this.el=this.slider.innerEl.insertFirst(this.getElConfig()),this.onRender()},onRender:function(){var e={};e[this.slider.vertical?"panY":"panX"]=!1,this.el.setTouchAction(e),this.disabled&&this.disable(),this.initEvents()},getElConfig:function(){var e=this.slider,t={};return t[e.vertical?"bottom":e.horizontalProp]=e.calculateThumbPosition(e.normalizeValue(this.value))+"%",{style:t,id:this.id,cls:this.cls,role:"presentation"}},move:function(e,t){var i,n=this.el,r=this.slider,o=r.vertical?"bottom":r.horizontalProp;e+="%",t?((r={})[o]=e,Ext.supports.GetPositionPercentage||((i={})[o]=n.dom.style[o]),r={target:n,duration:350,from:i,to:r,scope:this,callback:this.onAnimComplete},!0!==t&&Ext.apply(r,t),this.anim=new Ext.fx.Anim(r)):n.dom.style[o]=e},onAnimComplete:function(){this.anim=null},enable:function(){var e=this.el;this.disabled=!1,e&&e.removeCls(this.slider.disabledCls)},disable:function(){var e=this.el;this.disabled=!0,e&&e.addCls(this.slider.disabledCls)},initEvents:function(){var e=this;e.tracker=new Ext.dd.DragTracker({el:e.el,onBeforeStart:e.onBeforeDragStart.bind(e),onStart:e.onDragStart.bind(e),onDrag:e.onDrag.bind(e),onEnd:e.onDragEnd.bind(e),tolerance:3,autoStart:300}),e.el.hover(e.addOverCls,e.removeOverCls,e)},addOverCls:function(){this.disabled||this.el.addCls(this.overCls)},removeOverCls:function(){this.el.removeCls(this.overCls)},onBeforeDragStart:function(e){var t=this.el,i=this.tracker.getXY(),n=this.pointerOffset=t.getXY();return!this.disabled&&(n[0]+=Math.floor(t.getWidth()/2)-i[0],n[1]+=Math.floor(t.getHeight()/2)-i[1],this.slider.promoteThumb(this),!0)},onDragStart:function(e){var t=this.slider;t.onDragStart(this,e),this.el.addCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=this.slider.dragging=!0,this.dragStartValue=this.value,t.fireEvent("dragstart",t,e,this)},onDrag:function(e){var t,i,n=this.slider,r=this.index,o=this.getValueFromTracker();void 0!==o&&(this.constrain&&(t=n.thumbs[r+1],void 0!==(i=n.thumbs[r-1])&&o<=i.value&&(o=i.value),void 0!==t&&o>=t.value&&(o=t.value)),n.setValue(r,o,!1),n.fireEvent("drag",n,e,this))},getValueFromTracker:function(){var e=this.slider,t=this.tracker.getXY();if(t[0]+=this.pointerOffset[0],t[1]+=this.pointerOffset[1],void 0!==(t=e.getTrackpoint(t)))return e.reversePixelValue(t)},onDragEnd:function(e){var t=this.slider,i=this.value;t.onDragEnd(this,e),this.el.removeCls(Ext.baseCSSPrefix+"slider-thumb-drag"),this.dragging=t.dragging=!1,t.fireEvent("dragend",t,e),this.dragStartValue!==i&&t.fireEvent("changecomplete",t,i,this)},destroy:function(){var e=this.anim;e&&e.end(),this.el=this.tracker=this.anim=Ext.destroy(this.el,this.tracker),this.callParent()}}),Ext.define("Ext.slider.Tip",{extend:"Ext.tip.Tip",minWidth:10,alias:"widget.slidertip",offsets:null,align:null,position:"",defaultVerticalPosition:"left",defaultHorizontalPosition:"top",isSliderTip:!0,init:function(e){var t,i,n=this;switch(n.position||(n.position=e.vertical?n.defaultVerticalPosition:n.defaultHorizontalPosition),n.position){case"top":i=[0,-10],t="b-t?";break;case"bottom":i=[0,10],t="t-b?";break;case"left":i=[-10,0],t="r-l?";break;case"right":i=[10,0],t="l-r?"}n.align||(n.align=t),n.offsets||(n.offsets=i),e.on({scope:n,dragstart:n.onSlide,drag:n.onSlide,dragend:n.hide,destroy:n.destroy})},onSlide:function(e,t,i){this.update(this.getText(i)),this.show(),this.el.alignTo(i.el,this.align,this.offsets)},getText:function(e){return String(e.value)}}),Ext.define("Ext.slider.Multi",{extend:"Ext.form.field.Base",alias:"widget.multislider",alternateClassName:"Ext.slider.MultiSlider",requires:["Ext.slider.Thumb","Ext.slider.Tip","Ext.Number","Ext.util.Format","Ext.Template"],vertical:!1,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,pageSize:10,increment:0,clickRange:[5,15],clickToChange:!0,animate:!0,dragging:!1,constrainThumbs:!0,useTips:!0,tipText:null,defaultBindProperty:"values",ariaRole:"slider",focusable:!0,needArrowKeys:!0,tabIndex:0,skipLabelForAttribute:!0,focusCls:"slider-focus",childEls:["endEl","innerEl"],fieldSubTpl:['<div id="{id}" data-ref="inputEl" {inputAttrTpl}',' class="',Ext.baseCSSPrefix,"slider {fieldCls} {vertical}",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>","</div>",{renderThumbs:function(e,t){for(var i,n=t.$comp,r=0,o=n.thumbs,s=o.length;r<s;r++)(i=o[r].getElConfig()).id=n.id+"-thumb-"+r,Ext.DomHelper.generateMarkup(i,e)},disableFormats:!0}],horizontalProp:"left",initValue:function(){var e=Ext.valueFrom,t=e(this.values,[e(this.value,e(this.minValue,0))]),i=0,n=t.length;for(this.originalValue=t;i<n;i++)this.addThumb(this.normalizeValue(t[i]))},initComponent:function(){var e,t,i,n,r,o=this,s=o.tipText;if(o.thumbs=[],o.keyIncrement=Math.max(o.increment,o.keyIncrement),o.extraFieldBodyCls=Ext.baseCSSPrefix+"slider-ct-"+(o.vertical?"vert":"horz"),o.callParent(),o.useTips){for(e={},Ext.isObject(o.useTips)?Ext.apply(e,o.useTips):s&&(e.getText=s),"string"==typeof(s=e.getText)&&(e.getText=function(e){return Ext.callback(s,null,[e],0,o,o)}),n=(r=o.plugins=o.plugins||[]).length,i=0;i<n;i++)if(r[i].isSliderTip){t=!0;break}t||o.plugins.push(new Ext.slider.Tip(e))}},addThumb:function(e){e=new Ext.slider.Thumb({ownerCt:this,value:e,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs,disabled:!!this.readOnly});return this.thumbs.push(e),this.rendered&&e.render(),e},promoteThumb:function(e){var t,i=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),n=i.length,r=1e4;for(i[0]!==e&&(Ext.Array.remove(i,e),i.unshift(e)),t=0;t<n;t++)i[t].el.setStyle("zIndex",r),r-=1e3},getSubTplData:function(e){var t=this,i=Ext.apply(t.callParent([e]),{$comp:t,vertical:t.vertical?Ext.baseCSSPrefix+"slider-vert":Ext.baseCSSPrefix+"slider-horz",minValue:t.minValue,maxValue:t.maxValue,value:t.value,tabIdx:t.tabIndex,childElCls:""}),e=i.inputElAriaAttributes;return e&&(e["aria-labelledby"]||(e["aria-labelledby"]=t.id+"-labelEl"),e["aria-orientation"]=t.vertical?"vertical":"horizontal",e["aria-valuemin"]=t.minValue,e["aria-valuemax"]=t.maxValue,e["aria-valuenow"]=t.value),i},onRender:function(){var e,t=this.thumbs,i=t.length,n=0;for(this.callParent(arguments),n=0;n<i;n++)(e=t[n]).el=this.el.getById(this.id+"-thumb-"+n),e.onRender()},initEvents:function(){this.callParent(),this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown})},onDragStart:Ext.emptyFn,onDragEnd:Ext.emptyFn,getTrackpoint:function(e){var t,i=this.vertical,n=this.innerEl,r=i?(t="top",n.getHeight()):(t=this.horizontalProp,n.getWidth());return e=this.transformTrackPoints(n.translatePoints(e)),t=Ext.Number.constrain(e[t],0,r),i?r-t:t},transformTrackPoints:Ext.identityFn,checkChange:Ext.emptyFn,onMouseDown:function(e){var t,i=!1,n=0,r=this.thumbs,o=r.length;if(!this.disabled){for(;!i&&n<o;n++)i=i||e.target===r[n].el.dom;this.focus(),this.clickToChange&&!i&&void 0!==(t=this.getTrackpoint(e.getXY()))&&this.onClickChange(t)}},onClickChange:function(e){var t=this.getNearest(e);t.disabled||(t=t.index,this.setValue(t,Ext.util.Format.round(this.reversePixelValue(e),this.decimalPrecision),void 0,!0))},getNearest:function(e){for(var t,i,n,r=this.reversePixelValue(e),o=this.getRange()+5,s=null,a=0,l=this.thumbs.length;a<l;a++)i=(t=this.thumbs[a]).value,n=Math.abs(i-r),Math.abs(n)<=o&&(s&&s.value==i&&r<i&&t.index>s.index||(s=t,o=n));return s},onKeyDown:function(e){var t,i=this,n=i.ariaEl.dom,r=e.getKey();if(i.disabled||1!==i.thumbs.length)r!==e.TAB&&e.preventDefault();else{switch(r){case e.UP:case e.RIGHT:t=e.ctrlKey?i.maxValue:i.getValue(0)+i.keyIncrement;break;case e.DOWN:case e.LEFT:t=e.ctrlKey?i.minValue:i.getValue(0)-i.keyIncrement;break;case e.HOME:t=i.minValue;break;case e.END:t=i.maxValue;break;case e.PAGE_UP:t=i.getValue(0)+i.pageSize;break;case e.PAGE_DOWN:t=i.getValue(0)-i.pageSize}void 0!==t&&(e.stopEvent(),t=i.normalizeValue(t),i.setValue(0,t,void 0,!0),n&&n.setAttribute("aria-valuenow",t))}},normalizeValue:function(e){var t=this.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[t](e,this.increment,this.minValue,this.maxValue),e=Ext.util.Format.round(e,this.decimalPrecision),e=Ext.Number.constrain(e,this.minValue,this.maxValue)},setMinValue:function(e){var t,i=this.thumbs,n=i.length,r=this.ariaEl.dom;for(this.minValue=e,t=0;t<n;++t)i[t].value<e&&this.setValue(t,e,!1);r&&r.setAttribute("aria-valuemin",e),this.syncThumbs()},setMaxValue:function(e){var t,i=this.thumbs,n=i.length,r=this.ariaEl.dom;for(this.maxValue=e,t=0;t<n;++t)i[t].value>e&&this.setValue(t,e,!1);r&&r.setAttribute("aria-valuemax",e),this.syncThumbs()},setValue:function(e,t,i,n){var r,o,s,a,l=this,d=l.thumbs,c=l.ariaEl.dom;if(Ext.isArray(e)){for(i=t,s=0,o=(a=e).length;s<o;++s)(r=d[s])&&l.setValue(s,a[s],i);return l}return r=l.thumbs[e],(t=l.normalizeValue(t))!==r.value&&!1!==l.fireEvent("beforechange",l,t,r.value,r)&&(r.value=t,l.rendered&&(i=Ext.isDefined(i)?!1!==i&&i:l.animate,r.move(l.calculateThumbPosition(t),i),0===e&&c&&c.setAttribute("aria-valuenow",t),l.fireEvent("change",l,t,r),l.checkDirty(),n&&l.fireEvent("changecomplete",l,t,r))),l},calculateThumbPosition:function(e){e=(e-this.minValue)/this.getRange()*100;return isNaN(e)&&(e=0),e},getRatio:function(){var e=this.innerEl,t=this.vertical?e.getHeight():e.getWidth(),e=this.getRange();return 0===e?t:t/e},getRange:function(){return this.maxValue-this.minValue},reversePixelValue:function(e){return this.minValue+e/this.getRatio()},reversePercentageValue:function(e){return this.minValue+this.getRange()*(e/100)},onDisable:function(){var e,t,i=0,n=this.thumbs,r=n.length;for(this.callParent();i<r;i++)e=(t=n[i]).el,t.disable(),Ext.isIE&&(t=e.getXY(),e.hide(),this.innerEl.addCls(this.disabledCls).dom.disabled=!0,this.thumbHolder||(this.thumbHolder=this.endEl.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"slider-thumb "+this.disabledCls})),this.thumbHolder.show().setXY(t))},onEnable:function(){var e,t,i=0,n=this.thumbs,r=n.length;for(this.callParent();i<r;i++)t=(e=n[i]).el,e.enable(),Ext.isIE&&(this.innerEl.removeCls(this.disabledCls).dom.disabled=!1,this.thumbHolder&&this.thumbHolder.hide(),t.show(),this.syncThumbs())},syncThumbs:function(){if(this.rendered)for(var e=this.thumbs,t=e.length,i=0;i<t;i++)e[i].move(this.calculateThumbPosition(e[i].value))},getValue:function(e){return Ext.isNumber(e)?this.thumbs[e].value:this.getValues()},getValues:function(){for(var e=[],t=0,i=this.thumbs,n=i.length;t<n;t++)e.push(i[t].value);return e},getSubmitValue:function(){return this.disabled||!this.submitValue?null:this.getValue()},reset:function(){for(var e,t=[].concat(this.originalValue),i=0,n=t.length;i<n;i++)e=t[i],this.setValue(i,e);this.clearInvalid(),delete this.wasValid},setReadOnly:function(e){var t=this.thumbs,i=t.length,n=0;for(this.callParent(arguments),e=this.readOnly;n<i;++n)e?t[n].disable():t[n].enable()},doDestroy:function(){this.rendered&&Ext.destroy(this.thumbs),this.callParent()}}),Ext.define("Ext.rtl.slider.Multi",{override:"Ext.slider.Multi",initComponent:function(){this.getInherited().rtl&&(this.horizontalProp="right"),this.callParent()},onDragStart:function(){this.callParent(arguments),this._rtlInnerWidth=this.innerEl.getWidth()},onDragEnd:function(){this.callParent(arguments),delete this._rtlInnerWidth},onKeyDown:function(e){var t;return this.getInherited().rtl&&((t=e.getKey())===e.RIGHT?e.keyCode=e.LEFT:t===e.LEFT&&(e.keyCode=e.RIGHT)),this.callParent([e])},transformTrackPoints:function(e){var t,i;return this.isOppositeRootDirection()?(t=e.left,delete e.left,i=void 0!==this._rtlInnerWidth?this._rtlInnerWidth:this.innerEl.getWidth(),e.right=i-t,e):this.callParent(arguments)}}),Ext.define("Ext.slider.Single",{extend:"Ext.slider.Multi",alias:["widget.slider","widget.sliderfield"],alternateClassName:["Ext.Slider","Ext.form.SliderField","Ext.slider.SingleSlider","Ext.slider.Slider"],defaultBindProperty:"value",initComponent:function(){this.publishOnComplete&&(this.valuePublishEvent="changecomplete"),this.callParent()},publishOnComplete:!0,getValue:function(){return this.callParent([0])},setValue:function(e,t){var i=arguments,n=i.length;return(1===n||n<=3&&"number"!=typeof i[1])&&(i=Ext.toArray(i)).unshift(0),this.callParent(i)},getNearest:function(){return this.thumbs[0]}}),Ext.define("Ext.slider.Widget",{extend:"Ext.Widget",alias:"widget.sliderwidget",requires:["Ext.slider.Multi"],cachedConfig:{vertical:!1},config:{clickToChange:!0,ui:"widget",value:0,minValue:0,maxValue:100,publishOnComplete:!0,twoWayBindable:{value:1}},decimalPrecision:0,defaultBindProperty:"value",element:{reference:"element",cls:Ext.baseCSSPrefix+"slider",listeners:{mousedown:"onMouseDown",dragstart:"cancelDrag",drag:"cancelDrag",dragend:"cancelDrag"},children:[{reference:"endEl",cls:Ext.baseCSSPrefix+"slider-end",children:[{reference:"innerEl",cls:Ext.baseCSSPrefix+"slider-inner"}]}]},thumbCls:Ext.baseCSSPrefix+"slider-thumb",horizontalProp:"left",animateOnSetValue:void 0,applyValue:function(e){var t,i,n=this.animateOnSetValue;if(Ext.isArray(e))for(t=0,i=(e=Ext.Array.from(e)).length;t<i;++t)this.setThumbValue(t,e[t]=this.normalizeValue(e[t]),n,!0);else e=this.normalizeValue(e),this.setThumbValue(0,e,n,!0);return e},updateVertical:function(e,t){this.element.removeCls(Ext.baseCSSPrefix+"slider-"+(t?"vert":"horz")),this.element.addCls(Ext.baseCSSPrefix+"slider-"+(e?"vert":"horz"))},updateHeight:function(e,t){this.callParent([e,t]),this.endEl.dom.style.height=this.innerEl.dom.style.height="100%"},cancelDrag:function(e){e.stopPropagation()},getThumb:function(e){var t,i=(this.thumbs||(this.thumbs=[]))[e],n=this.getVertical()?"panY":"panX",r={};return i||((t={cls:this.thumbCls,style:{}})["data-thumbIndex"]=e,i=this.thumbs[e]=this.innerEl.createChild(t),r[n]=!1,i.setTouchAction(r)),i},getThumbPositionStyle:function(){return this.getVertical()?"bottom":this.horizontalProp},update:function(){for(var e=this.getValue(),t=e.length,i=0;i<t;i++)this.thumbs[i].dom.style[this.getThumbPositionStyle()]=this.calculateThumbPosition(e[i])+"%"},updateMaxValue:function(e){this.onRangeAdjustment(e,"min")},updateMinValue:function(e){this.onRangeAdjustment(e,"max")},onRangeAdjustment:function(e,t){var i,n=this._value;isNaN(n)||(i=Math[t](n,e)),void 0!==i&&this.setValue(i)},onMouseDown:function(e){var t,i=this,n=e.getXY();i.disabled||0!==e.button||(Ext.getDoc().on({scope:i,capture:!0,selectstart:i.stopSelect}),(t=e.getTarget("."+i.thumbCls,null,!0))?(i.animateOnSetValue=!1,i.promoteThumb(t),i.captureMouse(i.onMouseMove,i.onMouseUp,[t],1),(e=i.pointerOffset=t.getXY())[0]+=Math.floor(t.getWidth()/2)-n[0],e[1]+=Math.floor(t.getHeight()/2)-n[1]):i.getClickToChange()&&null!=(n=i.getTrackpoint(n))&&i.onClickChange(n))},onClickChange:function(e){var t=this.getNearest(e),t=parseInt(t.getAttribute("data-thumbIndex"),10),e=Ext.util.Format.round(this.reversePixelValue(e),this.decimalPrecision);t?this.setThumbValue(t,e,void 0,!0):this.setValue(e)},getNearest:function(e){for(var t,i,n=this.reversePixelValue(e),r=this.getRange()+5,o=null,s=this.thumbs,a=0,l=s.length;a<l;a++)t=s[a],i=this.reversePercentageValue(parseInt(t.dom.style[this.getThumbPositionStyle()],10)),i=Math.abs(i-n),Math.abs(i)<=r&&(o=t,r=i);return o},promoteThumb:function(e){var t,i=this.thumbStack||(this.thumbStack=Ext.Array.slice(this.thumbs)),n=i.length,r=1e4;for(i[0]!==e&&(Ext.Array.remove(i,e),i.unshift(e)),t=0;t<n;t++)i[t].el.setStyle("zIndex",r),r-=1e3},doMouseMove:function(e,t,i){e=e.getXY();e[0]+=this.pointerOffset[0],e[1]+=this.pointerOffset[1],(e=this.getTrackpoint(e))&&(e=this.reversePixelValue(e),(t=parseInt(t.getAttribute("data-thumbIndex"),10))||!i&&this.getPublishOnComplete()?this.setThumbValue(t,e,!1,i):this.setValue(e))},onMouseMove:function(e,t){this.doMouseMove(e,t,!1)},onMouseUp:function(e,t){this.doMouseMove(e,t,!0),Ext.getDoc().un({scope:this,capture:!0,selectstart:this.stopSelect}),delete this.animateOnSetValue},stopSelect:function(e){return e.stopEvent(),!1},setThumbValue:function(e,t,i,n){var r,o,s,a,l=this;if(Ext.isArray(e)){for(i=t,s=0,o=(a=e).length;s<o;++s)l.setThumbValue(s,a[s],i,n);return l}return r=l.getThumb(e),e=l.reversePercentageValue(parseInt(r.dom.style[l.getThumbPositionStyle()],10)),(t=l.normalizeValue(t))!==e&&!1!==l.fireEvent("beforechange",l,t,e,r)&&l.element.dom&&(l.element.set({"aria-valuenow":t,"aria-valuetext":t}),l.moveThumb(r,l.calculateThumbPosition(t),Ext.isDefined(i)?!1!==i:l.animate),l.fireEvent("change",l,t,r)),l},getValue:function(e){var t;return Ext.isNumber(e)?(t=this.thumbs[e].dom.style[this.getThumbPositionStyle()],t=this.reversePercentageValue(parseInt(t,10))):1===(t=this.getValues()).length&&(t=t[0]),t},getValues:function(){for(var e=[],t=0,i=this.thumbs.length;t<i;t++)e.push(this.reversePercentageValue(parseInt(this.thumbs[t].dom.style[this.getThumbPositionStyle()],10)));return e},moveThumb:function(e,t,i){var n,r=this.getThumbPositionStyle();t+="%",i?((i={})[r]=t,Ext.supports.GetPositionPercentage||((n={})[r]=e.dom.style[r]),new Ext.fx.Anim({target:e,duration:350,from:n,to:i})):e.dom.style[r]=t},normalizeValue:function(e){var t=this.zeroBasedSnapping?"snap":"snapInRange";return e=Ext.Number[t](e,this.increment,this.minValue,this.maxValue),e=Ext.util.Format.round(e,this.decimalPrecision),e=Ext.Number.constrain(e,this.minValue,this.maxValue)},getTrackpoint:function(e){var t,i=this.getVertical(),n=this.innerEl,r=i?(t="top",n.getHeight()):(t=this.horizontalProp,n.getWidth());return e=this.transformTrackPoints(n.translatePoints(e)),t=Ext.Number.constrain(e[t],0,r),i?r-t:t},transformTrackPoints:Ext.identityFn,calculateThumbPosition:function(e){e=(e-this.getMinValue())/this.getRange()*100;return isNaN(e)&&(e=0),e},getRatio:function(){var e=this.innerEl,t=this.getVertical()?e.getHeight():e.getWidth(),e=this.getRange();return 0===e?t:t/e},getRange:function(){return this.getMaxValue()-this.getMinValue()},reversePixelValue:function(e){return this.getMinValue()+e/this.getRatio()},reversePercentageValue:function(e){return this.getMinValue()+this.getRange()*(e/100)},captureMouse:function(e,t,i,n){var r,o=this;e=e&&Ext.Function.bind(e,o,i,n),t=t&&Ext.Function.bind(t,o,i,n),r={mousemove:e,mouseup:function(){Ext.getDoc().un(r),t&&t.apply(o,arguments)}},Ext.getDoc().on(r)}}),Ext.define("Ext.rtl.slider.Widget",{override:"Ext.slider.Widget",constructor:function(e){this.callParent([e]),this.getInherited().rtl&&(this.horizontalProp="right")}}),Ext.define("Ext.state.CookieProvider",{extend:"Ext.state.Provider",constructor:function(e){this.path="/",this.expires=new Date(Ext.Date.now()+6048e5),this.domain=null,this.secure=!1,this.callParent(arguments),this.state=this.readCookies()},set:function(e,t){null!=t?(this.setCookie(e,t),this.callParent(arguments)):this.clear(e)},clear:function(e){this.clearCookie(e),this.callParent(arguments)},readCookies:function(){for(var e,t,i={},n=document.cookie+";",r=/\s?(.*?)=(.*?);/g,o=this.prefix,s=o.length;null!=(t=r.exec(n));)e=t[1],t=t[2],e&&e.substring(0,s)===o&&(i[e.substr(s)]=this.decodeValue(t));return i},setCookie:function(e,t){document.cookie=this.prefix+e+"="+this.encodeValue(t)+(null==this.expires?"":"; expires="+this.expires.toUTCString())+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(this.secure?"; secure":"")},clearCookie:function(e){document.cookie=this.prefix+e+"=null; expires=Thu, 01-Jan-1970 00:00:01 GMT"+(null==this.path?"":"; path="+this.path)+(null==this.domain?"":"; domain="+this.domain)+(this.secure?"; secure":"")}}),Ext.define("Ext.state.LocalStorageProvider",{extend:"Ext.state.Provider",requires:["Ext.util.LocalStorage"],alias:"state.localstorage",constructor:function(){this.callParent(arguments),this.store=this.getStorageObject(),this.store?this.state=this.readLocalStorage():this.state={}},readLocalStorage:function(){for(var e,t=this.store,i={},n=t.getKeys(),r=n.length;r--;)i[e=n[r]]=this.decodeValue(t.getItem(e));return i},set:function(e,t){this.clear(e),null!=t&&(this.store.setItem(e,this.encodeValue(t)),this.callParent(arguments))},clear:function(e){this.store.removeItem(e),this.callParent(arguments)},getStorageObject:function(){var e=this.prefix,t=e,i=t.length-1;return"-"===t.charAt(i)&&(t=t.substring(0,i)),new Ext.util.LocalStorage({id:t,prefix:e})}}),Ext.define("Ext.tab.Tab",{extend:"Ext.button.Button",alias:"widget.tab",isTab:!0,baseCls:Ext.baseCSSPrefix+"tab",closeElOverCls:Ext.baseCSSPrefix+"tab-close-btn-over",closeElPressedCls:Ext.baseCSSPrefix+"tab-close-btn-pressed",config:{rotation:"default",tabPosition:"top"},closable:!0,closeText:"removable",active:!1,childEls:["closeEl"],scale:!1,ariaRole:"tab",tabIndex:-1,keyMap:{scope:"this",DELETE:"onDeleteKey"},_btnWrapCls:Ext.baseCSSPrefix+"tab-wrap",_btnCls:Ext.baseCSSPrefix+"tab-button",_baseIconCls:Ext.baseCSSPrefix+"tab-icon-el",_glyphCls:Ext.baseCSSPrefix+"tab-glyph",_innerCls:Ext.baseCSSPrefix+"tab-inner",_textCls:Ext.baseCSSPrefix+"tab-text",_noTextCls:Ext.baseCSSPrefix+"tab-no-text",_hasIconCls:Ext.baseCSSPrefix+"tab-icon",_activeCls:Ext.baseCSSPrefix+"tab-active",_closableCls:Ext.baseCSSPrefix+"tab-closable",overCls:Ext.baseCSSPrefix+"tab-over",_pressedCls:Ext.baseCSSPrefix+"tab-pressed",_disabledCls:Ext.baseCSSPrefix+"tab-disabled",_rotateClasses:{1:Ext.baseCSSPrefix+"tab-rotate-right",2:Ext.baseCSSPrefix+"tab-rotate-left"},_positions:{top:{default:"top",0:"top",1:"left",2:"right"},right:{default:"top",0:"right",1:"top",2:"bottom"},bottom:{default:"bottom",0:"bottom",1:"right",2:"left"},left:{default:"top",0:"left",1:"bottom",2:"top"}},_defaultRotations:{top:0,right:1,bottom:0,left:2},initComponent:function(){this.closable&&Ext.ariaWarn(this,"Closable tabs can be confusing to users relying on Assistive Technologies such as Screen Readers, and are not recommended in accessible applications. Please consider setting "+this.title+" tab ("+this.id+") to closable: false."),this.card&&this.setCard(this.card),this.callParent(arguments)},getActualRotation:function(){var e=this.getRotation();return"default"!==e?e:this._defaultRotations[this.getTabPosition()]},updateRotation:function(){this.syncRotationAndPosition()},updateTabPosition:function(){this.syncRotationAndPosition()},syncRotationAndPosition:function(){var e=this,t=e._rotateClasses,i=e.getTabPosition(),n=e.getActualRotation(),r=e._rotateCls,o=e._rotateCls=t[n],t=e._positionCls,n=e._positionCls=e._positions[i][n];r!==o&&(r&&e.removeCls(r),o&&e.addCls(o)),t!==n&&(t&&e.removeClsWithUI(t),n&&e.addClsWithUI(n),e.rendered&&e.updateFrame()),e.rendered&&e.setElOrientation()},onAdded:function(e,t,i){this.callParent([e,t,i]),this.syncRotationAndPosition()},getTemplateArgs:function(){var e=this.callParent();return e.closable=this.closable,e.closeText=this.closeText,e},beforeRender:function(){var e=this,t=e.up("tabbar"),i=e.up("tabpanel");e.callParent(),e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.active?(e.ariaRenderAttributes["aria-selected"]=!0,e.addCls(e._activeCls)):e.ariaRenderAttributes["aria-selected"]=!1,e.syncClosableCls(),e.minWidth||(e.minWidth=t?t.minTabWidth:e.minWidth,!e.minWidth&&i&&(e.minWidth=i.minTabWidth),e.minWidth&&e.iconCls&&(e.minWidth+=25)),e.maxWidth||(e.maxWidth=t?t.maxTabWidth:e.maxWidth,!e.maxWidth&&i&&(e.maxWidth=i.maxTabWidth))},onRender:function(){this.setElOrientation(),this.callParent(arguments),this.closable&&(this.closeEl.addClsOnOver(this.closeElOverCls),this.closeEl.addClsOnClick(this.closeElPressedCls))},setElOrientation:function(){var e=this.getActualRotation(),t=this.el;e?t.setVertical(1===e?90:270):t.setHorizontal()},enable:function(e){return this.callParent(arguments),this.removeCls(this._disabledCls),this},disable:function(e){return this.callParent(arguments),this.addCls(this._disabledCls),this},setClosable:function(e){e=!arguments.length||!!e,this.closable!==e&&(this.closable=e,this.card&&(this.card.closable=e),this.syncClosableCls(),this.rendered&&(this.syncClosableElements(),this.updateLayout()))},syncClosableElements:function(){var e=this,t=e.closeEl;e.closable?((t=t||(e.closeEl=e.btnWrap.insertSibling({tag:"span",id:e.id+"-closeEl",cls:e.baseCls+"-close-btn",html:e.closeText},"after"))).addClsOnOver(e.closeElOverCls),t.addClsOnClick(e.closeElPressedCls)):t&&(t.destroy(),delete e.closeEl)},syncClosableCls:function(){var e=this._closableCls;this.closable?this.addCls(e):this.removeCls(e)},setCard:function(e){var t=this;(t.card=e).iconAlign&&t.setIconAlign(e.iconAlign),e.textAlign&&t.setTextAlign(e.textAlign),t.setText(t.title||e.title),t.setIconCls(t.iconCls||e.iconCls),t.setIcon(t.icon||e.icon),t.setGlyph(t.glyph||e.glyph)},onCloseClick:function(){!1!==this.fireEvent("beforeclose",this)&&(this.tabBar?this.tabBar.closeTab(this):this.fireClose())},fireClose:function(){this.fireEvent("close",this)},onEnterKey:function(e){if(this.tabBar)return this.tabBar.onClick(e,this.el),e.stopEvent(),!1},onDeleteKey:function(e){if(this.closable)return this.onCloseClick(),e.stopEvent(),!1},beforeClick:function(e){e||this.focus()},activate:function(e){var t=this,i=t.card,n=t.ariaEl.dom;t.active=!0,t.addCls(t._activeCls),n?n.setAttribute("aria-selected",!0):(t.ariaRenderAttributes=t.ariaRenderAttributes||{},t.ariaRenderAttributes["aria-selected"]=!0),i&&(i.ariaEl.dom?i.ariaEl.dom.setAttribute("aria-expanded",!0):(i.ariaRenderAttributes=i.ariaRenderAttributes||{},i.ariaRenderAttributes["aria-expanded"]=!0)),!0!==e&&t.fireEvent("activate",t)},deactivate:function(e){var t=this,i=t.card,n=t.ariaEl.dom;t.active=!1,t.removeCls(t._activeCls),n?n.setAttribute("aria-selected",!1):(t.ariaRenderAttributes=t.ariaRenderAttributes||{},t.ariaRenderAttributes["aria-selected"]=!1),i&&(i.ariaEl.dom?i.ariaEl.dom.setAttribute("aria-expanded",!1):(i.ariaRenderAttributes=i.ariaRenderAttributes||{},i.ariaRenderAttributes["aria-expanded"]=!1)),!0!==e&&t.fireEvent("deactivate",t)},privates:{getFramingInfoCls:function(){return this.baseCls+"-"+this.ui+"-"+this._positionCls},wrapPrimaryEl:function(e){Ext.Button.superclass.wrapPrimaryEl.call(this,e)}}}),Ext.define("Ext.tab.Bar",{extend:"Ext.panel.Bar",xtype:"tabbar",baseCls:Ext.baseCSSPrefix+"tab-bar",requires:["Ext.tab.Tab","Ext.util.Point","Ext.layout.component.Body"],mixins:["Ext.util.FocusableContainer"],componentLayout:"body",isTabBar:!0,config:{tabRotation:"default",tabStretchMax:!0,activateOnFocus:!0},defaultType:"tab",plain:!1,ensureActiveVisibleOnChange:!0,ariaRole:"tablist",childEls:["body","strip"],_stripCls:Ext.baseCSSPrefix+"tab-bar-strip",_baseBodyCls:Ext.baseCSSPrefix+"tab-bar-body",renderTpl:'<tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'before\'); %}</tpl><div id="{id}-body" data-ref="body" role="presentation" class="{baseBodyCls} {baseBodyCls}-{ui} {bodyCls} {bodyTargetCls}{childElCls}"<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>{%this.renderContainer(out,values)%}</div><tpl if="hasTabGuard">{% this.renderTabGuard(out, values, \'after\'); %}</tpl><div id="{id}-strip" data-ref="strip" role="presentation" class="{stripCls} {stripCls}-{ui}{childElCls}"></div>',_reverseDockNames:{left:"right",right:"left"},_layoutAlign:{top:"end",right:"begin",bottom:"begin",left:"end"},initComponent:function(){var e=this,t=e.initialConfig.layout,i=t&&t.align,t=t&&t.overflowHandler;e.plain&&e.addCls(e.baseCls+"-plain"),e.callParent(),e.setLayout({align:i||(e.getTabStretchMax()?"stretchmax":e._layoutAlign[e.dock]),overflowHandler:t||"scroller"}),e.on({click:e.onClick,element:"el",scope:e})},ensureTabVisible:function(e){var t=this.tabPanel,i=this.layout.overflowHandler;this.rendered&&i&&this.tooNarrow&&i.scrollToItem&&(!e&&0!==e||e.isTab||(Ext.isNumber(e)?e=this.items.getAt(e):e.isComponent&&t&&t.items.contains(e)&&(e=e.tab)),(e=e||this.activeTab)&&i.scrollToItem(e))},initRenderData:function(){return Ext.apply(this.callParent(),{bodyCls:this.bodyCls,baseBodyCls:this._baseBodyCls,bodyTargetCls:this.bodyTargetCls,stripCls:this._stripCls,dock:this.dock})},setDock:function(e){var t,i,n,r=this.items,o=this.ownerCt;if(r=r&&r.items)for(i=0,n=r.length;i<n;i++)(t=r[i]).isTab&&t.setTabPosition(e);this.rendered&&(this.resetItemMargins(),o&&o.isHeader&&o.resetItemMargins(),this.needsScroll=!0),this.callParent([e])},updateTabRotation:function(e){var t,i,n,r=this.items;if(r=r&&r.items)for(t=0,i=r.length;t<i;t++)(n=r[t]).isTab&&n.setRotation(e);this.rendered&&(this.resetItemMargins(),this.needsScroll=!0,this.updateLayout())},onRender:function(){var e=this.layout.overflowHandler;this.callParent(),Ext.isIE8&&this.vertical&&this.el.on({mousemove:this.onMouseMove,scope:this}),e&&"menu"===e.type&&e.menu.on("click","onOverflowMenuItemClick",this)},afterLayout:function(){this.adjustTabPositions(),this.callParent(arguments)},onAdd:function(e,t){var i=this.onTabContentChange;this.ensureActiveVisibleOnChange&&(e.barListeners=e.on({scope:this,destroyable:!0,glyphchange:i,iconchange:i,textchange:i})),this.callParent([e,t])},onAdded:function(e,t,i){e.isHeader&&this.addCls(e.baseCls+"-"+e.ui+"-tab-bar"),this.callParent([e,t,i])},onRemove:function(e,t){this.ensureActiveVisibleOnChange&&(t||e.barListeners.destroy(),e.barListeners=null),e===this.previousTab&&(this.previousTab=null),this.callParent([e,t])},onRemoved:function(e){var t=this.ownerCt;t.isHeader&&this.removeCls(t.baseCls+"-"+t.ui+"-tab-bar"),this.callParent([e])},onTabContentChange:function(e){e===this.activeTab&&this.ensureTabVisible(e)},afterComponentLayout:function(e){var t=this.needsScroll,i=this.layout.overflowHandler;this.callParent(arguments),i&&t&&this.tooNarrow&&i.scrollToItem&&i.scrollToItem(this.activeTab),delete this.needsScroll},onMouseMove:function(e){var t,i=this._overTab;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||(t=this.getTabInfoFromPoint(e.getXY()).tab)!==i&&(i&&i.rendered&&(i.onMouseLeave(e),this._overTab=null),t?(t.onMouseEnter(e),(this._overTab=t).disabled||this.el.setStyle("cursor","pointer")):this.el.setStyle("cursor","default"))},onMouseLeave:function(e){var t=this._overTab;t&&t.rendered&&t.onMouseLeave(e)},getTabInfoFromPoint:function(e){for(var t,i,n,r,o,s,a,l,d,c,u,h=this.items.items,f=h.length,g=this.layout.innerCt,p=g.getXY(),m=new Ext.util.Point(e[0],e[1]),x=0;x<f;x++)if(u=h[x],r=u.lastBox,r&&u.isTab&&(o=p[0]+r.x,s=p[1]-g.dom.scrollTop+r.y,a=r.width,l=r.height,new Ext.util.Region(s,o+a,s+l,o).contains(m))){(i=u.closeEl)&&(void 0===this._isTabReversed&&(this._isTabReversed=d=-1!==u.btnWrap.dom.currentStyle.filter.indexOf("rotation=2")),c=d?this._reverseDockNames[this.dock]:this.dock,n=i.getWidth(),r=i.getHeight(),c=(i=this.getCloseXY(i,o,s,a,l,n,r,c))[0],i=i[1],t=new Ext.util.Region(i,c+n,i+r,c).contains(m));break}return{tab:u,close:t}},getCloseXY:function(e,t,i,n,r,o,s,a){var l,e=e.getXY(),o="right"===a?(l=t+n-(e[1]-i+s),i+(e[0]-t)):(l=t+(e[1]-i),i+t+r-e[0]-o);return[l,o]},closeTab:function(e){var t,i=e.card,n=this.tabPanel;if(i&&!1===i.fireEvent("beforeclose",i))return!1;if(t=this.findNextActivatable(e),Ext.suspendLayouts(),t&&(n?n.setActiveTab(t.card):this.setActiveTab(t),t.focus()),n&&i){if(delete e.ownerCt,i.fireEvent("close",i),n.remove(i),i.ownerCt===n)return e.ownerCt=this,Ext.resumeLayouts(!0),!1;e.fireClose(),this.remove(e)}Ext.resumeLayouts(!0)},findNextActivatable:function(e){var t,i=this.previousTab;return e.active&&1<this.items.getCount()&&(t=i&&i!==e&&!i.disabled?i:e.next("tab[disabled=false]")||e.prev("tab[disabled=false]")),t||this.activeTab},setActiveTab:function(e,t){var i=this;e.disabled||e===i.activeTab||(i.activeTab&&(i.activeTab.destroyed?i.previousTab=null:(i.previousTab=i.activeTab,i.activeTab.deactivate(),i.deactivateFocusable(i.activeTab))),e.activate(),i.activateFocusable(e),i.activeTab=e,i.needsScroll=!0,t||(i.fireEvent("change",i,e,e.card),i.updateLayout()))},privates:{adjustTabPositions:function(){var e,t,i,n,r,o=this.items.items,s=o.length;if(!Ext.isIE8)for(r=this._getTabAdjustProp();s--;)i=(e=o[s]).el,t=e.lastBox,1===(n=e.isTab?e.getActualRotation():0)&&e.isVisible()?i.setStyle(r,t.x+t.width+"px"):2===n&&e.isVisible()&&i.setStyle(r,t.x-t.height+"px")},applyTargetCls:function(e){this.bodyTargetCls=e},_getTabAdjustProp:function(){return"left"},getTargetEl:function(){return this.body||this.frameBody||this.el},onClick:function(e,t){var i,n;e.getTarget("."+Ext.baseCSSPrefix+"box-scroller")||((t=Ext.isIE8&&this.vertical?(i=(n=this.getTabInfoFromPoint(e.getXY())).tab,n.close):(i=(n=e.getTarget("."+Ext.tab.Tab.prototype.baseCls))&&Ext.getCmp(n.id))&&i.closeEl&&t===i.closeEl.dom)&&e.preventDefault(),i&&i.isDisabled&&!i.isDisabled()&&(i.beforeClick(t),i.closable&&t?i.onCloseClick():this.doActivateTab(i)))},onOverflowMenuItemClick:function(e,t,i,n){var r=t&&t.masterComponent,t=this.layout.overflowHandler;r&&!r.isDisabled()&&(this.doActivateTab(r),t.menuTrigger&&t.menuTrigger.focus())},doActivateTab:function(e){var t=this.tabPanel;t?e.disabled||t.setActiveTab(e.card):this.setActiveTab(e)},onFocusableContainerFocus:function(e){e=this.mixins.focusablecontainer.onFocusableContainerFocus.call(this,e);e&&e.isTab&&this.doActivateTab(e)},onFocusableContainerFocusEnter:function(e){e=this.mixins.focusablecontainer.onFocusableContainerFocusEnter.call(this,e);e&&e.isTab&&this.doActivateTab(e)},focusChild:function(e,t){t=this.mixins.focusablecontainer.focusChild.call(this,e,t);this.activateOnFocus&&t&&t.isTab&&this.doActivateTab(t)}}}),Ext.define("Ext.rtl.tab.Bar",{override:"Ext.tab.Bar",privates:{_getTabAdjustProp:function(){return this.getInherited().rtl?"right":"left"},getCloseXY:function(e,t,i,n,r,o,s,a){var l,d=this.isOppositeRootDirection()?(d=e.getXY(),d="right"===a?(l=t+d[1]-i,i+r-(d[0]-(t+n-r))-o):(l=t+n-(d[1]-i)-s,i+(d[0]-(t+n-r))),[l,d]):this.callParent(arguments);return d}}}),Ext.define("Ext.tab.Panel",{extend:"Ext.panel.Panel",alias:"widget.tabpanel",alternateClassName:["Ext.TabPanel"],requires:["Ext.layout.container.Card","Ext.tab.Bar"],config:{tabBar:void 0,tabPosition:"top",tabRotation:"default",tabStretchMax:!0},removePanelHeader:!0,plain:!1,itemCls:Ext.baseCSSPrefix+"tabpanel-child",minTabWidth:void 0,maxTabWidth:void 0,deferredRender:!0,_defaultTabRotation:{top:0,right:1,bottom:0,left:2},initComponent:function(){var e,t=this,i=null!==t.activeTab?t.activeTab||0:null,n=t.dockedItems,r=t.header,o=t.tabBarHeaderPosition,s=t.getTabBar();t.layout=new Ext.layout.container.Card(Ext.apply({owner:t,deferredRender:t.deferredRender,itemCls:t.itemCls,activeItem:i},t.layout)),null!=o?(e=(r=t.header=Ext.apply({},r)).items=r.items?r.items.slice():[],r.itemPosition=o,e.push(s),r.hasTabBar=!0):((n=[].concat(t.dockedItems||[])).push(s),t.dockedItems=n),t.callParent(arguments),(i=t.activeTab=t.getComponent(i))&&s.setActiveTab(i.tab,!0)},onRender:function(){var e,t=this.items.items,i=t.length;for(this.callParent(arguments),e=0;e<i;++e)t[e].getBind()},setActiveTab:function(e){var t,i=this;return Ext.isObject(e)&&!e.isComponent||(e=i.getComponent(e)),t=i.getActiveTab(),e?(Ext.suspendLayouts(),e.isComponent||(e=i.add(e)),t===e||!1===i.fireEvent("beforetabchange",i,e,t)?(Ext.resumeLayouts(!0),t):(i.activeTab=e,i.layout.setActiveItem(e),(e=i.activeTab=i.layout.getActiveItem())&&e!==t?(i.tabBar.setActiveTab(e.tab),Ext.resumeLayouts(!0),t!==e&&i.fireEvent("tabchange",i,e,t)):Ext.resumeLayouts(!0),e)):t},setActiveItem:function(e){return this.setActiveTab(e)},getActiveTab:function(){var e=this.getComponent(this.activeTab);return e&&-1!==this.items.indexOf(e)?this.activeTab=e:this.activeTab=void 0,this.activeTab},applyTabBar:function(e){var t=null!=this.tabBarHeaderPosition?this.getHeaderPosition():this.getTabPosition();return new Ext.tab.Bar(Ext.apply({ui:this.ui,dock:t,tabRotation:this.getTabRotation(),vertical:"left"===t||"right"===t,plain:this.plain,tabStretchMax:this.getTabStretchMax(),tabPanel:this},e))},updateHeaderPosition:function(e,t){var i=this.getTabBar();i&&null!=this.tabBarHeaderPosition&&i.setDock(e),this.callParent([e,t])},updateTabPosition:function(e){var t=this.getTabBar();t&&null==this.tabBarHeaderPosition&&t.setDock(e)},updateTabRotation:function(e){var t=this.getTabBar();t&&t.setTabRotation(e)},onAdd:function(e,t){var i=this,n=Ext.apply({},e.tabConfig),r=i.getTabBar(),r={xtype:"tab",title:e.title,icon:e.icon,iconCls:e.iconCls,glyph:e.glyph,ui:r.ui,card:e,disabled:e.disabled,closable:e.closable,hidden:e.hidden&&!e.hiddenByLayout,tooltip:e.tooltip,tabBar:r,tabPosition:r.dock,rotation:r.getTabRotation()};void 0!==e.closeText&&(r.closeText=e.closeText),n=Ext.applyIf(n,r),e.tab=i.tabBar.insert(t,n),e.ariaRole="tabpanel",(n=e.ariaEl.dom)?n.setAttribute("aria-labelledby",e.tab.id):(e.ariaRenderAttributes=e.ariaRenderAttributes||{},e.ariaRenderAttributes["aria-labelledby"]=e.tab.id),e.on({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,glyphchange:i.onItemGlyphChange,titlechange:i.onItemTitleChange}),e.isPanel&&(i.removePanelHeader&&(e.rendered?e.header&&e.header.hide():e.header=!1),e.isPanel&&i.border&&e.setBorder(!1)),i.rendered&&e.getBind(),i.rendered&&i.loader&&void 0===i.activeTab&&null!==i.layout.activeItem&&i.setActiveTab(0)},onMove:function(e,t,i){var n=this.getTabBar();this.callParent([e,t,i]),n.items.indexOf(e.tab)!==i&&n.move(e.tab,i)},onItemEnable:function(e){e.tab.enable()},onItemDisable:function(e){e.tab.disable()},onItemBeforeShow:function(e){if(e!==this.activeTab)return this.setActiveTab(e),!1},onItemGlyphChange:function(e,t){e.tab.setGlyph(t)},onItemIconChange:function(e,t){e.tab.setIcon(t)},onItemIconClsChange:function(e,t){e.tab.setIconCls(t)},onItemTitleChange:function(e,t){e.tab.setText(t)},onRemove:function(e,t){var i=this;e.un({scope:i,enable:i.onItemEnable,disable:i.onItemDisable,beforeshow:i.onItemBeforeShow,iconchange:i.onItemIconChange,iconclschange:i.onItemIconClsChange,glyphchange:i.onItemGlyphChange,titlechange:i.onItemTitleChange}),e.tab&&!i.destroying&&e.tab.ownerCt===i.tabBar&&i.tabBar.remove(e.tab)},enable:function(){var e=null!==this.activeTab?this.activeTab||0:null,t=this.disabled;this.callParent(arguments),t&&(e=e.isComponent?e:this.getComponent(e))&&this.getTabBar().setActiveTab(e.tab)},privates:{doRemove:function(e,t){var i;this.removingAll||this.destroying||1===this.items.getCount()?this.activeTab=null:e.tab&&-1!==(i=this.tabBar.items.indexOf(this.tabBar.findNextActivatable(e.tab)))&&this.setActiveTab(i),this.callParent([e,t]),e.tab&&(delete e.tab.card,delete e.tab)}}}),Ext.define("Ext.toolbar.Breadcrumb",{extend:"Ext.Container",xtype:"breadcrumb",requires:["Ext.data.TreeStore","Ext.button.Split"],mixins:["Ext.util.FocusableContainer"],isBreadcrumb:!0,baseCls:Ext.baseCSSPrefix+"breadcrumb",layout:{type:"hbox",align:"middle"},config:{buttonUI:"plain-toolbar",displayField:"text",overflowHandler:null,showIcons:null,showMenuIcons:null,store:null,useSplitButtons:!0},renderConfig:{selection:"root"},publishes:["selection"],twoWayBindable:["selection"],_breadcrumbCls:Ext.baseCSSPrefix+"breadcrumb",_btnCls:Ext.baseCSSPrefix+"breadcrumb-btn",_folderIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-folder",_leafIconCls:Ext.baseCSSPrefix+"breadcrumb-icon-leaf",initComponent:function(){var e=this,t=e.layout,i=e.getOverflowHandler();"string"==typeof t&&(t={type:t}),i&&(t.overflowHandler=i),e.layout=t,e.defaultButtonUI=e.getButtonUI(),e._buttons=[],e.addCls([e._breadcrumbCls,e._breadcrumbCls+"-"+e.ui]),e.callParent()},doDestroy:function(){Ext.destroy(this._buttons),this.setStore(null),this.callParent()},onRemove:function(e,t){this.callParent([e,t]),delete e._breadcrumbNodeId},afterComponentLayout:function(){var e=this.layout.overflowHandler;this.callParent(arguments),e&&this.tooNarrow&&e.scrollToItem&&e.scrollToItem(this.getSelection().get("depth"))},applySelection:function(e){return e=this.getStore()?"root"===e?this.getStore().getRoot():e:null},updateSelection:function(e,t){var i,n,r,o,s,a,l,d,c,u,h=this,f=h._buttons,g=Ext.ComponentQuery.query("[isCrumb]",h.getRefItems()).length,p=h._needsSync,m=h.getDisplayField();if(Ext.suspendLayouts(),e){for(o=(c=(s=e).get("depth"))+1,u=c;s&&(d=s.getId(),l=f[u],p||!l||l._breadcrumbNodeId!==d);)a=s.get(m),l?l.setText(a):l=f[u]=Ext.create({isCrumb:!0,xtype:h.getUseSplitButtons()?"splitbutton":"button",ui:h.getButtonUI(),cls:h._btnCls+" "+h._btnCls+"-"+h.ui,text:a,showEmptyMenu:!0,menu:{listeners:{click:"_onMenuClick",beforeshow:"_onMenuBeforeShow",scope:this}},handler:"_onButtonClick",scope:h}),!1!==(n=this.getShowIcons())&&(r=s.get("glyph"),d=s.get("icon"),a=s.get("iconCls"),r?(l.setGlyph(r),l.setIcon(null),l.setIconCls(a)):d?(l.setGlyph(null),l.setIconCls(null),l.setIcon(d)):a?(l.setGlyph(null),l.setIcon(null),l.setIconCls(a)):n?(l.setGlyph(null),l.setIcon(null),l.setIconCls((s.isLeaf()?h._leafIconCls:h._folderIconCls)+"-"+h.ui)):(l.setGlyph(null),l.setIcon(null),l.setIconCls(null))),l.setArrowVisible(s.hasChildNodes()),l._breadcrumbNodeId=s.getId(),s=s.parentNode,u--;if(g<o)i=f.slice(g,c+1),h.add(i);else for(u=g-1;o<=u;u--)h.remove(f[u],!1)}else for(u=0;u<f.length;u++)h.remove(f[u],!1);Ext.resumeLayouts(!0),h.fireEvent("selectionchange",h,e,t),h._shouldFireChangeEvent&&h.fireEvent("change",h,e,t),h._shouldFireChangeEvent=!0,h._needsSync=!1},applyUseSplitButtons:function(e,t){return this.rendered&&e!==t&&Ext.raise("Cannot reconfigure 'useSplitButtons' config of Ext.toolbar.Breadcrumb after initial render"),e},applyStore:function(e){return e=e&&Ext.data.StoreManager.lookup(e)},updateStore:function(e,t){this._needsSync=!0,e&&!this.isConfiguring&&this.setSelection(e.getRoot())},updateOverflowHandler:function(e){"menu"===e&&Ext.raise("Using Menu overflow with breadcrumb is not currently supported.")},privates:{_onButtonClick:function(e,t){this.getUseSplitButtons()&&this.setSelection(this.getStore().getNodeById(e._breadcrumbNodeId))},_onMenuClick:function(e,t,i){t&&(t=this.getStore().getNodeById(t._breadcrumbNodeId),this.setSelection(t),(t=this._buttons[t.getDepth()])&&t.focus())},_onMenuBeforeShow:function(e){var t,i,n,r,o,s,a,l,d,c=this.getStore().getNodeById(e.ownerCmp._breadcrumbNodeId),u=this.getDisplayField(),h=this.getShowMenuIcons();if(!c.hasChildNodes())return!1;for(r=[],o=0,l=(t=c.childNodes).length;o<l;o++)!(d={text:(i=t[o]).get(u),_breadcrumbNodeId:i.getId()})!==h&&(n=i.get("glyph"),s=i.get("icon"),a=i.get("iconCls"),n?(d.glyph=n,d.iconCls=a):s?d.icon=s:a?d.iconCls=a:h&&(d.iconCls=(i.isLeaf()?this._leafIconCls:this._folderIconCls)+"-"+this.ui)),r.push(d);e.removeAll(),e.add(r)}}}),Ext.define("Ext.toolbar.Fill",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:!0,flex:1}),Ext.define("Ext.toolbar.Spacer",{extend:"Ext.Component",requires:["Ext.toolbar.Toolbar"],alias:"widget.tbspacer",alternateClassName:"Ext.Toolbar.Spacer",baseCls:Ext.baseCSSPrefix+"toolbar-spacer",ariaRole:"presentation"}),Ext.define("Ext.tree.Column",{extend:"Ext.grid.column.Column",alias:"widget.treecolumn",tdCls:Ext.baseCSSPrefix+"grid-cell-treecolumn",autoLock:!0,lockable:!1,draggable:!1,hideable:!1,iconCls:Ext.baseCSSPrefix+"tree-icon",checkboxCls:Ext.baseCSSPrefix+"tree-checkbox",elbowCls:Ext.baseCSSPrefix+"tree-elbow",expanderCls:Ext.baseCSSPrefix+"tree-expander",textCls:Ext.baseCSSPrefix+"tree-node-text",innerCls:Ext.baseCSSPrefix+"grid-cell-inner-treecolumn",customIconCls:Ext.baseCSSPrefix+"tree-icon-custom",isTreeColumn:!0,cellTpl:['<tpl for="lines">','<div class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"></div>',"</tpl>",'<div class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"></div>','<tpl if="checked !== null">','<div role="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"></div>',"</tpl>",'<tpl if="glyph">','<span class="{baseIconCls}" ','<tpl if="glyphFontFamily">','style="font-family:{glyphFontFamily}"',"</tpl>",">{glyph}</span>","<tpl else>",'<tpl if="icon">','<img src="{blankUrl}"',"<tpl else>","<div","</tpl>",' role="presentation" class="{childCls} {baseIconCls} {customIconCls} ','{baseIconCls}-<tpl if="leaf">leaf<tpl else><tpl if="expanded">parent-expanded<tpl else>parent</tpl></tpl> {iconCls}" ','<tpl if="icon">style="background-image:url({icon})"/><tpl else>></div></tpl>',"</tpl>",'<tpl if="href">','<a href="{href}" role="link" target="{hrefTarget}" class="{textCls} {childCls}">{value}</a>',"<tpl else>",'<span class="{textCls} {childCls}">{value}</span>',"</tpl>"],uiFields:{checked:1,icon:1,iconCls:1},rowFields:{expanded:1,loaded:1,expandable:1,leaf:1,loading:1,qtip:1,qtitle:1,cls:1},initComponent:function(){var e=this;e.rendererScope=e.scope,e.setupRenderer(),e.innerRenderer=e.renderer,e.renderer=e.treeRenderer,e.callParent(),(e.scope=e).hasCustomRenderer=e.innerRenderer&&1<e.innerRenderer.length},treeRenderer:function(e,t,i,n,r,o,s){var a=i.get("cls");return t&&a&&(t.tdCls+=" "+a),s=this.initTemplateRendererData(e,t,i,n,r,o,s),this.lookupTpl("cellTpl").apply(s)},initTemplateRendererData:function(e,t,i,n,r,o,s){for(var a,l,d=this,c=d.innerRenderer,u=i.data,h=i.parentNode,f=s.rootVisible,g=[];h&&(f||0<h.data.depth);)a=h.data,g[f?a.depth:a.depth-1]=h.isLastVisible()?0:1,h=h.parentNode;return t?t.iconCls=t.icon=t.glyph=null:t={},e=c?c.apply(d.rendererScope,arguments):e,(c=t.glyph||u.glyph)&&(l=(c=Ext.Glyph.fly(c)).fontFamily,c=c.character),{record:i,baseIconCls:d.iconCls,customIconCls:u.icon||u.iconCls?d.customIconCls:"",glyph:c,glyphFontFamily:l,iconCls:t.iconCls||u.iconCls,icon:t.icon||u.icon,checkboxCls:d.checkboxCls,checked:u.checked,elbowCls:d.elbowCls,expanderCls:d.expanderCls,textCls:d.textCls,leaf:u.leaf,expandable:i.isExpandable(),expanded:u.expanded,isLast:i.isLastVisible(),blankUrl:Ext.BLANK_IMAGE_URL,href:u.href,hrefTarget:u.hrefTarget,lines:g,metaData:t,childCls:d.getChildCls?d.getChildCls()+" ":"",value:e}},shouldUpdateCell:function(e,t){var i,n,r=0;if(this.hasCustomRenderer)return 1;if(t)for(i=t.length;r<i;++r){if(n=t[r],this.rowFields[n])return 1;if(this.uiFields[n])return 2}return this.callParent([e,t])}}),Ext.define("Ext.rtl.tree.Column",{override:"Ext.tree.Column",getChildCls:function(){return this._childCls||(this._childCls=this.getInherited().rtl?Ext.baseCSSPrefix+"rtl":"")}}),Ext.define("Ext.tree.NavigationModel",{extend:"Ext.grid.NavigationModel",alias:"view.navigation.tree",initKeyNav:function(e){var t=this.view.ownerGrid.columns;this.isTreeGrid=t&&1<t.length,this.callParent([e]),this.view.grid.on({columnschanged:this.onColumnsChanged,scope:this})},onKeyNavCreate:function(e){var t=this.onAsterisk;e.map.addBinding([{key:"8",shift:!0,handler:t,scope:this},{key:Ext.event.Event.NUM_MULTIPLY,handler:t,scope:this}])},onColumnsChanged:function(){this.isTreeGrid=1<this.view.ownerGrid.getVisibleColumnManager().getColumns().length},onCellClick:function(e,t,i,n,r,o,s){return this.callParent([e,t,i,n,r,o,s]),!s.nodeToggled},onKeyLeft:function(e){var t=e.view,i=this.record;if(this.isTreeGrid&&!e.ctrlKey)return this.callParent([e]);e.position.column.isTreeColumn&&i.isExpanded()?t.collapse(i):!(i=i.parentNode)||i.isRoot()&&!t.rootVisible||this.setPosition(i,null,e)},onKeyRight:function(e){var t=this.record;if(this.isTreeGrid&&!e.ctrlKey)return this.callParent([e]);t.isLeaf()||(e.position.column.isTreeColumn&&!t.isExpanded()?e.view.expand(t):t.isExpanded()&&(t=t.childNodes[0])&&this.setPosition(t))},onKeyEnter:function(e){null!=this.record.data.checked?this.toggleCheck(e):this.callParent([e])},onKeySpace:function(e){null!=this.record.data.checked?this.toggleCheck(e):this.callParent([e])},toggleCheck:function(e){this.view.onCheckChange(e)},onAsterisk:function(e){this.view.ownerGrid.expandAll()}}),Ext.define("Ext.tree.View",{extend:"Ext.view.Table",alias:"widget.treeview",config:{selectionModel:{type:"treemodel"}},isTreeView:!0,loadingCls:Ext.baseCSSPrefix+"grid-tree-loading",expandedCls:Ext.baseCSSPrefix+"grid-tree-node-expanded",leafCls:Ext.baseCSSPrefix+"grid-tree-node-leaf",expanderSelector:"."+Ext.baseCSSPrefix+"tree-expander",checkboxSelector:"."+Ext.baseCSSPrefix+"tree-checkbox",expanderIconOverCls:Ext.baseCSSPrefix+"tree-expander-over",nodeAnimWrapCls:Ext.baseCSSPrefix+"tree-animator-wrap",ariaRole:"treegrid",loadMask:!1,rootVisible:!0,expandDuration:250,collapseDuration:250,toggleOnDblClick:!0,stripeRows:!1,treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var t=e.record,i=e.view;e.rowAttr["data-qtip"]=t.get("qtip")||"",e.rowAttr["data-qtitle"]=t.get("qtitle")||"",e.rowAttr["aria-level"]=t.getDepth()+1,t.isLeaf()?e.rowClasses.push(i.leafCls):t.isExpanded()?(e.rowClasses.push(i.expandedCls),e.rowAttr["aria-expanded"]=!0):e.rowAttr["aria-expanded"]=!1,t.isLoading()&&e.rowClasses.push(i.loadingCls)}}],initComponent:function(){var e=this;e.bufferedRenderer?e.animate=!1:void 0===e.initialConfig.animate&&(e.animate=Ext.enableFx),e.store=e.panel.getStore(),e.onRootChange(e.store.getRoot()),e.animQueue={},e.animWraps={},e.callParent(),e.store.setRootVisible(e.rootVisible),e.addRowTpl(e.lookupTpl("treeRowTpl"))},onFillComplete:function(e,t,i){var n=this.store.indexOf(i[0]);t.triggerUIUpdate(),i.length&&-1!==n&&(this.onAdd(this.store,i,n),this.refreshPartner())},refreshPartner:function(){var e=this.lockingPartner;e&&e.refresh()},afterRender:function(){this.callParent(),this.el.on({scope:this,delegate:this.expanderSelector,mouseover:this.onExpanderMouseOver,mouseout:this.onExpanderMouseOut})},processUIEvent:function(e){return!e.getTarget("."+this.nodeAnimWrapCls,this.el)&&this.callParent([e])},setRootNode:function(e){this.node=e},getChecked:function(){var t=[];return this.node.cascade(function(e){e.get("checked")&&t.push(e)}),t},isItemChecked:function(e){return e.get("checked")},createAnimWrap:function(e,t){var i=this.getNode(e),n=Ext.fly(i).insertSibling({role:"presentation",tag:"div",cls:this.nodeAnimWrapCls},"after");return{record:e,node:i,el:n,expanding:!1,collapsing:!1,animateEl:n,targetEl:n}},getAnimWrap:function(e,t){if(!this.animate)return null;var i=this.animWraps,n=i[e.internalId];if(!1!==t)for(;!n&&e;)(e=e.parentNode)&&(n=i[e.internalId]);return n},doAdd:function(e,t){var i,n,r,o,s=e[0].parentNode,a=this.all,l=this.getAnimWrap(s);return l&&l.expanding?(o=(r=this.bufferRender(e,t,!0)).children,s=l.record,l=(n=(i=l.targetEl).dom.childNodes).length,s=t-this.indexInStore(s)-1,!l||l<=s?i.appendChild(r.fragment,!0):Ext.fly(n[s]).insertSibling(o,"before",!0),a.insert(t,o),o):this.callParent([e,t])},onRemove:function(e,t,i){var n,r,o,s=this,a=s.hasListeners.remove;if(s.viewReady){if(n=0===s.store.getCount(),s.bufferedRenderer)return s.callParent([e,t,i]);if(a&&(o=this.all.slice(i,i+t.length)),n)s.refresh();else{for(i+=r=t.length-1;0<=r;--r,--i)s.doRemove(t[r],i);s.refreshSizePending=!0}a&&s.fireItemMutationEvent("itemremove",t,i,o,s)}},doRemove:function(e,t){var i=this.all,n=this.getAnimWrap(e),r=i.item(t),r=r?r.dom:null;if(!r||!n||!n.collapsing)return this.callParent([e,t]);n.targetEl.dom.insertBefore(r,n.targetEl.dom.firstChild),i.removeElement(t)},onBeforeExpand:function(e,t,i){var n;this.rendered&&this.all.getCount()&&this.animate&&this.getNode(e)&&((n=this.getAnimWrap(e,!1))?n.collapsing&&n.targetEl.select(this.itemSelector).destroy():(n=this.animWraps[e.internalId]=this.createAnimWrap(e)).animateEl.setHeight(0),n.expanding=!0,n.collapsing=!1)},onExpand:function(e){var i,t,n,r=this,o=r.animQueue,s=e.getId(),a=r.getNode(e),l=a?r.indexOf(a):-1;if(r.singleExpand&&r.ensureSingleExpand(e),-1!==l){if(!(i=r.getAnimWrap(e,!1)))return e.isExpandingOrCollapsing=!1,void r.fireEvent("afteritemexpand",e,l,a);t=i.animateEl,n=i.targetEl,t.stopAnimation(),o[s]=!0,Ext.on("idle",function(){t.dom.style.height="0px"},null,{single:!0}),t.animate({from:{height:0},to:{height:n.dom.scrollHeight},duration:r.expandDuration,listeners:{afteranimate:function(){var e=n.dom.childNodes,t=Ext.Element.getActiveElement();e.length&&(n.contains(t)||(t=null),i.el.insertSibling(e,"before",!0),t&&Ext.fly(t).focus()),i.el.destroy(),r.animWraps[i.record.internalId]=o[s]=null}},callback:function(){e.isExpandingOrCollapsing=!1,r.destroyed||r.refreshSize(!0),r.fireEvent("afteritemexpand",e,l,a)}})}},onBeforeCollapse:function(e,t,i,n,r){var o;this.rendered&&this.all.getCount()&&(this.animate?e.isVisible()&&((o=this.getAnimWrap(e))?o.expanding&&o.targetEl.select(this.itemSelector).destroy():o=this.animWraps[e.internalId]=this.createAnimWrap(e,i),o.expanding=!1,o.collapsing=!0,o.callback=n,o.scope=r):(this.onCollapseCallback=n,this.onCollapseScope=r))},onCollapse:function(e){var t,i=this,n=i.animQueue,r=e.getId(),o=i.getNode(e),s=o?i.indexOf(o):-1,a=i.getAnimWrap(e);if(i.all.getCount()&&e.isVisible()){if(!a)return e.isExpandingOrCollapsing=!1,i.fireEvent("afteritemcollapse",e,s,o),Ext.callback(i.onCollapseCallback,i.onCollapseScope),void(i.onCollapseCallback=i.onCollapseScope=null);t=a.animateEl,n[r]=!0,t.stopAnimation(),t.animate({to:{height:0},duration:i.collapseDuration,listeners:{afteranimate:function(){a.el.destroy(),i.animWraps[a.record.internalId]=n[r]=null}},callback:function(){e.isExpandingOrCollapsing=!1,i.destroyed||i.refreshSize(!0),i.fireEvent("afteritemcollapse",e,s,o),Ext.callback(a.callback,a.scope),a.callback=a.scope=null}})}},isAnimating:function(e){return!!this.animQueue[e.getId()]},expand:function(e,t,i,n){var r=!!this.animate;if(!r||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=r),Ext.suspendLayouts(),n=e.expand(t,i,n),Ext.resumeLayouts(!0),n},collapse:function(e,t,i,n){var r=!!this.animate;if(!r||!e.isExpandingOrCollapsing)return e.isLeaf()||(e.isExpandingOrCollapsing=r),e.collapse(t,i,n)},toggle:function(e,t,i,n){e.isExpanded()?this.collapse(e,t,i,n):this.expand(e,t,i,n)},onItemDblClick:function(e,t,i,n){var r=this.editingPlugin;this.callParent([e,t,i,n]),!this.toggleOnDblClick||!e.isExpandable()||r&&2===r.clicksToEdit||this.toggle(e)},onCellClick:function(e,t,i,n,r,o){var s=o.position.column;if(s.isTreeColumn)return o.getTarget(this.checkboxSelector,e)&&null!=i.get("checked")?(this.onCheckChange(o),s.stopSelection&&(o.stopSelection=!0)):o.getTarget(this.expanderSelector,e)&&i.isExpandable()&&(this.getNavigationModel().setPosition(o.position),this.toggle(i,o.ctrlKey),o.nodeToggled=!0),this.callParent([e,t,i,n,r,o])},onCheckChange:function(e){var t=e.record,i=t.get("checked"),i=1===i||!i;this.setChecked(t,i,e)},setChecked:function(e,t,i,n){var r,o,s,a,l,d,c,u=this.checkPropagationFlags[this.ownerGrid.checkPropagation.toLowerCase()],h=e.data.checked,f=!!this.ownerGrid.triStateCheckbox&&1,g=(!n||!1!==n.propagateCheck)&&1&u,u=(!n||!1!==n.checkParent)&&2&u,p=0;if(!1!==this.fireEvent("beforecheckchange",e,h,i)){if(1!==t&&g){for(d=(l=e.childNodes).length,c=0;c<d;c++)this.setChecked(l[c],t,i,{checkParent:!1}),l[c].get("checked")===t&&p++;p!==d&&(t=!!p&&f)}if(e.get("data")!==t&&(e.set("checked",t,n),this.fireEvent("checkchange",e,t,i),u&&(r=e.parentNode)&&null!=(o=r.data.checked))){if(d=(l=r.childNodes).length,t===f)o=f;else if(1===d)o=t;else{for(s=a=!1,c=0;!(s&&a)&c<d;c++)1===l[c].data.checked?s=a=!0:l[c].data.checked?s=!0:a=!0;o=s&&a?f:!!s}this.setChecked(r,o,i,{propagateCheck:!1})}}},onExpanderMouseOver:function(e){e.getTarget(this.cellSelector,10,!0).addCls(this.expanderIconOverCls)},onExpanderMouseOut:function(e){e.getTarget(this.cellSelector,10,!0).removeCls(this.expanderIconOverCls)},getStoreListeners:function(){return Ext.apply(this.callParent(),{rootchange:this.onRootChange,fillcomplete:this.onFillComplete})},onBindStore:function(e,t,i,n){var r=n&&n.getRootNode(),o=e&&e.getRootNode();this.callParent([e,t,i,n]),o!==r&&this.onRootChange(o,r)},onRootChange:function(e,t){var i=this.grid;t&&(this.rootListeners.destroy(),this.rootListeners=null),e&&(this.rootListeners=e.on({beforeexpand:this.onBeforeExpand,expand:this.onExpand,beforecollapse:this.onBeforeCollapse,collapse:this.onCollapse,destroyable:!0,scope:this}),i.addRelayers(e))},ensureSingleExpand:function(t){var e=t.parentNode;e&&e.eachChild(function(e){e!==t&&e.isExpanded()&&e.collapse()})},privates:{checkPropagationFlags:{none:0,down:1,up:2,both:3},deferRefreshForLoad:function(e){var t,i=this.callParent([e]);return i&&(t=(t=e.lastOptions)&&t.node)&&t!==e.getRoot()&&(i=!1),i}}}),Ext.define("Ext.tree.Panel",{extend:"Ext.panel.Table",alias:"widget.treepanel",alternateClassName:["Ext.tree.TreePanel","Ext.TreePanel"],requires:["Ext.tree.View","Ext.selection.TreeModel","Ext.tree.Column","Ext.data.TreeStore","Ext.tree.NavigationModel"],viewType:"treeview",treeCls:Ext.baseCSSPrefix+"tree-panel",rowLines:!1,lines:!0,useArrows:!1,singleExpand:!1,ddConfig:{enableDrag:!0,enableDrop:!0},rootVisible:!0,displayField:"text",root:null,checkPropagation:"none",normalCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible","scroll"],lockedCfgCopy:["displayField","root","singleExpand","useArrows","lines","rootVisible"],isTree:!0,arrowCls:Ext.baseCSSPrefix+"tree-arrows",linesCls:Ext.baseCSSPrefix+"tree-lines",noLinesCls:Ext.baseCSSPrefix+"tree-no-lines",autoWidthCls:Ext.baseCSSPrefix+"autowidth-table",constructor:function(e){void 0===(e=e||{}).animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){var e,t,i=this,n=[i.treeCls];i.useArrows&&(n.push(i.arrowCls),i.lines=!1),i.lines?n.push(i.linesCls):i.useArrows||n.push(i.noLinesCls),(e=i.applyStore(i.store)).getRoot()||e.setRoot({}),e.setRootVisible(i.rootVisible),i.columns||(i.isAutoTree=t=!0),i.viewConfig=Ext.apply({rootVisible:i.rootVisible,animate:i.enableAnimations,singleExpand:i.singleExpand,node:e.getRoot(),navigationModel:"tree",isAutoTree:t},i.viewConfig),t&&(i.addCls(i.autoWidthCls),i.columns=[{xtype:"treecolumn",text:!0===i.hideHeaders?"Name":null,flex:1,dataIndex:i.displayField}]),i.cls&&n.push(i.cls),i.cls=n.join(" "),i.callParent(),n=i.getView(),i.relayEvents(n,["beforecheckchange","checkchange","afteritemexpand","afteritemcollapse"])},applyStore:function(e){var t=this;return Ext.isString(e)?e=t.store=Ext.StoreMgr.lookup(e):e&&e.isStore?t.root&&((e=t.store=Ext.data.StoreManager.lookup(e)).setRoot(t.root),void 0!==t.folderSort&&(e.folderSort=t.folderSort,e.sort())):(e=Ext.apply({type:"tree",proxy:"memory"},e),t.root&&(e.root=t.root),t.fields?e.fields=t.fields:t.model&&(e.model=t.model),t.folderSort&&(e.folderSort=t.folderSort),e=t.store=Ext.StoreMgr.lookup(e)),e},setRoot:function(e){this.store.setRoot(e)},setStore:function(e){(e=this.applyStore(e)).getRoot()||e.setRoot({}),e.setRootVisible(this.rootVisible),this.enableLocking?this.reconfigure(e):(this.view&&this.view.setRootNode(e.getRootNode()),this.bindStore(e))},bindStore:function(e,t){var i=this,n=e.getRoot();i.callParent(arguments),e.singleExpand=i.singleExpand,i.storeListeners=i.mon(e,{destroyable:!0,rootchange:i.onRootChange,scope:i}),i.storeRelayers=i.relayEvents(e,["beforeload","load"]),i.rootVisible||e.autoLoad||n.isExpanded()||n.isLoading()||(n.isLoaded()?(n.data.expanded=!0,e.onNodeExpand(n,n.childNodes)):!1===e.autoLoad||e.hasPendingLoad()||(n.data.expanded=!1,n.expand())),e.ownerTree=i,t||i.view.setRootNode(n)},addRelayers:function(e){var t=this;t.rootRelayers&&(t.rootRelayers.destroy(),t.rootRelayers=null),t.rootRelayers=t.mon(e,{destroyable:!0,append:t.createRelayer("itemappend"),remove:t.createRelayer("itemremove"),move:t.createRelayer("itemmove",[0,4]),insert:t.createRelayer("iteminsert"),beforeappend:t.createRelayer("beforeitemappend"),beforeremove:t.createRelayer("beforeitemremove"),beforemove:t.createRelayer("beforeitemmove"),beforeinsert:t.createRelayer("beforeiteminsert"),expand:t.createRelayer("itemexpand",[0,1]),collapse:t.createRelayer("itemcollapse",[0,1]),beforeexpand:t.createRelayer("beforeitemexpand",[0,1]),beforecollapse:t.createRelayer("beforeitemcollapse",[0,1]),scope:t})},unbindStore:function(){var e=this.store;e&&(this.callParent(),Ext.destroy(this.storeListeners,this.storeRelayers,this.rootRelayers),delete e.ownerTree,e.singleExpand=null)},setRootNode:function(){return this.store.setRoot.apply(this.store,arguments)},getRootNode:function(){return this.store.getRoot()},onRootChange:function(e){this.view.setRootNode(e)},getChecked:function(){return this.getView().getChecked()},isItemChecked:function(e){return e.get("checked")},expandNode:function(e,t,i,n){return this.getView().expand(e,t,i,n||this)},collapseNode:function(e,t,i,n){return this.getView().collapse(e,t,i,n||this)},expandAll:function(e,t){var i=this.getRootNode();i&&(Ext.suspendLayouts(),i.expand(!0,e,t||this),Ext.resumeLayouts(!0))},collapseAll:function(e,t){var i=this.getRootNode(),n=this.getView();i&&(Ext.suspendLayouts(),t=t||this,n.rootVisible?i.collapse(!0,e,t):i.collapseChildren(!0,e,t),Ext.resumeLayouts(!0))},expandPath:function(e,t){var o,s,a,l,i,d,c,u,n=arguments,h=this,f=h.view,g=t&&t.field||h.store.model.idProperty,r=t&&t.separator||"/";return t&&"object"==typeof t?(g=t.field||h.store.model.idProperty,r=t.separator||"/",a=t.callback,l=t.scope,o=t.select,s=t.focus):(g=n[1]||h.store.model.idProperty,r=n[2]||"/",a=n[3],l=n[4]),Ext.isEmpty(e)?Ext.callback(a,l||h,[!1,null]):(r=!(c=e.split(r))[0],d=r?(i=h.getRootNode(),1):(i=h.store.findNode(g,c[0]),0),!i||r&&i.get(g)+""!==c[1]?Ext.callback(a,l||h,[!1,i]):(u=function(e){var t,i,n,r=this;if(++d===c.length)return o&&f.getSelectionModel().select(r),s&&f.getNavigationModel().setPosition(r,0),Ext.callback(a,l||h,[!0,r,f.getNode(r)]);for(i=0,t=e?e.length:0;i<t;i++)if(!(n=(r=e[i]).get(g))&&0!==n||(n=n.toString()),n===c[d])return r.expand(!1,u);r=this,Ext.callback(a,l||h,[!1,r,f.getNode(r)])},void i.expand(!1,u)))},ensureVisible:function(e,r){if(e.isEntity||"number"==typeof e)return this.callParent([e,r]);function t(e,t,i,n){!n&&e&&t&&(n=t.findChild(d,a)),n?l.doEnsureVisible(n,r):Ext.callback(o,s||l,[!1,t])}var o,s,i,a,n,l=this,d=r&&r.field||l.store.model.idProperty,c=r&&r.separator||"/";r&&(o=r.callback,s=r.scope),n=!(i=e.split(c))[0],a=i.pop(),!i.length||n&&1===i.length?(e=l.store.findNode(d,a))?((n=e.parentNode)&&!n.isExpanded()&&n.expand(),t(!0,null,0,e)):Ext.callback(o,s||l,[!1,null]):l.expandPath(i.join(c),d,c,t)},selectPath:function(e,t,i,n,r){this.ensureVisible(e,{field:t,separator:i,select:!0,callback:n,scope:r})}}),Ext.define("Ext.view.DragZone",{extend:"Ext.dd.DragZone",containerScroll:!1,constructor:function(e){var t;Ext.apply(this,e),this.ddGroup||(this.ddGroup="view-dd-zone-"+this.view.id),(t=this.view).setItemsDraggable(!0),t=(e=t.ownerCt)?e.getTargetEl().dom:t.el.dom.parentNode,this.callParent([t]),this.ddel=document.createElement("div"),this.ddel.className=Ext.baseCSSPrefix+"grid-dd-wrap"},init:function(e,t,i){var n={itemmousedown:this.onItemMouseDown,scope:this};Ext.supports.Touch&&(n.itemlongpress=this.onItemLongPress,n.contextmenu={element:"el",fn:this.onViewContextMenu}),this.initTarget(e,t,i),this.view.mon(this.view,n)},onValidDrop:function(e,t,i){this.callParent([e,t,i]),e.el.contains(Ext.Element.getActiveElement())||e.el.focus()},onViewContextMenu:function(e){"mouse"!==e.pointerType&&e.preventDefault()},onItemMouseDown:function(e,t,i,n,r){"mouse"===r.pointerType&&this.onTriggerGesture(e,t,i,n,r)},onItemLongPress:function(e,t,i,n,r){"mouse"!==r.pointerType&&this.onTriggerGesture(e,t,i,n,r)},onTriggerGesture:function(e,t,i,n,r){"touch"===r.pointerType&&"longpress"!==r.type||r.position&&r.position.isEqual(r.view.actionPosition)||this.isPreventDrag(r,t,i,n)||(e=e.getNavigationModel(),r.position?e.setPosition(r.position):e.setPosition(n),this.handleMouseDown(r))},isPreventDrag:function(e,t,i,n){return!!e.isInputFieldEvent},getDragData:function(e){var t=this.view,i=e.getTarget(t.getItemSelector());if(i)return{copy:t.copy||t.allowCopy&&e.ctrlKey,event:e,view:t,ddel:this.ddel,item:i,records:t.getSelectionModel().getSelection(),fromPosition:Ext.fly(i).getXY()}},onInitDrag:function(e,t){var i=this.dragData,n=i.view,r=n.getSelectionModel(),n=n.getRecord(i.item);return r.isSelected(n)||r.selectWithEvent(n,this.DDMInstance.mousedownEvent),i.records=r.getSelection(),Ext.fly(this.ddel).setHtml(this.getDragText()),this.proxy.update(this.ddel),this.onStartDrag(e,t),!0},getDragText:function(){var e=this.dragData.records.length;return Ext.String.format(this.dragText,e,1===e?"":"s")},getRepairXY:function(e,t){return!!t&&t.fromPosition}}),Ext.define("Ext.tree.ViewDragZone",{extend:"Ext.view.DragZone",isPreventDrag:function(e,t){return!1===t.get("allowDrag")||!!e.getTarget(this.view.expanderSelector)},getDragText:function(){var e=this.dragData.records,t=e.length,i=e[0].get(this.displayField),n="s",e=this.dragText;return/\{\d+\}/.test(e)&&1===t&&i?i:(i||(n=""),Ext.String.format(e,t,n))},afterRepair:function(){var e,t,i=this.view,n=i.selectedItemCls,r=this.dragData.records,o=r.length,s=Ext.fly;if(Ext.enableFx&&this.repairHighlight)for(e=0;e<o;e++)t=i.getNode(r[e]),s(t.firstChild).highlight(this.repairHighlightColor,{listeners:{beforeanimate:function(){i.isSelected(t)&&s(t).removeCls(n)},afteranimate:function(){i.isSelected(t)&&s(t).addCls(n)}}});this.dragging=!1}}),Ext.define("Ext.tree.ViewDropZone",{extend:"Ext.view.DropZone",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,expandDelay:500,indicatorCls:Ext.baseCSSPrefix+"tree-ddindicator",expandNode:function(e){var t=this.view;this.expandProcId=!1,e.isLeaf()||e.isExpanded()||(t.expand(e),this.expandProcId=!1)},queueExpand:function(e){this.expandProcId=Ext.Function.defer(this.expandNode,this.expandDelay,this,[e])},cancelExpand:function(){this.expandProcId&&(clearTimeout(this.expandProcId),this.expandProcId=!1)},getPosition:function(e,t){var i=this.view.getRecord(t),n=e.getY(),r=i.isLeaf(),e=!1,t=Ext.fly(t).getRegion();return i.isRoot()?"append":this.appendOnly?!r&&"append":(this.allowParentInserts||(e=i.hasChildNodes()&&i.isExpanded()),i=(t.bottom-t.top)/(r?2:3),n>=t.top&&n<t.top+i?"before":!e&&(r||n>=t.bottom-i&&n<=t.bottom)?"after":"append")},isValidDropPoint:function(e,t,i,n,r){if(!e||!r.item)return!1;var o,s,a=this.view,l=a.getRecord(e),d=r.records,e=d.length,c=d.length;if(!(l&&t&&e))return!1;for(o=0;o<c;o++)if((s=d[o]).isNode&&s.contains(l))return!1;return("append"!==t||!1!==l.get("allowDrop"))&&(("append"===t||!1!==l.parentNode.get("allowDrop"))&&(!Ext.Array.contains(d,l)&&!1!==a.fireEvent("nodedragover",l,t,r,n)))},onNodeOver:function(e,t,i,n){var r=this.getPosition(i,e),o=this.dropNotAllowed,s=this.view,a=s.getRecord(e),l=this.getIndicator(),d=0;return this.cancelExpand(),"append"!==r||this.expandProcId||Ext.Array.contains(n.records,a)||a.isLeaf()||a.isExpanded()||this.queueExpand(a),this.isValidDropPoint(e,r,t,i,n)?(this.valid=!0,this.currentPosition=r,this.overRecord=a,l.setWidth(Ext.fly(e).getWidth()),d=Ext.fly(e).getY()-Ext.fly(s.el).getY()-1,"before"===r?(o=a.isFirst()?Ext.baseCSSPrefix+"tree-drop-ok-above":Ext.baseCSSPrefix+"tree-drop-ok-between",l.showAt(0,d),t.proxy.show()):"after"===r?(o=a.isLast()?Ext.baseCSSPrefix+"tree-drop-ok-below":Ext.baseCSSPrefix+"tree-drop-ok-between",d+=Ext.fly(e).getHeight(),l.showAt(0,d),t.proxy.show()):(o=Ext.baseCSSPrefix+"tree-drop-ok-append",l.hide())):this.valid=!1,this.currentCls=o},onNodeOut:function(e,t,i,n){this.valid=!1,this.getIndicator().hide()},onContainerOver:function(e,t,i){return this.allowContainerDrops?this.dropAllowed:t.getTarget("."+this.indicatorCls)?this.currentCls:this.dropNotAllowed},onContainerDrop:function(e,t,i){this.allowContainerDrops&&(this.valid=!0,this.currentPosition="append",this.overRecord=this.view.store.getRoot(),this.onNodeDrop(this.overRecord,e,t,i))},notifyOut:function(){this.callParent(arguments),this.cancelExpand()},handleNodeDrop:function(i,n,e){var t,r,o,s,a,l,d,c=this,u=c.view,h=n?n.parentNode:u.panel.getRootNode(),f=u.store.getModel();if(i.copy)for(t=i.records,i.records=[],r=0,o=t.length;r<o;r++)(s=t[r]).isNode?i.records.push(s.copy(void 0,!0)):i.records.push(new f(Ext.apply({},s.data)));c.cancelExpand(),"before"===e?(a=h.insertBefore,l=[null,n],n=h):"after"===e?(l=n.nextSibling?(a=h.insertBefore,[null,n.nextSibling]):(a=h.appendChild,[null]),n=h):(n.isExpanded()||n.isLoading()||(d=!0),a=n.appendChild,l=[null]),h=function(){var e,t;for(Ext.suspendLayouts(),r=0,o=i.records.length;r<o;r++)(s=i.records[r]).isNode||(s=s.isModel?new f(s.data,s.getId()):new f(s),i.records[r]=s),l[0]=s,a.apply(n,l);if(c.sortOnDrop&&n.sort(n.getTreeStore().getSorters().sortFn),Ext.resumeLayouts(!0),s=i.records[0],u.ownerGrid.ensureVisible(s),u.getNavigationModel().setPosition(s),Ext.enableFx&&c.dropHighlight)for(e=c.dropHighlightColor,r=0;r<o;r++)(t=u.getNode(i.records[r]))&&Ext.fly(t).highlight(e)},d?n.expand(!1,h):n.isLoading()?n.on({expand:h,delay:1,single:!0}):h()}}),Ext.define("Ext.tree.plugin.TreeViewDragDrop",{extend:"Ext.plugin.Abstract",alias:"plugin.treeviewdragdrop",uses:["Ext.tree.ViewDragZone","Ext.tree.ViewDropZone"],dragText:"{0} selected node{1}",allowParentInserts:!1,allowContainerDrops:!1,appendOnly:!1,ddGroup:"TreeDD",containerScroll:!1,expandDelay:1e3,enableDrop:!0,enableDrag:!0,nodeHighlightColor:"c3daf9",nodeHighlightOnDrop:Ext.enableFx,displayField:"text",init:function(e){Ext.applyIf(e,{copy:this.copy,allowCopy:this.allowCopy}),e.on("render",this.onViewRender,this,{single:!0})},destroy:function(){this.dragZone=this.dropZone=Ext.destroy(this.dragZone,this.dropZone),this.callParent()},onViewRender:function(e){var t,i=this;(e.ownerCt.ownerGrid||e.ownerCt).relayEvents(e,["beforedrop","drop"]),i.enableDrag&&(i.containerScroll&&(t=e.getEl()),i.dragZone=new Ext.tree.ViewDragZone(Ext.apply({view:e,ddGroup:i.dragGroup||i.ddGroup,dragText:i.dragText,displayField:i.displayField,repairHighlightColor:i.nodeHighlightColor,repairHighlight:i.nodeHighlightOnRepair,scrollEl:t},i.dragZone))),i.enableDrop&&(i.dropZone=new Ext.tree.ViewDropZone(Ext.apply({view:e,ddGroup:i.dropGroup||i.ddGroup,allowContainerDrops:i.allowContainerDrops,appendOnly:i.appendOnly,allowParentInserts:i.allowParentInserts,expandDelay:i.expandDelay,dropHighlightColor:i.nodeHighlightColor,dropHighlight:i.nodeHighlightOnDrop,sortOnDrop:i.sortOnDrop,containerScroll:i.containerScroll},i.dropZone)))}},function(){var e=this.prototype;e.nodeHighlightOnDrop=e.nodeHighlightOnRepair=Ext.enableFx}),Ext.define("Ext.util.Cookies",{singleton:!0,set:function(e,t){var i=arguments,n=arguments.length,r=2<n?i[2]:null,o=3<n?i[3]:"/",s=4<n?i[4]:null,i=5<n&&i[5];document.cookie=e+"="+escape(t)+(null===r?"":"; expires="+r.toUTCString())+(null===o?"":"; path="+o)+(null===s?"":"; domain="+s)+(!0===i?"; secure":"")},get:function(e){for(var t,i=document.cookie.split("; "),n=i.length,r=0;r<n;++r)if((t=i[r].split("="))[0]===e)return(t=t[1])?unescape(t):"";return null},clear:function(e,t){this.get(e)&&(t=t||"/",document.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+t)}}),Ext.define("Ext.view.MultiSelectorSearch",{extend:"Ext.panel.Panel",xtype:"multiselector-search",layout:"fit",floating:!0,alignOnScroll:!1,minWidth:200,minHeight:200,border:!0,keyMap:{scope:"this",ESC:"hide"},platformConfig:{desktop:{resizable:!0},"tablet && rtl":{resizable:{handles:"sw"}},"tablet && !rtl":{resizable:{handles:"se"}}},defaultListenerScope:!0,referenceHolder:!0,searchText:"Search...",initComponent:function(){var e,t,i,n,r=this,o=r.owner,s=r.makeItems();for(r.dockedItems=r.makeDockedItems(),r.items=s,n=Ext.data.StoreManager.lookup(r.store),e=s.length;e--;)if("grid"===(t=s[e]).xtype){t.store=n,t.isSearchGrid=!0,t.selModel=t.selModel||{type:"checkboxmodel",pruneRemoved:!1,listeners:{selectionchange:"onSelectionChange"}},Ext.merge(t,r.grid),t.columns||(t.hideHeaders=!0,t.columns=[{flex:1,dataIndex:r.field}]);break}if(r.callParent(),i=r.getOwnerStore().getRange(),!o.convertSelectionRecord.$nullFn)for(e=i.length;e--;)i[e]=o.convertSelectionRecord(i[e]);n.isLoading()||0===n.loadCount&&!n.getCount()?n.on("load",function(){r.destroyed||r.selectRecords(i)},null,{single:!0}):r.selectRecords(i)},getOwnerStore:function(){return this.owner.getStore()},afterShow:function(){var e;this.callParent(arguments),this.invocationEvent&&"touch"===this.invocationEvent.pointerType||(e=this.lookupReference("searchField"))&&e.focus(),this.invocationEvent=null},getSearchStore:function(){return this.lookupReference("searchGrid").getStore()},makeDockedItems:function(){return[{xtype:"textfield",reference:"searchField",dock:"top",hideFieldLabel:!0,emptyText:this.searchText,triggers:{clear:{cls:Ext.baseCSSPrefix+"form-clear-trigger",handler:"onClearSearch",hidden:!0}},listeners:{specialKey:"onSpecialKey",change:{fn:"onSearchChange",buffer:300}}}]},onSpecialKey:function(e,t){t.getKey()===t.TAB&&t.shiftKey&&(t.preventDefault(),this.owner.searchTool.focus())},makeItems:function(){return[{xtype:"grid",reference:"searchGrid",trailingBufferZone:2,leadingBufferZone:2,viewConfig:{deferEmptyText:!1,emptyText:"No results."}}]},getMatchingRecords:function(e){for(var t,i=this.lookupReference("searchGrid").getStore(),n=[],r=0,o=(e=Ext.isArray(e)?e:[e]).length;r<o;r++)(t=i.getById(e[r].getId()))&&n.push(t);return n},selectRecords:function(e){var t=this.lookupReference("searchGrid");return e=this.getMatchingRecords(e),t.getSelectionModel().select(e)},deselectRecords:function(e){var t=this.lookupReference("searchGrid");return e=this.getMatchingRecords(e),t.getSelectionModel().deselect(e)},search:function(e){var t=this.searchFilter,i=this.getSearchStore().getFilters();e?(i.beginUpdate(),t?t.setValue(e):this.searchFilter=t=new Ext.util.Filter({id:"search",property:this.field,value:e}),i.add(t),i.endUpdate()):t&&i.remove(t)},privates:{onClearSearch:function(){var e=this.lookupReference("searchField");e.setValue(null),e.focus()},onSearchChange:function(e){var t=e.getValue();e.getTrigger("clear").setHidden(!t),this.search(t)},onSelectionChange:function(e,t){for(var i,n,r,o=this.owner,s=o.getStore().data,a=0,l={},d=t.length;d--;)l[n=(r=t[d]).id]=r,s.containsKey(n)||(i=i||[]).push(o.convertSearchRecord(r));for(d=s.length;d--;)l[(r=s.getAt(d)).id]||(a=a||[]).push(r);(i||a)&&s.splice(s.length,a,i)}}}),Ext.define("Ext.view.MultiSelector",{extend:"Ext.grid.Panel",xtype:"multiselector",config:{search:{xtype:"multiselector-search",width:200,height:200,store:{autoLoad:!0}}},fieldName:"name",fieldTitle:null,removeRowText:"",removeRowTip:"Remove this item",emptyText:"Nothing selected",addToolText:"Search for items to add",initComponent:function(){var e=this,t=e.emptyText,i=e.getStore(),n=e.getSearch(),r=e.fieldTitle;n||Ext.raise("The search configuration is required for the multi selector"),n=(n=n.store).isStore?n.getModel():n.model,i||(e.store={model:n}),t&&!e.viewConfig&&(e.viewConfig={deferEmptyText:!1,emptyText:t}),e.columns||(e.hideHeaders=!r,e.columns=[{text:r,dataIndex:e.fieldName,flex:1},e.makeRemoveRowColumn()]),e.callParent()},addTools:function(){this.addTool({type:"plus",tooltip:this.addToolText,callback:"onShowSearch",scope:this}),this.searchTool=this.tools[this.tools.length-1]},convertSearchRecord:Ext.identityFn,convertSelectionRecord:Ext.identityFn,makeRemoveRowColumn:function(){return{width:32,align:"center",menuDisabled:!0,tdCls:Ext.baseCSSPrefix+"multiselector-remove",processEvent:this.processRowEvent.bind(this),renderer:this.renderRemoveRow,updater:Ext.emptyFn,scope:this}},processRowEvent:function(e,t,i,n,r,o,s,a){var l=Ext.getBody();"click"!==o.type&&("keydown"!==o.type||o.keyCode!==o.SPACE&&o.keyCode!==o.ENTER)||(l.suspendFocusEvents(),this.store.remove(s),l.resumeFocusEvents(),this.searchPopup&&this.searchPopup.deselectRecords(s))},renderRemoveRow:function(){return'<span data-qtip="'+this.removeRowTip+'" role="button" tabIndex="0">'+this.removeRowText+"</span>"},onFocusLeave:function(e){this.onDismissSearch(),this.callParent([e])},afterComponentLayout:function(e,t,i,n){var r=this.searchPopup;this.callParent([e,t,i,n]),r&&r.isVisible()&&r.showBy(this,this.popupAlign)},privates:{popupAlign:"tl-tr?",onGlobalScroll:function(e){this.owns(e.getElement())||this.onDismissSearch()},onDismissSearch:function(e){var t=this.searchPopup;!t||e&&(t.owns(e.getTarget())||this.owns(e.getTarget()))||(this.scrollListeners.destroy(),this.touchListeners.destroy(),t.hide())},onShowSearch:function(e,t,i){var n=this,r=n.searchPopup,o=n.getStore();r||(r=Ext.merge({owner:n,field:n.fieldName,floating:!0,alignOnScroll:!1},n.getSearch()),n.searchPopup=r=n.add(r),o.getCount()&&r.selectRecords(o.getRange())),r.invocationEvent=i,r.showBy(n,n.popupAlign),i&&"touch"===i.pointerType||r.lookupReference("searchField").focus(),n.scrollListeners=Ext.on({scroll:"onGlobalScroll",scope:n,destroyable:!0}),n.touchListeners=Ext.getDoc().on({translate:!1,touchstart:n.onDismissSearch,scope:n,delegated:!1,destroyable:!0})}}}),Ext.define("Ext.window.Toast",{extend:"Ext.window.Window",xtype:"toast",isToast:!0,cls:Ext.baseCSSPrefix+"toast",bodyPadding:10,autoClose:!0,plain:!1,draggable:!1,resizable:!1,shadow:!1,focus:Ext.emptyFn,anchor:null,useXAxis:!1,align:"t",alwaysOnTop:!0,spacing:6,paddingX:30,paddingY:10,slideInAnimation:"easeIn",slideBackAnimation:"bounceOut",slideInDuration:500,slideBackDuration:500,hideDuration:500,autoCloseDelay:3e3,stickOnClick:!1,stickWhileHover:!0,closeOnMouseDown:!1,closable:!1,focusable:!1,isHiding:!1,isFading:!1,destroyAfterHide:!1,closeOnMouseOut:!1,xPos:0,yPos:0,constructor:function(e){void 0===(e=e||{}).animate&&(e.animate=Ext.isBoolean(this.animate)?this.animate:Ext.enableFx),this.enableAnimations=e.animate,delete e.animate,this.callParent([e])},initComponent:function(){this.autoClose&&null==this.closable&&(this.closable=!1),this.updateAlignment(this.align),this.setAnchor(this.anchor),this.callParent()},onRender:function(){this.callParent(arguments),this.el.hover(this.onMouseEnter,this.onMouseLeave,this),this.closeOnMouseDown&&Ext.getDoc().on("mousedown",this.onDocumentMousedown,this)},alignmentProps:{br:{paddingFactorX:-1,paddingFactorY:-1,siblingAlignment:"br-br",anchorAlign:"tr-br"},bl:{paddingFactorX:1,paddingFactorY:-1,siblingAlignment:"bl-bl",anchorAlign:"tl-bl"},tr:{paddingFactorX:-1,paddingFactorY:1,siblingAlignment:"tr-tr",anchorAlign:"br-tr"},tl:{paddingFactorX:1,paddingFactorY:1,siblingAlignment:"tl-tl",anchorAlign:"bl-tl"},b:{paddingFactorX:0,paddingFactorY:-1,siblingAlignment:"b-b",useXAxis:0,anchorAlign:"t-b"},t:{paddingFactorX:0,paddingFactorY:1,siblingAlignment:"t-t",useXAxis:0,anchorAlign:"b-t"},l:{paddingFactorX:1,paddingFactorY:0,siblingAlignment:"l-l",useXAxis:1,anchorAlign:"r-l"},r:{paddingFactorX:-1,paddingFactorY:0,siblingAlignment:"r-r",useXAxis:1,anchorAlign:"l-r"},x:{br:{anchorAlign:"bl-br"},bl:{anchorAlign:"br-bl"},tr:{anchorAlign:"tl-tr"},tl:{anchorAlign:"tr-tl"}}},updateAlignment:function(e){var t=this.alignmentProps,i=t[e],e=t.x[e];e&&this.useXAxis&&Ext.applyIf(this,e),Ext.applyIf(this,i)},getXposAlignedToAnchor:function(){var e=this.align,t=this.anchor,i=t&&t.el,n=this.el,t=0;return i&&i.dom&&(this.useXAxis?"br"===e||"tr"===e||"r"===e?(t+=i.getAnchorXY("r")[0],t-=n.getWidth()+this.paddingX):(t+=i.getAnchorXY("l")[0],t+=this.paddingX):t=n.getLeft()),t},getYposAlignedToAnchor:function(){var e=this.align,t=this.anchor,i=t&&t.el,n=this.el,t=0;return i&&i.dom&&(this.useXAxis?t=n.getTop():"br"===e||"bl"===e||"b"===e?(t+=i.getAnchorXY("b")[1],t-=n.getHeight()+this.paddingY):(t+=i.getAnchorXY("t")[1],t+=this.paddingY)),t},getXposAlignedToSibling:function(e){var t=this.align,i=this.el,i=this.useXAxis?"tl"===t||"bl"===t||"l"===t?e.xPos+e.el.getWidth()+e.spacing:e.xPos-i.getWidth()-this.spacing:i.getLeft();return i},getYposAlignedToSibling:function(e){var t=this.align,i=this.el,e=this.useXAxis?i.getTop():"tr"===t||"tl"===t||"t"===t?e.yPos+e.el.getHeight()+e.spacing:e.yPos-i.getHeight()-e.spacing;return e},getToasts:function(){var e=this.anchor,t=this.anchorAlign,e=e.activeToasts||(e.activeToasts={});return e[t]||(e[t]=[])},setAnchor:function(e){this.anchor=e="string"==typeof e?Ext.getCmp(e):e,e||(e=Ext.window.Toast,this.anchor=e.bodyAnchor||(e.bodyAnchor={el:Ext.getBody()}))},beforeShow:function(){var e=this;e.stickOnClick&&e.body.on("click",function(){e.cancelAutoClose()}),e.autoClose&&(e.closeTask||(e.closeTask=new Ext.util.DelayedTask(e.doAutoClose,e))),e.el.setX(-1e4),e.el.setOpacity(1)},afterShow:function(){var e,t,i=this,n=i.el;i.callParent(arguments),(e=(e=(t=i.getToasts()).length)&&t[e-1])?(n.alignTo(e.el,i.siblingAlignment,[0,0]),i.xPos=i.getXposAlignedToSibling(e),i.yPos=i.getYposAlignedToSibling(e)):(n.alignTo(i.anchor.el,i.anchorAlign,[i.paddingX*i.paddingFactorX,i.paddingY*i.paddingFactorY],!1),i.xPos=i.getXposAlignedToAnchor(),i.yPos=i.getYposAlignedToAnchor()),Ext.Array.include(t,i),i.enableAnimations?(t=n.getXY(),n.animate({from:{x:t[0],y:t[1]},to:{x:i.xPos,y:i.yPos,opacity:1},easing:i.slideInAnimation,duration:i.slideInDuration,dynamic:!0,callback:i.afterPositioned,scope:i})):(i.setLocalXY(i.xPos,i.yPos),i.afterPositioned())},afterPositioned:function(){this.destroying||this.destroyed||!this.autoClose||this.closeTask.delay(this.autoCloseDelay)},onDocumentMousedown:function(e){this.isVisible()&&!this.owns(e.getTarget())&&this.hide()},slideBack:function(){var e=this,t=e.anchor,i=t&&t.el,n=e.el,r=e.getToasts(),t=Ext.Array.indexOf(r,e);!e.isHiding&&n&&n.dom&&i&&i.isVisible()&&(t?(e.xPos=e.getXposAlignedToSibling(r[t-1]),e.yPos=e.getYposAlignedToSibling(r[t-1])):(e.xPos=e.getXposAlignedToAnchor(),e.yPos=e.getYposAlignedToAnchor()),e.stopAnimation(),e.enableAnimations&&n.animate({to:{x:e.xPos,y:e.yPos},easing:e.slideBackAnimation,duration:e.slideBackDuration,dynamic:!0}))},update:function(){this.isVisible()&&(this.isHiding=!0,this.hide()),this.callParent(arguments),this.show()},cancelAutoClose:function(){var e=this.closeTask;e&&e.cancel()},doAutoClose:function(){this.stickWhileHover&&this.mouseIsOver?this.closeOnMouseOut=!0:this.close()},doDestroy:function(){this.removeFromAnchor(),this.cancelAutoClose(),this.callParent()},onMouseEnter:function(){this.mouseIsOver=!0},onMouseLeave:function(){this.mouseIsOver=!1,this.closeOnMouseOut&&(this.closeOnMouseOut=!1,this.close())},removeFromAnchor:function(){var e,t;if(this.anchor&&(e=this.getToasts(),-1!==(t=Ext.Array.indexOf(e,this))))for(Ext.Array.erase(e,t,1);t<e.length;t++)e[t].slideBack()},getFocusEl:Ext.emptyFn,hide:function(){var e=this,t=e.el;return e.cancelAutoClose(),e.isHiding?e.isFading||(e.callParent(arguments),e.isHiding=!1):(e.isHiding=!0,e.isFading=!0,e.cancelAutoClose(),t&&(!e.enableAnimations||e.destroying||e.destroyed?(e.isFading=!1,e.hide(e.animateTarget,e.doClose,e)):t.fadeOut({opacity:0,easing:"easeIn",duration:e.hideDuration,listeners:{scope:e,afteranimate:function(){this.isFading=!1,this.destroying||this.destroyed||this.hide(this.animateTarget,this.doClose,this)}}}))),e}},function(o){Ext.toast=function(e,t,i,n){var r=e;return Ext.isString(e)&&(r={title:t,html:e,iconCls:n},i&&(r.align=i)),(r=new o(r)).show(),r}});